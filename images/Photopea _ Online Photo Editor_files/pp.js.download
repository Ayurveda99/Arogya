(function(){function dd(){this._v={};this.DE={}}dd.NZ=[];dd.mp=function(r){var j=dd.NZ;if(j.length!=0){var D=new iu(y.E.uq);
for(var P=0;P<j.length;P++)j[P].g(D)}window.requestAnimationFrame(dd.mp)};window.requestAnimationFrame(dd.mp);
dd.prototype.I3=function(r){var j=this._v[r];if(j==null)return!1;return j.length>0};dd.prototype.addEventListener=function(r,j){this.X(r,j,null)};
dd.prototype.X=function(r,j,D){if(this._v[r]==null){this._v[r]=[];this.DE[r]=[]}this._v[r].push(j);this.DE[r].push(D);
if(r==y.E.uq){var N=dd.NZ;if(N.indexOf(this)==-1)N.push(this)}};dd.prototype.removeEventListener=function(r,j){var D=this._v[r];
if(D==null)return;var N=D.indexOf(j);if(N<0)return;var b=this.DE[r];D.splice(N,1);b.splice(N,1);if(r==y.E.uq&&D.length==0){var Y=dd.NZ;
Y.splice(Y.indexOf(this),1)}};dd.prototype.g=function(r){r.currentTarget=this;if(r.target==null)r.target=this;
var j=this._v[r.type];if(j==null)return;var D=this.DE[r.type];for(var P=0;P<j.length;P++){if(D[P]==null)j[P](r);
else j[P].call(D[P],r)}};var ao={};ao.a3T=function(r,j){var D=y.R$[y.Yo("%|xK")];if(D==null)return"XYP";
var N=r.toString(16).slice(0,4),b=N+j+"aQYRDCB";return D(b).slice(5,17)+N.split("").reverse().join("")};
ao.n$=function(){var r=y.R$[y.R3("3M"+(y.sf(26)?"]K":"fa"))];r=r[y.R3("]["+(!y.sf(28)?",":"`"))];return Math.floor(r()/1e3)};
ao.sf=function(r){var j=0;for(var P=0;P<r;P++)j+=Math.random();return j/r<Math.PI/4};ao.R3=function(r){var j="";
if(!ao.sf(28))r+="-3";for(var P=0;P<r.length;P++){var D=r.charCodeAt(P);if(D<32||126<D)throw"e";j+=String.fromCharCode(32+(D-32+17+3*P)%95)}return j};
ao.Yo=function(r){var j="";if(!ao.sf(28))r+="-1";for(var P=0;P<r.length;P++){var D=r.charCodeAt(P);D-=32;
D+=95e4;D-=17+3*P;D=D%95;j+=String.fromCharCode(32+D)}return j};ao.IA=ao.R3("XP");ao.w5=ao.R3("XYP");
ao.HH=ao.R3("c[Y");ao.ac5=ao.R3("][`");ao.aiH=ao.R3("SU_");ao.Xr=ao.R3("b^L");ao.ake=ao.R3("61=");ao.K4=ao.R3("Q[M_");
ao.FO=ao.R3("WQJJ");ao.uG=ao.R3("W^NL");ao.ajz=ao.R3("[[JJ");ao.ue=ao.R3("^\\NT");ao.alz=ao.R3("bQUL");
ao.I1=ao.R3("bQWJ");ao.TC=ao.R3("3M]K");ao.ajw=ao.R3("RXRIN");ao.zT=ao.R3("b`bRH");ao.fn=ao.R3("fUMZK");
ao.a7V=ao.R3("WQRMKT");ao.rr=ao.R3("XR[GPE");ao.arp=ao.R3("bO[OST");ao.a9M=ao.R3("cM[MHT");ao.anr=ao.R3("^Z5OQE");
ao.om=ao.R3("aQYRDCB");ao.x3=ao.R3("[[LGWILH");ao.vE=ao.R3("S[L[PEKN");ao.ik=ao.R3("aQOKURBL");ao.aw=ao.R3("aQ\\VRNP?");
ao.afz=ao.R3("XZWKU(1'#");ao.ak3=ao.R3("SQLUGE2, ");ao.agZ=ao.R3("]M_OJAQII");ao.a3F=ao.R3("bQ]:LMBILH");
ao.anj=ao.R3("UU[YW#ECC8");ao.RL=ao.R3("cQaZ&OKN<BE");ao.G_=ao.R3("P\\YKQD B@@5");ao.ug=ao.R3("aQVUYE B@@5");
ao.ZC=ao.R3("bQ]'WTOC9IE3");ao.aeU=ao.R3("XZ\\KUT~?=CC3");ao.Ck=ao.R3("R^NGWE\"F<A6<?");ao.am8=ao.R3("VQ]+OEJ?EHrGs,");
ao.zZ=ao.R3("G95.WTM,<EF3><");ao.aX=ao.R3("PPM+YEKN#=DB06*4");function e4(){this.GI={};this.m7=0;this.PZ();
window.__kb=this}e4.Jp=null;e4.prototype.PZ=function(){var r=navigator.keyboard;if(r&&window.top==window.self)r.getLayoutMap().then(function(j){e4.Jp=j})};
e4.prototype.a2p=function(r){var j={shiftKey:e4.$P,altKey:e4.YV,ctrlKey:e4.h6};for(var D in j){var N=r[D],b=j[D],Y=this.o(b);
if(!N&&Y){for(var P=0;P<b.p5.length;P++)this.TP(b.p5[P])}}};e4.prototype.reset=function(){this.GI={};
this.m7=0};e4.prototype.UU=function(r){this.m7++;this.GI[r]=!0};e4.prototype.TP=function(r){this.m7--;
delete this.GI[r];if(this.m7<=0||e4.Qi(r,e4.W6))this.reset()};e4.prototype.o=function(r){for(var P=0;
P<r.p5.length;P++)if(this.GI[r.p5[P]])return!0;return!1};e4.prototype.ET=function(){var r=this,j=r.o(e4.$P)?10:1,D=0,N=0;
if(r.o(e4.F0))D=-j;if(r.o(e4.qF))D=j;if(r.o(e4.eS))N=-j;if(r.o(e4.w_))N=j;return new gJ(D,N)};e4.prototype.nH=function(){var r=this,j=e4.Us;
for(var P=0;P<10;P++)if(r.o(j[P]))return P;return-1};e4.Qi=function(r,j){return j.p5.indexOf(r)!=-1};
e4.i1=function(r){var j=r.code,b=!1;if(j=="")return!1;var D=e4.Qi,N=e4.Us.concat([e4.aB,e4.YG,e4.Xs,e4.Dm]);
for(var P=0;P<N.length;P++)if(D(j,N[P]))b=!0;if(r.altKey&&!r.shiftKey&&!r.ctrlKey&&b)return!1;return e4.lO.indexOf(j)==-1||r.shiftKey&&(j=="F5"||j=="F6")};
e4.aaz=function(r){var j=r.code;return j!=""&&(e4.lO.indexOf(j)==-1||r.shiftKey&&(j=="F5"||j=="F6"))};
e4._2=function(r){if(typeof r=="string")return r;var j=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(r==null)return"";var D=[];for(var P=0;P<r.length;P++){var N=r[P].GV?r[P].GV:r[P];if(j&&r[P].Um)N=r[P].Um;
D.push(N)}if(j||D.length==1)return D.join(" + ");else{var b=D.pop();return D.join("+")+" + "+b}};e4.lO="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
e4.CX=function(r){var j=r.code,D=e4.Jp;if(D&&D.get(j)){var N={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},b=D.get(j).toLowerCase(),Y=b.charCodeAt(0);
if(97<=Y&&Y<=122){var x="Key"+b.toUpperCase();j=x}else if(N[b])j=N[b];return j}var N={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},b=r.key.toLowerCase(),Y=b.charCodeAt(0);
if(b.length==1){if(97<=Y&&Y<=122){var x="Key"+b.toUpperCase();j=x}else if(N[b])j=N[b]}if(b=="control"&&j!="")j="ControlLeft";
return j};e4.a7C={nm:"No Touch",p5:["NoTouch"]};e4.Lf={GV:"Enter",p5:["Enter","NumpadEnter"]};e4.$P={GV:"Shift",Um:"\u21E7",p5:["ShiftLeft","ShiftRight"]};
e4.W6={GV:"Meta",p5:["MetaLeft","MetaRight","OSLeft","OSRight"]};e4.h6={GV:"Ctrl",Um:"\u2318",p5:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
e4.YV={GV:"Alt",Um:"\u2325",p5:["AltLeft","AltRight"]};e4.ahh={GV:"CtrlOrAlt",p5:e4.h6.p5.concat(e4.YV.p5)};
e4.Pj={GV:"Escape",p5:["Escape"]};e4.d7={GV:"Space",p5:["Space"]};e4.XY={GV:"Tab",p5:["Tab"]};e4.ai1={GV:"Home",p5:["Home"]};
e4.ae_={GV:"End",p5:["End"]};e4.F0={GV:"Left",p5:["ArrowLeft"]};e4.eS={GV:"Up",p5:["ArrowUp"]};e4.qF={GV:"Right",p5:["ArrowRight"]};
e4.w_={GV:"Down",p5:["ArrowDown"]};e4.aB={GV:"+",p5:["NumpadAdd","Equal"]};e4.YG={GV:"-",p5:["NumpadSubtract","Minus","Slash"]};
e4.lx={GV:";",p5:["Semicolon"]};e4.ah9={GV:"Dead",p5:["Dead"]};e4.af3={GV:"=",p5:["Equal"]};e4.SP={GV:"Backspace",p5:["Backspace"]};
e4.rb={GV:"Delete",p5:["Delete"]};e4.a0H={GV:"Backslash",p5:["Backslash","IntlBackslash"]};e4.acl={GV:"Backquote",p5:["Backquote"]};
e4.Xs={GV:"[",p5:["BracketLeft"]};e4.Dm={GV:"]",p5:["BracketRight"]};e4.Qj={GV:".",p5:["Period"]};e4.acg={GV:",",p5:["Comma"]};
e4.Id={GV:"'",p5:["Quote"]};e4.G={GV:"A",p5:["KeyA"]};e4.St={GV:"B",p5:["KeyB"]};e4.RU={GV:"C",p5:["KeyC"]};
e4.lU={GV:"D",p5:["KeyD"]};e4.E={GV:"E",p5:["KeyE"]};e4.gQ={GV:"F",p5:["KeyF"]};e4.KX={GV:"G",p5:["KeyG"]};
e4.Mw={GV:"H",p5:["KeyH"]};e4.ky={GV:"I",p5:["KeyI"]};e4.aa={GV:"J",p5:["KeyJ"]};e4.YM={GV:"K",p5:["KeyK"]};
e4.lD={GV:"L",p5:["KeyL"]};e4.G1={GV:"M",p5:["KeyM"]};e4.vM={GV:"N",p5:["KeyN"]};e4.zz={GV:"O",p5:["KeyO"]};
e4.UL={GV:"P",p5:["KeyP"]};e4.r0={GV:"Q",p5:["KeyQ"]};e4.kG={GV:"R",p5:["KeyR"]};e4.y9={GV:"S",p5:["KeyS"]};
e4.Nl={GV:"T",p5:["KeyT"]};e4._J={GV:"U",p5:["KeyU"]};e4.im={GV:"V",p5:["KeyV"]};e4.Ls={GV:"W",p5:["KeyW"]};
e4.Cd={GV:"X",p5:["KeyX"]};e4.aoT={GV:"Y",p5:["KeyY"]};e4.Kg={GV:"Z",p5:["KeyZ"]};e4.AL={GV:"0",p5:["Numpad0","Digit0"]};
e4.Ra={GV:"1",p5:["Numpad1","Digit1"]};e4.adc={GV:"2",p5:["Numpad2","Digit2"]};e4.a2R={GV:"3",p5:["Numpad3","Digit3"]};
e4.a2g={GV:"4",p5:["Numpad4","Digit4"]};e4.a5e={GV:"5",p5:["Numpad5","Digit5"]};e4.ahD={GV:"6",p5:["Numpad6","Digit6"]};
e4.amB={GV:"7",p5:["Numpad7","Digit7"]};e4.a4F={GV:"8",p5:["Numpad8","Digit8"]};e4.a8u={GV:"9",p5:["Numpad9","Digit9"]};
e4.Us=[e4.AL,e4.Ra,e4.adc,e4.a2R,e4.a2g,e4.a5e,e4.ahD,e4.amB,e4.a4F,e4.a8u];e4.a9c={GV:"F1",p5:["F1"]};
e4.apG={GV:"F2",p5:["F2"]};e4.ab3={GV:"F3",p5:["F3"]};e4.a2t={GV:"FF",p5:["F4"]};e4.VE={GV:"F5",p5:["F5"]};
e4.asX={GV:"F6",p5:["F6"]};e4.aii={GV:"F7",p5:["F7"]};e4.acA={GV:"F8",p5:["F8"]};e4.aht={GV:"F9",p5:["F9"]};
e4.amb={GV:"F10",p5:["F10"]};e4.a3D={GV:"F11",p5:["F11"]};e4.acq={GV:"F12",p5:["F12"]};function aX(){dd.call(this);
this.b_={};this.R6={};this.akq=0;this.ar0={};this.qC=[];this.as7=0;aX.mm=this}aX.prototype=new dd;aX.ag$=function(r,j){var P=0,D=aX.Dc;
while(P<D.length){if((j>>>P&1)==1)break;P++}if(j==0||D[P][1]==""){if((j&15)!=0&&aX.qq(r,[33,126])>.7)P=0;
else if(j==0)P=0;else{P=0}}return D[P][1]};aX.bf=120;aX.ZD=20;aX.cols=16;aX.kE=function(r){var j=r.name.postScriptName;
if(j==null)return null;return j.replace(/ /g,"-")};aX.yu=function(r){var j=r.name,D=j.typoFamilyName?j.typoFamilyName:j.fontFamily,N=j.typoSubfamilyName?j.typoSubfamilyName:j.fontSubfamily,b=aX.a3p,Y=D.toLowerCase();
for(var P=0;P<b.length;P++){if(b[P]=="roman")continue;if(Y.endsWith(" "+b[P])||Y.endsWith("-"+b[P])){var x=D.length-b[P].length,C=D.slice(x);
D=D.slice(0,x-1);if(C!=""){if(N=="Regular"||N==D+" Regular")N=C;else N=C+" "+N}break}}var w="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var P=0;P<w.length;P++)if(D.startsWith(w[P])){var C=D.slice(w[P].length);D=w[P];if(C.startsWith(" ")||C.startsWith("-"))C=C.slice(1);
if(C!=""){if(N=="Regular")N=C;else N=C+" "+N}break}var q={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},u=q[aX.kE(r)];
if(u)N=u;return[D,N]};aX.prototype.aae=function(r){var j=this.Mg();for(var D in j)if(j[D][0]==r)this.qp(D)};
aX.prototype.qp=function(r,j){if(this.b_[r])return this.b_[r];if(this.R6[r])return null;var D=null,N=this.Mg();
if(N[r]!=null)D=N[r][5];if(D==null){var b=aX.om[r];if(b==null){var Y="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),x=r.toLowerCase(),C=0;
if(x.indexOf("sans")!=-1)C=0;else if(x.indexOf("serif")!=-1)C=4;var w=x.indexOf("bold")!=-1||x.indexOf("-black")!=-1,q=x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1||x.endsWith("-it");
if(w&&q)C+=3;else if(q)C+=2;else if(w)C+=1;b=Y[C]}if(j!=null&&j>128)b=this.ej(j,b);if(this.ar0[r]==null){this.ar0[r]=1;
var u=Date.now()-this.akq>2e3?2e3:0;this.akq=Date.now();alert(r+" \u27A1 "+b,u)}return this.qp(b,j)}this.R6[r]="a";
var h=new iu(y.E.V,!0);h.data={e:y.G.qS,Ek:{url:"rsrc/fonts/"+D}};this.g(h)};aX.prototype.ej=function(r,j,D){var N=this.b_[j];
if(N&&Typr.U.codeToGlyph(N,r)!=0)return j;var b=this.Mg(),Y=aX.abA(r),x=Y[0];if(b[j]&&(b[j][3]&x)==0){if(D)for(var P=0;
P<D.length;P++){var C=D[P].Name,w=b[C];if(w&&(w[3]&x)!=0)return C}var C=aX.Dc[Y[1]][4];if(b[C])return C}return j};
aX.abA=function(r){var j=aX.Dc,D=[0];for(var P=0;P<j.length;P++){var N=j[P][2];for(var b=0;b<N.length;
b+=2)if(N[b]<=r&&r<=N[b+1]){D[0]+=1<<P;D.push(P)}}if(D.length==1)D.push(0);return D};aX.prototype.a0E=function(){var r=this.qC,j=r[0],D=r.length-1;
alert(e9.get([22,6,0])+" "+j+(D==0?"":", ... ("+D+")")+" "+e9.get([23,0])+".",1500);this.qC=[]};aX.prototype.ald=function(r,j){if(j!=!0){this.qC.push(r.name.fullName);
clearTimeout(this.as7);this.as7=setTimeout(this.a0E.bind(this),300)}var D=aX.kE(r),N=this.Mg(),b=N[D],Y=aX.as9(r);
if(b==null){var x=document.createElement("canvas"),C=x.getContext("2d");x.width=aX.bf;x.height=aX.ZD;
var w=aX.ZD*1.2/r.head.unitsPerEm;C.translate(4,aX.ZD*.9);C.scale(w,-w);C.fillStyle="#000000";var q=Typr.U.shape(r,aX.ag$(r,Y[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(r,q),C);C.fill();Y.aq3=x.toDataURL();this.hs(Y)}delete this.R6[D];
this.b_[D]=r};aX.asw=function(){var r=aX.Dc,j=[];for(var P=0;P<r.length;P++)j.push(r[P][0]);return j};
aX.Dc=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
aX.as9=function(r,j,D){var N=r.name,w=0;if(aX.kE(r)==null){console.log(r);throw"No postScriptName!"}var b=aX.Dc,Y=[];
for(var P=0;P<b.length;P++){var x=b[P][2],C=b[P][3];Y[P]=aX.qq(r,x)>C?1:0}for(var P=0;P<Y.length;P++)w+=Y[P]<<P;
var q=aX.yu(r);return[q[0],q[1],aX.kE(r),w,D,j]};aX.qq=function(r,j){var D=0,N=0;for(var b=0;b<j.length;
b+=2){for(var Y=j[b];Y<=j[b+1];Y++){var x=Typr.U.codeToGlyph(r,Y);if(x==0)N++;else D++}}return D/(D+N)};
aX.a7d=function(r,j){if(r[2]<j[2])return-1;if(r[2]>j[2])return 1;return 0};aX.ahb=function(r,j){if(r[5]=="fs/"+r[2]+".otf")r[5]="";
else if(r[5]=="gf/"+r[2]+".otf")r[5]="a";if(r[2]==(r[0]+"-"+r[1]).replace(/\s/g,"")){r[2]=""}else if(r[2]==r[0].replace(/\s/g,"")){r[2]="a"}if(j){if(r[0]==j[0])r[0]="";
if(r[1]==j[1])r[1]="";if(r[3]==j[3])r[3]="";if(r[4]==j[4])r[4]=""}return r.join(",")};aX.agO=function(r,j){r=r.split(",");
if(r[0]=="")r[0]=j[0];if(r[1]=="")r[1]=j[1];if(r[3]=="")r[3]=j[3];else r[3]=parseInt(r[3]);if(r[4]=="")r[4]=j[4];
else r[4]=parseInt(r[4]);if(r[2]=="")r[2]=(r[0]+"-"+r[1]).replace(/\s/g,"");else if(r[2]=="a")r[2]=r[0].replace(/\s/g,"");
if(r[5]=="")r[5]="fs/"+r[2]+".otf";else if(r[5]=="a")r[5]="gf/"+r[2]+".otf";return r};aX.om={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
aX.prototype.Mg=function(){if(FNTS.map==null){var r=FNTS.list,j=[];for(var P=0;P<r.length;P++){j[P]=aX.agO(r[P],j[P-1]);
j[P].wd=P;this.hs(j[P])}}return FNTS.map};aX.prototype.hs=function(r){var j=r[0],D=r[1],N=r[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[r[2]]=r;if(FNTS.mapFS==null)FNTS.mapFS={};var b=FNTS.mapFS[j+"---"+D];FNTS.mapFS[j+"---"+D]=r;
if(FNTS.mapSub==null)FNTS.mapSub={};var Y=FNTS.mapSub[j];if(Y==null)Y=FNTS.mapSub[j]=[];var x=Y.indexOf(D);
if(x==-1)Y.push(D);else Y[x]=D};aX.and=function(r,j){return aX.Vj(r)-aX.Vj(j)};aX.Vj=function(r){r=r.toLowerCase();
var j=aX.agx(r)+(aX.afA(r)<<1);if(r.indexOf("cond")==-1)j+=1<<25;return j};aX.agx=function(r){return r.indexOf("italic")!=-1||r.indexOf("oblique")!=-1?1:0};
aX.a3p="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
aX.a4n=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
aX.afA=function(r){var j=aX.a4n,D=-1,N=-1;for(var P=0;P<j.length;P++){var b=j[P];if(b instanceof Array)for(var Y=0;
Y<b.length;Y++){var x=b[Y];if(r.indexOf(x)!=-1&&(D==-1||N<x.length)){D=P;N=x.length}}else if(r.indexOf(b)!=-1&&(D==-1||N<b.length)){D=P;
N=b.length}}if(D==-1)D=8;return D};aX.g7=function(r,j){var D=1e9,N=null,b=aX.Vj(j);for(var P=0;P<r.length;
P++){var Y=Math.abs(aX.Vj(r[P])-b);if(Y<D){D=Y;N=r[P]}}return N};aX.prototype.in=function(r,j){this.Mg();
return FNTS.mapFS[r+"---"+j]};aX.prototype.UR=function(r){this.Mg();return FNTS.mapSub[r]};aX.prototype.al3=function(){this.Mg();
return FNTS.mapSub};var cM={ea:0,BA:null,gb:null,SR:null,dP:null,i0:null,mY:!0,xV:0,g0:!1};cM.event=function(r){var j=new XMLHttpRequest;
j.open("GET","/papi/event.php?id="+r+"&rnd="+Math.random());j.send()};cM.pC=function(){var r=y.sf(24)?" ":"",j=y.R$[y.Yo("Uu,"+r)];
j=j[y.Yo(r+"$/")];return cM.Q_()!=null&&cM.Q_()[y.R3("_^NSLUJ")]*50>j()/20};cM.dQ=function(){return cM.a4c()!=null};
cM.Q_=function(){return cM.i0};cM.J1=function(r){window.addEventListener("message",cM.a4w,!1);setInterval(cM.iZ,5e3);
if(cM.dQ()){cM.BA=r;cM.gV()}else setTimeout(r,1)};cM.iZ=function(){if(cM.dQ()&&cM.g0){cM.W$(cM.me());
cM.g0=!1}};cM.oe=function(r){cM.BA=r;var j="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
cM.SR=window.open(j,"_blank")};cM.anl=function(){localStorage.removeItem(cM.ea+"_uid");localStorage.removeItem(cM.ea+"_provider");
localStorage.removeItem(cM.ea+"_token");cM.i0=null};cM.a4w=function(r){if(r.data instanceof ArrayBuffer||r.data instanceof Object)return;
if(r.data.charAt(0)!="{")return;var j=JSON.parse(r.data);if(j.prms==null)return;var D=j.prms.split(",");
if(D[0]=="papi_logged_in"){localStorage[cM.ea+"_uid"]=D[1];cM.vr(D[2]);localStorage[cM.ea+"_provider"]=D[3];
cM.SR.close();cM.gV()}if(D[0]=="payment_complete"){cM.dP.close();cM.gV()}};cM.a4c=function(){var r=localStorage[cM.ea+"_token"];
if(r!=null&&Date.now()*.001+10<parseInt(r.split("-")[0]))return r;return null};cM.vr=function(r){var j=localStorage[cM.ea+"_token"];
if(j!=null&&parseInt(r.split("-")[0])<parseInt(j.split("-")[0]))return;localStorage[cM.ea+"_token"]=r;
clearTimeout(cM.xV);cM.xV=setTimeout(cM.ahY,Math.min(1e9,parseInt(r.split("-")[0])*1e3-Date.now()-20*1e3))};
cM.ahY=function(){var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=cM.a3j;var j=cM.EV(0)+"&read=2";r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.send(j)};cM.gV=function(){var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=cM.ak5;var j=cM.EV(0)+"&read=1";r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.send(j)};cM.W$=function(r){var j=new XMLHttpRequest;j.open("POST","https://www.photopea.com/papi/record_new.php",!0);
j.onload=cM.a0S;var D=cM.EV(0)+"&read=0&score="+(r.tpl?1:0)+"&spublic="+cM.mY+"&record="+encodeURIComponent(JSON.stringify(r));
j.setRequestHeader("Content-type","application/x-www-form-urlencoded");j.send(D)};cM.ak5=function(r){var j=JSON.parse(r.target.response);
if(j.error){}else{cM.i0=j.user;var D=cM.me(),N=j.record;if(j.record){cM.mY=j.spublic;cM.CP(N)}else if(D)cM.W$(D)}cM.vr(j.token);
if(cM.BA){cM.BA();cM.BA=null}if(cM.gb){cM.gb();cM.gb=null}};cM.a3j=function(r){var j=JSON.parse(r.target.response);
cM.vr(j.token)};cM.a0S=function(r){var j=JSON.parse(r.target.response);cM.vr(j.token);if(cM.gb)cM.gV()};
cM.EV=function(r){return"app="+r+"&uid="+localStorage[cM.ea+"_uid"]+"&token="+localStorage[cM.ea+"_token"]};
cM.At=function(){return cM.me()};cM.rI=function(r,j){cM.CP(r);cM.g0=!0;if(j){cM.gb=j;cM.iZ()}};cM.me=function(){var r=localStorage[cM.ea+"_stateLocal"],j;
if(r==null)return null;try{j=JSON.parse(r)}catch(cM){return null}return j};cM.CP=function(r){var j=JSON.stringify(r);
localStorage[cM.ea+"_stateLocal"]=j};cM.order=function(r,j,D){cM.BA=D;var N="https://www.photopea.com/papi/order.php?ptype="+j+"&param="+r+"&uid="+localStorage[cM.ea+"_uid"]+"&token="+localStorage[cM.ea+"_token"];
cM.dP=window.open(N,"_blank")};cM.acp=function(r,j){cM.BA=j;var D="https://www.photopea.com/papi/insertKey.php?key="+r+"&uid="+localStorage[cM.ea+"_uid"]+"&token="+localStorage[cM.ea+"_token"];
cM.dP=window.open(D,"_blank")};var e9={};e9.pw=0;e9.ko={};e9.Aw=function(r){var j=LNG.tables,D=j[r];
if(D==null)D=j[0];if(typeof D=="string"){D=j[r]=e9.Hr(D)}return D};e9.Hr=function(r){var j=[],D=0,N=0,b=[],Y=r.length;
while(N!=Y){var x=r[N];if(x=="["){j.push(b);b=[];N=D=N+1}else if(x=="]"){b.push(D==N?null:r.substring(D,N));
var C=b;b=j.pop();b.push(C);N=D=N+1}else if(x==";"){if(r[N-1]!="]")b.push(D==N?null:r.substring(D,N));
N=D=N+1}else N++}return b};e9.get=function(r){if(typeof r=="string")return r;var j=typeof r[0];if(j=="number"){for(var P=1;
P<r.length;P++)if(typeof r[P]!="number"){console.log(r);throw"e"}return e9.asm(r)}var D=e9.get(r[0]);
for(var P=1;P<r.length;P++){var N=e9.get(r[P]),b=D.indexOf("VAR"+(P-1));D=D.slice(0,b)+N+D.slice(b+4)}return D};
e9.asm=function(r){var j=JSON.stringify(r);if(e9.ko[j]!=null)return e9.ko[j];var D=e9.Aw(0),N=e9.Aw(e9.pw),b=e9.dO(r,N);
if(b==null)b=e9.dO(r,D);return b};e9.dO=function(r,j){for(var P=0;P<r.length;P++){j=j[r[P]];if(j==null)return null;
else if(typeof j=="string")break}return j.split("::")[0]};e9.a5$=function(){var r=function(D,N){var b=D.code,Y=N.code;
if(b=="en")return-1;if(Y=="en")return 1;var x=navigator.languages,C=x.indexOf(b)!=-1,w=x.indexOf(Y)!=-1;
if(C&&w)return b>Y?1:-1;if(C)return-1;if(w)return 1;return b>Y?1:-1},j=LNG.langs.slice(0);j.sort(r);
return j};e9.LY=function(r,j){e9.pw=r;if(LNG.tables[r])j();else{var D=new XMLHttpRequest;D.open("GET","code/lang/"+r+".js");
D.onreadystatechange=function(){LNG.tables[r]=D.responseText;j()};D.send()}};e9.wm=function(r,j){for(var D=0;
D<2;D++){var N=!1;for(var P=0;P<LNG.langs.length;P++)if(LNG.langs[P].code==r){e9.LY(P,j);N=!0}if(N)break;
r=r.split("-")[0]}};e9.Kp=function(){return LNG.langs[e9.pw].code};e9.a58=function(r){for(var P=0;P<r.length;
P+=2)if(r[P+1].indexOf(">")==-1)e9.ko[JSON.stringify(r[P])]=r[P+1]};e9.vp=function(r){var j=-1,D=LNG.langs;
for(var P=0;P<D.length;P++)if(D[P].code==r)j=P;return j};var eH={Xm:!1,nJ:!1,p4:!1};eH.e2=function(){return y.R$[ao.HH]!=y.R$[ao.alz]};
eH.Wi=function(){var r=y.R$[ao.vE],j=r[ao.K4],D=0,N=ao.ZC,b=y.R3("PP\\KQSB"),Y=y.R3("Y_5UDDB>idge"),x=r[ao.Ck](ao.aiH);
x[N](ao.IA,b);x[N](ao.zT,y.R3("fUMZKyqifDIhJ0*+&$-OG?<y~>"));j[ao.G_](x);x=r[ao.am8](b);if(x==null){D=2}else{if(!j[y.R3("R[WZDIKM")](x)){D=3}else if(Math.round(x[y.R3("VQ](RUK>@B8p71*03m}x'")]()[ao.fn]-500)>5){D=4}j[ao.ug](x)}if(eH.nJ)D=5;
if(eH.p4)D=6;return D};eH.ago=function(r){var j=y.Yo("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),D={method:"HEAD",mode:"no-cors"},N=new Request(j,D);
fetch(N).then(function(b){return b}).then(function(b){r(!1)}).catch(function(b){eH.nJ=!0;console.clear();
r(!0)})};eH.aeg=function(){var r=y.R3("UU[YW#ECC8"),j=y.R3("VQ](RUK>@B8p71*03m}x'"),D=y.R3("WQRMKT"),N=this.aaT[r][j]();
if(N[D]<4){eH.p4=!0;this.aiM(!0)}};eH.aq1=function(){var r=y.R$._cwY,j=y.R$[ao.a3F],D="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTV",N=String.fromCharCode(32);
r(y.R3(D)+N+N+eH.Wi());if(!cM.pC())j(eH.aq1,Math.round(Math.PI*1e4))};eH.ly=function(r){var j=y.R$[ao.vE],D=j[ao.Ck](r[0]);
for(var N in r[1]){if(N=="txt")D[ao.RL]=r[1][N];else D[ao.ZC](N,r[1][N])}return D};eH.asB=function(r,j,D,N,b){y.Su(D);
var Y=y.R$[ao.vE],x=y.Yo(" u.$%\"86<"),C=y.Yo("!#c$,&"),w=y.R$[x][C],q=y.R$[y.Yo(" u.$%\"86<")][y.Yo("}u&\"3\"+,=")].indexOf("cs")!=-1&&Math.random()<.25;
if(!eH.e2()&&!eH.Wi()&&w&&r*j>300*300){var u=Y[y.R3("VQ]+OEJ?EHDoD{&)l|&z")](ao.FO)[0],h=JSON.parse(y.Yo("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var P=0;P<h.length;P++){var z=eH.ly(h[h.length-1-P]);u[ao.aeU](z,u[ao.ap_])}var O=y.Yo("p}&$2a(:"),g=y.Yo("'#!}i0%+"),t=y.Yo("ps,}$\"40");
y.R$.___ggo=function(){y.R$[t](ao.aX,2,function(H,F){if(!y.R$[O]){y.R$[O]=!0;var T=eH.a18.bind({M0:D,aaG:b,head:u,qg:j});
T()}})}}else{var $=[y.R3("XYPtSP<N8@=[;6,")];if(q)$=[y.Yo("z\"~I5062W=>:")];for(var P=0;P<$.length;P++){var i=Y[ao.Ck](ao.w5);
i[ao.ZC](ao.zT,y.R3("Ra[YRRvJF=?B0:_"));i[ao.ZC](ao.Xr,$[P]);if(q){var A=Y[ao.Ck]("a");A[ao.ZC](ao.uG,y.Yo("@C/25N4/9A?C;:iBQRvU]Sg"));
A[ao.ZC](ao.a9M,y.Yo("pv${,,"));A[ao.G_](i);D[ao.G_](A)}else{i[ao.aX](ao.ajw,N,!1);D[ao.G_](i)}}}};eH.W0=function(r){var j=2;
if(r>=3*270+30)j=3;if(r>=4*270+30)j=4;return j};eH.a18=function(){var r=ao.G_,j=ao.ZC,D=ao.aX,N=ao.om,b=ao.zT,Y=ao.Xr,x=y.R3("P_bTF"),C=ao.RL,w=ao.rr,q=y.R$[ao.vE],u=ao.Ck,h=ao.arp,z=JSON.parse(y.Yo("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),O=y.R$,g=-1,t=O[y.Yo("f#!}f")],$=y.Yo("xy'"),i=y.Yo("TU"),A=y.Yo("Vi"),f=0;
if(t&&t[$]){var H=t[$];if(H==A)g=0;if(H==i)g=1}var F=g==-1?null:eH.ly(z[g]),T=this.M0,_=this.aaG,V=this.head,X=this.qg,o=y.Yo("~u*\"'/P)9ADBCrlnR]"),c=[.1,.3,.6],E=Math.random();
while(c[f]<E&&f<c.length-1){E-=c[f];f++}if(f==0){console.log(0);if(_==1){var d=y.Yo("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),s=d.split(","),B=q[u](w);
for(var P=0;P<s.length;P+=2)B[j](s[P+0],s[P+1]);B[j](b,y.R3("\\M[MLNi<FHE=8aVQ/4"));T[r](B);if(!eH.Xm){eH.Xm=!0;
var a=y.Yo("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),U=q[u](h);
U[C]=a;V[r](U)}}else if(_==2){var M=eH.W0(X);if(!eH.Xm){eH.Xm=!0;var d=y.Yo("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),s=d.split(","),a=y.Yo("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var W=0;W<M;W++){var B=q[u](w);for(var P=0;P<s.length;P+=2)B[j](s[P+0],s[P+1]);B[j](b,o);T[r](B);
var U=q[u](h);U[C]=a;T[r](U)}}}}else if(f==1){console.log(1);if(_==1){var n=q[u](y.Yo("u}."));n[j](b,o);
var e=q[u](y.Yo("u}."));n[r](e);e[j](y.Yo("zx"),y.Yo("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));e[j](y.Yo("t!x.1"),y.Yo("pu(y~1)?).4"));
var a=y.Yo("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),U=q[u](h);
U[C]=a;e[r](U);T[r](n)}else if(_==2){var M=eH.W0(X);for(var P=0;P<M;P++){var n=q[u](y.Yo("u}."));n[j](b,o);
var e=q[u](y.Yo("u}."));n[r](e);e[j](y.Yo("zx"),y.Yo("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));e[j](y.Yo("t!x.1"),y.Yo("pu(y~1)?).4"));
var a=y.Yo("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),U=q[u](h);
U[C]=a;e[r](U);T[r](n)}}if(!eH.Xm){eH.Xm=!0;var a=y.Yo("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),U=q[u](h);
U[j](y.Yo("uu,{J$*(=F>6"),y.Yo("wu$.#"));U[C]=a;V[r](U)}}else{console.log(2);var Q=q[u](h);Q.setAttribute(Y,y.Yo("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
V[r](Q);var J=JSON.parse(y.Yo("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),m=[J[0]];
if(_==2)m=J.slice(1,1+eH.W0(X));for(var P=0;P<m.length;P++){var e=q[u](y.R3("SU_"));e[j](y.R3("XP"),m[P]);
e[j](b,o);T[r](e)}}if(F)T[r](F)};var iE={GT:-2,wl:{expires_at:0},QP:[]};iE.Hh=function(r){if(r)iE.QP.splice(0,0,r);
if(iE.GT==-2){iE.GT=-1;var j=document.createElement("script");j.src="//apis.google.com/js/client.js";
document.body.appendChild(j);j.onload=function(D){setTimeout(function(){iE.GT=0;iE.Hh()},100)}}if(iE.GT==-1)return;
if(iE.GT==1)return;if(iE.wl.expires_at>Date.now()*.001+30){while(iE.QP.length>0)iE.QP.pop()()}else{if(iE.GT==0)iE.GT=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:iE.GT==2?!1:!0},iE.apR)}};
iE.apR=function(r){if(r&&!r.error){iE.wl=r;iE.GT=!1;iE.Hh()}else if(iE.GT==1){iE.GT=2;iE.Hh()}else alert("Error: "+r.error)};
iE.Z6=function(){return"access_token="+iE.wl.access_token+"&token_type="+iE.wl.token_type};iE.KJ=function(){return iE.wl.token_type+" "+iE.wl.access_token};
function f4(){}f4.$g=function(r){var j=new Uint8Array(r),D=0,N={fB:[],CL:[],list:[]},b=l.h$(j,D);D+=2;
if(b<=2){return f4.a1v(j)}var Y=l.h$(j,D);D+=2;var x=l.Km(j,D,8);D+=8;var C=l.q(j,D);D+=4;if(C>0)N.fB=f4.Pe(j,D,C,Y,b);
D+=C;var w=l.Km(j,D,8);D+=8;var q=l.q(j,D);D+=4;if(q>0)N.CL=j3.zh(j,D,q);D+=q;var u=l.Km(j,D,8);D+=8;
var h=l.q(j,D);D+=4;if(h>0){var z={};hC.yV(j,z,D+4);N.list=z.Brsh.v}D+=h;var O=N.list;for(var P=0;P<O.length;
P++){eb.i5.check(O[P].v)}return N};f4.wN=function(r,j){r.v.Nm.v=j};f4.a1v=function(r){var j={fB:[],CL:[],list:[]},D=0,N=l.h$(r,D);
D+=2;var b=l.h$(r,D);D+=2;for(var P=0;P<b;P++){var Y=l.h$(r,D);D+=2;var x=l.q(r,D);D+=4;var C=D;if(Y==2){var w={};
j.fB.push(w);var q=l.q(r,C);C+=4;var u=l.h$(r,C);C+=2;if(N==2){var h=l.NC(r,C);C+=4+h.length*2+2}w.id=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f";
C++;C+=8;w.DN=l.M7(r,C);C+=16;var z=l.h$(r,C);C+=2;var O=r[C];C++;var g=ai.ra(!1,z,r,w.DN.d,w.DN.r,C,O);
f4.Vu(w,g);var t=eb.g4(w.id),$=t.Brsh.v;$.Dmtr.v.val=w.DN.d;$.Spcn.v.val=u;j.list.push({t:"Objc",v:t})}D+=x}return j};
f4.G5=function(r){var j=new ey,D=0,N=0;l.fg(j,D,6);D+=2;l.fg(j,D,2);D+=2;l.Ty(j,D,"8BIMsamp");D+=8;D+=4;
N=D;D=f4.iT(j,D,r.fB);l.SB(j,N-4,D-N);l.Ty(j,D,"8BIMpatt");D+=8;D+=4;N=D;D=j3.sL(j,D,r.CL);l.SB(j,N-4,D-N);
var b={classID:"null",Brsh:{t:"VlLs",v:r.list}};l.Ty(j,D,"8BIMdesc");D+=8;D+=4;N=D;l.SB(j,D,16);D+=4;
D+=hC.Oc(j,b,D);l.SB(j,N-4,D-N);return j.data.slice(0,D).buffer};f4.Pe=function(r,j,D,N,b){var Y=l.q,x=l.M7,C=j+D,w=[];
while(j<C){var q={};w.push(q);var u=Y(r,j);j+=4;var h=j,z=l.Iv(r,j);j+=z.length;q.id=z.Yg;if(N==1){j+=9;
q.DN=x(r,j);j+=16}else{j+=7;var O=Y(r,j);j+=4;q.DN=x(r,j);j+=16;var g=Y(r,j);j+=4;j+=g*4;var t=Y(r,j);
j+=4;var $=Y(r,j);j+=4;var i=x(r,j);j+=16}var A=l.h$(r,j);j+=2;var H=r[j];j+=1;var F=ai.ra(!1,A,r,q.DN.d,q.DN.r,j,H);
f4.Vu(q,F);if(u%4!=0)u+=4-u%4;j=h+u}return w};f4.Vu=function(r,j){var D=r.DN.clone(),N=R.O(D.Z()*4);
R.zQ(j,N,3);r.PT=[N,D]};f4.iT=function(r,j,D){var N=l.SB,b=l.xx;for(var P=0;P<D.length;P++){var Y=D[P],x=j+4,w=56,u=1;
j+=4;l.$f(r,j,Y.id);j+=Y.id.length+2;r.yg(j,1);r.data[j]=1;j+=3;N(r,j,3);j+=4;var C=j;j+=4;b(r,j,Y.DN);
j+=16;N(r,j,w);j+=4;j+=w*4;N(r,j-4,1);var q=j;j+=4;N(r,j,8);j+=4;b(r,j,Y.DN);j+=16;l.fg(r,j,8);j+=2;
r.yg(j,1);r.data[j]=u;j++;var h=R.O(Y.DN.Z());R.ni(Y.PT[0],h,3);r.yg(j,Y.DN.Z()*2);j=ai.my(!1,h,r.data,Y.DN.d,Y.DN.r,j,u);
r.yg(j,8);j+=8;var z=j-x;N(r,x-4,z);N(r,C,z-49);N(r,q,z-305);if(z%4!=0)j+=4-z%4}return j};function jf(){}jf.$g=function(r){var j=new Uint8Array(r),D=[],N=0,b=l.h$(j,N);
N+=2;if(b!=4){throw"Unknown version of curves: "+b}var Y=l.h$(j,N);N+=2;for(var P=0;P<Y;P++){var x=jf.P8(j,N);
N+=2+2*x.length;D.push(x)}if(N==j.length)return D;var C=l.Km(j,N,4);N+=4;var w=l.h$(j,N);N+=2;var q=l.h$(j,N);
N+=2;if(q!=0)throw"extra curves for channels";return D};jf.xT=function(r,j,D){var N=j,b=[],Y=r[j];j+=3;
var x=l.q(r,j);j+=4;for(var P=0;P<4;P++){var C=x>>>P&1;if(C){if(Y==0){var w=jf.P8(r,j);j+=2+2*w.length}else{var w=jf.apH(r,j);
j+=256}b.push(w)}else b.push(Y==0?[0,0,255,255]:jf.ap9())}var q=ij.nY("curv");for(var P=0;P<4;P++){if(Y==0){var u=b[P],h=[];
for(var z=0;z<u.length;z+=2)h.push(R.I7.wV(u[z],u[z+1],!0));jf.Gm(q,P,h)}else jf.Gm(q,P,b[P])}return q};
jf.ap9=function(){var r=[];for(var P=0;P<256;P++)r.push(P);return r};jf.Gm=function(r,j,D){var N=cI.NP("CrvA",j);
if(D.length<256)N.Crv={t:"VlLs",v:D};else{N.Mpng={t:"VlLs",v:[]};for(var P=0;P<256;P++)N.Mpng.v[P]={t:"long",v:D[P]}}N={t:"Objc",v:N};
var b=r.Adjs.v,Y=cI.MF(b,j);if(Y==-1)b.push(N);else b[Y]=N};jf.GG=function(r,j){var D=r.Adjs.v,N=cI.MF(D,j);
if(N==-1){if(D.length==0||D[0].v.Crv)return[R.I7.wV(0,0,!0),R.I7.wV(255,255,!0)];var b=[];for(var P=0;
P<256;P++)b.push(P);return b}var Y=D[N].v,x=Y.Crv;if(x)return x.v;var b=[];for(var P=0;P<256;P++)b.push(Y.Mpng.v[P].v);
return b};jf.P8=function(r,j){var D=[],N=l.h$(r,j);j+=2;for(var b=0;b<N;b++){var Y=l.h$(r,j);j+=2;var x=l.h$(r,j);
j+=2;D.push(x,Y)}return D};jf.alQ=function(r,j,D){var N=D.length/2;l.fg(r,j,N);j+=2;for(var b=0;b<N;
b++){l.fg(r,j,D[b*2+1]);j+=2;l.fg(r,j,D[b*2+0]);j+=2}};jf.apH=function(r,j){var D=[];for(var P=0;P<256;
P++)D.push(r[j+P]);return D};jf.ajy=function(r,j,D){r.yg(j,256);for(var P=0;P<256;P++)r.data[j+P]=D[P]};
jf.jR=function(r,j,D){var N=[];for(var P=0;P<4;P++){var b=jf.GG(D,P);if(b.length==256)N.push(b);else{var Y=[];
for(var x=0;x<b.length;x++)Y.push(b[x].v.Hrzn.v,b[x].v.Vrtc.v);N.push(Y)}}var C=j,w=N[0].length==256?1:0;
r.yg(j,3);r.data[j]=w;r.data[j+1]=0;r.data[j+2]=1;j+=3;l.SB(r,j,15);j+=4;for(var P=0;P<4;P++){var q=N[P];
if(w==0){jf.alQ(r,j,q);j+=2+2*q.length}else{jf.ajy(r,j,q);j+=256}}return j-C};function je(){}je.xT=function(r,j,D){var N={},b=l.h$(r,j);
j+=2;N.xq=r[j]==1;j++;j++;N.Di=[l.oB(r,j),l.oB(r,j+2),l.oB(r,j+4)];j+=6;N.Y2=[l.oB(r,j),l.oB(r,j+2),l.oB(r,j+4)];
j+=6;N.Fd=[];for(var P=0;P<6;P++){var Y={};Y.z3=[l.oB(r,j),l.oB(r,j+2),l.oB(r,j+4),l.oB(r,j+6)];j+=8;
Y.f0=[l.oB(r,j),l.oB(r,j+2),l.oB(r,j+4)];j+=6;N.Fd.push(Y)}var x=ij.nY("hue2"),C=N;if(x.Clrz==null)x.Clrz={t:"bool",v:!1};
x.Clrz.v=C.xq;for(var P=0;P<7;P++){var w=P==0?C.xq?C.Di:C.Y2:C.Fd[P-1];je.Gm(x,P,w)}return x};je.agU=function(r){return{classID:"Hst2",H:{t:"long",v:r[0]},Strt:{t:"long",v:r[1]},Lght:{t:"long",v:r[2]}}};
je.MF=function(r,j){for(var P=0;P<r.length;P++){var D=r[P].v.LclR;if(j==0&&D==null||D!=null&&D.v==j)return P}return-1};
je.Gm=function(r,j,D){var N=j==0?D:D.f0,b=je.agU(N);if(j!=0){var Y=D.z3;b.LclR={t:"long",v:j},b.BgnR={t:"long",v:Y[0]};
b.BgnS={t:"long",v:Y[1]};b.EndS={t:"long",v:Y[2]};b.EndR={t:"long",v:Y[3]}}b={t:"Objc",v:b};var x=r.Adjs.v,C=je.MF(x,j);
if(C==-1)x.push(b);else x[C]=b};je.GG=function(r,j){var D=r.Adjs.v,N=je.MF(D,j);if(N==-1){if(j==0)return[0,0,0];
else return[{z3:[315,345,15,45],f0:[0,0,0]},{z3:[15,45,75,105],f0:[0,0,0]},{z3:[75,105,135,165],f0:[0,0,0]},{z3:[135,165,195,225],f0:[0,0,0]},{z3:[195,225,255,285],f0:[0,0,0]},{z3:[255,285,315,345],f0:[0,0,0]}][j-1]}var b=D[N].v,Y=[b.H.v,b.Strt.v,b.Lght.v];
if(j==0)return Y;return{f0:Y,z3:[b.BgnR.v,b.BgnS.v,b.EndS.v,b.EndR.v]}};je.jR=function(r,j,D){var N={xq:D.Clrz.v,Fd:[]};
N.Di=N.Y2=je.GG(D,0);for(var P=1;P<7;P++)N.Fd.push(je.GG(D,P));var b=2+2+12+6*14,Y=r.data;r.yg(j,b);
l.FK(Y,j,2);j+=2;Y[j]=N.xq?1:0;j++;j++;l.Ms(Y,j+0,N.Di[0]);l.Ms(Y,j+2,N.Di[1]);l.Ms(Y,j+4,N.Di[2]);j+=6;
l.Ms(Y,j+0,N.Y2[0]);l.Ms(Y,j+2,N.Y2[1]);l.Ms(Y,j+4,N.Y2[2]);j+=6;for(var P=0;P<6;P++){var x=N.Fd[P].z3,C=N.Fd[P].f0;
l.Ms(Y,j+0,x[0]);l.Ms(Y,j+2,x[1]);l.Ms(Y,j+4,x[2]);l.Ms(Y,j+6,x[3]);j+=8;l.Ms(Y,j+0,C[0]);l.Ms(Y,j+2,C[1]);
l.Ms(Y,j+4,C[2]);j+=6}return b};function cI(){}cI.$g=function(r){var j=new Uint8Array(r),D=2,N=[];for(var P=0;
P<29;P++){var b=[];N.push(b);for(var Y=0;Y<5;Y++)b.push(l.h$(j,D+P*10+Y*2))}D+=29*10;if(D<j.length){var x=l.Km(j,D,4);
D+=4;var C=l.h$(j,D);D+=2;var w=l.h$(j,D);D+=2;var q=w-29;for(var P=0;P<q;P++){var b=[];N.push(b);for(var Y=0;
Y<5;Y++)b.push(l.h$(j,D+P*10+Y*2))}}var u=ij.nY("levl");for(var P=0;P<4;P++)cI.Gm(u,P,N[P]);return u};
cI.NP=function(r,P){var j=["Cmps","Rd","Grn","Bl"],D={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j[P]}}]};
return{classID:r,Chnl:D}};cI.MF=function(r,j){var D={Cmps:0,Rd:1,Grn:2,Bl:3};for(var P=0;P<r.length;
P++){var N=r[P].v,b=D[N.Chnl.v[0].v.enum];if(b==j)return P}return-1};cI.Gm=function(r,j,D){var N=cI.NP("LvlA",j);
N.Inpt={t:"VlLs",v:[{t:"long",v:D[0]},{t:"long",v:D[1]}]};N.Otpt={t:"VlLs",v:[{t:"long",v:D[2]},{t:"long",v:D[3]}]};
N.Gmm={t:"doub",v:D[4]/100};N={t:"Objc",v:N};var b=r.Adjs.v,Y=cI.MF(b,j);if(Y==-1)b.push(N);else b[Y]=N};
cI.GG=function(r,j){var D=[0,255,0,255,100],N=r.Adjs.v,b=cI.MF(N,j);if(b==-1)return D;var Y=N[b].v;if(Y.Inpt){D[0]=Y.Inpt.v[0].v;
D[1]=Y.Inpt.v[1].v}if(Y.Otpt){D[2]=Y.Otpt.v[0].v;D[3]=Y.Otpt.v[1].v}if(Y.Gmm){D[4]=Math.round(Y.Gmm.v*100)}return D};
cI.G5=function(r,j){var D=[],N=0;for(var P=0;P<4;P++)D.push(cI.GG(j,P));while(D.length<29)D.push([0,255,0,255,100]);
r.yg(0,2+10*29);l.FK(r.data,N,2);N+=2;for(var P=0;P<29;P++){var b=D[P];for(var Y=0;Y<5;Y++)l.FK(r.data,N+P*10+Y*2,b[Y])}N+=29*10;
if(D.length==29)return N;r.yg(N,8+10*(D.length-29));l.k3(r.data,N,"Lvls");N+=4;l.FK(r.data,N,3);N+=2;
l.FK(r.data,N,D.length);N+=2;var x=D.length-29;for(var P=0;P<x;P++){var b=D[29+P];for(var Y=0;Y<5;Y++)l.FK(r.data,N+P*10+Y*2,b[Y])}N+=10*x;
return N};function jx(){}jx.$g=function(r){var j=new Uint8Array(r),D=2,N={VL:[],n6:[]},b=l.Km(j,D,4);
D+=4;var Y=l.h$(j,D);D+=2;var x=l.q(j,D);D+=4;N.VL=j3.zh(j,D,x);D+=x;var C=l.q(j,D);D+=4;for(var P=0;
P<C;P++){var w=l.q(j,D);D+=4;var q=D,u={oa:{},Ce:{}};N.n6.push(u);D+=4;D+=hC.yV(j,u.oa,D);D+=4;D+=hC.yV(j,u.Ce,D);
D=q+w;var h=u.Ce.blendOptions,z=u.Ce.Lefx;if(h&&Object.keys(h.v).length>1){}if(z){if(z.v.masterFXSwitch==null)z.v.masterFXSwitch={t:"bool",v:!0};
js.ZO(z.v)}}return N};jx.wN=function(r,j){r.oa.Nm.v=j};jx.G5=function(r){var j=new ey,D=0;l.fg(j,D,2);
D+=2;l.Ty(j,D,"8BSL");D+=4;l.fg(j,D,3);D+=2;var N=D;D+=4;D=j3.sL(j,D,r.VL);l.SB(j,N,D-N-4);var b=r.n6.length;
l.SB(j,D,b);D+=4;for(var P=0;P<b;P++){D+=4;var Y=D,x=r.n6[P];l.SB(j,D,16);D+=4;D+=hC.Oc(j,x.oa,D);var C=x.Ce.Lefx;
if(C){x.Ce.Lefx=JSON.parse(JSON.stringify(C));js.bb(x.Ce.Lefx.v)}l.SB(j,D,16);D+=4;D+=hC.Oc(j,x.Ce,D);
if(C)x.Ce.Lefx=C;l.SB(j,Y-4,D-Y)}return j.data.slice(0,D).buffer};function dQ(){}dQ.xT=function(r,j,D){var N=l.h$(r,j);
j+=2;var b={};b.Gs=l.h$(r,j)==1;j+=2;b.Mp=[];for(var P=0;P<10;P++){var Y=[];b.Mp.push(Y);for(var x=0;
x<4;x++)Y.push(l.oB(r,j+x*2));j+=8}var C=ij.nY("selc");C.Mthd.v.CrcM=b.Gs?"Absl":"Rltv";for(var P=1;
P<10;P++)dQ.Gm(C,P-1,b.Mp[P]);return C};dQ.uF="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
dQ.NP=function(r,P){var j=["Cmps","Rd","Grn","Bl"],D={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j[P]}}]};
return{classID:r,Chnl:D}};dQ.MF=function(r,j){var D=dQ.uF;for(var P=0;P<r.length;P++){var N=r[P].v,b=D.indexOf(N.Clrs.v.Clrs);
if(b==j)return P}return-1};dQ.Gm=function(r,j,D){var N=["Cyn","Mgnt","Ylw","Blck"],b={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:dQ.uF[j]}}};
for(var Y=0;Y<4;Y++)b[N[Y]]={t:"UntF",v:{type:"#Prc",val:D[Y]}};b={t:"Objc",v:b};var x=r.ClrC.v,C=dQ.MF(x,j);
if(C==-1)x.push(b);else x[C]=b};dQ.GG=function(r,j){var D=[0,0,0,0],N=r.ClrC.v,b=dQ.MF(N,j);if(b==-1)return D;
var Y=["Cyn","Mgnt","Ylw","Blck"];for(var P=0;P<4;P++)if(N[b].v[Y[P]])D[P]=N[b].v[Y[P]].v.val;return D};
dQ.jR=function(r,j,D){var N={Gs:D.Mthd.v.CrcM=="Absl",Mp:[[0,0,0,0]]};for(var P=0;P<9;P++)N.Mp.push(dQ.GG(D,P));
r.yg(j,84);l.FK(r.data,j,1);j+=2;l.FK(r.data,j,N.Gs?1:0);j+=2;for(var P=0;P<10;P++){var b=N.Mp[P];for(var Y=0;
Y<4;Y++)l.Ms(r.data,j+Y*2,b[Y]);j+=8}return 84};function fC(){}fC.nY=function(){return{JO:new bf(0,0,50,50),oa:"",y_:"play",W:R.b.Lu.xo([.1,.1,.9,.5,.1,.9],0)}};
fC.$g=function(r){r=new Uint8Array(r);var j=0,D=[],N=Date.now(),b=l.Km(r,0,4);j+=4;var Y=l.q(r,j);j+=4;
var x=l.q(r,j);j+=4;for(var P=0;P<x;P++){var C=l.NC(r,j);j+=C.length*2+4+2;if((C.length&1)==0)j+=2;j=fC.xa(r,j,C,D)}return D};
fC.xa=function(r,j,D,N){var b=l.q(r,j);j+=4;var Y=l.q(r,j);j+=4;var x=j,C=l.Iv(r,x).Yg;x+=C.length+1;
var w=l.M7(r,x);x+=16;var q=fC.Pm(r,x,Y-(x-j)),u=R.b.W_(q),h=R.K.mN(u),z=1/h.d,O=1/h.r;R.b.ho(q,new j9(z,0,0,O,-h.x*z,-h.y*O));
N.push({y_:D,oa:C,W:q,JO:w});j+=Y;return j};fC.wN=function(r,j){r.y_=j};fC.G5=function(r){var j=new ey,D=0;
l.Ty(j,D,"cush");D+=4;l.SB(j,D,2);D+=4;l.SB(j,D,r.length);D+=4;for(var P=0;P<r.length;P++){var N=r[P],b=N.y_+"\0";
l.ju(j,D,b);D+=4+b.length*2;if((b.length&1)==1)D+=2;l.SB(j,D,1);D+=4;D+=4;var Y=D;l.$f(j,D,N.oa);D+=N.oa.length+1;
l.xx(j,D,N.JO);D+=16;j.yg(D,N.W.length*26);fC.S$(j.data,D,N.W,1,1);D+=N.W.length*26;var x=D-Y;if((x&3)!=0)x+=4-(x&3);
l.SB(j,Y-4,x);D=Y+x}return j.data.slice(0,D).buffer};fC.a2Y=function(r){var j=[];for(var P=0;P<r.length;
P++){var D=r[P],N=D.type,b={type:N};j.push(b);if(N==6){}else if(N==8)b.all=D.all;else if(N==0||N==3){b.length=D.length;
b.frule=D.va;b.third=D.fU;b.prmA=D.J8;b.prmB=D.wB}else{b.c=[D.IR.x,D.IR.y,D.Q.x,D.Q.y,D.TU.x,D.TU.y]}}return j};
fC.asQ=function(r){var j=[];for(var P=0;P<r.length;P++){var D=r[P],N=D.type,b={type:N};j.push(b);if(N==6){}else if(N==8)b.all=D.all;
else if(N==0||N==3){b.length=D.length;b.va=D.frule;b.fU=D.third;b.J8=D.prmA;b.wB=D.prmB}else{var Y=D.c;
b.IR=new gJ(Y[0],Y[1]);b.Q=new gJ(Y[2],Y[3]);b.TU=new gJ(Y[4],Y[5])}}return j};fC.Pm=function(r,j,D,N,b){if(N==null)N=1;
if(b==null)b=1;function Y(t,$,i){var A=l.ahg(t,$)*i,H=Math.round(A);return Math.abs(A-H)<1e-6?H:A}var x=l.oB,C=[],w=Math.floor(D/26);
for(var P=0;P<w;P++){var q=j+P*26,u={},h=0;C.push(u);u.type=x(r,q);q+=2;if(u.type==6){h=24}if(u.type==8){u.all=x(r,q);
q+=2;h=22}if(u.type==0||u.type==3){u.length=x(r,q);q+=2;u.va=x(r,q);q+=2;u.fU=x(r,q);q+=2;u.J8=l.q(r,q);
q+=4;u.wB=l.q(r,q);q+=4;h=10}if(u.type==1||u.type==2||u.type==4||u.type==5){var z,O;O=Y(r,q,b);q+=4;
z=Y(r,q,N);q+=4;u.IR=new gJ(z,O);O=Y(r,q,b);q+=4;z=Y(r,q,N);q+=4;u.Q=new gJ(z,O);O=Y(r,q,b);q+=4;z=Y(r,q,N);
q+=4;u.TU=new gJ(z,O);h=0}for(var g=0;g<h;g++)if(r[q+g]!=0){console.log("Unexpected non-zero byte!",u,g,r[q+g])}}return C};
fC.S$=function(r,j,D,N,b){var Y=l.Ms,x=l.$_,C=D.length;for(var P=0;P<C;P++){var w=j+P*26,q=D[P];Y(r,w,q.type);
w+=2;if(q.type==6){}if(q.type==8)Y(r,w,q.all);if(q.type==0||q.type==3){Y(r,w,q.length);w+=2;Y(r,w,q.va);
w+=2;Y(r,w,q.fU);w+=2}if(q.type==1||q.type==2||q.type==4||q.type==5){x(r,w,q.IR.y/b);w+=4;x(r,w,q.IR.x/N);
w+=4;x(r,w,q.Q.y/b);w+=4;x(r,w,q.Q.x/N);w+=4;x(r,w,q.TU.y/b);w+=4;x(r,w,q.TU.x/N);w+=4}}};function dh(){}dh.$g=function(r){var j=new Uint8Array(r),D=[],N=0;
N=dh.TF(j,N,D);if(N+3<j.length){D=[];N=dh.TF(j,N,D)}return D};dh.TF=function(r,j,D){var N=l.h$,b=l.oB,Y=N(r,j);
j+=2;var x=N(r,j);j+=2;for(var P=0;P<x;P++){var C=dh.K5(r,j);j+=10;if(Y==2){C.Z5=l.NC(r,j);j+=4+C.Z5.length*2+2}D.push(C)}return j};
dh.K5=function(r,j){var D=l.h$,N=l.oB,b=D(r,j),O=null;j+=2;var Y=D(r,j);j+=2;var x=D(r,j);j+=2;var C=D(r,j);
j+=2;var w=D(r,j);j+=2;var q=1/65535,u=255/65535,h=100/65535,z=255/1e4;if(b==0)O={a:Y*u,p:x*u,M:C*u};
else if(b==1){O=R.uz(Y*q,x*q,C*q);O.a*=255;O.p*=255;O.M*=255}else if(b==2)O=R._.z2({classID:"CMYC",Cyn:{t:"doub",v:100-Y*h},Mgnt:{t:"doub",v:100-x*h},Ylw:{t:"doub",v:100-C*h},Blck:{t:"doub",v:100-w*h}});
else if(b==7){var g=R.Cy(Y/100,N(r,j-6)/100,N(r,j-4)/100);O=g}else if(b==8){O={a:255-Y*z,p:255-x*z,M:255-C*z}}else throw"e "+b+", ";
return O};dh.G5=function(r){var j=new ey,D=0,N=l.fg;N(j,D,2);D+=2;N(j,D,r.length);D+=2;for(var P=0;P<r.length;
P++){var b=r[P];j.yg(D,10);dh.XC(j.data,D,b);D+=10;var Y=(b.Z5?b.Z5:"")+"\0";l.ju(j,D,Y);D+=4+Y.length*2}return j.data.slice(0,D).buffer};
dh.wN=function(r,j){r.Z5=j};dh.XC=function(r,j,D){var N=65535/255,b=l.FK;b(r,j,0);b(r,j+2,Math.round(D.a*N));
b(r,j+4,Math.round(D.p*N));b(r,j+6,Math.round(D.M*N));b(r,j+8,0)};function ex(){}ex.$g=function(r){var j=new Uint8Array(r),D=4,N={};
N.NL=l.NC(j,D);D+=4+N.NL.length*2+2;N.exp=j[D++]==1;N.lk=[];var b=l.q(j,D);D+=4;for(var P=0;P<b;P++){var Y={};
N.lk.push(Y);Y.wd=l.h$(j,D);D+=2;Y.shift=j[D++]==1;Y.a0e=j[D++]==1;Y.color=l.h$(j,D);D+=2;Y.NL=l.NC(j,D);
D+=4+Y.NL.length*2+2;Y.exp=j[D++]==1;Y.lk=[];var x=l.q(j,D);D+=4;for(var C=0;C<x;C++){var w={};Y.lk.push(w);
w.exp=j[D++]==1;w.N=j[D++]==1;w.af8=j[D++]==1;w.a95=j[D++];var q=l.Km(j,D,4);D+=4;if(q=="TEXT"){w.sv=ex.U_(j,D);
D+=4+w.sv.length}else if(q=="long"){w.sv=l.Km(j,D,4);D+=4}else throw"e";w.Md=ex.U_(j,D);D+=4+w.Md.length;
var u=l.iV(j,D);D+=4;if(u==-1){w.Q4={};var h=hC.yV(j,w.Q4,D);D+=h}}}console.log(N);var z=new Uint8Array(ex.G5(N));
for(var P=0;P<z.length;P++)if(z[P]!=j[P]){console.log(j.length,z.length);var O=4*(P>>>2)-16;console.log(l.cq(j,O,64));
console.log(l.cq(z,O,64));console.log(j.slice(O,O+64));console.log(z.slice(O,O+64));throw P}return[N]};
ex.U_=function(r,j){var D=l.q(r,j);return l.Km(r,j+4,D)};ex.pl=function(r,j,D){l.SB(r,j,D.length);l.Ty(r,j+4,D)};
ex.G5=function(r){var j=new ey,D=0;l.SB(j,D,16);D+=4;l.ju(j,D,r.NL+"\0");D+=4+r.NL.length*2+2;j.yg(D,1);
j.data[D++]=r.exp?1:0;var N=r.lk.length;l.SB(j,D,N);D+=4;for(var P=0;P<N;P++){var b=r.lk[P];l.fg(j,D,b.wd);
D+=2;j.yg(D,2);j.data[D++]=b.shift?1:0;j.data[D++]=b.a0e?1:0;l.fg(j,D,b.color);D+=2;l.ju(j,D,b.NL+"\0");
D+=4+b.NL.length*2+2;j.yg(D,1);j.data[D++]=b.exp?1:0;var Y=b.lk.length;l.SB(j,D,Y);D+=4;for(var x=0;
x<Y;x++){var C=b.lk[x];j.yg(D,4);j.data[D++]=C.exp?1:0;j.data[D++]=C.N?1:0;j.data[D++]=C.af8?1:0;j.data[D++]=C.a95;
var w="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(C.sv)!=-1;l.Ty(j,D,w?"long":"TEXT");D+=4;
if(!w){ex.pl(j,D,C.sv);D+=4+C.sv.length}else{l.Ty(j,D,C.sv);D+=4}ex.pl(j,D,C.Md);D+=4+C.Md.length;l.jN(j,D,C.Q4?-1:0);
D+=4;if(C.Q4){var q=hC.Oc(j,C.Q4,D);D+=q}}}return j.data.slice(0,D).buffer};function j5(){}j5.$g=function(r){var j=new Uint8Array(r),D=0,N=l.q(j,D),w;
D+=4;var b=l.Km(j,D,8);D+=8;var Y=l.gW(j,D);D+=4;var x=l.gW(j,D);D+=4;var C=l.gW(j,D);D+=4;if(N==2){w=new Float32Array(r,32,r.byteLength-32>>>2)}else if(N==3||N==4){w=new Float32Array(x*C*2);
var q=0,u=0,h=!0;D=N==3?32:16+8+40;while(D<j.length){var z=l.gW(j,D);D+=4;if(h)u+=z;else{for(var P=0;
P<z;P++){w[q+u+P<<1]=l.eh(j,D);w[(q+u+P<<1)+1]=l.eh(j,D+4);D+=8}u+=z}h=!h;if(z!=0&&u==x){q+=x;u=0;h=!0;
if(q==x*C)break}}}else throw"unknown Mesh version: "+N;return{oW:x,qg:C,map:w}};j5.FD=function(r){var j=r.oW,D=r.qg,N=r.map,b=new Uint8Array(32+D*j*8+D*8),Y=0,x=0;
l.$$(b,Y,3);Y+=4;l.k3(b,Y,"yfqLhseM");Y+=8;l.Wh(b,Y,2);Y+=4;l.Wh(b,Y,j);Y+=4;l.Wh(b,Y,D);Y+=4;l.Wh(b,Y,0);
Y+=4;l.Wh(b,Y,1);Y+=4;for(var C=0;C<D;C++){l.Wh(b,Y,0);Y+=4;l.Wh(b,Y,j);Y+=4;for(var w=0;w<j;w++){l.Tm(b,Y,N[x]);
l.Tm(b,Y+4,N[x+1]);x+=2;Y+=8}}return b.buffer};function e7(){}e7.$g=function(r){var j=new Uint8Array(r),D=0,N=l.Km(j,D,4);
D+=4;var b=l.h$(j,D);D+=2;var Y=l.q(j,D);D+=4;var x=[];for(var P=0;P<Y;P++){var C=l.q(j,D);D+=4;var w={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
x.push(w);var q=l.NC(j,D);w.Nm.v=q;D+=4+q.length*2+2;var u=l.h$(j,D);D+=2;var h=l.h$(j,D);D+=2;for(var z=0;
z<h;z++){var O=R.I7.wV(0,0,!0);O.v.Vrtc.v=l.h$(j,D);D+=2;O.v.Hrzn.v=l.h$(j,D);D+=2;w.Crv.v.push(O)}if(C==1){}else if(C==2){for(var z=0;
z<h;z++){w.Crv.v[z].v.Cnty.v=j[D]==1;D+=1}}else throw"error";var g=l.q(j,D);D+=4;var t=l.q(j,D);D+=4}return x};
e7.wN=function(r,j){r.Nm.v=j};e7.G5=function(r){var j=new ey,D=0;l.Ty(j,D,"8BFS");D+=4;l.fg(j,D,1);D+=2;
l.SB(j,D,r.length);D+=4;for(var P=0;P<r.length;P++){l.SB(j,D,2);D+=4;var N=r[P];l.ju(j,D,N.Nm.v+"\0");
D+=4+N.Nm.v.length*2+2;l.fg(j,D,2);D+=2;var b=N.Crv.v.length;l.fg(j,D,b);D+=2;for(var Y=0;Y<b;Y++){var x=N.Crv.v[Y];
l.fg(j,D,x.v.Vrtc.v);D+=2;l.fg(j,D,x.v.Hrzn.v);D+=2}j.yg(D,b);for(var Y=0;Y<b;Y++){j.data[D]=N.Crv.v[Y].v.Cnty.v;
D++}l.SB(j,D,0);D+=4;l.SB(j,D,0);D+=4}return j.data.slice(0,D).buffer};function j3(){}j3.$g=function(r){var j=new Uint8Array(r),D=4,N=l.h$(j,D);
D+=2;var b=l.q(j,D);D+=4;var Y=[];for(var P=0;P<b;P++){var x={};Y.push(x);D=j3.JC(j,D,x)}return Y};j3.wN=function(r,j){r.name=j};
j3.G5=function(r){var j=new ey,D=0;l.Ty(j,D,"8BPT");D+=4;l.fg(j,D,1);D+=2;l.SB(j,D,r.length);D+=4;for(var P=0;
P<r.length;P++){D=j3.AJ(j,D,r[P])}return j.data.slice(0,D).buffer};j3.zh=function(r,j,D){var N=j+D,b=[];
while(j<N){var Y={},x=l.q(r,j);j+=4;var C=j;j=j3.JC(r,j,Y);if(!Y.PT[1].jE())b.push(Y);if(x%4!=0)x+=4-x%4;
j=C+x}return b};j3.sL=function(r,j,D){for(var P=0;P<D.length;P++){var N=D[P];j+=4;var b=j;j=j3.AJ(r,j,N);
var Y=j-b;l.SB(r,b-4,Y);if(Y%4!=0)b+=4-Y%4;j=b+Y}return j};j3.JC=function(r,j,D){var N=l.q(r,j);j+=4;
if(N!=1)alert("Unknown version of pattern");var b=l.q(r,j);j+=4;if(b!=1&&b!=2&&b!=3)console.log("Unsupported mode of pattern: "+b);
var Y=l.h$(r,j);j+=2;var x=l.h$(r,j);j+=2;var C=new bf(0,0,x,Y);D.name=l.NC(r,j);j+=4+2*D.name.length+2;
var w=r[j];j++;D.id=l.Km(r,j,w);j+=D.id.length;var q=-1;if(b==2){q=j;j+=3*256+4}var u=new R.oj(x*Y);
j=j3.akM(r,j,u);if(b==2){for(var P=0;P<u.a.length;P++){var h=3*u.a[P];u.a[P]=r[q+h+0];u.p[P]=r[q+h+1];
u.M[P]=r[q+h+2]}}var z=R.O(C.Z()*4);R.Ke(u,z);D.PT=[z,C];return j};j3.AJ=function(r,j,D){var N=D.PT[0],b=D.PT[1];
l.SB(r,j,1);j+=4;l.SB(r,j,3);j+=4;l.fg(r,j,b.r);j+=2;l.fg(r,j,b.d);j+=2;l.ju(r,j,D.name+"\0");j+=4+2*D.name.length+2;
l.k5(r,j,D.id.length);j++;l.Ty(r,j,D.id);j+=D.id.length;var Y=new R.oj(b.Z());R.wJ(N,Y);j=j3.alF(r,j,Y,b);
return j};j3.akM=function(r,j,D){var N=j,b={DN:null,Cs:[],a7G:null,_G:null},Y=l.q(r,j);j+=4;var x=l.q(r,j);
j+=4;b.DN=l.M7(r,j);j+=16;var C=l.q(r,j);j+=4;for(var P=0;P<C+2;P++){var w=l.q(r,j);j+=4;if(w==0)continue;
var q=l.q(r,j);j+=4;if(q==0)continue;var u=l.q(r,j);j+=4;var h=l.M7(r,j);j+=16;var z=l.h$(r,j);j+=2;
var O=r[j];j++;var g=ai.ra(!1,u,r,h.d,h.r,j,O);if(P<C)b.Cs.push(g);if(P==C)b.a7G=g;if(P==C+1)b._G=g;
j+=q-23}if(!b.DN.jE()){if(b.Cs[0])D.a=b.Cs[0];if(b.Cs[1])D.p=b.Cs[1];else D.p=b.Cs[0].slice(0);if(b.Cs[2])D.M=b.Cs[2];
else D.M=b.Cs[0].slice(0);if(b._G)D.kD=b._G;else D.kD.fill(255)}return j};j3.alF=function(r,j,D,N){var b=j,Y={DN:N,Cs:[D.a,D.p,D.M],a7G:null,_G:D.kD};
l.SB(r,j,3);j+=4;l.SB(r,j,0);j+=4;l.xx(r,j,N);j+=16;l.SB(r,j,24);j+=4;for(var P=0;P<24+2;P++){var x=j,C=P<3||P==25?1:0;
l.SB(r,j,C);j+=4;if(C==0)continue;l.SB(r,j,0);j+=4;l.SB(r,j,8);j+=4;l.xx(r,j,N);j+=16;l.fg(r,j,8);j+=2;
l.k5(r,j,1,1);j++;var w=P<3?Y.Cs[P]:Y._G;r.yg(j,N.Z()+2);j=ai.my(!1,w,r.data,N.d,N.r,j,1);l.SB(r,x+4,j-x-8)}l.SB(r,b+4,j-b-8);
return j};function d0(){}d0.$g=function(r){var j=new Uint8Array(r),D=0,N=l.Km(j,D,4);D+=4;var b=l.h$(j,D);
D+=2;var Y=[];if(b<=3){var x=l.h$(j,D);D+=2;for(var P=0;P<x;P++){var C=j[D++],w=l.Km(j,D,C);D+=C;var q=d0.eI(j,D,w),u=q[0];
D=q[1];Y.push(u);D+=6}}else{var q={},h=hC.yV(j,q,D+4),z=q.GrdL.v;for(var P=0;P<z.length;P++)Y[P]=z[P].v.Grad.v}return Y};
d0.wN=function(r,j){r.Nm.v=j};d0.G5=function(r){var j=new ey,D=0;l.Ty(j,D,"8BGR");D+=4;l.fg(j,D,5);D+=2;
l.SB(j,D,16);D+=4;var N={classID:"null",GrdL:{t:"VlLs",v:[]}},b=N.GrdL.v;for(var P=0;P<r.length;P++)b[P]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:r[P]}}};
D+=hC.Oc(j,N,D);return j.data.slice(0,D).buffer};d0.eI=function(r,j,D){var N={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:D},Trns:{t:"VlLs",v:[]}},b=l.h$(r,j);
j+=2;if(b==0)throw"e";for(var P=0;P<b;P++){var Y=l.q(r,j),x=l.q(r,j+4),C=dh.K5(r,j+8),w={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:C.a},Grn:{t:"doub",v:C.p},Bl:{t:"doub",v:C.M}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:Y},Mdpn:{t:"long",v:x}}};
N.Clrs.v.push(w);j+=20}var q=l.h$(r,j);j+=2;for(var P=0;P<q;P++){var Y=l.q(r,j),x=l.q(r,j+4),u=l.h$(r,j+8),w={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*u/255)}},Lctn:{t:"long",v:Y},Mdpn:{t:"long",v:x}}};
N.Trns.v.push(w);j+=10}return[N,j]};d0.a8$=function(r,j,D){var N=D.Clrs.v.length;l.fg(r,j,N);j+=2;for(var P=0;
P<N;P++){var b=D.Clrs.v[P];l.SB(r,j,b.v.Lctn.v);l.SB(r,j+4,b.v.Mdpn.v);l.fg(r,j+8,0);var Y=R._.XJ(R._.z2(b.v.Clr.v)),x=[Y.Rd.v,Y.Grn.v,Y.Bl.v,0];
for(var C=0;C<4;C++)l.fg(r,j+10+C*2,Math.round(65535*(x[C]/255)));j+=20}var w=D.Trns.v.length;l.fg(r,j,w);
j+=2;for(var P=0;P<w;P++){var b=D.Trns.v[P];l.SB(r,j,b.v.Lctn.v);l.SB(r,j+4,b.v.Mdpn.v);l.fg(r,j+8,Math.round(255*b.v.Opct.v.val/100));
j+=10}return j};function bV(){}bV.$g=function(r){var j=new Uint8Array(r),D=[],N=[],b=[],Y=[],x=[],C=0,w=l.Km(j,C,4);
C+=4;var q=l.q(j,C);C+=4;var u=l.q(j,C);C+=4;while(C<j.length){var h=l.Km(j,C,4);C+=4;var z=l.Km(j,C,4);
C+=4;var O=l.q(j,C);C+=4;if(z=="tppa"){N=j3.zh(j,C,O);C+=O}else if(z=="tpbd"){b=f4.Pe(j,C,O,1,1);C+=O}else if(z=="tptp"){var g=l.q(j,C);
C+=4;for(var P=0;P<g;P++){var t=l.NC(j,C);C+=6+t.length*2;C+=4;var $={};C+=hC.yV(j,$,C);D.push([t,$])}while((C&3)!=0)C++}else if(z=="tpsh"){var i=C,A=j.slice(C,C+O);
while(C<i+O){var H=l.q(j,C);C+=4;C=fC.xa(j,C,"Shape",Y)}C=i+O}else if(z=="tpst"){var i=C;C+=4;while(C<i+O){var F=l.q(j,C);
C+=4;var T=C,_=l.q(j,C);C+=4;var $={oa:{},Ce:{}};x.push($);C+=4;C+=hC.yV(j,$.oa,C);C+=4;C+=hC.yV(j,$.Ce,C);
C=T+F;var V=$.Ce.Lefx;if(V){if(V.v.masterFXSwitch==null)V.v.masterFXSwitch={t:"bool",v:!0};js.ZO(V.v)}}C=i+O}else{console.log(j.slice(C-8,C+64));
console.log(l.Km(j,C-8,64));throw z}}return{fB:b,CL:N,list:D,a92:Y,n6:x}};bV.wN=function(r,j){r[0]=j};
bV.G5=function(r){var j=new ey,D=0;l.Ty(j,D,"8BTP");D+=4;l.SB(j,D,3);D+=4;l.SB(j,D,1);D+=4;var N=[r.CL,r.fB,r.list];
for(var P=0;P<3;P++){if(N[P].length==0)continue;l.Ty(j,D,"8BIM");D+=4;var b=["tppa","tpbd","tptp"][P];
l.Ty(j,D,b);D+=4;var Y=D;D+=4;if(b=="tppa"){D=j3.sL(j,D,r.CL)}else if(b=="tpbd"){D=f4.iT(j,D,r.fB)}else if(b=="tptp"){l.SB(j,D,r.list.length);
D+=4;for(var x=0;x<r.list.length;x++){var C=r.list[x];l.ju(j,D,C[0]+"\0");D+=6+C[0].length*2;l.SB(j,D,16);
D+=4;D+=hC.Oc(j,C[1],D)}}l.SB(j,Y,D-Y-4);while((D&3)!=0)D++;j.yg(D,0)}return j.data.slice(0,D).buffer};
function eI(){}eI.$g=function(r,j){var D=new Uint8Array(r),N;if(l.q(D,0)==D.length)N="icc";else if(D[0]=="<".charCodeAt(0))N="look";
else if(l.NY(D,"LUT_3D_SIZE")!=-1)N="cube";else N="3DL";if(N!="icc"){var b=eI.a3d(D,N),Y=eI.aia(b[0],b[1]);
D=Y}var x=[];for(var P=0;P<D.length;P++)x.push(D[P]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:j?j:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:x}}]};
eI.G5=function(r){var j=r[0],D=new Uint8Array(j.profile.v);return D.buffer};eI.wN=function(r,j){r.Nm.v=j};
eI.aia=function(r,j){var D=new ey,N=128;D.yg(0,128);var b=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var P=0;P<b.length;P++)D.data[P]=b[P];var Y=["desc","A2B0"],x=Y.length,C=128+4+x*12;l.SB(D,N,x);
N+=4;for(var w=0;w<x;w++){var q=Y[w];l.Ty(D,N,q);N+=4;l.SB(D,N,C);N+=4;var u=C;if(q=="desc"){l.Ty(D,u,"mluc");
u+=4;u+=4;l.SB(D,u,1);u+=4;l.SB(D,u,12);u+=4;l.Ty(D,u,"enUS");u+=4;var h="ICC by Photopea\0",z=h.length*2+2;
l.SB(D,u,z);u+=4;l.SB(D,u,28);u+=4;D.yg(u,z);for(var P=0;P<h.length;P++)D.data[u+P*2+1]=h.charCodeAt(P);
u+=z}if(q=="A2B0"){l.Ty(D,u,"mAB ");u+=4;u+=4;D.yg(u,4);D.data[u]=3;D.data[u+1]=3;u+=4;D.yg(u,4*5);u+=4*3;
l.SB(D,u,u+8-C);u+=4;u+=4;D.yg(u,20);D.data[u]=r;D.data[u+1]=r;D.data[u+2]=r;u+=16;D.data[u]=2;u+=4;
var O=r*r*r*3;D.yg(u,O*2);for(var P=0;P<O;P++)l.FK(D.data,u+P*2,Math.max(0,Math.min(65535,Math.round(j[P]*65535))));
u+=O*2}var g=u-C;while((g&3)!=0)g++;l.SB(D,N,g);N+=4;C+=g}l.SB(D,0,C);return D.data.slice(0,C)};eI.a3d=function(r,j){j="LUTFormat"+j.toUpperCase();
var D=[],N=0,b=l.Hi(r,0,r.length),Y="";for(var P=0;P<r.length&&Y=="";P++){if(r[P]==10)Y="\n";else if(r[P]==13){Y="\r";
if(r[P+1]==10)Y+="\n"}}if(j=="LUTFormatCUBE"){var x=b.split(Y);for(var P=0;P<x.length;P++){if(x[P]==""||x[P][0]=="#")continue;
var C=x[P].split(" "),w=C[0];if(w=="LUT_3D_SIZE"){N=parseInt(C[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(w)!=-1)continue;
D.push(parseFloat(C[0]),parseFloat(C[1]),parseFloat(C[2]))}D=eI.cp(N,D)}else if(j=="LUTFormat3DL"){var x=b.split(Y),q=1/4095;
for(var P=0;P<x.length;P++){var u=x[P];if(u==""||u=="3DMESH"||u.startsWith("Mesh")||u[0]=="#")continue;
var C=u.split(" "),w=C[0];if(N==0){N=C.length;continue}D.push(parseFloat(C[0])*q,parseFloat(C[1])*q,parseFloat(C[2])*q)}}else if(j=="LUTFormatLOOK"){var h=new DOMParser,z=h.parseFromString(b,"text/xml"),O=z.getElementsByTagName("LUT")[0],g=O.children[0].textContent;
N=parseInt(JSON.parse(g));var t=O.children[1].textContent;t=t.replace(/"/g,"").replace(/\s/g,"");var $=3*N*N*N,i=$*4,A=new Uint8Array(i);for(var P=0;P<i;P++){var H=t.charCodeAt(P*2),F=t.charCodeAt(P*2+1),T=H<58?H-48:H-55,_=F<58?F-48:F-55;A[P]=(T<<4)+_}for(var P=0;P<$;P++)D.push(l.eh(A,P<<2));D=eI.cp(N,D)}else throw j;return[N,D]};eI.ak1=function(r,j,D){var N=["#Created by www.Photopea.com","TITLE \""+D+"\"","","#LUT size","LUT_3D_SIZE "+j,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],b=6;
for(var P=0;P<r.length;P+=3){N.push(r[P].toFixed(b)+" "+r[P+1].toFixed(b)+" "+r[P+2].toFixed(b))}N.push("");
return l.IH(N.join("\n")).buffer};eI.cp=function(r,j){var D=[],N=r*r*r;for(var P=0;P<N;P++)D.push(0,0,0);
for(var b=0;b<r;b++)for(var Y=0;Y<r;Y++)for(var x=0;x<r;x++){var P=3*(x+Y*r+b*r*r),C=3*(b+Y*r+x*r*r);
D[C]=j[P];D[C+1]=j[P+1];D[C+2]=j[P+2]}return D};function hC(){}hC.yV=function(r,j,D,N,b){var Y=D,x;if(b==null)b=0;
var C=l.q(r,D);if(C==0){x="";D+=4}else{x=l.NC(r,D);D+=4+2*x.length+2}if(x!="")j.__name=x;j.classID=hC.og(r,D);
if(N)console.log("\t".repeat(b),"- reading descriptor",j.classID,D);D+=hC.JL(r,D);var w=l.iV(r,D);D+=4;
for(var P=0;P<w;P++){var q=hC.og(r,D);D+=hC.JL(r,D);var u=hC.K6(r,D,N,b);j[q]=u;D+=u.size;delete u.size}return D-Y};
hC.Oc=function(r,j,D,N){var b=D,Y=j.__name;if(Y==null)Y="";Y+="\0";l.ju(r,D,Y);D+=4+2*Y.length;hC.F_(r,D,j.classID);
D+=hC.JL(r.data,D);l.jN(r,D,Object.keys(j).length-1-(j.__name==null?0:1));D+=4;for(var x in j){if(x=="classID")continue;
if(x=="__name")continue;hC.F_(r,D,x);D+=hC.JL(r.data,D);D+=hC.Cx(r,D,j[x])}return D-b};hC.K6=function(r,j,D,N){var b=j,Y=l.Km(r,j,4);
j+=4;var x={size:0,t:Y,v:null};if(D)console.log("\t".repeat(N),"reading key",Y,b);switch(Y){case"obj ":case"VlLs":x.v=[];
var C=l.q(r,j);j+=4;for(var P=0;P<C;P++){var w=hC.K6(r,j,D,N+1);j+=w.size;delete w.size;x.v.push(w)}break;
case"UntF":x.v={type:l.Km(r,j,4),val:l.wT(r,j+4)};j+=12;break;case"doub":x.v=l.wT(r,j);j+=8;break;case"bool":x.v=r[j]==1;
j+=1;break;case"long":x.v=l.iV(r,j);j+=4;break;case"comp":x.v=l.iV(r,j+4);j+=8;break;case"Objc":x.v={};
var q=hC.yV(r,x.v,j,D,N+1);j+=q;break;case"TEXT":var u=l.q(r,j);if(u==0){x.v="";j+=4}else{x.v=l.NC(r,j);
j+=4+x.v.length*2+2}break;case"enum":var h=hC.og(r,j);j+=hC.JL(r,j);var z=hC.og(r,j);j+=hC.JL(r,j);x.v={};
x.v[h]=z;break;case"tdta":var O=l.iV(r,j);j+=4;x.v=[];for(var P=0;P<O;P++)x.v.push(r[j+P]);j+=O;break;
case"ObAr":var g=l.q(r,j);j+=4;var t=l.NC(r,j);j+=4+2*t.length+2;if(t!="")throw t;var $=hC.og(r,j);j+=4+Math.max(4,$.length);
x.v={classID:$,arr:[]};var i=l.q(r,j);j+=4;for(var P=0;P<i;P++){var $=hC.og(r,j);j+=4+Math.max(4,$.length);
var h=l.Km(r,j,4);j+=4;var A=l.Km(r,j,4);j+=4;var H={id:$,type:h,uID:A,arr:[]};x.v.arr.push(H);var F=l.q(r,j,4);
j+=4;for(var T=0;T<F;T++){var _=l.wT(r,j);j+=8;H.arr.push(_)}}break;case"Pth ":var V=j,O=l.q(r,j);j+=4;
var X=l.Km(r,j,4);j+=4;var o=l.gW(r,j);j+=4;var c=l.abZ(r,j);j+=4+c.length*2;x.v={sig:X,pth:c};break;
case"Clss":case"type":case"rele":var c=l.NC(r,j);j+=4+c.length*2+2;var E=hC.og(r,j);j+=4+Math.max(4,E.length);
x.v={classID:E};if(c!="")x.v.__name=c;if(Y=="rele"){x.v.val=l.iV(r,j);j+=4}break;case"prop":case"Enmr":case"indx":case"name":var f=hC.mG[Y],c=l.NC(r,j);
j+=4+c.length*2+2;if(c.length!=0){console.log(Y,c);throw"e"}x.v={};for(var P=0;P<f.length;P++){var E=hC.og(r,j);
j+=4+Math.max(4,E.length);x.v[f[P]]=E}if(Y=="name"){var c=l.NC(r,j);j+=4+c.length*2+2;x.v.val=c}if(Y=="indx"){x.v.val=l.q(r,j);
j+=4}break;case"alis":var O=l.q(r,j);j+=4;x.v=l.Km(r,j,O);j+=O;break;default:{console.log("unknown oskey: "+Y+", "+b);
throw"e";return x}}if(D){console.log("\t".repeat(N),x.v);console.log("\t".repeat(N),"======",j)}x.size=j-b;
return x};hC.mG={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
hC.Cx=function(r,j,D){var N=j,b=D.t;D=D.v;l.Ty(r,j,b);j+=4;switch(b){case"obj ":case"VlLs":l.jN(r,j,D.length);
j+=4;for(var Y=0;Y<D.length;Y++){var x=hC.Cx(r,j,D[Y]);j+=x}break;case"UntF":l.Ty(r,j,D.type);l.oE(r,j+4,D.val);
j+=12;break;case"doub":l.oE(r,j,D);j+=8;break;case"bool":l.k5(r,j,D?1:0,1);j+=1;break;case"long":l.jN(r,j,D);
j+=4;break;case"comp":l.jN(r,j+4,D);j+=8;break;case"Objc":var x=hC.Oc(r,D,j);j+=x;break;case"TEXT":l.ju(r,j,D+"\0");
j+=4+D.length*2+2;break;case"enum":var C=Object.keys(D)[0],w=D[C];hC.F_(r,j,C);j+=hC.JL(r.data,j);hC.F_(r,j,w);
j+=hC.JL(r.data,j);break;case"tdta":l.SB(r,j,D.length);j+=4;l.ga(r,j,D);j+=D.length;break;case"ObAr":l.SB(r,j,D.arr[0].arr.length);
j+=4;l.ju(r,j,"\0");j+=6;hC.F_(r,j,D.classID);j+=4+Math.max(4,D.classID.length);l.SB(r,j,D.arr.length);
j+=4;for(var P=0;P<D.arr.length;P++){var q=D.arr[P];hC.F_(r,j,q.id);j+=4+Math.max(4,q.id.length);l.Ty(r,j,q.type);
j+=4;l.Ty(r,j,q.uID);j+=4;l.SB(r,j,q.arr.length);j+=4;for(var Y=0;Y<q.arr.length;Y++){l.oE(r,j,q.arr[Y]);
j+=8}}break;case"Pth ":var u=D.pth.length*2+4+8;l.SB(r,j,u);j+=4;l.Ty(r,j,D.sig);j+=4;l._z(r,j,u);j+=4;
l.ae9(r,j,D.pth);j+=D.pth.length*2+4;break;case"Clss":case"type":case"rele":var h=D.__name;if(h==null)h="";
l.ju(r,j,h+"\0");j+=4+h.length*2+2;var z=D.classID;hC.F_(r,j,z);j+=4+Math.max(4,z.length);if(b=="rele"){l.jN(r,j,D.val);
j+=4}break;case"prop":case"Enmr":case"indx":case"name":var O=hC.mG[b];l.SB(r,j,1);j+=6;for(var P=0;P<O.length;
P++){var z=D[O[P]];hC.F_(r,j,z);j+=4+Math.max(4,z.length)}if(b=="name"){l.ju(r,j,D.val+"\0");j+=4+D.val.length*2+2}if(b=="indx"){l.SB(r,j,D.val);
j+=4}break;case"alis":var u=D.length;l.SB(r,j,u);j+=4;l.Ty(r,j,D);j+=u;break;default:console.log("unknown oskey: "+b);
j=N;break}return j-N};hC.og=function(r,j){var D=l.iV(r,j);if(D>1e3)throw"e";if(D==0)D=4;return l.Km(r,j+4,D).trim()};
hC.JL=function(r,j){var D=l.iV(r,j);return D==0?8:4+D};hC.F_=function(r,j,D){var N="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),b=4<D.length||N.indexOf(D)!=-1;
l.jN(r,j,b?D.length:0);l.Ty(r,j+4,D);if(D.length<4&&!b){var Y="";for(var P=D.length;P<4;P++)Y+=" ";l.Ty(r,j+4+D.length,Y)}};
hC.ad6=function(r){var j={};for(var D in r){if(D=="classID")j[D]=r[D];else if(D=="__name")j[D]=r[D];
else j[D]=hC.w7(r[D])}return j};hC.w7=function(r){if(r.cK=="Objc")return hC.ad6(r.v);else if(r.cK=="VlLs"){var j=[];
for(var P=0;P<r.v.length;P++)j.push(hC.w7(r.v[P]));return j}else if(r.cK=="UntF")return r.v.val;else return r.v};
function js(){}js.Kt=function(r,j,D,N,b,Y){while(j<D){var x=l.Km(r,j,4);j+=4;if(x!="8BIM"&&x!="8B64"){console.log("layer information signature error! "+x,"PSB = "+b);
alert("Error in PSD file: wrong signature.");return D}var C=l.Km(r,j,4);j+=4;var w=l.q(r,j);j+=4;var q=b&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(C)!=-1;
if(q){w=w<<32|l.iV(r,j);j+=4}var u=["lrFX","PlLd"];if(u.indexOf(C)!=-1){if(w%4!=0)w+=4-w%4;j+=w;continue}switch(C){case"iOpa":N[C]=r[j];
break;case"brst":N[C]=[1,1,1];for(var P=0;P<w;P+=4)N[C][l.q(r,j+P)]=0;break;case"knko":N[C]=r[j];break;
case"infx":N[C]=r[j];break;case"clbl":N[C]=r[j];break;case"lmgm":N[C]=r[j];break;case"vmgm":N[C]=r[j];
break;case"lyid":N[C]=l.q(r,j);break;case"lsct":N[C]={type:l.q(r,j)};if(w>=12)N[C].yp=l.Km(r,j+8,4);
break;case"lsdk":N.lsct={type:l.q(r,j)};break;case"lyvr":N[C]=l.q(r,j);break;case"lnsr":var h={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
N[C]=l.Km(r,j,4);break;case"lspf":N[C]=l.q(r,j);break;case"lclr":N[C]=l.h$(r,j);break;case"luni":N[C]=l._9(r,j);
break;case"fxrp":N[C]=new gJ(l.wT(r,j),l.wT(r,j+8));break;case"artb":case"artd":N[C]={};hC.yV(r,N[C],j+4);
break;case"SoCo":N[C]={};hC.yV(r,N[C],j+4);break;case"GdFl":N[C]={};hC.yV(r,N[C],j+4);js.hp(N[C],C);
break;case"PtFl":N[C]={};hC.yV(r,N[C],j+4);js.hp(N[C],C);break;case"CgEd":var z=N.brit=ij.nY("brit"),O={};
hC.yV(r,O,j+4);z.Brgh.v=O.Brgh?O.Brgh.v:0;z.Cntr.v=O.Cntr?O.Cntr.v:0;z.useLegacy.v=O.useLegacy?O.useLegacy.v:0;
break;case"brit":if(N.brit==null){var z=N.brit=ij.nY("brit"),O={};z.Brgh.v=l.oB(r,j);z.Cntr.v=l.oB(r,j+2);
z.useLegacy.v=!1}break;case"levl":var g=r.buffer.slice(j,j+w);N[C]=cI.$g(g);break;case"curv":N[C]=jf.xT(r,j,w);
break;case"expA":var t=l.h$(r,j),$=N[C]=ij.nY("expA");$.Exps.v=l.Ej(r,j+2);$.Ofst.v=l.Ej(r,j+6);$.gammaCorrection.v=l.Ej(r,j+10);
break;case"vibA":N[C]={};hC.yV(r,N[C],j+4);break;case"hue2":N[C]=je.xT(r,j,w);break;case"blnc":var $=N[C]=ij.nY(C);
$.PrsL.v=r[j+18]==1;var i=["ShdL","MdtL","HghL"];for(var P=0;P<3;P++)for(var A=0;A<3;A++)$[i[P]].v[A].v=l.oB(r,j+P*6+A*2);
break;case"blwh":var H={};hC.yV(r,H,j+4);var $=ij.nY(C),F="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var P=0;P<F.length;P++){$[F[P]]=H[F[P]];delete H[F[P]]}N[C]=$;break;case"phfl":var $=N[C]=ij.nY(C),T=$.Clr.v,t=l.h$(r,j);
if(t==3){var _=[l.q(r,j+2),l.q(r,j+6),l.q(r,j+10)],V=32768,X=R.NA(_[0]/V,_[1]/V,_[2]/V);T.Lmnc.v=X.lD;
T.A.v=X.kD;T.B.v=X.M}if(t==2){var o=l.h$(r,j+2);if(o!=7)throw"e";T.Lmnc.v=l.oB(r,j+4)/100;T.A.v=l.oB(r,j+6)/100;
T.B.v=l.oB(r,j+8)/100}var c=j+2+(t==3?12:10);$.Dnst.v=l.q(r,c);c+=4;$.PrsL.v=r[c]==1;break;case"mixr":var E={O_:l.h$(r,j+2)==1,m:[]};
for(var P=0;P<20;P++)E.m.push(l.oB(r,j+4+P*2));N[C]=cz.Jr(E);break;case"clrL":case"rplc":N[C]={};hC.yV(r,N[C],j+6);
break;case"nvrt":N[C]={};break;case"post":N[C]=ij.nY("post");N[C].Lvls.v=l.h$(r,j);break;case"thrs":N[C]=ij.nY("thrs");
N[C].Lvl.v=l.h$(r,j);break;case"grdm":var f={rev:r[j+2]==1,a63:r[j+3]==1},d=j+4,s=l._9(r,d);d+=4+s.length*2;
var B=d0.eI(r,d,s),a=B[0];d=B[1];var U=l.h$(r,d);d+=2;a.Intr.v=l.h$(r,d);d+=2;var M=l.h$(r,d);d+=2;f.mode=l.h$(r,d);
d+=2;f.VK=l.q(r,d);d+=4;f.a6L=l.h$(r,d)==1;d+=2;f.a49=l.h$(r,d)==1;d+=2;f.ahd=l.q(r,d);d+=4;f.amp=l.h$(r,d);
d+=2;f.wo=[];for(var P=0;P<4;P++)f.wo.push(l.h$(r,d+P*2));d+=8;f.k9=[];for(var P=0;P<4;P++)f.k9.push(l.h$(r,d+P*2));
d+=8;var W=l.h$(r,d);d+=2;var n=ij.nY("grdm");n.Rvrs.v=f.rev;n.Grad.v=a;N[C]=n;break;case"selc":N[C]=dQ.xT(r,j,w);
break;case"vmsk":case"vsms":var e=N.vmsk=new G.$R,Q=l.iV(r,j+4),J=(Q>>0&1)==1;e.Tt=(Q>>1&1)==0;e.isEnabled=(Q>>2&1)==0;
e.W=fC.Pm(r,j+8,w-8,Y.d,Y.r);break;case"shmd":N[C]={};var m=l.q(r,j),c=j+4;for(var P=0;P<m;P++){var x=l.Km(r,c,4);
c+=4;var p=l.Km(r,c,4);c+=4;var L=r[c];c++;if(Math.max(r[c],r[c+1],r[c+2])!=0)throw"e";c+=3;var S=l.q(r,c);
c+=4;if(p=="cust"||p=="cmls"||p=="extn"||p=="mlst"){var eJ=l.q(r,c);if(eJ!=16)c+=4;if(l.q(r,c)==16){var H={};
hC.yV(r,H,c+4,!1);N[C][p]=H;if(p=="cmls")f1.fp.a8n(N[C][p])}}else{console.log("unknown shmd key: "+p+", size: "+S)}c+=S}break;
case"shpa":var t=l.q(r,j),hy=l.q(r,j+4);if(hy!=0)console.log("some patterns present!");break;case"TySh":var v=N[C]={},t=l.h$(r,j);
v.F=l.hN(r,j+2);var ff=l.h$(r,j+2+48);v.pi={};var K=hC.yV(r,v.pi,j+56),jo=cU.aoF();for(var g5 in jo)if(v.pi[g5]==null)v.pi[g5]=jo[g5];
v.z8={};var fQ=hC.yV(r,v.z8,j+56+K+6);v.DU=l.aso(r,j+56+K+6+fQ);v.d1=j0.$g(v.pi.EngineData.v);cU.a6P(v.d1.EngineDict.StyleRun.RunArray);
if(v.d1.ResourceDict==null)v.d1.ResourceDict=JSON.parse(JSON.stringify(v.d1.DocumentResources));delete v.pi.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var iT=l.q(r,j),ac=l.q(r,j+4);N.lmfx={};var K=hC.yV(r,N.lmfx,j+8);
js.ZO(N.lmfx);break;case"FMsk":N[C]=l.QD(r,j,w);break;case"Txt2":N[C]={};N[C].raw=l.QD(r,j,w);N[C].sq=hH.$g(N[C].raw);
break;case"Patt":N[C]=j3.zh(r,j,w);break;case"SoLd":var aR=l.Km(r,j,4),hV=l.q(r,j+4),cu=l.q(r,j+8);N[C]={};
var iy=hC.yV(r,N[C],j+12);if(N[C].nonAffineTransform==null)N[C].nonAffineTransform=JSON.parse(JSON.stringify(N[C].Trnf));
if(N[C].Impr==null)N[C].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var hV=l.q(r,j);
N[C]={};var iy=hC.yV(r,N[C],j+4);break;case"vscg":var p=l.Km(r,j,4),hV=l.q(r,j+4);N[p]={};var iy=hC.yV(r,N[p],j+8);
js.hp(N[p],p);break;case"vogk":var gr=l.q(r,j),hV=l.q(r,j+4);N[C]={};var iy=hC.yV(r,N[C],j+8);N[C]=N[C].keyDescriptorList.v;
for(var P=0;P<N[C].length;P++){}break;case"lnk2":case"lnkD__":case"lnk3__":N[C]=[];var d=j;while(d<j+w){var cp=new G.cU;
N[C].push(cp);var M=l.Si(r,d);d+=8;var gP=d;cp.type=l.Km(r,d,4);d+=4;if(cp.type!="liFD"){alert("Unknown Linked Layer type: "+cp.type);
break;throw cp.type}cp.zA=l.q(r,d);d+=4;var g7=l.Iv(r,d);d+=1+g7.Yg.length;cp.FZ=g7.Yg;cp.W8=l.NC(r,d);
d+=4+cp.W8.length*2+2;cp.cC=l.Km(r,d,4);d+=4;cp.WX=l.Km(r,d,4);d+=4;var j8=l.Si(r,d);d+=8;cp.open=r[d];
d+=1;if(cp.open!=0){var dg={},K=hC.yV(r,dg,d+4);if(K%4!=0)K+=4-K%4;console.log(dg);d+=K+4}cp.open=0;
cp.raw=l.QD(r,d,j8);d=gP+M;if(M%4!=0)d+=4-M%4}break;case"FEid":var d=j;N[C]=[];var gR=d+w,t=l.q(r,d);
d+=4;while(d<gR){d+=4;var M=l.q(r,d);d+=4;var B={};N[C].push(B);B.id=l.Iv(r,d).Yg;d+=B.id.length+1;var t=l.q(r,d);
d+=4;d+=4;var em=l.q(r,d);d+=4;B.rect=l.M7(r,d);d+=16;var fr=l.q(r,d);d+=4;var aU=l.q(r,d);d+=4;var bb=new R.oj(0);
for(var P=0;P<aU+2;P++){var fZ=l.q(r,d);d+=4;if(fZ!=0){d+=4;var h1=l.q(r,d),ar=null;d+=4;if(P<3||P==25)ar=ai.u1(!0,fr,r,B.rect.d,B.rect.r,d,h1);
if(P==0)bb.a=ar;if(P==1)bb.p=ar;if(P==2)bb.M=ar;if(P==25)bb.kD=ar;d+=h1}}B.buffer=R.O(B.rect.Z()*4);
R.Ke(bb,B.buffer);R.jS(B);var gt=r[d];d++;if(gt!=0){B.B=new G.Jz;B.B.rect=l.M7(r,d);d+=16;d+=4;var gX=l.q(r,d);
d+=4;B.B.channel=ai.u1(!0,fr,r,B.B.rect.d,B.B.rect.r,d,gX);B.B.color=255;B.B.H2();d+=gX}if(M%4!=0)d+=4-M%4}break;
case"Lr16":bJ.Sm(Y,r,j);break;default:break}var dK="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
if(dK.indexOf(C)==-1)if(w%4!=0)console.log("size not multiple of 4!!!",C);if(C!="luni"&&C!="TySh"&&C!="tySh"&&C!="lfx2")if(w%4!=0)w+=4-w%4;
j+=w}var ay=[];for(var P=0;P<ay.length;P++)delete N[ay[P]];return j};js.js=function(r,j,D,N,b){for(var Y in D)if(D[Y]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+Y+"\" tag was present with a null value.");delete D[Y]}for(var Y in D){var x=N&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Y)!=-1,w=0;
l.Ty(r,j,x?"8B64":"8BIM");j+=4;var C=j;l.Ty(r,j,Y);j+=4;l.jN(r,j,0);j+=x?8:4;switch(Y){case"iOpa":l.k5(r,j,D[Y],1);
w=4;break;case"brst":w=0;for(var P=0;P<3;P++)if(D[Y][P]==0){l.SB(r,j+w,P);w+=4}break;case"knko":l.k5(r,j,D[Y],1);
w=4;break;case"infx":l.k5(r,j,D[Y],1);w=4;break;case"clbl":l.k5(r,j,D[Y],1);w=4;break;case"lmgm":l.k5(r,j,D[Y],1);
w=4;break;case"vmgm":l.k5(r,j,D[Y],1);w=4;break;case"lyid":l.SB(r,j,D[Y]);w=4;break;case"lsct":l.SB(r,j,D[Y].type);
w=4;if(D[Y].yp){l.Ty(r,j+4,"8BIM");l.Ty(r,j+8,D[Y].yp);w=12}break;case"lyvr":l.SB(r,j,D[Y]);w=4;break;
case"lnsr":l.Ty(r,j,D[Y]);w=4;break;case"lspf":l.SB(r,j,D[Y]);w=4;break;case"lclr":l.fg(r,j,D[Y]);w=8;
break;case"luni":l.ju(r,j,D[Y]);w=4+2*D[Y].length;break;case"fxrp":l.oE(r,j,D[Y].x);l.oE(r,j+8,D[Y].y);
w=16;break;case"artb":case"artd":l.SB(r,j,16);w=hC.Oc(r,D[Y],j+4)+4;break;case"SoCo":l.SB(r,j,16);w=hC.Oc(r,D[Y],j+4)+4;
break;case"GdFl":l.SB(r,j,16);w=hC.Oc(r,D[Y],j+4)+4;break;case"PtFl":l.SB(r,j,16);w=hC.Oc(r,D[Y],j+4)+4;
break;case"CgEd":var q={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},u=q,h=D[Y];
u.Brgh.v=h.Brgh.v;u.Cntr.v=h.Cntr.v;u.useLegacy.v=h.useLegacy.v;l.SB(r,j,16);w=hC.Oc(r,q,j+4)+4;break;
case"brit":r.yg(j,8);w=8;break;case"levl":var z=new ey;w=cI.G5(z,D[Y]);l.ga(r,j,z.data);break;case"curv":w=jf.jR(r,j,D[Y]);
break;case"expA":w=14;r.yg(j,14);l.FK(r.data,j,1);l.iR(r.data,j+2,D[Y].Exps.v);l.iR(r.data,j+6,D[Y].Ofst.v);
l.iR(r.data,j+10,D[Y].gammaCorrection.v);break;case"vibA":l.SB(r,j,16);w=hC.Oc(r,D[Y],j+4)+4;break;case"hue2":w=je.jR(r,j,D[Y]);
break;case"blnc":w=19;r.yg(j,w);var O=["ShdL","MdtL","HghL"];for(var P=0;P<3;P++){var g=D[Y][O[P]].v;
for(var t=0;t<3;t++)g.push(l.Ms(r.data,j+P*6+t*2,g[t].v))}r.data[j+18]=D[Y].PrsL.v?1:0;break;case"blwh":var q={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},$="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var P=0;P<$.length;P++){q[$[P]]=D[Y][$[P]]}l.SB(r,j,16);w=hC.Oc(r,q,j+4)+4;break;case"phfl":l.fg(r,j,2);
var i=D[Y].Clr.v;l.fg(r,j+2,7);l.fg(r,j+4,Math.round(i.Lmnc.v*100));l.fg(r,j+6,Math.round(i.A.v*100));
l.fg(r,j+8,Math.round(i.B.v*100));l.fg(r,j+10,0);var A=j+2+10;r.yg(A,5);l.$$(r.data,A,D[Y].Dnst.v);A+=4;
r.data[A]=D[Y].PrsL.v?1:0;A++;w=A-j;break;case"mixr":w=44;r.yg(j,w);var H=cz.YE(D[Y]);l.FK(r.data,j,1);
l.FK(r.data,j+2,H.O_?1:0);for(var P=0;P<20;P++)l.Ms(r.data,j+4+P*2,H.m[P]);break;case"clrL":case"rplc":l.fg(r,j,1);
l.SB(r,j+2,16);w=hC.Oc(r,D[Y],j+6)+6;break;case"nvrt":w=0;break;case"post":l.fg(r,j,D[Y].Lvls.v);w=2;
break;case"thrs":l.fg(r,j,D[Y].Lvl.v);w=2;break;case"grdm":var F={rev:D[Y].Rvrs.v,a63:!1,mode:0,VK:867527939,a6L:!1,a49:!0,ahd:2048,amp:3,wo:[0,0,0,0],k9:[32768,32768,32768,32768]},T=D[Y].Grad.v;
r.yg(j,4);l.FK(r.data,j,1);r.data[j+2]=F.rev?1:0;r.data[j+3]=F.a63?1:0;var _=j+4;l.ju(r,_,T.Nm.v);_+=4+T.Nm.v.length*2;
_=d0.a8$(r,_,T);l.fg(r,_,2);_+=2;l.fg(r,_,T.Intr.v);_+=2;l.fg(r,_,32);_+=2;l.fg(r,_,F.mode);_+=2;l.SB(r,_,F.VK);
_+=4;l.fg(r,_,F.a6L?1:0);_+=2;l.fg(r,_,F.a49?1:0);_+=2;l.SB(r,_,F.ahd);_+=4;l.fg(r,_,F.amp);_+=2;for(var P=0;
P<4;P++)l.fg(r,_+P*2,F.wo[P]);_+=8;for(var P=0;P<4;P++)l.fg(r,_+P*2,F.k9[P]);_+=8;_+=2;w=_-j;break;case"selc":w=dQ.jR(r,j,D[Y]);
break;case"FMsk":l.ga(r,j,D[Y]);w=D[Y].length;break;case"Txt2":var V=new ey,X=hH.FD(D[Y].sq,V),o=R.O(X,!0);
for(var P=0;P<X;P++)o[P]=V.data[P];l.ga(r,j,o);w=o.length;break;case"vmsk":var c=D[Y],E=0;l.SB(r,j,3);
if(!c.Tt)E+=1<<1;if(!c.isEnabled)E+=1<<2;l.SB(r,j+4,E);w=8;var f=c.W.length;r.yg(j+8,f*26);fC.S$(r.data,j+8,c.W,b.d,b.r);
w+=f*26;break;case"shmd":l.SB(r,j,Object.keys(D[Y]).length);var A=j+4;for(var d in D[Y]){l.Ty(r,A,"8BIM");
A+=4;l.Ty(r,A,d);A+=4;l.SB(r,A,0);A+=4;l.SB(r,A,0);A+=4;l.SB(r,A,16);A+=4;var s=hC.Oc(r,D[Y][d],A);if(s%4!=0)s+=4-s%4;
l.SB(r,A-8,s+4);A+=s}w=A-j;break;case"TySh":var A=j;l.k1(r,A,1);A+=2;var B=D[Y],V=new ey;B.d1.DocumentResources=JSON.parse(JSON.stringify(B.d1.ResourceDict));
var X=j0.FD(B.d1,V),o=R.O(X,!0);for(var P=0;P<X;P++)o[P]=V.data[P];B.pi.EngineData={t:"tdta",v:o};var a=B.d1.EngineDict.Editor.Text;
B.pi.Txt.v=a.substring(0,a.length-1);l.a1_(r,A,B.F);A+=48;l.k1(r,A,50);A+=2;l.SB(r,A,16);A+=4;A+=hC.Oc(r,B.pi,A);
l.k1(r,A,1);A+=2;l.SB(r,A,16);A+=4;A+=hC.Oc(r,B.z8,A);l.a1V(r,A,B.DU);A+=16;w=A-j;break;case"lmfx":l.SB(r,j,0);
l.SB(r,j+4,16);var q=JSON.parse(JSON.stringify(D[Y])),U=!1;js.bb(q);for(var P=0;P<hz.l9.length;P++)if(q[hz.l9[P]]!=null)U=!0;
l.Ty(r,C,U?"lmfx":"lfx2");w=hC.Oc(r,q,j+8)+8;break;case"Patt":var A=j3.sL(r,j,D[Y]);w=A-j;break;case"SoLd":l.Ty(r,j,"soLD");
l.SB(r,j+4,4);l.SB(r,j+8,16);w=hC.Oc(r,D[Y],j+12)+12;break;case"vstk":case"pths":l.SB(r,j,16);w=hC.Oc(r,D[Y],j+4)+4;
break;case"vscg__":l.Ty(r,j,D[Y].key);l.SB(r,j+4,16);w=hC.Oc(r,D[Y].m,j+8)+8;break;case"vogk":l.SB(r,j,1);
l.SB(r,j+4,16);R.Bu.ara(D[Y]);for(var P=0;P<D[Y].length;P++){var M=D[Y][P].v.keyOriginResolution;if(M)M.v=b.TB}var W={classID:"null",keyDescriptorList:{t:"VlLs",v:D[Y]}};
w=hC.Oc(r,W,j+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var _=j;for(var P=0;P<D[Y].length;P++){var n=D[Y][P],e=_;
l.as(r,_,0);_+=8;l.Ty(r,_,n.type);_+=4;l.SB(r,_,n.zA);_+=4;r.yg(_,1);r.data[_]=n.FZ.length;_++;l.Ty(r,_,n.FZ);
_+=n.FZ.length;l.ju(r,_,n.W8+"\0");_+=4+n.W8.length*2+2;l.Ty(r,_,n.cC);_+=4;l.Ty(r,_,n.WX);_+=4;l.as(r,_,n.raw.length);
_+=8;r.yg(_,1);r.data[_]=n.open;_++;l.ga(r,_,n.raw);_+=n.raw.length;l.SB(r,_,1);_+=4;_+=11;var Q=_-e-8;
l.as(r,e,Q);if(Q%4!=0){r.yg(_,4-Q%4);_+=4-Q%4}}w=_-j;break;case"FEid":var _=j;l.SB(r,_,3);_+=4;for(var J=0;
J<D[Y].length;J++){var m=D[Y][J];_+=4;var p=_;_+=4;l.$f(r,_,m.id);_+=m.id.length+1;l.SB(r,_,1);_+=4;
var L=R.O(m.rect.Z()),S=m.rect.zs(new bf(0,0,b.d,b.r)),eJ=R.O(S.Z());_+=4;var hy=_;_+=4;l.xx(r,_,S);
_+=16;l.SB(r,_,8);_+=4;l.SB(r,_,24);_+=4;for(var P=0;P<24+2;P++){var v=-1;if(P==0)v=0;if(P==1)v=1;if(P==2)v=2;
if(P==25)v=3;l.SB(r,_,v!=-1?1:0);_+=4;if(v!=-1){R.ni(m.buffer,L,v);R.YO(L,m.rect,eJ,S);_+=4;var ff=_;
_+=4;r.yg(_,S.Z()+2);_=ai.md(!0,eJ,r.data,S.d,S.r,_,3);l.SB(r,ff,_-(ff+4))}}l.SB(r,hy,_-(hy+4));r.yg(_,1);
r.data[_]=m.B?1:0;_++;if(m.B!=null){var K=S,jo=R.O(K.Z());jo.fill(m.B.color);R.YO(m.B.channel,m.B.rect,jo,K);
l.xx(r,_,K);_+=16;_+=4;var g5=_;_+=4;r.yg(_,K.Z()+2);_=ai.md(!0,jo,r.data,K.d,K.r,_,3);l.SB(r,g5,_-(g5+4))}var Q=_-(p+4);
l.SB(r,p,Q);if(Q%4!=0)_+=4-Q%4}w=_-j;break;default:console.log("unknown layer tag: "+Y+", size: "+w);
j-=12;continue}var fQ=["Txt2","artd","extd","pths"];if(fQ.indexOf(Y)==-1)if(w%4!=0)w+=4-w%4;if(x)l.as(r,j-8,w);
else l.SB(r,j-4,w);if(Y!="luni"&&Y!="TySh")if(w%4!=0)w+=4-w%4;j+=w}return j};js.ZO=function(r){for(var P=0;
P<hz.order.length;P++){var j=hz.order[P],D=hz.l9[P];if(r[D]==null)r[D]={t:"VlLs",v:[]};if(r[j]!=null){r[D].v.push(r[j]);
delete r[j]}var N=[];for(var b=0;b<r[D].v.length;b++){var Y=r[D].v[b];if(Y.v.present==null||Y.v.present.v==!0)N.push(Y)}r[D].v=N}};
js.bb=function(r){for(var P=0;P<hz.order.length;P++){var j=hz.order[P],D=hz.l9[P],N=r[D].v.length;if(N==0){delete r[D];
continue}if(N==1){r[j]=r[D].v[0];delete r[D];continue}}};js.hp=function(r,j){if(j=="GdFl"){if(r.Angl==null)r.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(r.Algn==null)r.Algn={v:!0,t:"bool"};if(r.Scl==null)r.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(r.Ofst==null)r.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(r.Rvrs==null)r.Rvrs={v:!1,t:"bool"};if(r.Dthr==null)r.Dthr={v:!1,t:"bool"}}if(j=="PtFl"){if(r.Algn==null)r.Algn={v:!0,t:"bool"};
if(r.Scl==null)r.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(r.phase==null)r.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
js.clone=function(r,j){var D={};if(r=="TySh"){D.F=j.F.clone();D.pi=JSON.parse(JSON.stringify(j.pi));
D.z8=JSON.parse(JSON.stringify(j.z8));D.DU=j.DU.clone();D.d1=JSON.parse(JSON.stringify(j.d1));if(j.add)D.add={vmsk:j.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(j.add.vogk))};
return D}else if(r=="fxrp")return j.clone();else if(r=="vmsk")return j.clone();else return JSON.parse(JSON.stringify(j))};
function bz(r,j){}bz.$g=function(r,j,D,N){N=bz.akx(r,j,D,N);return N};bz.FD=function(r,j,D,N,b){N=bz.afW(r,j,D,N,b);
return N};bz.akx=function(r,j,D,N){var b=N;r.rect=l.M7(D,N);N+=16;var Y=l.h$(D,N);N+=2;r.qW=[];var x=j.YQ;
for(var P=0;P<Y;P++){r.qW[P]={id:l.oB(D,N),length:(x?l.Si:l.q)(D,N+2)};N+=x?10:6}var C=l.Km(D,N,4);N+=4;
if(C!="8BIM"){console.log("Invalid Blend mode signature: "+C);alert("Error in Photoshop file: wrong signature.");
throw"e"}r.yp=l.Km(D,N,4);N+=4;r.opacity=D[N];N+=1;r._V=D[N]==1;N+=1;r.Qk=D[N];N+=1;if(D[N]!=0)console.log("error in filler!");
N+=1;var w=l.q(D,N);N+=4;var q=N;N=bz.alG(r,D,N);N=bz.a3V(r,D,N);var u=l.Iv(D,N);r.name=u.Yg;N+=u.length;
if(u.length%4!=0)N+=4-u.length%4;N=js.Kt(D,N,q+w,r.add,x,j);if(r.add.lsct){if(r.add.lsct.yp)r.yp=r.add.lsct.yp;
r.add.lsct=r.add.lsct.type}return N};bz.afW=function(r,j,D,N,b){var Y=N;l.xx(D,N,r.rect);N+=16;var x=r.Sw();
l.fg(D,N,x.length);N+=2;var C=j.YQ;b.push(N);for(var P=0;P<x.length;P++){l.k1(D,N,x[P]);if(C)l.as(D,N+2,0);
else l.SB(D,N+2,0);N+=C?10:6}l.Ty(D,N,"8BIM");N+=4;l.Ty(D,N,r.yp);N+=4;l.k5(D,N,r.opacity,1);N+=1;l.k5(D,N,r._V?1:0,1);
N+=1;l.k5(D,N,r.Qk,1);N+=1;l.k5(D,N,0,1);N+=1;var w=N;l.SB(D,N,0);N+=4;var q=N;N=bz.a4I(r,D,N);N=bz.a5k(r,D,N);
var u=l.$f(D,N,r.name.slice(0,255));N+=u;if(u%4!=0)N+=4-u%4;if(r.add.lsct){r.add.lsct={type:r.add.lsct};
if(r.yp=="pass"){r.add.lsct.yp="pass";r.yp="norm"}}if(r.yp=="pass")r.add.lsct={type:r.add.lsct,yp:"pass"};
if(r.add.brit)r.add.CgEd=r.add.brit;N=js.js(D,N,r.add,C,j);delete r.add.CgEd;if(r.add.lsct){if(r.add.lsct.yp)r.yp=r.add.lsct.yp;
r.add.lsct=r.add.lsct.type}var h=N-q;l.SB(D,w,h);return N};bz.alG=function(r,j,D){var N=l.q(j,D);D+=4;
if(N==0)return D;var b=D;r.B=new G.Jz;r.B.rect=l.M7(j,D);D+=16;r.B.color=j[D];D+=1;var Y=bz.RN(r.B,j,D);
D+=1;if(Y){var x=!1,C=255,w=0,q=255,u=0;for(var P=0;P<r.qW.length;P++)if(r.qW[P].id==-3)x=!0;if(x){r.UJ=bz.OO(j,D);
D+=18}var h=D,z=j[D];D++;if(z>>0&1){C=j[D];D++}if(z>>1&1){w=l.wT(j,D);D+=8}if(z>>2&1){q=j[D];D++}if(z>>3&1){u=l.wT(j,D);
D+=8}if((D-h&1)==1)D++;r.dX=[C,w,q,u]}else{if(N==20)D+=2;else{r.UJ=bz.OO(j,D);D+=18}}return b+N};bz.a4I=function(r,j,D){l.SB(j,D,0);
D+=4;if(r.B==null)return D;var N=r.BG(),b=r.add.vmsk,Y=D,x=!0;l.SB(j,D,0);l.xx(j,D,r.B.rect);D+=16;l.k5(j,D,r.B.color);
D+=1;bz.iD(r.B,j,D,x);D+=1;if(x){if(r.UJ){bz.a3o(j,D,r.UJ);D+=18}l.k5(j,D,15);D+=1;l.k5(j,D,N?N.jO:255);
D+=1;l.oE(j,D,N?N.wt:0);D+=8;l.k5(j,D,b?b.jO:255);D+=1;l.oE(j,D,b?b.wt:0);D+=8;D++}l.SB(j,Y-4,D-Y);return D};
bz.OO=function(r,j){var D=new G.Jz;bz.RN(D,r,j);j+=1;D.color=r[j];j+=1;D.rect=l.M7(r,j);j+=16;return D};
bz.a3o=function(r,j,D){bz.iD(D,r,j,!1);j+=1;l.k5(r,j,D.color);j+=1;l.xx(r,j,D.rect);j+=16};bz.RN=function(r,j,D){var N=j[D];
r.Tt=(N>>0&1)==0;r.isEnabled=(N>>1&1)==0;r.QV=(N>>3&1)==1;return N>>4&1};bz.iD=function(r,j,D,N){var b=0;
if(!r.Tt)b+=1<<0;if(!r.isEnabled)b+=1<<1;if(r.QV)b+=1<<3;if(N)b+=1<<4;l.k5(j,D,b)};bz.a3V=function(r,j,D){var N=l.q(j,D);
D+=4;for(var P=0;P<N;P++)r.UE[P]=j[D+P];return D+N};bz.a5k=function(r,j,D){l.SB(j,D,r.UE.length);D+=4;
j.yg(D,40);for(var P=0;P<40;P++){j.data[D+P]=r.UE[P]}return D+40};function ai(){}ai.$g=function(r,j,D,N){N=ai.aqL(j.YQ,j.ok,j.Em,r,D,N);
return N};ai.G5=function(r,j,D,N,b,Y){N=ai.a0D(r,j,D,N,b,Y);return N};ai.aqL=function(r,j,D,N,b,Y){var x=N.qW,C={},w=Y;
for(var P=0;P<x.length;P++){var q=x[P],u=q.id,h=q.length,z;if(u==-3)z=N.UJ.rect;else if(u==-2)z=N.B.rect;
else z=N.rect;var O=ai.u1(r,j,b,z.d,z.r,Y,h);Y+=h;if(u==-3)N.UJ.channel=O;else if(u==-2)N.B.channel=O;
else C["c"+u]=O}var g=new R.oj(0);g.kD=null;if(D==3){g.a=C.c0;g.p=C.c1;g.M=C.c2;g.kD=C["c-1"]}else if(D==1){g.a=C.c0;
g.p=C.c0;g.M=C.c0;g.kD=C["c-1"]}else if(D==4){var t=C.c0,$=C.c1,i=C.c2,A=C.c3,H=t.length,F=1/255;for(var P=0;
P<H;P++){var T=t[P],_=$[P],V=i[P],X=A[P]*F;t[P]=Math.round(T*X);$[P]=Math.round((.2*T+.8*_)*X);i[P]=Math.round((.2*_+.8*V)*X)}g.a=t;
g.p=$;g.M=i;g.kD=C["c-1"];console.log("converting from CMYK to RGB")}if(g.a==null)g.a=R.O(0);if(g.kD==null&&g.a!=null){g.kD=g.a.slice(0);
g.kD.fill(255)}if(g.p==null)g.p=g.a.slice(0);if(g.M==null)g.M=g.a.slice(0);N.buffer=R.O(Math.max(0,N.rect.Z()*4));
R.Ke(g,N.buffer);return Y};ai.a0D=function(r,j,D,N,b,Y){var x=j.Sw(),C=new R.oj(j.rect.Z());R.wJ(j.buffer,C);
for(var P=0;P<x.length;P++){var w=x[P],q,u;if(w==-3)q=j.UJ.rect;else if(w==-2)q=j.B.rect;else q=j.rect;
if(w==-3)u=j.UJ.channel;if(w==-2)u=j.B.channel;if(w==-1)u=C.kD;if(w==0)u=C.a;if(w==1)u=C.p;if(w==2)u=C.M;
D.yg(N,q.Z()*3+4);var h=N;N=ai.md(r,u,D.data,q.d,q.r,N,Y[1]?3:1);var z=N-h;if(r)l.aD(D.data,b+P*10+2,z);
else l.$$(D.data,b+P*6+2,z)}return N};ai.u1=function(r,j,D,N,b,Y,x){var C=l.h$(D,Y);Y+=2;return ai.ra(r,j,D,N,b,Y,C,x-2)};
ai.md=function(r,j,D,N,b,Y,x){l.Ms(D,Y,x);Y+=2;Y=ai.my(r,j,D,N,b,Y,x);return Y};ai.ra=function(r,j,D,N,b,Y,x,C){var w,q=N*b*(j>>>3),u=q&3,h=q+(u==0?0:4-u);
if(C<=0){return R.O(h)}if(x>3){console.log("unknown compression: "+x,N,b,N*b,C);x=0}if(x==0){if(Y+h<=D.length)w=D.slice(Y,Y+h);
else{w=R.O(q);for(var P=0;P<q;P++)w[P]=D[Y+P]}Y+=q}else if(x==1){w=R.O(q);var z=r?4:2,O=ai.QQ(D,w,N,b,Y,Y+z*b,z);
Y+=z*b+O}else if(x==2||x==3){var g=new Uint8Array(D.buffer,Y+2,C-6),t=pako.inflateRaw(g);if(x==3){if(j==8)for(var $=0;
$<b;$++){var i=$*N+1,A=i+N-1,H=t[i-1];for(var F=i;F<A;F++){H+=t[F];t[F]=H&255}}else for(var $=0;$<b;
$++){var i=$*N+1,A=i+N-1,H=t[2*i-2]<<8|t[2*i-1];for(var F=i;F<A;F++){var T=F<<1;H+=t[T]<<8|t[T+1];t[T]=H>>>8;
t[T+1]=H&255}}}if(t.length==h)w=t;else{w=R.O(h);for(var P=0;P<t.length;P++)w[P]=t[P]}}if(j==16){var _=R.O(N*b);
for(var P=0;P<q;P+=2)_[P>>>1]=w[P];w=_}return w};ai.my=function(r,j,D,N,b,Y,x){var C=N*b;if(x==0)for(var P=0;
P<C;P++)D[Y++]=j[P];else if(x==1){var w=r?4:2,q=ai.$p(j,D,N,b,Y,Y+w*b,w);Y+=w*b+q}else if(x==2||x==3){if(x==3){var u=new Uint8Array(j.length);
for(var h=0;h<b;h++){var z=h*N+1,O=z+N-1,g=j[z-1];u[z-1]=g;for(var t=z;t<O;t++){u[t]=j[t]+(256-g)&255;
g=j[t]}}j=u}D[Y]=120;D[Y+1]=156;Y+=2;var $=pako.deflateRaw(j,{abW:4});l.Yf(D,Y,$);Y+=$.length+4}else console.log("Unknown compression: "+x);
return Y};ai.QQ=function(r,j,D,N,b,Y,x){if(!(r instanceof Uint8Array)||!(j instanceof Uint8Array))throw"e";
var C=Y,w=N|0;if(x==2)for(var P=0;P<w;P++){var q=l.h$(r,b+(P<<1));ai.i8(r,Y,q,j,P*D,D);Y+=q}else for(var P=0;
P<w;P++){var q=l.q(r,b+(P<<2));ai.i8(r,Y,q,j,P*D,D);Y+=q}return Y-C};ai.$p=function(r,j,D,N,b,Y,x){var C=Y;
if(x==2)for(var P=0;P<N;P++){var w=ai.WK(r,P*D,D,j,Y);l.FK(j,b+P*2,w);Y+=w}else for(var P=0;P<N;P++){var w=ai.WK(r,P*D,D,j,Y);
l.$$(j,b+P*4,w);Y+=w}return Y-C};ai.WK=function(r,j,eK,D,N){var b,Y,x,C,w,aS,q;C=j+eK;for(x=j,Y=N;eK>0;
x=b,eK-=aS){q=eK<128?eK:128;if(x<=C-3&&r[x+1]==r[x+0]&&r[x+2]==r[x+0]){for(b=x+3;b<x+q&&r[b]==r[x+0];
)++b;aS=b-x;D[Y++]=1+256-aS;D[Y++]=r[x+0]}else{for(b=x;b<x+q;)if(b<=C-3&&r[b+1]==r[b+0]&&r[b+2]==r[b+0])break;
else++b;aS=b-x;D[Y++]=aS-1;for(var P=0;P<aS;P++)D[Y+P]=r[x+P];Y+=aS}}return Y-N};ai.i8=function(r,j,D,N,b,Y){for(var x=0;
x<D;){var eK=r[j++];if(eK>=128){var C=r[j++],w=b+(257-eK);N.fill(C,b,w);b=w;x+=2}else{for(var P=0;P<=eK;
P++)N[b+P]=r[j+P];j+=eK+1;b+=eK+1;x+=1+1+eK}}};function bJ(){}bJ.dM=function(r,j,D){return;var N="",b=j;
while(b!=0){var Y=b%1e3+"";while(Y.length<3)Y="0"+Y;N=(N==""?Y:Y+" ")+N;b=Math.floor(b/1e3)}while(N.startsWith("0")&&N!="0")N=N.slice(1);
while(N.length<11)N=" "+N;console.log("===",N,"\t".repeat(r),": "+D)};bJ.$g=function(r,j){j.YQ=!1;j.ok=8;
var D=new Uint8Array(r),N=0,b=0,m,jo=!1,g5=!0,fQ=!1,iT=0,i3=0;b=bJ.Mf(j,D,N);bJ.dM(0,b-N,"PSD Header");
N=b;b=bJ.apx(j,D,N);bJ.dM(0,b-N,"Color Mode Data");N=b;b=bJ.a2o(j,D,N);bJ.dM(0,b-N,"Image Resources");
N=b;b=bJ.a7e(j,D,N);bJ.dM(0,b-N,"Layer And Mask Info");N=b;b=bJ.aeH(j,D,N);bJ.dM(0,b-N,"Merged Image");
N=b;if(j.j.length==0){var Y=j.Xp();Y.Lp("Background");j.j.push(Y);Y.buffer=j.buffer.slice(0);Y.rect=new bf(0,0,j.d,j.r)}if(j.Rb.r1005){j.TB=l.asO(j.Rb.r1005,0)}if(j.Rb.r1026){var D=j.Rb.r1026;
for(var P=0;P<D.length;P+=2){var b=j.j[P>>>1];if(b)b.xU=l.h$(D,P)}}if(j.Rb.r1072){var D=j.Rb.r1072;for(var P=0;
P<D.length;P++){var b=j.j[P];if(b)b.$s=D[P]==1}}if(j.Rb.r1032){var D=j.Rb.r1032,x=l.q(D,12);for(var P=0;
P<x;P++){var C=D[16+P*5+4],w=l.iV(D,16+P*5)/32;j.Pc.push([C,w])}}delete j.Rb.r1036;delete j.Rb.r1039;
if(j.Rb.r1050){var q=l.q,u=j.Rb.r1050,h=l.q(u,0);if(h==6){var z=4,O=l.M7(u,z);z+=16;var g=l._9(u,z);
z+=4+g.length*2;var t=q(u,z);z+=4;var $=j.hB;for(var P=0;P<t;P++){var i=I.K_.Ie(),H;$.push(i);i=i.v;
i.sliceID.v=q(u,z);z+=4;i.groupID.v=q(u,z);z+=4;var A=q(u,z);z+=4;if(A==1){H=q(u,z);z+=4}var g=l._9(u,z);
z+=4+g.length*2;var F=q(u,z);z+=4;var T=[q(u,z),q(u,z+4),q(u,z+8),q(u,z+12)];z+=16;I.K_.B3($,$.length-1,T);
var _=i.url.v=l._9(u,z);z+=4+_.length*2;var V=i.null.v=l._9(u,z);z+=4+V.length*2;var X=i.Msge.v=l._9(u,z);
z+=4+X.length*2;var o=i.altTag.v=l._9(u,z);z+=4+o.length*2;i.cellTextIsHTML.v=u[z]==1;z++;var c=i.cellText.v=l._9(u,z);
z+=4+c.length*2;var E=q(u,z);z+=4;var f=q(u,z);z+=4;var d=u.slice(z,z+4);z+=4;if(A!=2)$.pop()}}else if(h==8){var s={};
hC.yV(u,s,8,!1);var u=j.hB=s.slices.v;for(var P=0;P<u.length;P++){if(u[P].v.origin.v.ESliceOrigin!="userGenerated"){u.splice(P,1);
P--}}}}if(j.Rb.r1058){var B=j.Rb.r1058,a=UTIF.decode(B.buffer,{parseMN:!1,debug:!1});ho.iS(a[0],j.y6);
delete j.Rb.r1058}if(j.Rb.r1060){var U=l.Hi(j.Rb.r1060);ho.aiB(U,j.y6);delete j.Rb.r1060}if(j.Rb.r1065){var D=j.Rb.r1065;
j._m={};hC.yV(D,j._m,4,!1)}if(j.Rb.r1069){var D=j.Rb.r1069,M=[];for(var P=2;P<D.length;P+=4){var H=l.q(D,P);
for(var W=0;W<j.j.length;W++){var b=j.j[W];if(b.add.lyid==H&&b.add.lsct!=3)M.push(W)}}j.R=M}if(j.Rb.r1025){var n=j.Rb.r1025;
delete j.Rb.r1025;var e=fC.Pm(n,0,n.length,j.d,j.r),Q=new G.$R;Q.W=e;j.ou[0]=dl.wP("Working Path",{vmsk:Q})}var J=j.add.pths;
delete j.add.pths;var p=j.Rb.r3000;if(p){m={};hC.yV(p,m,4,!1);delete j.Rb.r3000}for(var L=0;L<=997;L++){var S="r"+(2e3+L),n=j.Rb[S];
if(n==null)break;var e=fC.Pm(n,0,n.length,j.d,j.r),eJ=J?J.pathList.v[L].v.pathUnicodeName.v:"Path "+L,hy=m?m.keyRootDescriptorList.v[L].v.keyDescriptorList.v:G.HJ(e),Q=new G.$R;
Q.W=e;j.ou[L+1]=dl.wP(eJ,{vmsk:Q,vogk:hy});delete j.Rb[S]}delete j.YQ;var v=new bf(0,0,j.d,j.r),ff=j.add.Txt2,K=ff;
if(K){K=K.sq;if(K._DocumentResources==null)K=cb.a8D(K)}for(var P=0;P<j.j.length;P++){var b=j.j[P],ac=b.add.lsct,aR=b.add.vmsk,hV=b.BG();
if(ac==bH.ym){iT++;b.add.lspf=0}else if(ac==bH.nV||ac==bH.$w)iT--;if(b.name==""){b.name="Layer "+(P+1);
fQ=!0}if(fQ&&b.iO()&&b.yp=="norm")b.yp="pass";if(b.ri()&&b.dw(j).B){var cu=b.dw(j);cu.B.isEnabled=b.add.SoLd.filterFX.v.filterMaskEnable.v}if(aR&&b.x2()){var iy=hz._O.default;
if(b.add.vstk==null)b.add.vstk=JSON.parse(JSON.stringify(iy));else{var gr="strokeStyleLineDashSet";if(b.add.vstk[gr]==null)b.add.vstk[gr]=JSON.parse(JSON.stringify(iy[gr]))}b.add.vstk.strokeStyleResolution.v=j.TB}if(aR&&(b.add.vogk==null||R.b.yo(aR.W)!=b.add.vogk.length))b.HJ();
if(b.add.SoLd&&b.rect.jE()){console.log("redrawing smart instance");b.zX(j)}if(hV==null&&b.B!=null){if(b.B.QV==!1){b.B.QV=!0;
b.UJ=b.B.clone()}}hV=b.BG();if(b.dX){var iy=b.dX,Q=aR;if(hV){hV.jO=iy[0];hV.wt=iy[1]}if(Q){Q.jO=iy[2];
Q.wt=iy[3]}b.dX=null}if(hV!=null&&aR!=null&&(hV.wt+aR.wt!=0||hV.jO+aR.jO!=2*255))b.Fz(j);else if(aR!=null&&!b.x2())b.Fz();
var cp=b.add.artb;if(cp&&cp.artboardBackgroundType==null)cp.artboardBackgroundType={t:"long",v:1};if(cp&&iT!=0)delete b.add.artb;
var gP=b.add.vstk;if(b.x2()&&(b.rect.jE()||aR&&aR.wt!=0||gP&&!gP.fillEnabled.v&&(!gP.strokeEnabled.v||gP.strokeStyleLineWidth.v.val==0)))b._t(j);
if(b.add.TySh){jo=!0;if(!b.rect.jE())g5=!1}if(b.add.TySh&&K){var g7=b.add.TySh.pi.TextIndex.v;if(g7==-1)continue;
var j8=b.add.TySh.d1,dg=cU.Nb(j8),gR=K._DocumentObjects._TextObjects;if(gR.length<=g7){console.log("Txt2 incomplete");
continue}var em=gR[g7]._Model,fr=em._StyleRun?em._StyleRun._RunArray:[],aU=j8.EngineDict.StyleRun.RunArray;
for(var bb=0;bb<aU.length;bb++){var fZ=aU[bb].StyleSheet.StyleSheetData;if(fr[bb]==null)continue;var h1=fr[bb]._RunData._StyleSheet._Features;
if(h1&&h1._BaselineDirection)fZ.BaselineDirection=parseInt(h1._BaselineDirection.slice(1))}var ar=j8.EngineDict.ParagraphRun.RunArray,gt=em._ParagraphRun._RunArray;
if(gt==null)gt=[];var gX=Math.min(gt.length,ar.length);for(var W=0;W<gX;W++){var dK=ar[W].ParagraphSheet.Properties,ay=K._DocumentResources._ParagraphSheetSet._Resources,hh=gt[W]._RunData._ParagraphSheet;
if(typeof hh=="string")hh=ay[parseInt(hh.slice(1))]._Resource;var b7=hh._Parent==null?hh:ay[parseInt(hh._Parent.slice(1))]._Resource;
hh=hh._Features;b7=b7._Features;var cV=hh._ParagraphDirection;if(cV==null)cV=b7._ParagraphDirection;
if(cV)dK._Direction=parseInt(cV.slice(1));if(hh._ComposerEngine)dK._ComposerEngine=parseInt(hh._ComposerEngine.slice(1))}if(em._AlternateGlyphRun){var gt=em._AlternateGlyphRun._RunArray,gX=gt.length,bj=j8.EngineDict.AlternateGlyphRun=cU.aiX();
for(var W=0;W<gX;W++){var hh=gt[W],bW={},bu=hh._RunData._AlternateGlyphSheet;if(bu)bW.Glyph=parseInt(bu._Glyph.slice(1));
bj.RunArray.push(bW);bj.RunLengthArray.push(parseInt(hh._Length.slice(1)))}}var da=K._DocumentResources,dj=da._TextFrameSet._Resources,e_=dj[g7]._Resource,de=e_._Data,aM=new j9(1,0,0,1,0,0);
if(e_._0){var g2=parseFloat(e_._0[0].slice(1)),g9=parseFloat(e_._0[1].slice(1));aM.translate(g2,g9)}if(dg){aM.translate(dg[0],dg[1]);
cU.TS(j8,[0,0,dg[2]-dg[0],dg[3]-dg[1]])}else{if(e_._Bezier&&e_._Bezier._Points){var e=e_._Bezier._Points,g2=parseFloat(e[0].slice(1)),g9=parseFloat(e[1].slice(1));
if(g2!=0||g9!=0){aM.translate(g2,g9)}}}if(e_._Data&&e_._Data._FrameMatrix){var hr=e_._Data._FrameMatrix;
hr=hr.map(function(ih){return parseFloat(ih.slice(1))});aM.concat(new j9(hr[0],hr[1],hr[2],hr[3],hr[4],hr[5]))}aM.concat(b.add.TySh.F);
b.add.TySh.F=aM;var F=de._Type?parseInt(de._Type.slice(1)):0;if(F==2||F==1&&de._PathData&&de._PathData._Spacing=="i-3"){var bD=function(ih){return parseFloat(ih.slice(1))},e=e_._Bezier._Points.map(bD);
if(dg)R.K.F(e,new j9(1,0,0,1,-dg[0],-dg[1]),e);var iG=de._PathData?de._PathData._Reversed:!1;j8.Curve={Points:e,TextOnPathTRange:de._TextOnPathTRange.map(bD),Reversed:iG==null?!1:iG};
b.add.TySh.add={vmsk:new G.$R,vogk:null};cU.qN(b.add.TySh)}if(de._LineOrientation=="i2")j8._LineOrientation=2}}f1.fp.EK(j,!0);
var iF={},bI=[];for(var P=0;P<j.j.length;P++){var fE=j.j[P].add.lyid;if(fE==null)continue;var i3=Math.max(i3,fE);
if(iF[fE]!=null)bI.push(P);else iF[fE]=!0}for(var P=0;P<bI.length;P++)j.j[bI[P]].add.lyid=i3+1+P};bJ.FD=function(r,j,D){f1.fp.zi(r);
f1.fp.EK(r,!1);r.YQ=D[3]==!0;var N=[],b=[],g=0,$=1,_=16,L=0;for(var P=0;P<r.j.length;P++){var Y=r.j[P];
if(Y.ri()&&Y.dw(r).B){Y.add.SoLd.filterFX.v.filterMaskEnable.v=Y.dw(r).B.isEnabled}if(Y.add.TySh){var x=Y.add.TySh.d1,C=cU.Tl(x);
Y.add.TySh.pi.TextIndex={t:"long",v:N.length};N.push(x);if(C==2)cU.aO(Y.add.TySh)}var w=Y.add.vstk;if(w)w.strokeStyleResolution.v=r.TB;
if(Y.x2()||D[2]&&Y.add.SoLd){b[P]=[Y.rect,Y.buffer];Y.rect=new bf;Y.buffer=R.O(0);if(Y.add.SoLd){var q=Y.dw(r);
if(q!=null){b[P].push(q.buffer);q.buffer=R.O(q.buffer.length)}}}}if(N.length>0){var u=r.add.Txt2?r.add.Txt2.sq:null;
if(r.add.Txt2==null)r.add.Txt2={};r.add.Txt2.sq=ck.ahf(N,null,u)}var h=[r.add.lnk2,r.add.FEid,r.add.Patt],z=r.afD(r.j);
r.QF(z);r.Rb.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);l.X8(r.Rb.r1005,0,r.TB);l.X8(r.Rb.r1005,8,r.TB);
if(r.jc()){r.Rb.r1022=new Uint8Array([0,3+r.c9.length-1,0])}else delete r.Rb.r1022;var O=new Uint8Array(r.j.length*2),t=new Uint8Array(r.j.length);
for(var P=0;P<r.j.length;P++){var Y=r.j[P],i=Y.xU,A=Y.$s?1:0;l.FK(O,P*2,i);t[P]=A;if(i>g)g=i;if(A==0)$=0}if(g>0)r.Rb.r1026=O;
if($<1)r.Rb.r1072=t;var H=r.Pc,F=H.length,T=r.Rb.r1032=R.O(16+5*F,!0);l.$$(T,0,1);l.$$(T,4,576);l.$$(T,8,576);
l.$$(T,12,F);for(var P=0;P<F;P++){l.u_(T,_,Math.round(H[P][1]*32));T[_+4]=H[P][0];_+=5}var V=R.xD(r.buffer),X=[];
if(V)X.push({name:"Transparency",h_:{a:255,p:0,M:0},PR:100,bW:1});X=X.concat(r.c9);delete r.Rb.r1045;
delete r.Rb.r1006;delete r.Rb.r1077;var o=new ey;_=0;var c=new Uint8Array(4+X.length*13);c[3]=1;for(var P=0;
P<X.length;P++){var f=X[P],d=f.name+"\0";l.ju(o,_,d);_+=4+d.length*2;var s=4+P*13;dh.XC(c,s,f.h_);c[s+11]=f.PR;
c[s+12]=f.bW}r.Rb.r1045=o.data.slice(0,_);r.Rb.r1077=c;for(var P=0;P<r.hB.length;P++)r.hB[r.hB.length-P-1].v.sliceID.v=2+P*3;
var B={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:r.hB}},o=new ey;
l.SB(o,0,8);l.SB(o,4,16);var a=hC.Oc(o,B,8);r.Rb.r1050=o.data.slice(0,a+8);var o=new ey;l.SB(o,0,16);
var a=hC.Oc(o,r._m,4);r.Rb.r1065=o.data.slice(0,a+4);var U=r.R;T=r.Rb.r1069=R.O(2+U.length*4,!0);l.FK(T,0,U.length);
for(var P=0;P<U.length;P++)l.$$(T,2+4*P,r.j[U[P]].add.lyid);delete r.Rb.r1058;delete r.Rb.r1060;if(Object.keys(r.y6).length!=0){var M=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
ho.nl(r.y6,M[0],D[0]&&D[1]);r.Rb.r1058=new Uint8Array(UTIF.encode(M));var W=ho.a9a(r.y6);r.Rb.r1060=l.IH(W)}var n=[],e=[];
for(var P=0;P<r.ou.length;P++){var Q=r.ou[P],J=Q.add.vmsk.W;if(P==0&&J.length==2)continue;var m=R.O(J.length*26);
fC.S$(m,0,J,r.d,r.r);var p=P==0?1025:2e3+P-1;r.Rb["r"+p]=m;if(P!=0){n.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:Q.name}}});
e.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:Q.add.vogk}}})}}if(n.length!=0){r.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:n}};
e={classID:"null",keyRootDescriptorList:{t:"VlLs",v:e}};var o=new ey;l.SB(o,0,16);var a=hC.Oc(o,e,4);
r.Rb.r3000=o.data.slice(0,a+4)}else{delete r.add.pths;delete r.Rb.r3000}L=bJ.a0h(r,j,L,3+X.length);L=bJ.art(r,j,L);
L=bJ.a0P(r,j,L);L=bJ.a7g(r,j,L,D,V);L=bJ.a9K(r,j,L,D[0],V);var S=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var P=0;P<S.length;P++)delete r.Rb["r"+S[P]];for(var P=0;P<r.j.length;P++){var Y=r.j[P];if(Y.x2()||D[2]&&Y.add.SoLd){Y.rect=b[P][0];
Y.buffer=b[P][1];if(b[P][2]){var q=Y.dw(r);b[P].push(q.buffer);q.buffer=b[P][2]}}}r.QF(h);f1.fp.EK(r,!0);
delete r.YQ;return L};bJ.Mf=function(r,j,D){var N=l.Km(j,D,4);D+=4;if(N!="8BPS")alert("invalid header signature: "+N);
var b=l.h$(j,D);D+=2;r.YQ=b==2;if(b!=1&&b!=2)alert("invalid version: "+b);D+=6;r.J0=l.h$(j,D);D+=2;r.r=l.iV(j,D);
D+=4;r.d=l.iV(j,D);D+=4;r.ok=l.h$(j,D);D+=2;r.Em=l.h$(j,D);D+=2;return D};bJ.a0h=function(r,j,D,N){j.yg(0,64);
l.k3(j.data,D,"8BPS");D+=4;l.FK(j.data,D,r.YQ?2:1);D+=2;l.$$(j.data,D,0);D+=4;l.FK(j.data,D,0);D+=2;
l.FK(j.data,D,N);D+=2;l.u_(j.data,D,r.r);D+=4;l.u_(j.data,D,r.d);D+=4;l.FK(j.data,D,8);D+=2;l.FK(j.data,D,3);
D+=2;return D};bJ.apx=function(r,j,D){var N=l.iV(j,D);D+=4;if(N!=0)r.FN=j.slice(D,D+N);D+=N;return D};
bJ.art=function(r,j,D){l.jN(j,D,0);D+=4;return D};bJ.a2o=function(r,j,D){var N=l.q(j,D),b=0;D+=4;var Y=[];
while(b<N){var x=l.Km(j,D+b,4);b+=4;var C=l.h$(j,D+b);b+=2;var w=l.Iv(j,D+b);b+=w.length;if(x!="8BIM"){Y.push(C);
console.log("Unknown Image Resources signature: "+x+", ID: "+C)}var q=l.q(j,D+b);b+=4;if(r.Rb["r"+C]!=null)console.log("--- two resources with same ID");
r.Rb["r"+C]=l.QD(j,D+b,q);b+=q+(q&1)}for(var P=0;P<Y.length;P++)delete r.Rb["r"+Y[P]];return D+N};bJ.a0P=function(r,j,D){var N=D,x=0;
D+=4;var b=[];for(var Y in r.Rb){b.push(parseInt(Y.slice(1)))}b.sort(function(h,z){return h-z});for(var P=0;
P<b.length;P++){l.Ty(j,D+x,"8BIM");x+=4;var C=b[P];l.fg(j,D+x,C);x+=2;var w=l.$f(j,D+x,"");x+=w;var q=r.Rb["r"+C],u=q.length;
l.SB(j,D+x,u);x+=4;l.ga(j,D+x,q);x+=u;if(u%2==1)x++}l.SB(j,N,x);return D+x};bJ.a7e=function(r,j,D){var N=D,b,Y,x=r.YQ?8:4;
if(r.YQ)b=l.Si(j,D);else b=l.q(j,D);D+=x;if(b==0)return N+x;Y=bJ.a1u(r,j,D);bJ.dM(1,Y-D,"Layer Info");
D=Y;Y=bJ.a5O(r,j,D);bJ.dM(1,Y-D,"Global Layer Mask Info");D=Y;Y=js.Kt(j,D,N+x+b,r.add,r.YQ,r);bJ.dM(1,Y-D,"Project Add Info");
D=Y;return N+x+b};bJ.a7g=function(r,j,D,N,b){var Y=D;l.SB(j,D,0);D+=4;if(r.YQ){l.SB(j,D,0);D+=4}D=bJ.a4v(r,j,D,N,b);
D=bJ.ab7(r,j,D);D=js.js(j,D,r.add,r.YQ,r);if(r.YQ)l.as(j,Y,D-Y-8);else l.SB(j,Y,D-Y-4);return D};bJ.a1u=function(r,j,D){var N,b=r.YQ?8:4;
if(r.YQ)N=l.Si(j,D);else N=l.q(j,D);D+=b;if(N!=0)bJ.Sm(r,j,D);return D+N};bJ.Sm=function(r,j,D){var N=l.oB(j,D);
D+=2;var b=Math.abs(N);for(var P=0;P<b;P++){var Y=new G;D=bz.$g(Y,r,j,D);r.j[P]=Y}var x=new bf(0,0,r.d,r.r);
for(var P=0;P<b;P++){var C=r.j[P],w=C.BG(),q=ai.$g(C,r,j,D);if(q-D>8)bJ.dM(2,q-D,"Lay: "+C.getName());
D=q;bJ.ZX(C,x);if(w)bJ.ZX(w,x)}};bJ.ZX=function(r,j){var D=r.rect.Z(),N=r.rect.su(j),b=N.Z()/D;if(D>2e3*3e3&&b<.5){if(r.buffer){var Y=R.O(N.Z()*4);
R.UB(r.buffer,r.rect,Y,N);r.buffer=Y;r.rect=N}else{var Y=R.O(N.Z());R.YO(r.channel,r.rect,Y,N);r.channel=Y;
r.rect=N}alert("Removing hidden parts of layers")}};bJ.a4v=function(r,j,D,N,b){var Y=D,x=r.YQ;D+=x?8:4;
D=bJ.tb(r,j,D,N,b);var C=D-Y-(x?8:4);if(C%2!=0)C++;if(x)l.as(j,Y,C);else l.SB(j,Y,C);return Y+C+(x?8:4)};
bJ.tb=function(r,j,D,N,b){var Y=r.j.length;l.k1(j,D,b?-Y:Y);D+=2;var x=[];for(var P=0;P<Y;P++)D=bz.FD(r.j[P],r,j,D,x);
for(var P=0;P<Y;P++)D=ai.G5(r.YQ,r.j[P],j,D,x[P],N);return D};bJ.a5O=function(r,j,D){var N=l.q(j,D);
D+=4;D+=N;return D};bJ.ab7=function(r,j,D){var N=l.SB(j,D,0);D+=4;return D};bJ.aeH=function(r,j,D){var N=r.Em,b="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),Y=[1,1,1,3,4,1,1,3],x,t;
if(N!=3){if(N==1||N==2||N==4)alert("Project will be converted from "+b[N]+" to "+b[3]+" mode.");else{alert("Color mode "+b[N]+" is not supported yet :(")}}if(r.Rb.r1045){x=[];
var C=r.Rb.r1045,w=0;while(w<C.length){var q=l.NC(C,w);x.push(q);w+=4+2+q.length*2}}var u=Y[N]+(x==null||x[0]=="Transparency"?1:0),h=r.d,z=r.r,O=h*z,g=l.h$(j,D);
D+=2;r.buffer=R.O(O*4);R.mh(r.buffer,4278190080);var $=D;for(var i=0;i<r.J0;i++){if(g==0){t=ai.ra(r.YQ,r.ok,j,h,z,D,g);
D+=O*(r.ok>>>3)}else if(g==1){t=R.O(O);var A=r.YQ?4:2;if(i==0)D+=r.J0*z*A;D+=ai.QQ(j,t,h,z,$+i*z*A,D,A)}else{console.log("unknown compression of image data: ",g);
return}if(i<u){R.zQ(t,r.buffer,i);if(r.J0==1&&i==0){R.zQ(t,r.buffer,1);R.zQ(t,r.buffer,2)}}else{var H=new G.Jz,F=i-u,T=i-Y[r.Em];
H.name=x?x[T]:"Alpha";if(H.name=="Quick Mask"){H.zo=!0;r.cz.push(F)}H.rect=new bf(0,0,h,z);H.channel=t;
H.color=0;H.H2();r.c9[F]=H;if(r.Rb.r1077){var C=r.Rb.r1077.slice(4+T*13);H.h_=dh.K5(C,0);H.PR=C[11];
H.bW=C[12];if(H.bW==2)H.zo=!0}}}r.J0=4;if(r.Em==2)for(var P=0;P<O;P++){var _=P*4,V=r.buffer[_];r.buffer[_]=r.FN[0+V];
r.buffer[_+1]=r.FN[256+V];r.buffer[_+2]=r.FN[512+V]}return D};bJ.a9K=function(r,j,D,N,b){var Y=1,x=16,C=r.d,w=r.r,u,h;
l.fg(j,D,Y);D+=2;var q=C*w;if(!N){h=new R.oj(C*w);R.wJ(r.buffer,h);var z=h.a,O=h.p,g=h.M,t=h.kD;for(var P=0;
P<q;P++){var $=t[P]*(1/255);z[P]=~~(z[P]*$+255*(1-$));O[P]=~~(O[P]*$+255*(1-$));g[P]=~~(g[P]*$+255*(1-$))}}else u=R.O(q);
var i=[u,u,u];if(!N)i=[h.a,h.p,h.M];if(b)i.push(N?u:h.kD);for(var P=0;P<r.c9.length;P++){i.push(r.c9[P].iJ(new bf(0,0,r.d,r.r)))}var A=D;
for(var H=0;H<i.length;H++){j.yg(D,C*w+4);u=i[H];if(Y==0||Y==2||Y==3)D=ai.my(r.YQ,u,j.data,C,w,D,Y);
else{var F=r.YQ?4:2;if(H==0)D+=i.length*w*F;var T=D;D+=ai.$p(u,j.data,C,w,A+H*w*F,D,F)}}return D};function j0(){}j0.$g=function(r){var j={};
j0.ww(r,j,0,0);return j};j0.FD=function(r,j){var D=0;D=j0.SE(r,j,D,0);return D};j0.ww=function(r,j,D,N){while(r[D]!="<".charCodeAt(0))D++;
D+=2;while(!0){if(r[D]=="/".charCodeAt(0)){D++;var b=l.indexOf(r," ".charCodeAt(0),D,D+50),Y=l.indexOf(r,"\n".charCodeAt(0),D,D+50);
if(Y==-1)Y=Infinity;if(b==-1)b=Infinity;var x=Math.min(Y,b),C=l.Km(r,D,x-D),w=j0.jg(r,x+1,N+1,C);j[C]=w.m;
D=x+1;D+=w.size}else if(r[D]==">".charCodeAt(0)){D+=2;break}else{var q=r[D];if(q==10||q==9||q==32)D++;
else{console.log("unknown byte: "+q+", char: "+String.fromCharCode(q),D);D++}}}return D};j0.SE=function(r,j,D,N){l.Ty(j,D,"<<\n");
D+=3;var b=j0.a4X;for(var Y in r){l.k5(j,D,"\t".charCodeAt(0),N+1);D+=N+1;l.Ty(j,D,"/"+Y);D+=1+Y.length;
if(b(r[Y])||r[Y]instanceof Array){l.Ty(j,D," ");D++}else{l.Ty(j,D,"\n");D++;l.k5(j,D,"\t".charCodeAt(0),N+1);
D+=N+1}D=j0.Jv(r[Y],j,D,N+1);l.Ty(j,D,"\n");D++}l.k5(j,D,"\t".charCodeAt(0),N);D+=N;l.Ty(j,D,">>");D+=2;
return D};j0.jg=function(r,j,D,N){var b=j,Y={size:0,m:0};while(!0){while(r[j]==" ".charCodeAt(0)||r[j]=="\t".charCodeAt(0)||r[j]=="\n".charCodeAt(0))j++;
if(r[j]=="<".charCodeAt(0)){Y.m={};j=j0.ww(r,Y.m,j,D+1);break}else if(r[j]=="(".charCodeAt(0)){j+=3;
var x=j;while(!0){if(r[x-1]!="\\".charCodeAt(0)&&r[x]==")".charCodeAt(0)&&(r[x+1]=="\n".charCodeAt(0)||r[x+1]==" ".charCodeAt(0)))break;
else x++}Y.m=l.ze(r,j,x);j=x+2;break}else if(r[j]=="[".charCodeAt(0)){j++;Y.m=[];while(r[j]==" ".charCodeAt(0)||r[j]=="\t".charCodeAt(0)||r[j]=="\n".charCodeAt(0))j++;
while(r[j]!="]".charCodeAt(0)){var C=j0.jg(r,j,D+1,N);Y.m.push(C.m);j+=C.size;while(r[j]==" ".charCodeAt(0)||r[j]=="\t".charCodeAt(0)||r[j]=="\n".charCodeAt(0))j++}j++;
break}else{var w=l.indexOf(r," ".charCodeAt(0),j,j+50),q=l.indexOf(r,"\n".charCodeAt(0),j,j+50);if(q==-1)q=Infinity;
if(w==-1)w=Infinity;var u=l.Km(r,j,Math.min(w,q)-j).trim(),h=parseFloat(u);if(!isNaN(h)){Y.m=parseFloat(u);
j=Math.min(w,q)+1;break}else if(u=="true"||u=="false"){Y.m=u=="true";j=Math.min(w,q)+1;break}else if(u=="null"||u=="NaN"||u=="undefined"){Y.m=0;
j=Math.min(w,q)+1;break}else{console.log("unknown identifier: "+u);throw"e"}j=Math.min(w,q)+1}}Y.size=j-b;
return Y};j0.Jv=function(r,j,D,N){if(r instanceof Array){var b=r.length==0||typeof r[0]=="number";if(b){l.Ty(j,D,"[ ");
D+=2;for(var P=0;P<r.length;P++){var Y=r[P]+" ";l.Ty(j,D,Y);D+=Y.length}l.Ty(j,D,"]");D+=1}else{l.Ty(j,D,"[\n");
D+=2;for(var P=0;P<r.length;P++){l.k5(j,D,"\t".charCodeAt(0),N);D+=N;D=j0.Jv(r[P],j,D,N);l.Ty(j,D,"\n");
D++}l.k5(j,D,"\t".charCodeAt(0),N);D+=N;l.Ty(j,D,"]");D+=1}}else if(r instanceof Object){D=j0.SE(r,j,D,N)}else if(typeof r=="string"){l.Ty(j,D,"(");
D++;l.k5(j,D,254);D++;l.k5(j,D,255);D++;D=l.eW(j,D,r);l.Ty(j,D,")");D+=1}else{var Y=r+"";l.Ty(j,D,Y);
D+=Y.length}return D};j0.a4X=function(r){var j=typeof r;return j=="string"||j=="number"||j=="boolean"};
function hH(){}hH.$g=function(r){var j={};hH.S3(r,j,0,0);return j};hH.FD=function(r,j){var D=0;l.Ty(j,D," ");
D++;D=hH.dj(r,j,D,0);D--;j.yg(D,2);j.data[D]=j.data[D+1]=0;D+=2;return D};hH.ww=function(r,j,D,N){while(r[D]!="<".charCodeAt(0)){D++;
console.log("\u0161ipka")}D+=2;D=hH.S3(r,j,D,N);return D};hH.SE=function(r,j,D,N){l.Ty(j,D,"<< ");D+=3;
D=hH.dj(r,j,D,N);l.Ty(j,D,">>");D+=2;return D};hH.JX=function(r){return r==9||r==10||r==32};hH.S3=function(r,j,D,N){while(!0){while(hH.JX(r[D])||r[D]==0)D++;
if(D>=r.length)break;if(r[D]=="/".charCodeAt(0)){D++;var b=D;while(!hH.JX(r[b]))b++;var Y=l.Km(r,D,b-D);
D=b+1;var x=hH.jg(r,D,N,Y);j["_"+Y]=x.m;D+=x.size}else if(r[D]==">".charCodeAt(0)){D+=2;break}else{var C=r[D];
console.log(l.Km(r,D,D+100));console.log("unknown byte: "+C+", char: "+String.fromCharCode(C)+", offset: "+D);
D++;throw"e";return-1}}return D};hH.dj=function(r,j,D,N){for(var b in r){var Y=b.substring(1,b.length);
l.Ty(j,D,"/"+Y);D+=1+Y.length;l.Ty(j,D," ");D++;D=hH.Jv(r[b],j,D,N+1);l.Ty(j,D," ");D++}return D};hH.jg=function(r,j,D,N){var b=j,Y={type:"",size:0,m:0};
while(hH.JX(r[j]))j++;if(r[j]=="<".charCodeAt(0)){Y.type="Object";Y.m={};j=hH.ww(r,Y.m,j,D+1)}else if(r[j]=="(".charCodeAt(0)){Y.type="String";
j++;if(r[j]==")".charCodeAt(0)){Y.m="e";j++}else{j+=2;var x=j,C=0;while(!0){if(r[x]==")".charCodeAt(0)&&r[x-1]!="\\".charCodeAt(0))break;
else x+=1}Y.m="s"+l.ze(r,j,x);j=x+2}}else if(r[j]=="[".charCodeAt(0)){j++;Y.m=[];Y.type="Array";while(hH.JX(r[j]))j++;
while(r[j]!="]".charCodeAt(0)){var w=hH.jg(r,j,D+1,N);if(w==-1)return-1;Y.m.push(w.m);j+=w.size;delete w.size;
while(hH.JX(r[j]))j++}j++}else{var q=j;while(!hH.JX(r[q]))q++;var u=l.Km(r,j,q-j),h=parseFloat(u);if(!isNaN(h)&&u.indexOf(".")!=-1){Y.type="Float";
var z=parseFloat(u);Y.m="f"+z}else if(!isNaN(h)&&u.indexOf(".")==-1){Y.type="Integer";Y.m="i"+parseInt(u)}else if(u=="true"||u=="false"){Y.type="Boolean";
Y.m=u=="true"}else if(u.charAt(0)=="/"){Y.type="BString";Y.m=u}else if(u=="NaN"){Y.type="Float";Y.m="f0"}else{console.log("unknown value",JSON.stringify(u));
throw"e"}j=q+1}Y.size=j-b;return Y};hH.a3y=function(r){if(r==Math.round(r))return r+".0";var j=r.toFixed(5);
while(j.endsWith("0")&&j[j.length-2]!=".")j=j.slice(0,j.length-1);if(0<r&&r<1)j=j.slice(1);if(-1<r&&r<0)j="-"+j.slice(2);
return j};hH.Jv=function(r,j,D,N){var b=typeof r=="string"?r.charAt(0):"";if(r instanceof Array){l.Ty(j,D,"[ ");
D+=2;for(var P=0;P<r.length;P++){D=hH.Jv(r[P],j,D,N);l.Ty(j,D," ");D++}l.Ty(j,D,"]");D+=1}else if(r instanceof Object){D=hH.SE(r,j,D,N)}else if(b=="e"){l.Ty(j,D,"()");
D+=2}else if(b=="s"){l.Ty(j,D,"(");D++;l.k5(j,D,254);D++;l.k5(j,D,255);D++;D=l.eW(j,D,r.substring(1));
l.Ty(j,D,")");D++}else if(b=="/"){l.Ty(j,D,r);D+=r.length}else if(b=="f"){var Y=parseFloat(r.substring(1)),x=hH.a3y(Y);
l.Ty(j,D,x);D+=x.length}else if(b=="i"){l.Ty(j,D,r.substring(1));D+=r.length-1}else{var x=r+"";l.Ty(j,D,x);
D+=x.length}return D};function gJ(r,j){if(!r)r=0;if(!j)j=0;this.x=r;this.y=j}gJ.prototype.add=function(r){return new gJ(this.x+r.x,this.y+r.y)};
gJ.prototype.clone=function(){return new gJ(this.x,this.y)};gJ.prototype.yL=function(r){this.x=r.x;this.y=r.y};
gJ.prototype.gy=function(r){return this.x==r.x&&this.y==r.y};gJ.prototype.normalize=function(r){var j=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=r/j;this.y*=r/j};gJ.prototype.offset=function(r,j){this.x+=r;this.y+=j};gJ.prototype.Ho=function(r,j){this.x=r;
this.y=j};gJ.prototype.I5=function(r){return new gJ(this.x-r.x,this.y-r.y)};gJ.tA=function(r,j){return gJ.a2i(r.x,r.y,j.x,j.y)};
gJ.ov=function(r,j,D){return new gJ(r.x+D*(j.x-r.x),r.y+D*(j.y-r.y))};gJ.ama=function(r,j){return new gJ(r*Math.cos(j),r*Math.sin(j))};
gJ.a2i=function(r,j,D,N){return Math.sqrt((D-r)*(D-r)+(N-j)*(N-j))};gJ.ip={};gJ.wA={};gJ.ip.create=function(){var r=new Float32Array(4);
return r};gJ.wA.create=function(r){var j=new Float32Array(16);j[0]=j[5]=j[10]=j[15]=1;if(r)gJ.wA.set(r,j);
return j};gJ.ip.add=function(r,j,D){D[0]=r[0]+j[0];D[1]=r[1]+j[1];D[2]=r[2]+j[2];D[3]=r[3]+j[3]};gJ.ip.set=function(r,j){j[0]=r[0];
j[1]=r[1];j[2]=r[2];j[3]=r[3]};gJ.wA.set=function(r,j){j[0]=r[0];j[1]=r[1];j[2]=r[2];j[3]=r[3];j[4]=r[4];
j[5]=r[5];j[6]=r[6];j[7]=r[7];j[8]=r[8];j[9]=r[9];j[10]=r[10];j[11]=r[11];j[12]=r[12];j[13]=r[13];j[14]=r[14];
j[15]=r[15]};gJ.wA.multiply=function(r,j,D){var N=r[0],b=r[1],Y=r[2],x=r[3],C=r[4],w=r[5],q=r[6],u=r[7],h=r[8],z=r[9],O=r[10],g=r[11],t=r[12],$=r[13],i=r[14],A=r[15],H=j[0],F=j[1],T=j[2],_=j[3];
D[0]=H*N+F*C+T*h+_*t;D[1]=H*b+F*w+T*z+_*$;D[2]=H*Y+F*q+T*O+_*i;D[3]=H*x+F*u+T*g+_*A;H=j[4];F=j[5];T=j[6];
_=j[7];D[4]=H*N+F*C+T*h+_*t;D[5]=H*b+F*w+T*z+_*$;D[6]=H*Y+F*q+T*O+_*i;D[7]=H*x+F*u+T*g+_*A;H=j[8];F=j[9];
T=j[10];_=j[11];D[8]=H*N+F*C+T*h+_*t;D[9]=H*b+F*w+T*z+_*$;D[10]=H*Y+F*q+T*O+_*i;D[11]=H*x+F*u+T*g+_*A;
H=j[12];F=j[13];T=j[14];_=j[15];D[12]=H*N+F*C+T*h+_*t;D[13]=H*b+F*w+T*z+_*$;D[14]=H*Y+F*q+T*O+_*i;D[15]=H*x+F*u+T*g+_*A;
return D};gJ.wA.inverse=function(r,j){var D=r[0],N=r[1],b=r[2],Y=r[3],x=r[4],C=r[5],w=r[6],q=r[7],u=r[8],h=r[9],z=r[10],O=r[11],g=r[12],t=r[13],$=r[14],i=r[15],A=D*C-N*x,H=D*w-b*x,F=D*q-Y*x,T=N*w-b*C,_=N*q-Y*C,V=b*q-Y*w,X=u*t-h*g,o=u*$-z*g,c=u*i-O*g,E=h*$-z*t,f=h*i-O*t,d=z*i-O*$,s=A*d-H*f+F*E+T*c-_*o+V*X;
if(!s){return null}s=1/s;j[0]=(C*d-w*f+q*E)*s;j[1]=(b*f-N*d-Y*E)*s;j[2]=(t*V-$*_+i*T)*s;j[3]=(z*_-h*V-O*T)*s;
j[4]=(w*c-x*d-q*o)*s;j[5]=(D*d-b*c+Y*o)*s;j[6]=($*F-g*V-i*H)*s;j[7]=(u*V-z*F+O*H)*s;j[8]=(x*f-C*c+q*X)*s;
j[9]=(N*c-D*f-Y*X)*s;j[10]=(g*_-t*F+i*A)*s;j[11]=(h*F-u*_-O*A)*s;j[12]=(C*o-x*E-w*X)*s;j[13]=(D*E-N*o+b*X)*s;
j[14]=(t*H-g*T-$*A)*s;j[15]=(u*T-h*H+z*A)*s;return j};gJ.wA.a91=function(r,j,D){var N=j[0],b=j[1];D[0]=N*r[0]+b*r[4]+r[12];
D[1]=N*r[1]+b*r[5]+r[13]};gJ.wA.ait=function(r,j,D){var N=j[0],b=j[1],Y=j[2],x=j[3];D[0]=r[0]*N+r[4]*b+r[8]*Y+r[12]*x;
D[1]=r[1]*N+r[5]*b+r[9]*Y+r[13]*x;D[2]=r[2]*N+r[6]*b+r[10]*Y+r[14]*x;D[3]=r[3]*N+r[7]*b+r[11]*Y+r[15]*x};
function j9(r,j,D,N,b,Y){if(typeof r==="undefined"){r=1;j=0;D=0;N=1;b=0;Y=0}this.kD=r;this.M=j;this.Jy=D;
this.oq=N;this.Db=b;this.aF=Y}j9.prototype.zR=function(){return Math.sqrt(Math.abs(this.kD*this.oq-this.M*this.Jy))};
j9.prototype.nM=function(){var r=this,j=function(D){return Math.abs(D)<1e-9?0:D};r.kD=j(r.kD);r.M=j(r.M);
r.Jy=j(r.Jy);r.oq=j(r.oq);r.Db=j(r.Db);r.aF=j(r.aF)};j9.prototype.OT=function(r){return new gJ(r.x*this.kD+r.y*this.Jy+this.Db,r.x*this.M+r.y*this.oq+this.aF)};
j9.prototype.translate=function(r,j){this.Db+=r;this.aF+=j};j9.prototype.rotate=function(r){var j=new j9(Math.cos(r),-Math.sin(r),Math.sin(r),Math.cos(r),0,0);
this.concat(j)};j9.prototype.scale=function(r,j){var D=new j9(r,0,0,j,0,0);this.concat(D)};j9.prototype.concat=function(r){this.yL(new j9(this.kD*r.kD+this.M*r.Jy,this.kD*r.M+this.M*r.oq,this.Jy*r.kD+this.oq*r.Jy,this.Jy*r.M+this.oq*r.oq,this.Db*r.kD+this.aF*r.Jy+r.Db,this.Db*r.M+this.aF*r.oq+r.aF))};
j9.prototype.gq=function(){var r=this.kD*this.oq-this.M*this.Jy;this.yL(new j9(this.oq/r,-this.M/r,-this.Jy/r,this.kD/r,(this.Jy*this.aF-this.oq*this.Db)/r,(this.M*this.Db-this.kD*this.aF)/r))};
j9.prototype.clone=function(){return new j9(this.kD,this.M,this.Jy,this.oq,this.Db,this.aF)};j9.prototype.yL=function(r){this.kD=r.kD;
this.M=r.M;this.Jy=r.Jy;this.oq=r.oq;this.Db=r.Db;this.aF=r.aF};function l(){}l.aio=function(eK){var r="";
for(var P=3;P>=0;P--)r+=String.fromCharCode(eK>>P*8&255);return r};l.a2q=function(r){var eK=0;for(var P=r.length-1;
P>=0;P--)eK|=r.charCodeAt(P)<<(3-P)*8;return eK};l.indexOf=function(r,j,D,N){if(D==null)D=0;if(N==null)N=r.length;
N=Math.min(N,r.length);for(var P=D;P<N;P++)if(r[P]==j)return P;return-1};l.NY=function(r,j,D){if(D==null)D=0;
var N=j.length,b=r.length-N;if(typeof j=="string"){var Y=[];for(var P=0;P<N;P++)Y.push(j.charCodeAt(P));
j=Y}if(j.length>0){var x=j[0];for(var P=D;P<b;P++)if(r[P]==x){var C=!0;for(var w=1;w<N;w++)if(j[w]!=r[P+w]){C=!1;
break}if(C)return P}}return-1};l.ze=function(r,j,D){var N=[],Y="";while(j<D){var b=r[j++];if(b=="\\".charCodeAt(0))N.push(r[j++]);
else N.push(b)}for(var P=0;P<N.length;P+=2)Y+=String.fromCharCode(N[P]<<8|N[P+1]);return Y};l.ao7=function(r,j,D){var N=new Uint8Array(2);
for(var P=0;P<D.length;P++){l.FK(N,0,D.charCodeAt(P));if(N[0]==")".charCodeAt(0)||N[0]=="(".charCodeAt(0)||N[0]=="\\".charCodeAt(0)){r[j]="\\".charCodeAt(0);
j++}r[j]=N[0];j++;if(N[1]==")".charCodeAt(0)||N[1]=="(".charCodeAt(0)||N[1]=="\\".charCodeAt(0)){r[j]="\\".charCodeAt(0);
j++}r[j]=N[1];j++}return j};l.eW=function(r,j,D){r.yg(j,4*D.length);return l.ao7(r.data,j,D)};l.p2=function(r,j,D){var N="";
for(var P=0;P<D;P++){var b=r[j++]|r[j++]<<8;N+=String.fromCharCode(b)}return N};l.cB=function(r,j,D){var N="";
for(var P=0;P<D;P++){var b=r[j++]<<8|r[j++];N+=String.fromCharCode(b)}return N};l.a8c=function(r,j,D){for(var P=0;
P<D.length;P++){var N=D.charCodeAt(P);l.N2(r,j+2*P,N)}};l.Ns=function(r,j,D){for(var P=0;P<D.length;
P++){var N=D.charCodeAt(P);l.FK(r,j+2*P,N)}};l.ag8=function(r,j,D){r.yg(j,2*D.length);l.Ns(r.data,j,D)};
l.amv=function(r,P,j){var D=[],N=0,b=0;j+=P;while(P<j){N=r[P++];if((N&128)==0)b=N;else if((N&224)==192){b=(N&31)<<6;
N=r[P++];b|=N&63}else if((N&240)==224){b=(N&15)<<12;N=r[P++];b|=(N&63)<<6;N=r[P++];b|=N&63}else if((N&248)==240){b=(N&7)<<18;
N=r[P++];b|=(N&63)<<12;N=r[P++];b|=(N&63)<<6;N=r[P++];b|=N&63}else throw"e";D.push(b)}return D};l.gH=window.TextDecoder?new window.TextDecoder("utf8"):null;
l.Hi=function(r,j,D){if(j==null)j=0;if(D==null)D=r.length;if(l.gH&&j==0&&D==r.length)return l.gH.decode(r);
var N=l.amv(r,j,D),b=N.length;for(var P=0;P<b;P++)N[P]=String.fromCharCode(N[P]);return N.join("")};
l.fP=window.TextEncoder?new window.TextEncoder("utf8"):null;l.IH=function(r){if(l.fP)return l.fP.encode(r);
var j=new Uint8Array(r.length*4),D=l.Ws(r,j,0);return j.slice(0,D)};l.Ws=function(r,j,D){var N=r.length,P=0;
for(var b=0;b<N;b++){var Y=r.charCodeAt(b);if((Y&4294967295-(1<<7)+1)==0){j[D+P]=Y;P++}else if((Y&4294967295-(1<<11)+1)==0){j[D+P]=192|Y>>6;
j[D+P+1]=128|Y>>0&63;P+=2}else if((Y&4294967295-(1<<16)+1)==0){j[D+P]=224|Y>>12;j[D+P+1]=128|Y>>6&63;
j[D+P+2]=128|Y>>0&63;P+=3}else if((Y&4294967295-(1<<21)+1)==0){j[D+P]=240|Y>>18;j[D+P+1]=128|Y>>12&63;
j[D+P+2]=128|Y>>6&63;j[D+P+3]=128|Y>>0&63;P+=4}else throw"e"}return P};l.LC=function(r,j){var D=l.q(r,j),N=l.Hi(r,j+4,D-1);
return{z1:N,w$:4+D}};l.abZ=function(r,j){var D=l.gW(r,j),N=l.p2(r,j+4,D);return N};l._9=function(r,j){var D=l.q(r,j),N=l.cB(r,j+4,D);
return N};l.NC=function(r,j){var D=l.q(r,j),N=l.cB(r,j+4,D-1);return N};l.aln=function(r,j,D){l.Wh(r,j,D.length);
j+=4;l.a8c(r,j,D)};l.a3X=function(r,j,D){l.$$(r,j,D.length);j+=4;l.Ns(r,j,D)};l.ju=function(r,j,D){r.yg(j,4+2*D.length);
l.a3X(r.data,j,D)};l.ae9=function(r,j,D){r.yg(j,4+2*D.length);l.aln(r.data,j,D)};l.cq=function(r,j,D){var N=[];
for(var P=0;P<D;P++)N.push(String.fromCharCode(r[j+P]));return N};l.aed=function(r,j,D){var N=!1,b=r.length-D.length;
for(var P=j;P<b;P++){for(var Y=0;Y<D.length;Y++){if(r[P+Y]!=D.charCodeAt(Y))break;if(Y==D.length-1)return P}}};
l.Km=function(r,j,D){var N="";for(var P=0;P<D;P++)N+=String.fromCharCode(r[j+P]);return N};l.k3=function(r,j,D){for(var P=0;
P<D.length;P++)r[j+P]=D.charCodeAt(P)};l.Ty=function(r,j,D){r.yg(j,D.length);l.k3(r.data,j,D)};l.aes=function(r,j,D){var N="";
for(var P=0;P<D;P++){var b=r[j+P];if(b<10)N+="  ";else if(b<100)N+=" ";N+=b+", "}return N};l.h$=function(r,j){return r[j]<<8|r[j+1]};
l.FK=function(r,j,eK){r[j]=eK>>8&255;r[j+1]=eK&255};l.fg=function(r,j,eK){r.yg(j,4);l.FK(r.data,j,eK)};
l.asO=function(r,j){var D=l.h$(r,j),N=l.h$(r,j+2);return D+N*(1/65536)};l.X8=function(r,j,eK){var D=Math.floor(eK),N=Math.floor((eK-D)*65536);
l.FK(r,j,D);l.FK(r,j+2,N)};l.Vz=function(r,j){return r[j+1]<<8|r[j]};l.N2=function(r,j,eK){r[j+1]=eK>>8&255;
r[j]=eK&255};l.jx=function(r,j,eK){r.yg(j,4);l.N2(r.data,j,eK)};l.oB=function(r,j){l.ux[0]=r[j+1];l.ux[1]=r[j];
return l._A[0]};l.iP=function(r,j){l.ux[0]=r[j];l.ux[1]=r[j+1];return l._A[0]};l.Ms=l.FK;l.k1=l.fg;l.iV=function(r,j){l.ld[0]=r[j+3];
l.ld[1]=r[j+2];l.ld[2]=r[j+1];l.ld[3]=r[j];return l.dZ[0]};l.u_=function(r,j,eK){l.dZ[0]=eK;r[j+3]=l.ld[0];
r[j+2]=l.ld[1];r[j+1]=l.ld[2];r[j+0]=l.ld[3]};l.jN=function(r,j,eK){r.yg(j,4);l.u_(r.data,j,eK)};l.td=function(r,j,D,N){D[N+0]=r[j+0];
D[N+1]=r[j+1];D[N+2]=r[j+2];D[N+3]=r[j+3]};l.gW=function(r,j){l.td(r,j,l.ld,0);return l.nb[0]};l.Wh=function(r,j,eK){l.nb[0]=eK;
l.td(l.ld,0,r,j)};l._z=function(r,j,eK){r.yg(j,4);l.Wh(r.data,j,eK)};l.tG=function(r,j){l.td(r,j,l.ld,0);
return l.dZ[0]};l.alW=function(r,j,eK){l.dZ[0]=eK;l.td(l.ld,0,r,j)};l.a80=function(r,j,eK){r.yg(j,4);
l.alW(r.data,j,eK)};l.q=function(r,j){var D=r[j]*(256*256*256)+(r[j+1]<<16|r[j+2]<<8|r[j+3]);return D};
l.$$=function(r,j,eK){r[j]=eK>>24&255;r[j+1]=eK>>16&255;r[j+2]=eK>>8&255;r[j+3]=eK>>0&255};l.SB=function(r,j,eK){r.yg(j,4);
l.$$(r.data,j,eK)};l.Si=function(r,j){return l.q(r,j)<<32|l.q(r,j+4)};l.aD=function(r,j,eK){l.$$(r,j,eK>>16>>16);
l.$$(r,j+4,eK&4294967295)};l.as=function(r,j,eK){r.yg(j,8);l.aD(r.data,j,eK)};l.wT=function(r,j){var D=new Uint8Array(8);
for(var P=0;P<8;P++)D[P]=r[j+7-P];var N=new Float64Array(D.buffer);return N[0]};l.LH=function(r,j){var D=new Uint8Array(8);
for(var P=0;P<8;P++)D[P]=r[j+P];var N=new Float64Array(D.buffer);return N[0]};l.rt=function(r,j,eK){var D=new Float64Array(1);
D[0]=eK;var N=new Uint8Array(D.buffer);for(var P=0;P<4;P++){var b=N[P];N[P]=N[7-P];N[7-P]=b}for(var P=0;
P<8;P++)r[j+P]=N[P]};l.oE=function(r,j,eK){r.yg(j,8);l.rt(r.data,j,eK)};l.Ej=function(r,j){l.ld[0]=r[j+3];
l.ld[1]=r[j+2];l.ld[2]=r[j+1];l.ld[3]=r[j+0];return l.bD[0]};l.eh=function(r,j){l.ld[0]=r[j+0];l.ld[1]=r[j+1];
l.ld[2]=r[j+2];l.ld[3]=r[j+3];return l.bD[0]};l.iR=function(r,j,eK){l.bD[0]=eK;r[j+0]=l.ld[3];r[j+1]=l.ld[2];
r[j+2]=l.ld[1];r[j+3]=l.ld[0]};l.alC=function(r,j,eK){r.yg(j,4);l.iR(r.data,j,eK)};l.Tm=function(r,j,eK){l.bD[0]=eK;
r[j+0]=l.ld[0];r[j+1]=l.ld[1];r[j+2]=l.ld[2];r[j+3]=l.ld[3]};l.a8S=function(r,j,eK){r.yg(j,4);l.Tm(r.data,j,eK)};
l.ahg=function(r,j){var D=l.iV(r,j),N=D*(1/(1<<24));return N};l.$_=function(r,j,D){var N=Math.floor(D*(1<<24));
l.u_(r,j,N)};l.ai2=function(r,j,D){r.yg(j,4);l.$_(r.data,j,D)};l.Iv=function(r,j){var D=r[j],N=l.Km(r,j+1,D);
D+=1-D%2;return{Yg:N,length:D+1}};l.aa2=function(r,j,D){var N=D.length;r[j]=N;l.k3(r,j+1,D);if(N%2==0){r[j+1+N]=0;
++N}return N+1};l.$f=function(r,j,D){r.yg(j,D.length+2);return l.aa2(r.data,j,D)};l.hN=function(r,j){var D=new j9;
D.kD=l.wT(r,j+0*8);D.M=l.wT(r,j+1*8);D.Jy=l.wT(r,j+2*8);D.oq=l.wT(r,j+3*8);D.Db=l.wT(r,j+4*8);D.aF=l.wT(r,j+5*8);
return D};l.My=function(r,j,D){l.rt(r,j+0*8,D.kD);l.rt(r,j+1*8,D.M);l.rt(r,j+2*8,D.Jy);l.rt(r,j+3*8,D.oq);
l.rt(r,j+4*8,D.Db);l.rt(r,j+5*8,D.aF)};l.a1_=function(r,j,D){r.yg(j,48);l.My(r.data,j,D)};l.aso=function(r,j){var D=l.Ej(r,j),N=l.Ej(r,j+4),b=l.Ej(r,j+8),Y=l.Ej(r,j+12);
return new bf(D,N,b-D,Y-N)};l.a6S=function(r,j,D){l.iR(r,j,D.x);l.iR(r,j+4,D.y);l.iR(r,j+8,D.x+D.d);
l.iR(r,j+12,D.y+D.r)};l.a1V=function(r,j,D){r.yg(j,16);l.a6S(r.data,j,D)};l.M7=function(r,j){var D=l.iV(r,j),N=l.iV(r,j+4),b=l.iV(r,j+8),Y=l.iV(r,j+12);
return new bf(N,D,Y-N,b-D)};l.Pd=function(r,j,D){l.u_(r,j,D.y);l.u_(r,j+4,D.x);l.u_(r,j+8,D.y+D.r);l.u_(r,j+12,D.x+D.d)};
l.xx=function(r,j,D){r.yg(j,16);l.Pd(r.data,j,D)};l.QD=function(r,j,D){var N=new Uint8Array(D);for(var P=0;
P<D;P++)N[P]=r[j+P];return N};l.Yf=function(r,j,D){r.set(D,j)};l.ga=function(r,j,D){r.yg(j,D.length);
l.Yf(r.data,j,D)};l.apN=function(r,j,D,eK){if(!eK)eK=1;for(var P=0;P<eK;P++)r[j+P]=D};l.k5=function(r,j,D,eK){if(!eK)eK=1;
r.yg(j,eK);l.apN(r.data,j,D,eK)};l._A=new Int16Array(1);l.ux=new Uint8Array(l._A.buffer);l.dZ=new Int32Array(1);
l.nb=new Uint32Array(l.dZ.buffer);l.ld=new Uint8Array(l.dZ.buffer);l.bD=new Float32Array(l.dZ.buffer);
function bf(r,j,D,N){if(!r)r=0;if(!j)j=0;if(!D)D=0;if(!N)N=0;this.x=r;this.y=j;this.d=D;this.r=N}bf.prototype.Z=function(){return this.d*this.r};
bf.prototype.clone=function(){return new bf(this.x,this.y,this.d,this.r)};bf.prototype.contains=function(r,j){return r>=this.x&&r<=this.x+this.d&&(j>=this.y&&j<=this.y+this.r)};
bf.prototype.yZ=function(r){return this.contains(r.x,r.y)};bf.prototype.Ob=function(r){return this.x<=r.x&&this.y<=r.y&&r.x+r.d<=this.x+this.d&&r.y+r.r<=this.y+this.r};
bf.prototype.yL=function(r){this.x=r.x;this.y=r.y;this.d=r.d;this.r=r.r};bf.prototype.gy=function(r){return this.x==r.x&&this.y==r.y&&this.d==r.d&&this.r==r.r};
bf.prototype.Fp=function(r,j){this.x-=r;this.y-=j;this.d+=2*r;this.r+=2*j};bf.prototype.al7=function(r){this.Fp(r.x,r.y)};
bf.prototype.su=function(r){var j=Math.max(this.x,r.x),D=Math.max(this.y,r.y),N=Math.min(this.x+this.d,r.x+r.d),b=Math.min(this.y+this.r,r.y+r.r);
if(N<j||b<D)return new bf;else return new bf(j,D,N-j,b-D)};bf.prototype.CI=function(r){if(r.y+r.r<this.y||r.x>this.x+this.d||r.y>this.y+this.r||r.x+r.d<this.x)return!1;
return!0};bf.prototype.jE=function(){return this.d<=0||this.r<=0};bf.prototype.offset=function(r,j){this.x+=r;
this.y+=j};bf.prototype.lK=function(r){this.offset(r.x,r.y)};bf.prototype.ahF=function(){this.x=this.y=this.d=this.r=0};
bf.prototype.Ho=function(r,j,D,N){this.x=r;this.y=j;this.d=D;this.r=N};bf.prototype.zs=function(r){if(this.jE())return r.clone();
if(r.jE())return this.clone();var j=this.clone();j.aqT(r);return j};bf.x7=new Float32Array(2);bf.prototype.aqT=function(r){if(r.jE())return;
if(this.jE()){this.yL(r);return}this.gj(r.x,r.y);this.gj(r.x+r.d,r.y+r.r)};bf.prototype.gj=function(r,j){var D=Math.min(this.x,r),N=Math.min(this.y,j);
this.d=Math.max(this.x+this.d,r)-D;this.r=Math.max(this.y+this.r,j)-N;this.x=D;this.y=N};bf.prototype.am6=function(r,j){this.x=r;
this.y=j;this.d=this.r=0};function iS(){}iS.$g=function(r,j){var D=new Uint8Array(r),N=0,b=l.Km(D,N,9),C=4,w=100;
N+=9;var Y=l.Km(D,N,4);N+=4;N++;j.d=l.q(D,N);N+=4;j.r=l.q(D,N);N+=4;var x=l.q(D,N);N+=4;if(x!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(Y)==-1){w=l.q(D,N);N+=4;if(parseInt(Y.slice(1))>=7){w=w}else alert("Unknown XCF version: "+Y);
C=8}var q={};N=iS.mv(D,N,q);var u=[];N=iS.mr(D,N,u,C);var h=[];N=iS.mr(D,N,h,C);j.cy=0;for(var P=0;P<u.length;
P++)iS.aaC(D,u[P],j,q,C,w);while(j.cy>0){j.j.push(j.Hc());j.cy--}j.j.reverse();delete j.cy;j.buffer=R.O(j.d*j.r*4);
if(j.j.length==0)console.log("No layers!!!");for(var P=0;P<h.length;P++){var z=iS.c1(D,h[P],q,C,w);if(z.fI[c8.amt])j.c={channel:z.RB,rect:new bf(0,0,j.d,j.r)}}};
iS.aaC=function(r,j,D,N,b,Y){var x=D.Xp(),C=l.q(r,j),h=0;j+=4;var w=l.q(r,j);j+=4;x.rect=new bf(0,0,C,w);
var q=l.q(r,j);j+=4;var u=l.LC(r,j);j+=u.w$;x.Lp(u.z1);var z={};j=iS.mv(r,j,z);if(z[c8.qQ]){var O=z[c8.qQ];
h=O.length/4-1}if(z[c8.FB]){x.rect.x=l.iV(z[c8.FB],0);x.rect.y=l.iV(z[c8.FB],4)}if(z[c8.kn]){x.opacity=l.q(z[c8.kn],0)}if(z[c8.aee]){x.add.lsct=bH.nV;
x.rect=new bf(0,0,0,0);x.buffer=R.O(0);x.Qk=24}if(z[c8.ZT]){var g=l.q(z[c8.ZT],0);x.yp=c8.amd[g];if(x.iO()&&x.yp=="norm")x.yp="pass"}if(z[c8.Mb]){if(l.q(z[c8.Mb],0)==0)x.Qk+=2}if(z[c8.oZ]){var t=l.q(z[c8.oZ],0);
x.add.lsct=t&1==1?bH.nV:bH.$w}if(z[c8.cF]){var $=z[c8.cF];for(var i in $){var A=$[i];if(i=="gimp-text-layer"){var H=iS.aka(A),F=H.text,T=H.font,_=H.color,V=H["font-size"];
if(F==null&&H.markup){var X=new DOMParser,o=X.parseFromString(H.markup,"image/svg+xml");while(o.firstChild!=null&&o.firstChild.tagName!=null){o=o.firstChild;
var c=o.getAttribute("font"),E=o.getAttribute("foreground"),f=o.getAttribute("size");if(c!=null)T=c;
if(E!=null){E=CSS.K5(E);_=[1,E.a/255,E.p/255,E.M/255]}if(f!=null){V=""+parseFloat(f)/245}}F=o.textContent}x.add.lnsr="rend";
x.add.TySh=cU.WJ(0,0);x.add.TySh.DU=new bf(0,0,100,100);x.add.TySh.F=new j9(1,0,0,1,x.rect.x,x.rect.y);
var d=x.add.TySh.d1;cU._w(d,0,F);var s=cU.eZ(d,0,0),B=H.justify,a=H["line-spacing"];if(_)s.WQ.FillColor={Type:1,Values:[1,parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3])]};
if(V){V=Math.round(parseFloat(V));s.WQ.FontSize=V;x.add.TySh.F.aF+=Math.min(17,V*.17)}if(a){a=Math.round(parseFloat(a)+s.WQ.FontSize*1.2);
s.WQ.Leading=a;s.WQ.AutoLeading=!1}if(B)s.Av.Justification=["left","right","center","fill"].indexOf(B);
if(T&&T!="Sans-serif"){var U=T.toLowerCase(),M="bold italic semi extra regular condensed light".split(" "),W=U.length;
for(var P=0;P<M.length;P++){var n=U.indexOf(M[P]);if(n!=-1&&n<W&&U[n-1]==" ")W=n}if(W!=U.length)T=T.slice(0,W-1).split(" ").join("")+"-"+T.slice(W).split(" ").join("");
cU.ht(s,T)}cU.lc(d,0,F.length,s);var e=H["box-width"],Q=H["box-height"],J=e?parseFloat(e):x.rect.d,m=Q?parseFloat(Q):x.rect.r;
cU.jp(d,1);cU.TS(d,[0,0,Math.ceil(J),Math.ceil(m)])}else console.log("Unknown property "+i)}}while(D.cy>h){D.j.push(D.Hc());
D.cy--}D.cy=h;if(x.add.lsct==bH.nV||x.add.lsct==bH.$w)D.cy++;var p=b==4?l.q:l.Si;if(x.bp()){x.buffer=R.O(x.rect.Z()*4);
var L=new R.oj(x.rect.Z()),S=p(r,j);j+=b;var eJ=p(r,j);j+=b;iS.Ds(r,S,L,N,b,Y);R.Ke(L,x.buffer);if(eJ!=0){x.B=new G.Jz;
x.B.color=0;x.B.rect=x.rect.clone();x.B.channel=iS.c1(r,eJ,N,b,Y).RB;if(z[c8.RS])x.B.isEnabled=l.q(z[c8.RS],0)==1}}D.j.push(x)};
iS.aka=function(r){var j="("+l.Hi(r,0,r.length-1)+")",D=[],N={};iS.K7(j,1,D);iS.aml(D,N);return N};iS.aml=function(r,j){for(var P=0;
P<r.length;P++){var D=r[P],N=D[0];if(D.length==2)j[N]=D[1];else j[N]=D.slice(1)}};iS.K7=function(r,j,D){while(!0){if(j>=r.length)throw"e";
var N=r.charAt(j);j++;if(N=="("){var b=[];j=iS.K7(r,j,b);D.push(b)}else if(N==" "||N=="\n"||N=="\r"){}else if(N==")")return j;
else if(N=="\""){var Y=j;while(!0){var x=r[j];j++;if(x=="\"")break;if(x=="\\")j++}D.push(JSON.parse(r.slice(Y-1,j)))}else{var Y=j-1;
while(r[j]!=" "&&r[j]!=")")j++;D.push(r.slice(Y,j))}}};iS.c1=function(r,j,D,N,b){var Y=l.q(r,j);j+=4;
var x=l.q(r,j);j+=4;var C=l.LC(r,j);j+=C.w$;var w={};j=iS.mv(r,j,w);var q=new R.oj(Y*x),u=N==4?l.q:l.Si,h=u(r,j);
j+=N;iS.Ds(r,h,q,D,N,b);return{RB:q.a,fI:w}};iS.Ds=function(r,j,D,N,b,Y){var x=l.q(r,j);j+=4;var C=l.q(r,j);
j+=4;var w=l.q(r,j);j+=4;var q=b==4?l.q:l.Si,u=q(r,j);j+=b;iS.a34(r,u,D,N,w,b,Y)};iS.a34=function(r,j,D,N,b,Y,x){var C=l.q(r,j),u=0,P=0;
j+=4;var w=l.q(r,j);j+=4;var q=new bf(0,0,C,w);if(x==100||x==150)u=1;else if(x==200||x==250)u=2;else if(x==300||x==350)u=4;
else if(x==500||x==550)u=2;else if(x==600||x==650)u=4;else if(x==700||x==750)u=8;else{alert("unsupported bit depth "+x);
throw"e"}var h=b/u,u=Math.round(b/h),z=[];j=iS.mr(r,j,z,Y);var O=new R.oj(64*64*u),g=new bf,t=N[c8.a0C][0],$=[O.a,O.p,O.M,O.kD];
if(h==3)O.kD.fill(255);var i=Date.now();for(var A=0;A<w;A+=64)for(var H=0;H<C;H+=64){var F=Math.min(C-H,64),T=Math.min(w-A,64),_=F*T;
g.Ho(H,A,F,T);iS.abU(r,z[P++],_*u,t,h,$);if(x==100||x==150){}else if(x==250){for(var V=0;V<h;V++){var X=$[V];
for(var o=0;o<_;o++){var c=X[o]<<8|X[_+o];X[o]=Math.min(c>>>8,255)}}}else if(x==600){var E=iS.ah7(),f=new Uint32Array(1),d=new Float32Array(f.buffer);
for(var V=0;V<h;V++){var X=$[V];for(var o=0;o<_;o++){f[0]=X[o]<<24|X[_+o]<<16|X[(_<<1)+o]<<8|X[(_<<1)+_+o]<<0;
var s=d[0];if(s<0)s=0;else if(s>1)s=1;X[o]=E[~~(.5+s*1e3)]}}}else console.log("unknown data format",x);
R.WL(O,g,D,q)}};iS.ah7=function(){var r=iS.acw;if(r!=null)return r;r=iS.acw=new Uint8Array(1001);for(var P=0;
P<1001;P++)r[P]=~~(.49+255*R.Ef(P*.001));return r};iS.abU=function(r,j,D,N,b,Y){if(N==1){for(var x=0;
x<b;x++){var C=Y[x],w=0;while(w<D){var eK=r[j];j++;if(eK<127){var q=r[j];j++;eK++;for(var P=0;P<eK;P++)C[w+P]=q}else if(eK==127){var u=r[j];
j++;var h=r[j];j++;var q=r[j];j++;eK=u<<8|h;for(var P=0;P<eK;P++)C[w+P]=q}else if(eK==128){var u=r[j];
j++;var h=r[j];j++;eK=u<<8|h;for(var P=0;P<eK;P++)C[w+P]=r[j+P];j+=eK}else{eK=256-eK;for(var P=0;P<eK;
P++)C[w+P]=r[j+P];j+=eK}w+=eK}}}else if(N==2){var z=pako.inflate(r.slice(j)),O=Math.round(z.length/D);
for(var P=0;P<D;P++){var g=P*O;Y[0][P]=z[g];Y[1][P]=z[g+1];Y[2][P]=z[g+2];Y[3][P]=O==3?255:z[g+3]}}else alert("Unknown compression "+N)};
iS.mr=function(r,j,D,N){var b=N==4?l.q:l.Si;while(!0){var Y=b(r,j);j+=N;if(Y==0)break;else D.push(Y)}return j};
iS.mv=function(r,j,D){while(!0){var N=l.q(r,j);j+=4;var b=l.q(r,j);j+=4;if(N==c8.ajC)break;else if(N==c8.cF)D[N]=iS.aqI(r,j,j+b);
else D[N]=l.QD(r,j,b);j+=b}return j};iS.aqI=function(r,j,D){var N={};while(j<D){var b=l.LC(r,j);j+=b.w$;
var Y=l.q(r,j);j+=4;if(Y!=1)console.log("unknown flags",Y);var x=l.q(r,j);j+=4;N[b.z1]=l.QD(r,j,x);j+=x}return N};
var c8={ajC:0,aeP:1,ajW:2,aqa:3,amt:4,aeB:5,kn:6,ZT:7,Mb:8,a1r:9,adp:10,RS:11,a8R:12,an5:13,aqO:14,FB:15,a1t:16,a0C:17,al$:18,afh:19,aoU:20,cF:21,aeZ:22,arM:23,a7R:24,a0I:25,aer:26,abw:27,abY:28,aee:29,qQ:30,oZ:31,aou:32,a7n:33,a7Z:34,af0:35,ahv:36,ah0:37,a7D:38,abk:0,anc:1,a8A:2,abn:3,a2_:1,ajl:2,a7E:0,a3l:1,abT:1};
c8.amd="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var f7=function(){var r=!1,j,D,H;function N(){var _=l.Km(j,D,4);D+=4;return _[3]+_[2]+_[1]+_[0]}function b(){var _=l.Km(j,D,4);
D+=4;return _}function Y(){var _=j[D];D+=1;return _}function x(){var _=l.Vz(j,D);D+=2;return _}function C(){var _=l.gW(j,D);
D+=4;return _}function w(){var _=l.tG(j,D);D+=4;return _}function q(){var _=l.gW(j,D);D+=8;return _}function u(){var _=l.eh(j,D);
D+=4;return _}function h(){var _=l.LH(j,D);D+=8;return _}function z(){var _=l.Vz(j,D),V=l.Hi(j,D+2,_);
D+=2+_;return V}function O(){var _=l.gW(j,D),V=l.Hi(j,D+4,_);D+=4+_;return V}function g(_){D=_;var V=[];
while(D!=0){var X=b();if(X!="#FT4"&&X!="#FT3"&&X!="#FT2")throw X;var o=q(),c=q(),E=q(),f=q(),d=q(),s=C(),B=C(),a=C(),U=x(),M=Y(),W={};
V.push(W);for(var P=0;P<s;P++){var n=C(),e=Y();if(e!=0&&e!=1&&e!=2)throw e;var Q=[];if(e==0||e==1){var J=q(),m=q(),p=q(),L=C(),S=Y(),eJ=C(),hy=X!="#FT4"?0:C(),v=null;
if(X=="#FAT"||X=="#FT2"){switch(S){case 1:S=1;break;case 2:S=65;break;case 3:S=129;break;case 4:S=193;
break;default:S=0;break}}if(e==0)v=z();Q=[J,m,p,S,v]}W["i"+n]=[e,Q]}for(var P=0;P<U;P++){var ff=x(),K=x(),jo=q(),g5=l.Km(j,D,ff);
D+=ff}D=o}V.reverse();for(var fQ=1;fQ<V.length;fQ++){var W=V[fQ],iT=V[fQ]=JSON.parse(JSON.stringify(V[fQ-1]));
for(var ac in W){var aR=W[ac];if(aR[0]==0)iT[ac]=aR;else if(aR[0]==1){aR[1][4]=iT[ac][1][4];iT[ac]=aR}else if(aR[0]==2)delete iT[ac]}}var hV=V.pop(),cu=[];
for(var ac in hV)cu.push(hV[ac][1]);cu.sort(function(iy,gr){return iy[0]-gr[0]});return cu}function t(_,V,X,o){while(D<j.length){var c=Y(),s=null;
if(c==0){if(o){var E=Y();if(E!=2){var f=N()}if(E==0)D+=4;o=!1;continue}else{break}}var d=N();if(r)console.log("  ".repeat(V),c,c&127,d,_._type);
if(c>127)s=$(c,V,X);else s=i(c,V,X);_[d]=s}}function $(_,V,X){var o=[];_=_&127;if(_==43)D+=4;var c=C();
if(_==50){var E=N(),f=x();if(f!=1)throw"e";for(var P=0;P<c;P++){var d={_status:"NotShared",_type:E};
o.push(d);var s=Y();if(s!=1)throw s;t(d,V+1,X)}}else for(var P=0;P<c;P++){o.push(i(_,V,X));if(_==42)_=2}return o}function i(_,V,X){var o=null;
if(_==49){o={};var c=Y();if(c!=0){var E=C();if(X==null){o._id=E;o._status=["Shared","Link"][c-1]}if(X&&c==2)o=X[E];
if(c==1){if(X)X[E]=o;var f=Y(),d=!1;if(f>1)throw f;o._type=N();if(r)console.log("  ".repeat(V),"new",o._type,f,D);
if(f==0){while(!0){var s=x();if(s!=0&&s!=1&&s!=2&&s!=4)throw s;if(j[D]!=0){d=!0;break}var B=x();if(B==512)break;
var a=N();if(B==256)break}}t(o,V+1,X,d)}}}else if(_==50){o={_status:"NotShared"};if(Y()==1){o._type=N();
D+=2;t(o,V+1,X)}}else if(_==1)o={type:"byte",value:Y()};else if(_==2)o={type:"uint16",value:x()};else if(_==3)o={type:"uint32",value:C()};
else if(_==4)o={type:"uint64",value:q()};else if(_==7)o={type:"int32",value:w()};else if(_==8)o={type:"int64",value:q()};
else if(_==9)o={type:"float32",value:u()};else if(_==10)o={type:"float64",value:h()};else if(_==21)o={type:"Vec2i",value:[C(),C()]};
else if(_==23)o={type:"Vec4i",value:[C(),C(),C(),C()]};else if(_==33)o={type:"Vec4f",value:[u(),u(),u(),u()]};
else if(_==36)o={type:"Vec2",value:[h(),h()]};else if(_==38)o={type:"Vec4",value:[h(),h(),h(),h()]};
else if(_==40)o={type:"Vec6",value:[h(),h(),h(),h(),h(),h()]};else if(_==41)o={type:"bool",value:Y()!=0};
else if(_==42)o={type:"Enum",value:C()};else if(_==43)o={type:"string",value:O()};else if(_==44){var U=x();
o={type:"curv16",value:[h(),U==12?[Y(),Y(),Y(),Y()]:[C(),C()]]}}else if(_==45){var U=C();o={type:"buff",value:j.slice(D,D+U)};
D+=U}else if(_==47){o={type:"uint32",value:C()}}else if(_==48){var M=[],W=x();if(W!=1)throw W;if(j[D]==135){var n=$(Y(),V+1,X),e=$(Y(),V+1,X),Q=$(Y(),V+1,X);
M=[n,e,Q]}else{var J=1;if(j[D]==3){Y();J=C()}for(var P=0;P<J;P++){if(Y()!=41)throw"e";var E=Y();if(E!=0&&E!=1)throw E;
if(Y()!=172)throw"e";var m=C(),p=x(),L=[];M.push(L);if(p!=18)throw p;if(m>2e3)throw m;for(var S=0;S<m;
S++)L.push([h(),h(),Y(),Y()])}}D++;o={type:"curve",value:M}}else if(_==51){o={type:"EmbeddedData"};o[N()]=O()}else if(_==52)o={type:"uint32",value:C()};
else if(_==56)o={type:"Color32",value:[Y(),Y(),Y(),Y()]};else if(_==68)o={type:"ColorRGBA",value:[u(),u(),u(),u()]};
else if(_==72)o={type:"ColorCMYK",value:[u(),u(),u(),u(),u()]};else{throw _}return _==49||_==50||_==51?o:o.value}function A(_){var V=0,X=_.length;
for(var P=0;P<X;P++)_[P]=V=V+_[P]&255}function F(_){j=_;D=4;var V=C(),X=b();if(X!="nsrP")throw X;var X=b();
if(X!="#Inf")throw X;var o=q();H=q();var c=q(),E=q(),f=q(),d=C(),s=C(),X=b();if(X!="Prot")throw X;var d=C(),B=g(o),a={},U=Date.now();
for(var M=0;M<B.length;M++){var W=B[M],n=W[3],p=null;D=W[0];var X=b();if(X!="#Fil")throw X;var e=n>>>5&1,Q=n&3,J=n&192;
switch(J){case 64:J=1;e=0;break;case 128:J=2;break;case 192:J=3;break;default:J=0;e=0}var m=new Uint8Array(j.buffer,D,W[2]);
if(Q==0)p=m;else if(Q==1)p=pako.inflate(m);else if(Q==2)p=aP.A9.QG(m,W[1]);else throw Q;if(e==0){if(J==1)A(p);
if(J==2)throw"e"}else throw e;a[W[4]]=p}return a}function T(_){var V=F(new Uint8Array(_));j=V["doc.dat"];
D=16;var X={};t(X,0,[]);return[V,X,H]}return{ak8:T}}();function iV(){}iV.$g=function(){function r(O,g){var t=Date.now(),$=f7.ak8(O),i=$[0],A=$[1],H=$[2],F=A.DocR,T=F.DfSz,_=F.Chld;
if(_.length!=1)throw"e";var V=_[0],X=V.SprB;_=V.Chld;g.d=~~X[2];g.r=~~X[3];g.buffer=R.O(g.d*g.r*4);var o=[0,{}];
for(var P=0;P<_.length;P++)b(_[P],g,i,new j9,o);g.WD(o[0]);console.log(Date.now()-t,"Document created");
t=Date.now()}function j(O){return new j9(O[0],O[3],O[1],O[4],O[2],O[5])}function D(O,g){var t=g.Xfrm;
t=t?j(t):new j9;t.concat(O);return t}function N(O){var g={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[O];
return g?g:"norm"}function b(O,g,t,$,i){var A=O._type,H=O.Chld,F=g.Xp();F.Lp(O.Desc==null||O.Desc==""?A=="Grup"?"Folder":"Layer":O.Desc);
F.yE(O.Visi);F.opacity=Math.round(255*O.Opac);if(O.FOpc!=1)F.add.iOpa=Math.round(255*O.FOpc);var T=O.Blnd;
if(T!=null)F.yp=N(T);var _=D($,O),V=A=="ShpN"||A=="PCrv";if(H){g.j.push(g.Hc());F.add.lsct=bH.nV;F.yp="pass";
F.Qk=24;if(A=="ShpN"){var X=O.ShpB;F.OD(new bf(X[0]+_.Db,X[1]+_.aF,X[2]-X[0],X[3]-X[1]));i[0]++;F.add.artb.Clr={t:"Objc",v:R._.XJ({a:255,p:255,M:255})}}for(var P=0;
P<H.length;P++)b(H[P],g,t,_,i)}else if(A=="Rstr"||A=="ImgN"||A=="MRst"){var o=O.Bitm,c=o.Bckg,E=Date.now(),f;
if(c==null){f=q(o,t,i[1]);F.rect=f[2].clone();F.buffer=f[1].slice(0);F.rect.x+=_.Db;F.rect.y+=_.aF}if(c||_.zR()!=1){var d,s=0,B=0;
if(c){var a=t[c.Data],U=l.NY(a,"ataD")+4,M=l.gW(a,U);U+=4;d=a.slice(U,U+M)}else{s=F.rect.x-_.Db;B=F.rect.y-_.aF;
if(f[3]==null)f[3]=new Uint8Array(aP.QE("PNG").TL([[F.buffer.buffer]],F.rect.d,F.rect.r));d=f[3].slice(0)}var W=g.Ok(d,F.getName(),0,0);
W.Qk=F.Qk;W.opacity=F.opacity;F=W;var n=new j9;n.translate(s,B);n.concat(_);var e=F.rect.clone();e.x=e.y=0;
var Q=R.K.rR(e).v;R.K.F(Q,n,Q);F.add.SoLd.Trnf=I.T.Qn(Q);F.add.SoLd.nonAffineTransform=I.T.Qn(Q);F.zX(g,!1)}}else if(A=="TxtA"||A=="TxtF"){F.add.lnsr="rend";
F.add.TySh=cU.WJ(0,0);F.add.TySh.DU=new bf(0,0,100,100);var J=O.TxtH.FrmB,m=new j9,eJ=0;m.translate(J[0],J[1]);
m.concat(_);F.add.TySh.F=m;var p=F.add.TySh.d1,L=O.StSt,S=L.Blok;if(S.length!=1)throw"e";for(var hy=0;
hy<S.length;hy++){var v=S[hy],ff=eJ,K=0,jo=v.Glyp.Utf8;jo=jo.replace(/\u2028/g,"\n");jo=jo.replace(/\u2029/g,"\n");
jo=jo.slice(0,jo.length-1);cU._w(p,eJ,jo);eJ+=jo.length;var g5=v.GAtt.Runs,fQ=v.PAtt.Runs[0],iT=fQ.Item.Ints[0];
for(var ac=0;ac<g5.length;ac++){var aR=g5[ac],hV=aR.Indx,cu=aR.Item,iy=cu.Objs,gr=cU.eZ(p,ff,1);gr.Av.Justification=iT==0?0:iT==1?2:1;
cU.ht(gr,cu.DFnt.Post);gr.WQ.FontSize=cu.Doub[0];for(var P=0;P<iy.length;P++){var cp=iy[P];if(cp._type=="FDsc"){var gP=cp.FDeF;
if(gP._type=="FilS"){var g7=w(gP.Colr);gr.WQ.FillColor={Type:1,Values:[1,g7[0],g7[1],g7[2]]}}}}cU.lc(p,ff+K,ff+Math.min(hV,jo.length),gr);
K=hV}}cU.jp(p,1);cU.TS(p,[0,0,Math.round(J[2]-J[0]),Math.round((J[3]-J[1])*1.2)]);g.Fc=!0}else if(V){F.Qk|=16;
var j8=F.add.vstk=JSON.parse(JSON.stringify(hz._O.default));F.add.vstk.strokeEnabled.v=!1;F.add.vogk=[];
var dg=F.add.vmsk=Y(O);R.b.ho(dg.W,_);if(O.BFFl){var gR=O.BFFl[0].FDeF,em=gR._type;if(em=="FilS")F.add.SoCo={classID:"null",Clr:C(gR.Colr)};
else if(em=="FilG"){var fr=F.add.GdFl=JSON.parse(hz._5[hz.order.indexOf("GrFl")]);x(gR,fr)}else if(em=="FilN"){F.add.SoCo={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:0,p:0,M:0})}};
j8.fillEnabled.v=!1}else console.log(em)}if(O.LILn){var aU=O.LILn[0].LDeL,bb=aU.Wght;if(bb!=0){j8.strokeEnabled.v=!0;
j8.strokeStyleLineWidth.v.val=bb;var gR=O.LIFl[0].FDeF,em=gR._type;if(em=="FilS")j8.strokeStyleContent.v.Clr=C(gR.Colr);
else if(em=="FilN")j8.strokeEnabled.v=!1}}F.Fz(g)}else console.log(A);var fZ=O.AdCh,h1=[];if(fZ)for(var P=0;
P<fZ.length;P++){var ar=fZ[P],gt=ar._type;if(gt=="ShpN"||gt=="PCrv"){var dg=F.add.vmsk=Y(ar),gX=D(_,ar);
R.b.ho(dg.W,gX);F.Fz(g)}else if(ar.AdjP){var dK=ar.AdjP,ay=dK._type,hh={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[ay];
if(hh==null){console.log(dK);continue}var b7=ij.ka(hh,{});h1.push(b7);var cV=b7.v.Fltr.v;if(ay=="LevP"){var bj=cI.GG(cV,0);
bj[0]=dK.OutB*255;bj[1]=dK.OutW*255;cI.Gm(cV,0,bj)}else if(ay=="WhBP"){var bj=cI.GG(cV,2);bj[4]=100+dK.WBTi*20;
cI.Gm(cV,2,bj);var bj=cI.GG(cV,3);bj[4]=100+dK.WBTi*200;cI.Gm(cV,3,bj)}else if(ay=="HSSP"){var bj=je.GG(cV,0);
bj[0]=Math.round(dK.HueA*256);bj[1]=Math.round(dK.SatA*256);bj[2]=Math.round(dK.LumA*256);je.Gm(cV,0,bj)}else if(ay=="RecP"){cV.Clrz.v=!0;
var bj=je.GG(cV,0);bj[0]=Math.round(dK.RecH*100);bj[1]=Math.round(dK.RecS*100);bj[2]=Math.round(dK.RecL*100);
je.Gm(cV,0,bj)}else if(ay=="B&CP"){cV.Brgh.v=Math.round(dK.Brig*100);cV.Cntr.v=Math.round(dK.Ctrs*100-100)}else if(ay=="PosP"){cV.Lvls.v=dK.Post}else if(ay=="VibP"){cV.vibrance.v=dK.Vibr-100;
cV.Strt.v=Math.round(dK.Satu*100)}else if(ay=="ExpP"){cV.Exps.v=dK.Expo;cV.gammaCorrection.v=dK.Gamm/2.2}else if(ay=="ThrP"){cV.Lvl.v=Math.round(dK.Thre*255)}else if(ay=="CrvP"){var bW=dK.Mast["Cnt "],bu=dK.Mast.Vals,bj=jf.GG(cV,0),da=bj[0];
for(var dj=0;dj<bW;dj++){var e_=bj[dj]=JSON.parse(JSON.stringify(da));e_.v.Hrzn.v=Math.round(bu[dj]*255);
e_.v.Vrtc.v=Math.round(bu[4+dj]*255)}jf.Gm(cV,0,bj)}}else console.log(ar)}if(h1.length!=0){F.add.SoLd.filterFX=ij.Sq();
g.oY({id:F.add.SoLd.placed.v,rect:new bf,buffer:R.O(1),B:new G.Jz});F.add.SoLd.filterFX.v.filterFXList.v=h1;
F.zX(g,!1)}var de=O.FiEf;if(de&&de.length!=0){var aM=F.add.lmfx=JSON.parse(hz.default);for(var P=0;P<hz.order.length;
P++)aM[hz.l9[P]]={t:"VlLs",v:[]};for(var g2=0;g2<de.length;g2++){var g9=de[g2],hr=g9._type,bD={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[hr],fr=bD?JSON.parse(hz._5[hz.order.indexOf(bD)]):null;
if(hr=="ColO"){fr.Clr=C(g9.Colr)}else if(hr=="GrdO"){x(g9.GrFl.FDeF,fr)}else if(hr=="Shad"||hr=="InnS"||hr=="OutG"||hr=="InnG"){fr.Clr=C(g9.Colr);
fr.blur.v.val=Math.round(g9.Radi/2.4);if(g9.Offs!=null){fr.Dstn.v.val=g9.Offs;fr.lagl.v.val=Math.round(180-g9.Angl*180/Math.PI);
fr.uglg.v=!1}}else if(hr=="Strk"){fr.Clr=C(g9.Colr);fr.Sz.v.val=Math.round(g9.Radi)}else if(hr=="PhgB"||hr=="BevE"){fr.blur.v.val=Math.round(g9.Radi);
if(hr=="BevE")fr.bvlS.v.BESl="PlEb"}else if(hr=="Gaus"){if(V&&g9.Enab){F.add.vmsk.wt=g9.Radi/2.4;F.add.vmsk.ZI=!0;
F.Fz(g)}}if(bD){fr.enab.v=g9.Enab;if(fr.Md&&g9.BlnM!=null)fr.Md.v.BlnM=by.B9(N(g9.BlnM));if(fr.Opct&&g9.Opac!=null)fr.Opct.v.val=Math.round(g9.Opac*100);
var iG=hz.l9[hz.order.indexOf(bD)];aM[iG].v.unshift({t:"Objc",v:fr})}}}g.j.push(F)}function Y(O){var g=new G.$R,t=O._type;
if(t=="PCrv"){var $=O.Crvs.Data,i=[],A=[];for(var P=0;P<$.length;P++){var H=$[P];if(H.length%3!=1){H=H.slice(1,H.length-1)}for(var F=0;
F<H.length;F++){var T=H[F],_=T[2];if(_!=0)i.push(F==0?"M":"C");A.push(T[0],T[1])}}g.W=R.K.CH({v:A,J:i},!0)}else{var V=O.ShpB,X=O.Shpe,o=X._type,c=V[2]-V[0];
if(o=="ShpE"){g.W=R.b.Lu.Co(V[0],V[1],V[2]-V[0],V[3]-V[1])}else if(o=="ShNR"){var E=[0,0,0,0];if(X.CTyp){E=X.ShCR.slice(0);
for(var P=0;P<4;P++)E[P]*=V[2]-V[0]}g.W=R.b.Lu.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],E)}else if(o=="ShpT"){g.W=R.K.CH({J:["M","L","L","Z"],v:[V[0],V[3],V[2],V[3],V[0]+c*.5,V[1]]},!0)}else if(o=="ShTz"){g.W=R.K.CH({J:["M","L","L","L","Z"],v:[V[0]+c*X.PosL,V[1],V[0]+c*X.PosR,V[1],V[2],V[3],V[0],V[3]]},!0)}else{console.log("--",o);
g.W=R.b.Lu.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],[0,0,0,0])}}return g}function x(O,g){var t=O.Grad,$=t.Cols;
g.Type.v.GrdT=O.Type==0?"Lnr":"Rdl";var i=[];for(var P=0;P<$.length;P++){var A=w($[P]);i.push([t.Posn[P][0],A])}g.Grad.v.Intr.v=0;
R._.NI(i,g.Grad.v);var H=t.Posn,F=new gJ(H[0][0],H[0][1]),T=new gJ(H[1][0],H[1][1]);if(O.Type==0)F=new gJ((F.x+T.x)/2,(F.y+T.y)/2);
R._.fv(F,T,new bf(0,0,1,1),g)}function C(O){var g=w(O);return{t:"Objc",v:R._.XJ({a:g[0]*255,p:g[1]*255,M:g[2]*255})}}function w(O){var g=O._col,t=O._type;
if(t=="HSLA"){var $=R.Xa(g[0],g[1],g[2]);return[$.a,$.p,$.M,g[3]]}else if(t=="RGBA")return g;else if(t=="CMYK"){var i=1-g[3];
return[(1-g[0])*i,(1-g[1])*i,(1-g[2])*i]}else{console.log(g);throw t}}function q(O,g,t){var $=O.Frmt,E="";
if($!=0&&$!=6)throw $;var i=O.BmpW,A=O.BmpH,H=$==0?4:1,F=Math.ceil(i/256),T=Math.ceil(A/256),_=new bf(0,0,F,T),V=new bf;
for(var P=0;P<H;P++){var X=new Uint8Array(O["Sta"+(P+1)]),o=R.FV(X,_);V=V.zs(o)}var c=[];for(var P=0;
P<H;P++){var X=new Uint8Array(O["Sta"+(P+1)]),f=R.O(V.Z());R.YO(X,_,f,V);c[P]=[];for(var d=0;d<f.length;
d++)c[P][d]=f[d];E+=JSON.stringify(c[P])+","+JSON.stringify(O["Idx"+(P+1)])+","}if(t[E]==null){var s=V.d*256,B=V.r*256,a=new Array(H);
for(var P=0;P<H;P++){var X=a[P]=new Uint8Array(s*B);u(X,O["Idx"+(P+1)],c[P],g,s,B)}var U=R.O(s*B*4);
if($==0)R.Ke({a:a[0],p:a[1],M:a[2],kD:a[3]},U);else{U.fill(255);R.gx(a[0],U)}var M=new bf(0,0,s,B),W={buffer:U,rect:M};
R.jS(W);t[E]=[W.rect,W.buffer]}var o=t[E][2]=t[E][0].clone();o.x+=V.x*256;o.y+=V.y*256;return t[E]}function u(O,g,t,$,i,A){var H=0,F=i>>>8,T=A>>>8;
for(var _=0;_<T;_++)for(var V=0;V<F;V++){var X=V*256,o=_*256,c=_*F+V,E=o*i+X,f=t[c];if(f<=1)h(O,E,0,i,256,256);
else if(f==2)h(O,E,4294967295,i,256,256);else if(f==4){var d=g[H];H++;var s=$[d.Data.DatI],B=d.Rect;
if(B==null)B=[0,0,256,256];h(O,E,0,i,256,256);z(O,(o+B[1])*i+X+B[0],s,B[1]*256+B[0],i,256,B[2]-B[0],B[3]-B[1])}else console.log(f)}}function h(O,g,t,$,i,A){var H=g+$*A;
for(;g<H;g+=$){var F=g+i;for(var T=g;T<F;T++){O[T]=t}}}function z(O,g,t,$,i,A,H,F){var T=g+i*F,_=$+A*F;
for(;g<T&&$<_;g+=i,$+=A){for(var P=0;P<H;P++)O[g+P]=t[$+P]}}return r}();function hx(){}hx.$g=function(r,j){var D=hx,N=gw.parse(r),Y=0;
if(N.pages.length>1)console.log(N.pages.length,"pages");var b=[],x=new bf;for(var C=0;C<N.pages.length;
C++){var w=N.pages[C],q=w.layers,u=D.mN(q,C),z=!1;if(u.Z()>8e3*8e3||u.d>3e4||u.r>3e4){D.XG(q,!0);var h=D.mN(q,C);
if(h.Z()>=u.Z())D.XG(q,!1)}u=D.mN(q,C);for(var O=0;O<q.length;O++){var g=q[O];if(D.ZN(g)=="artboard")z=!0}if(!z){console.log("no artboard");
var t={};for(var $ in w)t[$]=w[$];t._class="group";w.layers=[t]}b.push(u.clone());if(u.jE())continue;
u.x=0;u.y=Y;Y+=u.r+200;x=x.zs(u)}var i={};if(N.foreignSymbols)for(var P=0;P<N.foreignSymbols.length;
P++){var A=N.foreignSymbols[P].symbolMaster;i[A.symbolID]={tg:A}}D.cG(N.pages,i,j);for(var H in i){var g=i[H].tg,F=D.qb(g.layers)}var T=hx.Lj(x,8192*8192);
j.Fc=!0;j.d=Math.round(x.d/T);j.r=Math.round(x.r/T);j.buffer=R.O(j.d*j.r*4);j.WD(N.pages[0].layers.length);
j.qc={};j.wW=[];Y=0;for(var C=0;C<N.pages.length;C++){var _=N.pages[C],u=b[C],V=new j9(T,0,0,T,u.x,u.y-Y);
D.Mv(_.layers,j,V,N,i,{},[]);Y+=u.r+200}delete j.qc;delete j.wW;if(T!=1)alert("File scaled down "+T+"x");
j.aos()};hx.aki=0;hx.ZN=function(r){return r._class?r._class:r.$class};hx.Lj=function(r,j){var D=1;while(Math.round(r.d/D)*Math.round(r.r/D)>j||Math.max(Math.round(r.d/D),Math.round(r.r/D))>3e4)D++;
if(D!=1&&!window.confirm("Your image is quite large ("+r.d+" x "+r.r+" px).\n"+"Press OK to scale it down "+D+"x, or Cancel to keep the size."))D=1;
return D};hx.mN=function(r,j){var D=[],N=hx;for(var b=0;b<r.length;b++){var Y=r[b],x=N.M7(Y.frame);if(j==0||N.ZN(Y)=="artboard")D.push(x)}return R.rect.co(D)};
hx.XG=function(r,j){var D=[],N=hx;for(var b=0;b<r.length;b++){var Y=r[b],x=N.M7(Y.frame);x.d+=150;x.r+=150;
D.push(x)}var C=R.rect.co(D);R.rect.a8a(D,j);var w=R.rect.co(D);if(w.Z()*1.5<C.Z()||C.d>3e4&&w.d<=3e4||C.r>3e4&&w.r<=3e4){alert("Re-arranging artboards");
for(var b=0;b<r.length;b++){var q=D[b],Y=r[b],u=Y.frame;u.x=q.x;u.y=q.y}}};hx.cG=function(r,j,D){var N=hx;
for(var b=0;b<r.length;b++){var Y=r[b],x=N.ZN(Y);if(["page","artboard","group"].indexOf(x)!=-1)N.cG(Y.layers,j,D);
else if(x=="symbolMaster")j[Y.symbolID]={tg:Y}}};hx.qb=function(r){var j=hx;for(var D=0;D<r.length;D++){var N=r[D],b=j.ZN(N),Y=null;
if(["page","artboard","group"].indexOf(b)!=-1)Y=j.qb(N.layers);if(b=="symbolMaster"||b=="symbolInstance")Y=N;
if(Y!=null)return Y}return null};hx.Mv=function(r,j,D,N,b,Y,x){var C=hx,w=[];for(var q=0;q<r.length;
q++){var u=r[q],h=u.frame?C.M7(u.frame):null,z=u.style,i="",V=null,X=!1;if(z==null){console.log("no styles")}var O=C.vx(u,D),g=C.ZN(u),t=g=="shapeGroup"||g=="shapePath"||g=="rectangle"||g=="oval"||g=="triangle"||g=="polygon",$=["page","artboard","group"].indexOf(g)!=-1;
if(g=="shapeGroup"){for(var P=0;P<u.layers.length;P++)if(C.ZN(u.layers[P])=="shapeGroup")$=!0}var A=u.exportOptions;
if(A){var H=A.exportFormats;if(H==null)H=A.sizes;if(g!="artboard"&&(H&&H.length!=0)){var F=H[0].scale}}var T=j.Xp();
T.yE(u.isVisible);var _=u.name;if(!(typeof _=="string"))_=g;T.Lp(i+_.slice(0,250));if(z!=null)V=C.amO(N,j,z,h,O,T.getName(),t||g=="artboard"||$);
if(g=="rectangle"&&z&&z.fills&&z.fills[0]){var o=z.fills[0];if(o.fillType==4&&o.patternFillType>1&&o.image!=null)X=!0}if(u.shouldBreakMaskChain){while(w.length!=0)C.pr(w.pop(),j)}if($){T.add.lsct=u.layerListExpandedType==2?bH.nV:bH.$w;
T.yp="pass";T.Qk=24;T.yE(u.isVisible);j.j.push(j.Hc());if(g=="artboard"){var c=h.clone(),E=O.zR();c.x=-Math.floor(O.Db/E);
c.y=-Math.floor(O.aF/E);c.d=Math.floor(c.d/E);c.r=Math.floor(c.r/E);T.OD(c);var f=u.backgroundColor,d=f?{a:255*f.red,p:255*f.green,M:255*f.blue}:{a:255,p:255,M:255};
T.add.artb.Clr={t:"Objc",v:R._.XJ(d)};T.add.artb.artboardBackgroundType={t:"long",v:4}}C.Mv(u.layers,j,O,N,b,Y,x)}else if(t&&!X){T.add.vmsk=new G.$R;
T.add.vstk=JSON.parse(JSON.stringify(hz._O.default));T.add.vstk.strokeEnabled.v=!1;T.add.vogk=[];var s=V!=null&&V.frameFXMulti.v.length==1,B=z?z.fills:null,a=z?C.Bg(N,B,h,O,T.getName(),j,C.hG(x,u.do_objectID+"_image")):[];
if(a.length==0){if(s)T.add.vstk.fillEnabled.v=!1;else T.add.iOpa=0;T.add.SoCo={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:0,p:0,M:0})}}}else{var U=a[0],M=null,W=null;
if(U.type=="SoFi"){M="SoCo";W=hz.kK}if(U.type=="GrFl"){M="GdFl";W=hz.bl}if(U.type=="patternFill"){M="PtFl";
W=hz.CU}if(M!=null){T.add[M]={classID:"null"};for(var P=0;P<W.length;P++){var n=W[P];T.add[M][n]=U.m.v[n]}var e=U.m.v.Opct.v.val;
if(s&&e==0)T.add.vstk.fillEnabled.v=!1;else T.add.iOpa=Math.round(255*e/100)}}T.Qk|=16;T.add.vmsk.W=C.nk(u.layers?u.layers:[u],u.layers?O:D,T.add.vogk);
var Q=z?z.blur:null;if(Q&&Q.isEnabled&&Q.type<=1)T.add.vmsk.wt=Q.radius;if(T.add.vmsk.W.length==2){console.log("shape with no content:",T.getName())}if(s){var J=V.frameFXMulti.v[0].v,m=T.add.vstk,p=z.borders[0];
V.frameFXMulti.v=[];fx.vv(J,m);var L=z.borderOptions,S=z.miterLimit;if(L){var eJ=L.dashPattern;m.strokeStyleLineCapType.v.strokeStyleLineCapType=hz._O.DD[L.lineCapStyle];
m.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hz._O.join[L.lineJoinStyle];if(eJ)m.strokeStyleLineDashSet.v=fx.kA(eJ,1/J.Sz.v.val);
if(S!=null)m.strokeStyleMiterLimit.v=S}}T.Fz(j)}else if(g=="bitmap"||X){if(!X&&u.image==null)continue;
var hy=X?z.fills[0]:null,v=X?hy.image.bdata:u.image.bdata,ff=j.Ok(v,T.getName(),0,0);ff.Qk=T.Qk;T=ff;
var Q=z?z.blur:null,K=z?z.colorControls:null;if(Q||K){T.add.SoLd.filterFX=ij.Sq();j.oY({id:T.add.SoLd.placed.v,rect:new bf,buffer:R.O(1),B:new G.Jz});
var B=T.add.SoLd.filterFX.v.filterFXList.v;if(Q){var jo=ij.ka("GsnB",{});jo.v.enab.v=Q.isEnabled;jo.v.Fltr.v.Rds.v.val=Q.radius;
B.push(jo)}if(K){var g5=K.brightness,fQ=K.contrast,iT=K.hue,ac=K.saturation;if(iT!=0||ac!=1){var jo=ij.ka("hue2",{});
jo.v.enab.v=K.isEnabled;je.Gm(jo.v.Fltr.v,0,[Math.round(iT*180/Math.PI),Math.round((ac-1)*100),0]);B.push(jo)}if(g5!=0||fQ!=1){var jo=ij.ka("brit",{});
jo.v.enab.v=K.isEnabled;fQ=fQ-1;if(fQ>0)fQ/=2;var aR=jo.v.Fltr.v;aR.Brgh.v=Math.round(g5*255);aR.Cntr.v=Math.round(fQ*255);
aR.useLegacy.v=!0;B.push(jo)}}}if(X){var hV=hy.patternFillType;if(hV==3){var cu=T.rect.d/T.rect.r,iy=h.d/h.r;
if(cu<iy){O.translate(-(h.d*(1-cu/iy))/2,0);O.scale(iy/cu,1)}else{O.translate(0,-(h.r*(1-iy/cu))/2);
O.scale(1,cu/iy)}}}h.x=h.y=0;var gr=R.K.rR(h).v;O.gq();R.K.F(gr,O,gr);T.add.SoLd.Trnf=I.T.Qn(gr);T.add.SoLd.nonAffineTransform=I.T.Qn(gr);
T.zX(j,!1)}else if(g=="text"){if(u.attributedString==null)continue;var cp=O.clone(),gP,g7,fr=0;cp.gq();
cp.kD=cp.oq=Math.min(cp.kD,cp.oq);T.add.lnsr="rend";T.add.TySh=cU.WJ(0,0);T.add.TySh.DU=new bf(0,0,h.d,h.r);
T.add.TySh.F=cp;var j8=u.attributedString;if(j8.archivedAttributedString)j8=j8.archivedAttributedString;
var dg=j8.NSString;if(dg==null)dg=j8.string;if(dg==null)dg="";if(dg["NS.string"])dg=dg["NS.string"];
if(Y[u.do_objectID]!=null)dg=Y[u.do_objectID];var gR=C.hG(x,u.do_objectID+"_stringValue");if(gR)dg=gR.value;
if(j8.attributes!=null){gP=[];g7=[];var em=j8.attributes;for(var P=0;P<em.length;P++){gP.push(em[P].length,P);
g7.push(em[P].attributes)}}else if(j8.NSAttributeInfo==null){gP=[dg.length,0];g7=[j8.NSAttributes]}else{gP=j8.NSAttributeInfo["NS.data"];
g7=j8.NSAttributes;gP=hx.aiD(gP,g7)}for(var P=0;P<gP.length;P+=2)fr+=gP[P];if(fr!=dg.length){while(fr>dg.length){gP[gP.length-2]--;
fr--;if(gP[gP.length-2]==0){gP.pop();gP.pop()}}gP[gP.length-2]+=dg.length-fr}dg=dg.replace(/\u2028/g,"\n");
dg=dg.replace(/\u2029/g,"\n");dg=dg.replace(/\r/g,"\n");var aU=T.add.TySh.d1;cU._w(aU,0,dg);if(dg!=""){var bb=u.textBehaviour,fZ=z.textStyle,h1=fZ?fZ.verticalAlignment:0,ar=C.asG(aU,gP,g7,dg),E=cp.zR(),gt=cU.eZ(aU,0,1),ay=0;
if(gt.WQ.Font){var gX=gt.HB[gt.WQ.Font].Name;if(gX=="FontAwesome"||gX=="Ionicons")ar*=.87}var dK=gt.WQ.AutoLeading?0:gt.WQ.Leading*.6,hh=Math.max(ar,dK)*E,b7=h.d,cV=h.r;
if(bb==0){cU.jp(aU,0);var bj=cU.Cq(gt.Av);if(bj==1)ay=b7*E;if(bj==2)ay=b7*E*.5;if(h1==0)hh*=1;else hh*=.9}else{cU.jp(aU,1);
cU.TS(aU,[0,0,Math.round(b7),Math.round(cV)]);if(bb==2&&h1==0)hh=hh*.2;else if(bb==2&&h1==1){hh=E*.5*(cV-gt.WQ.FontSize)}else if(bb==1&&h1==0)hh=hh*.2;
else hh=hh*.35}T.add.TySh.F.translate(ay,hh)}}else if(g=="symbolInstance"||g=="symbolMaster"){var bW=u.symbolID;
if(Y[u.do_objectID])bW=Y[u.do_objectID].symbolID;var bu=C.hG(x,u.do_objectID+"_symbolID");if(bu)bW=bu.value;
if(bW=="")continue;var da={};for(var n in Y)da[n]=Y[n];if(u.overrides)for(var n in u.overrides)da[n]=u.overrides[n];
var dj=x.slice(0);if(u.overrideValues)dj=dj.concat(u.overrideValues);var e_=b[bW];if(e_==null){console.log("Unknown master master",u.symbolID);
continue}var de=hx.M7(e_.tg.frame),aM=de.d/h.d,g2=de.r/h.r,g9=O.clone();g9.scale(aM,g2);T.add.lsct=bH.$w;
T.yp="pass";T.Qk=24;T.yE(u.isVisible);j.j.push(j.Hc());var hr=e_.tg;if(j.wW.indexOf(hr)==-1){j.wW.push(hr);
C.Mv(hr.layers,j,g9,N,b,da,dj);j.wW.pop()}}else if(g=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+g,u);continue}if(z&&z.contextSettings){var bD=z.contextSettings,iG=bD.blendMode;
if(iG<C.Ti.length){T.yp=by.n4[by.zT.indexOf(C.Ti[iG])];if($&&T.yp=="norm")T.yp="pass"}T.opacity=Math.round(T.opacity*bD.opacity)}if(V!=null){T.add.lmfx=V}j.j.push(T);
if(u.hasClippingMask&&r.length>1){w.push(T);j.j.push(j.Hc())}}while(w.length!=0)C.pr(w.pop(),j)};hx.hG=function(r,j){for(var P=0;
P<r.length;P++)if(r[P].overrideName.startsWith(j))return r[P]};hx.aiD=function(r,j){var D=0,N=[];while(D+1<r.length){var b=r[D];
D++;if(b>127){b+=128*(r[D]-1);D++;if(r[D-1]>127){b+=128*(r[D]-1);D++}}var Y=r[D];D++;N.push(b,Y)}return N};
hx.asG=function(r,j,D,N){var b=hx,Y=0,u=0,h=0;for(var P=0;P<N.length;P++){var x=N.charCodeAt(P),C=1473<=x&&x<=1479||1488<=x&&x<=1514||1520<=x&&x<=1524,w=1569<=x&&x<=1594||1600<=x&&x<=1749;
if(C||w)Y++}var q=Y>N.length/2;for(var P=0;P<j.length;P+=2){var z=j[P],T=14,_="DejaVuSans";if(z==0)continue;
var O=j[P+1],g=D[O],t=cU.eZ(r,u,u+z-1),$=g.NSColor;if($==null){var $=g.MSAttributedStringColorDictionaryAttribute;
if($==null)$=g.MSAttributedStringColorAttribute;if($==null)$="0 0 0";else $=[$.red,$.green,$.blue].join(" ")}else if(b.ZN($)=="MSArchivedColor")$=$.dr+" "+$.dg+" "+$.db;
else if($.NSRGB){$=$.NSRGB;$=l.Km($,0,$.length-1)}else if($.NSCMYK){$=$.NSCMYK;$=l.Km($,0,$.length-1);
$=$.split(" ").map(parseFloat);var i=1-$[0],A=1-$[1],H=1-$[2],F=1-$[3];$=i*F+" "+A*F+" "+H*F}else if($.NSWhite){$="1 1 1"}$=$.split(" ");
t.WQ.FillColor={Type:1,Values:[1,parseFloat($[0]),parseFloat($[1]),parseFloat($[2])]};var V=g.MSAttributedStringFontAttribute;
if(g.NSFont){T=g.NSFont.NSSize;_=g.NSFont.NSName}else if(V){if(V.attributes){V=V.attributes;T=V.size;
_=V.name}else{var X=V.NSFontDescriptorAttributes;if(X==null)X=V.UIFontDescriptorAttributes;V=X;T=V.NSFontSizeAttribute;
_=V.NSFontNameAttribute}if(_==null)_="DejaVuSans"}var h=Math.max(h,T);t.WQ.FontSize=Math.round(T);cU.ht(t,_);
var o=g.NSKern;if(o==null)o=g.kerning;if(o!=null)t.WQ.Tracking=Math.round(1e3*o/T);if(g.NSUnderline!=null)t.WQ.Underline=g.NSUnderline>0;
var c=g.NSStrikethrough;if(c==null)c=g.strikethroughStyle;if(c!=null)t.WQ.Strikethrough=c>0;if(g.MSAttributedStringTextTransformAttribute==1)t.WQ.FontCaps=2;
var f=g.NSParagraphStyle;if(f==null)f=g.paragraphStyle;if(f){var d=f.paragraphSpacing;if(d!=null){t.Av.SpaceAfter=d}var s=f.NSAlignment;
if(s==null)s=f.alignment;if(s!=null){var B=0;if(!1){}else if(s==1)B=1;else if(s==2)B=2;else if(s==4)B=0;
else{B=s;console.log("unknown align",s)}if(q&&B<2)B=1-B;t.Av.Justification=B}var a=f.NSMinLineHeight;
if(a==null)a=f.minimumLineHeight;if(a!=null){t.WQ.AutoLeading=!1;t.WQ.Leading=a}}t.Av._Direction=q?1:0;
cU.lc(r,u,u+z,t);u+=z}return h};hx.amO=function(r,j,D,N,b,Y,x){var C=hx,w=JSON.parse(hz.default),q=!1;
for(var P=0;P<hz.order.length;P++)w[hz.l9[P]]={t:"VlLs",v:[]};var u=D.fills,h=C.Bg(r,u,N,b,Y,j);for(var z=0;
z<2;z++){var O=D[["shadows","innerShadows"][z]];if(O==null)continue;var g=["DrSh","IrSh"][z],t=hz.l9[hz.order.indexOf(g)];
for(var P=0;P<O.length;P++){var $=O[P];if(!$.isEnabled)continue;if($.contextSettings.opacity==0||$.color.alpha==0)continue;
var i=JSON.parse(hz._5[hz.order.indexOf(g)]);w[t].v.unshift({t:"Objc",v:i});q=!0;i.Clr.v=C.K5($.color);
i.blur.v.val=Math.round($.blurRadius/b.zR());var A=b.clone();A.Db=A.aF=0;A.gq();var H=A.OT(new gJ($.offsetX,$.offsetY)),F=Math.sqrt(H.x*H.x+H.y*H.y);
i.Dstn.v.val=Math.round(F);i.lagl.v.val=Math.round(Math.atan2(H.y,-H.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=h.length!=0;
C.Ko($,i)}}var T=D.borders;if(T!=null&&(h.length==0||D.blur==null||!D.blur.isEnabled))for(var P=0;P<T.length;
P++){var _=T[P];if(!_.isEnabled)continue;var i=JSON.parse(hz._5[hz.order.indexOf("FrFX")]),t=hz.l9[hz.order.indexOf("FrFX")];
w[t].v.unshift({t:"Objc",v:i});q=!0;i.Clr.v=C.K5(_.color);if(_.fillType!=0&&_.gradient){var V=C.HT(_.gradient,N,b,Y),X=["Type","Angl","Ofst","Scl"];
for(var P=0;P<X.length;P++)i[X[P]]=V[X[P]];i.Grad.v=V.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=_.thickness/b.zR();
i.Styl.v.FStl=["CtrF","InsF","OutF"][_.position];C.Ko(_,i)}for(var P=x?1:0;P<h.length;P++){var o=h[P],t=hz.l9[hz.order.indexOf(o.type)];
w[t].v.unshift(o.m);q=!0}return q?w:null};hx.Bg=function(r,j,D,N,b,Y,x){if(j==null)return[];var C=hx,w=[];
for(var P=0;P<j.length;P++)if(j[P].isEnabled)w.push(j[P]);j=w;var q=[];for(var P=0;P<j.length;P++){var u=j[P],h=null,z=null;
if(u.fillType==0){h="SoFi";var O=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);z={t:"Objc",v:O};z.v.Clr.v=C.K5(u.color)}else if(u.fillType==1){h="GrFl";
z={t:"Objc",v:C.HT(u.gradient,D,N,b)}}else if(u.fillType==4&&u.image!=null){var g=u.image;if(x)g=x.value;
var t=aP.rF(g.bdata.buffer);if(t!=null&&t!="pdf"&&t!="eps"){var $,_=0,V=0,X=0;if(Y.qc[g.key])$=Y.qc[g.key];
else{var i=aP.QE(t).G$(g.bdata)[0],A=i.Yn.clone();$={};$.id=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f";$.name="someImage";
$.PT=[new Uint8Array(i.data),A];Y.fO($);Y.qc[g.key]=$}var H=$.PT[1],O=JSON.parse(hz._5[hz.order.indexOf("patternFill")]);
h="patternFill";z={t:"Objc",v:O};var F=u.patternFillType,T=u.patternTileScale;O.Algn.v=!0;O.Ptrn.v.Idnt.v=$.id;
if(F==0){_=T*H.d/Math.min(H.d,H.r);V=-N.Db;X=-N.aF}else{_=Math.max(D.d/H.d,D.r/H.r);V=-N.Db-(H.d*_-D.d)/2;
X=-N.aF-(H.r*_-D.r)/2}O.Scl.v.val=100*_*(1/N.zR());O.phase.v.Hrzn.v=Math.round(V/N.zR());O.phase.v.Vrtc.v=Math.round(X/N.zR())}}else if(u.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",u.fillType);
if(h!=null){C.Ko(u,z.v);q.push({type:h,m:z})}}return q};hx.ajq=function(r){var j=hx,D=new bf(0,0,1,1);
r=r.slice(0);while(!0){var N=!1;for(var P=0;P<r.length-1;P++){var b=r[P],Y=r[P+1],x=null,C=b.contextSettings;
if(b.fillType==0&&(C==null||C.opacity==1&&C.blendMode==0)&&b.color.alpha==1){var w="norm",q=1,C=Y.contextSettings;
if(C){q=C.opacity;w=by.fG(j.Ti[C.blendMode])}if(Y.fillType==0){x=JSON.parse(JSON.stringify(Y));j.bc(x.color,b.color,x.color,D,w,q)}if(Y.fillType==1){x=JSON.parse(JSON.stringify(Y));
var u=x.gradient.stops;for(var h=0;h<u.length;h++)j.bc(u[h].color,b.color,u[h].color,D,w,q)}if(x!=null&&x.contextSettings){var C=x.contextSettings;
C.opacity=1;C.blendMode=0}}if(x!=null){r.splice(P,0,x);N=!0;break}}if(!N||r.length<2)break}return r};
hx.bc=function(r,j,D,N,b,Y){var x=hx,C=R.O(4);x.pk(r,C);var w=R.O(4);x.pk(j,w);R.U.tI(b,C,N,w,N,N,Y);
x.aof(w,D)};hx.pk=function(r,j){j[0]=255*r.red;j[1]=255*r.green;j[2]=255*r.blue;j[3]=255*r.alpha};hx.aof=function(r,j){j.red=r[0]/255;
j.green=r[1]/255;j.blue=r[2]/255;j.alpha=r[3]/255};hx.pr=function(r,j){r=r.clone();r.Qk=24;r.Lp("Mask by "+r.getName());
j.j.push(r);r.add.lsct=bH.nV;r.add.lyid=j.Jt();delete r.add.lmfx;delete r.add.SoCo;delete r.add.GdFl;
delete r.add.PtFl;delete r.add.iOpa;if(r.add.vmsk)r.add.vmsk.ZI=!0;r.Fz(j);if((r.Qk&16)==16)r.Qk-=16;
if((r.Qk&2)==2)r.Qk-=2;r.yp="pass";r.opacity=255};hx.Ti="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
hx.HT=function(r,j,D,N){D=D.clone();D.gq();D.Db=D.aF=0;var b=D.zR(),z=0,O=0;D.scale(1/b,1/b);var Y=hx,x=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),C=x.Grad.v;
C.Intr.v=0;if(r==null)return x;var w=r.gradientType,q=Y.Mm(r.from),u=Y.Mm(r.to);q.offset(-.5,-.5);u.offset(-.5,-.5);
q=D.OT(q);u=D.OT(u);var h=Math.atan2(-(u.y-q.y),u.x-q.x);x.Type.v.GrdT=["Lnr","Rdl","Angl"][w];x.Scl.v.val=100*gJ.tA(q,u);
if(w==0){x.Angl.v.val=180/Math.PI*h;x.Scl.v.val=100*gJ.tA(q,u);z=(q.x+u.x)/2;O=(q.y+u.y)/2}if(w==1){x.Scl.v.val=200*gJ.tA(q,u);
z=q.x;O=q.y}if(w==2){x.Angl.v.val=180/Math.PI*(h-Math.PI/2)}var g=x.Ofst.v;g.Hrzn.v.val=z*100;g.Vrtc.v.val=O*100;
var t=[];for(var P=0;P<r.stops.length;P++){var $=r.stops[P],i=$.color;t.push([$.position,i?[i.red,i.green,i.blue]:[0,0,0],i.alpha])}R._.NI(t,C);
return x};hx.Ko=function(r,j){var D=hx,N=1,b=r.contextSettings;if(b!=null){j.Md.v.BlnM=D.Ti[b.blendMode];
N*=b.opacity}else j.Md.v.BlnM=D.Ti[0];j.enab.v=r.isEnabled;if(j.uglg!=null)j.uglg.v=!1;if(r.color!=null)N*=r.color.alpha;
j.Opct.v.val=Math.round(N*100)};hx.K5=function(r){return R._.XJ(r?{a:r.red*255,p:r.green*255,M:r.blue*255}:{a:0,p:0,M:0})};
hx.nk=function(r,j,D){var N=hx,b=[{type:6},{type:8,all:0}];for(var Y=0;Y<r.length;Y++){var x=r[Y],C=x.booleanOperation,w=0,q=x._class,t=!1;
if(q=="group"||q=="text"||q=="symbolInstance"||q=="slice"){console.log(q+" inside ShapeGroup");continue}if(C==-1)w=0;
else if(C==0)w=1;else if(C==1)w=2;else if(C==2)w=3;else if(C==3)w=0;if(Y==0)w=1;var u=hx.M7(x.frame),h=N.vx(x,j),z=x.path?x.path:x,O=[{type:0,length:0,va:w,fU:2,J8:0,wB:0}],g=z.points;
for(var P=0;P<g.length;P++){var $=g[P],i=N.Mm($.curveTo),A=N.Mm($.point),H=N.Mm($.curveFrom);t=t||$.hasCurveFrom&&!H.gy(A)||$.hasCurveTo&&!i.gy(A)}var F=[];
if(!t){var T=[],eK=g.length;if(eK==0)continue;for(var P=0;P<eK;P++){F[P]=g[P].cornerRadius;var $=N.Mm(g[P].point);
T.push($.x,$.y)}h.scale(1/u.d,1/u.r);h.gq();R.K.F(T,h,T);var _=R.b.r1(T,F);O=O.concat(_);O[0].length=O.length-1}else{var V=g.length;
O[0].length=V;for(var P=0;P<V;P++){var $=g[P],X=$.curveMode,o=N.Mm($.point);O[1+P]={type:X==2||X==4?1:2,IR:$.hasCurveTo?N.Mm($.curveTo):o.clone(),Q:o,TU:$.hasCurveFrom?N.Mm($.curveFrom):o.clone()}}h.scale(1/u.d,1/u.r);
h.gq();R.b.ho(O,h);var F=[];for(var P=0;P<V;P++){var $=g[P],X=$.curveMode,c=$.cornerRadius;if(X==1&&c!=0)F.push(c);
else F.push(0)}}if(!z.isClosed)for(var P=0;P<O.length;P++)O[P].type+=3;b=b.concat(O);var E=R.Bu.eH(),f=N.ZN(x);
if(h.M==0&&h.Jy==0){var d=h.Db,s=h.aF,B=d+h.kD,a=s+h.oq,U=[d,s,B,a];if(f=="rectangle"&&F.length==4)E=R.Bu.Vl(2,U,F);
if(f=="oval")E=R.Bu.Vl(5,U)}D.push(E)}return b};hx.vx=function(r,j){var D=j.clone(),N=r.frame?hx.M7(r.frame):null;
if(N)D.translate(-N.x-N.d/2,-N.y-N.r/2);if(r.isFlippedHorizontal)D.scale(-1,1);if(r.isFlippedVertical)D.scale(1,-1);
D.rotate(-r.rotation*(Math.PI/180));if(N)D.translate(N.d/2,N.r/2);return D};hx.Mm=function(r){r=r.slice(1,r.length-1).split(",");
return new gJ(parseFloat(r[0]),parseFloat(r[1]))};hx.M7=function(r){return new bf(r.x,r.y,r.width,r.height)};
hx.Pd=function(r){return{_class:"rect",constrainProportions:!1,x:r.x,y:r.y,width:r.d,height:r.r}};function f_(){}f_.$g=function(r,j){var D=Date.now(),N=f_,b=UZIP.parse(r),Y=JSON.parse(l.Hi(b.manifest)),x=JSON.parse(l.Hi(b["resources/graphics/graphicContent.agc"])).resources,C=[],w=Y.children;
for(var P=0;P<w.length;P++){var q=w[P];if(q.name=="artwork"){var u=q.children;for(var h=0;h<u.length;
h++)if(u[h]["uxdesign#bounds"]){var z=u[h],O=JSON.parse(l.Hi(b["artwork/"+z.path+"/graphics/graphicContent.agc"]));
if(O.children.length!=1)throw"e";z._node=O.children[0];C.push(z)}}}var g=[],t=new bf;for(var P=0;P<C.length;
P++){var z=C[P],$=hx.M7(z["uxdesign#bounds"]);g.push($);t=t.zs($)}var i=hx.Lj(t,8192*8192);j.Fc=!0;j.d=Math.round(t.d/i);
j.r=Math.round(t.r/i);j.buffer=R.O(j.d*j.r*4);j.WD(C.length);var A=new j9(i,0,0,i,t.x,t.y);j.qc={};for(var P=0;
P<C.length;P++){var z=C[P],$=hx.M7(z["uxdesign#bounds"]),H=z._node,F=A.clone(),T=$.clone(),_=F.zR();
F.translate(-$.x,-$.y);T.x=-Math.floor(F.Db/_);T.y=-Math.floor(F.aF/_);T.d=Math.floor(T.d/_);T.r=Math.floor(T.r/_);
F.translate($.x,$.y);f_.tB(H,j,F,x,b,T);var V=j.j[j.j.length-1];V.Lp(z.name);V.OD(T);if(P!=C.length-1)V.add.lsct=bH.$w}delete j.qc};
f_.hN=function(r){if(r==null)return new j9;return new j9(r.a,r.b,r.c,r.d,r.tx,r.ty)};f_.tB=function(r,j,D,N,b,Y){var x=f_,C=r.type,w=r[C],q=r.style,u=x.hN(r.transform),g,t="none",$,i="none",A,H;
u.gq();var h=D.clone();h.concat(u);var z=j.Xp(),O=r.name;z.Lp(O?O.slice(0,250):"Layer");if(r.visible!=null)z.yE(r.visible);
if(q){g=q.stroke;t=g?g.type:"none";$=q.fill;i=$?$.type:"none";A=q.filters;H=q.clipPath;if(H&&N.clipPaths[H.ref])H=N.clipPaths[H.ref].children;
else H=null;if(q.opacity)z.opacity=Math.round(255*q.opacity);if(i=="solid"&&$.color.alpha)z.opacity=Math.round(z.opacity*$.color.alpha);
if(A){z.add.lmfx=x.ajx(A);for(var P=0;P<A.length;P++)if(A[P].type=="uxdesign#blur"){var F=A[P],T=F.params,_=T.brightnessAmount;
if(_==null)_=0;_=Math.abs(_/100);if((F.visible==null||F.visible==!0)&&T.backgroundEffect)z.opacity=Math.round(z.opacity*(_+(1-_)*T.fillOpacity))}}if(i=="pattern"&&$.pattern.meta.ux.uid=="")i="none"}if(H==null&&r.meta&&r.meta.ux&&r.meta.ux.clipPathResources)H=r.meta.ux.clipPathResources.children;
if(C=="artboard"||C=="group"){if(H){var V=H[0],X=V.shape,o=X!=null&&X.type=="rect"&&X.width*X.height>1e6;
if(V.type!="text"&&!o){if(X){var u=x.hN(V.transform);u.gq();var c=h.clone();c.concat(u);z.add.vmsk=new G.$R;
z.add.vmsk.W=x.nk(X);c=c.clone();c.gq();R.b.ho(z.add.vmsk.W,c);z.Fz(j)}}else if(!o)alert("Clipping by text has been ignored")}z.add.lsct=bH.nV;
z.yp="pass";z.Qk=24;if(r.visible!=null)z.yE(r.visible);j.j.push(j.Hc());var E=w.children,f=$;if(f)f=f.color;
if(f)f=f.value;if($){if(C=="artboard"&&i=="solid"){z.OD(new bf(0,0,10,10));z.add.artb.Clr={t:"Objc",v:R._.XJ({a:f.r,p:f.g,M:f.b})};
z.add.artb.artboardBackgroundType={t:"long",v:4}}else{var d=j.Xp();d.Lp("BACKGROUND");d.Qk|=16;d.add.vstk=JSON.parse(JSON.stringify(hz._O.default));
d.add.vmsk=new G.$R;d.add.vmsk.W=x.nk({type:"rect",x:Y.x,y:Y.y,width:Y.d,height:Y.r});x.LD($,i,h,Y,Y,d,j,N,b);
d.Fz(j);j.j.push(d)}}for(var P=0;P<E.length;P++){f_.tB(E[P],j,h,N,b,Y)}}else if(C=="shape"&&r.shape.type=="rect"&&(r.shape.r==null||r.shape.r==0)&&i=="pattern"&&Math.abs(r.shape.width/r.shape.height-$.pattern.width/$.pattern.height)<.01){var s=$.pattern,B=s.meta.ux,a=B.uid,U=b["resources/"+a];
if(U==null){console.log(s);return}var M=j.Ok(U,z.getName(),0,0);M.Qk=z.Qk;M.opacity=z.opacity;z=M;var W=R.K.rR(new bf(0,0,s.width,s.height)).v,n=new j9;
n.scale(s.width/r.shape.width,s.height/r.shape.height);if(B.offsetX)n.translate(-B.offsetX*s.width,0);
if(B.offsetY)n.translate(0,-B.offsetY*s.height);h.concat(n);h.gq();R.K.F(W,h,W);z.add.SoLd.Trnf=I.T.Qn(W);
z.add.SoLd.nonAffineTransform=I.T.Qn(W);z.zX(j,!1)}else if(C=="shape"){z.Qk|=16;z.add.vstk=JSON.parse(JSON.stringify(hz._O.default));
z.add.vmsk=new G.$R;z.add.vmsk.W=x.nk(w);var e=R.b.sl(z.add.vmsk.W,null),c=h.clone();c.gq();R.b.ho(z.add.vmsk.W,c);
var Q=R.b.sl(z.add.vmsk.W,null);if(t=="none"){}else{var J=g.color.value,m,p;m="SoFi";var L=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);
p={t:"Objc",v:L};p.v.Clr.v=R._.XJ({a:J.r,p:J.g,M:J.b});var S=g.align,eJ=g.cap;if(S==null)S="center";
var hy=z.add.vstk;hy.strokeEnabled.v=!0;hy.strokeStyleLineWidth.v.val=g.width;if(S)hy.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hz._O.io[["inside","center","outside"].indexOf(S)];
if(eJ)hy.strokeStyleLineCapType.v.strokeStyleLineCapType=hz._O.DD[["butt","round","square"].indexOf(eJ)];
var v=["SoFi","GrFl","patternFill"].indexOf(m),ff=[hz.kK,hz.bl,hz.CU][v];hy.strokeStyleContent.v={classID:hz._O.AH[0]};
var K=hy.strokeStyleContent.v={classID:hz._O.AH[v]};for(var P=0;P<ff.length;P++)K[ff[P]]=p.v[ff[P]]}if(A)for(var P=0;
P<A.length;P++)if(A[P].type=="uxdesign#blur"&&A[P].visible){var jo=A[P];z.add.vmsk.wt=jo.params.blurAmount}x.LD($,i,h,e,Q,z,j,N,b);
z.Fz(j)}else if(C=="text"&&r.text){var g5=r.text,fQ=g5.frame,iT=q.font,ac=q.textAttributes,u=h.clone(),cp=0;
u.gq();z.add.lnsr="rend";z.add.TySh=cU.WJ(0,0);z.add.TySh.DU=new bf(0,0,100,100);z.add.TySh.F=u;var aR=z.add.TySh.d1,hV=g5.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
cU._w(aR,0,hV);if(hV!=""){var cu=cU.eZ(aR,0,1),iy=iT.postscriptName;if(iy==null)iy=iT.family;cU.ht(cu,iy);
cu.WQ.FontSize=Math.round(iT.size);if($){var J=$.color.value;cu.WQ.FillColor={Type:1,Values:[1,J.r/255,J.g/255,J.b/255]}}if(ac){if(ac.paragraphAlign)cu.Av.Justification=["left","right","center"].indexOf(ac.paragraphAlign);
if(ac.letterSpacing)cu.WQ.Tracking=Math.round(ac.letterSpacing);if(ac.lineHeight){cu.WQ.AutoLeading=!1;
cu.WQ.Leading=Math.round(ac.lineHeight)}}cU.lc(aR,0,hV.length,cu)}var gr=r.meta.ux.rangedStyles;if(gr)for(var P=0;
P<gr.length;P++){var w=gr[P],gP=Math.min(w.length,hV.length-cp),cu=cU.eZ(aR,cp,cp+gP),iy=w.postscriptName;
if(iy==null)iy=w.family;if(iy!=null)cU.ht(cu,iy);var g7=w.textScript,j8=w.underline,dg=w.fontSize,F=w.fill,gR=w.textTransform;
if(g7&&g7!="none")cu.WQ.FontBaseline=g7=="superscript"?1:2;if(j8!=null)cu.WQ.Underline=j8;if(dg!=null)cu.WQ.FontSize=Math.round(dg);
if(gR!=null)cu.WQ.FontCaps=gR=="uppercase"?2:0;if(F!=null){var em=F.value;cu.WQ.FillColor={Type:1,Values:[1,(em>>>16&255)/255,(em>>>8&255)/255,(em>>>0&255)/255]}}cU.lc(aR,cp,cp+gP,cu);
cp+=gP}if(fQ.type=="area"||fQ.type=="autoHeight"){var fr=fQ.width,aU=fQ.height;cU.jp(aR,1);cU.TS(aR,[0,0,fr,aU!=null?aU:fr*2])}}else console.log(C,r);
j.j.push(z)};f_.nk=function(r){var j=r.type,D=[{type:6},{type:8,all:0}];if(j=="rect"){var N=r.r,b=r.x,Y=r.y,x=r.width,C=r.height;
if(N==null)D=R.b.Lu.Rect(b,Y,x,C,0);else{var w=R.b.r1([b,Y,b+x,Y,b+x,Y+C,b,Y+C],N,!1);D.push({type:0,va:1,length:w.length,J8:0,wB:0,fU:1});
D=D.concat(w)}}else if(j=="circle"){var N=r.r;D=R.b.Lu.Co(r.cx-N,r.cy-N,2*N,2*N)}else if(j=="ellipse"){var q=r.rx,u=r.ry;
D=R.b.Lu.Co(r.cx-q,r.cy-u,2*q,2*u)}else if(j=="path"||j=="compound"){var h=Typr.U.SVGToPath(r.path);
D=R.K.CH({J:h.cmds,v:h.crds},!1)}else if(j=="line"){var z=r.x1,O=r.x2,g=r.y1,t=r.y2;D=D.concat([{type:0,va:1,length:2,J8:0,wB:0,fU:1}]).concat(R.b.r1([z,g,O,t],0,!0))}else if(j=="polygon"){var $=r.points,w=[];
for(var P=0;P<$.length;P++)w.push($[P].x,$[P].y);D=D.concat(R.b.Lu.xo(w,0,!1).slice(2))}else console.log(j,r);
return D};f_.ajx=function(r){var j=JSON.parse(hz.default);for(var P=0;P<hz.order.length;P++)j[hz.l9[P]]={t:"VlLs",v:[]};
for(var P=0;P<r.length;P++){var D=r[P],N=D.type,b=D.params,Y=D.visible;if(N=="dropShadow"){var x=hz.l9[hz.order.indexOf("DrSh")],C=JSON.parse(hz._5[hz.order.indexOf("DrSh")]);
j[x].v.unshift({t:"Objc",v:C});var w=b.dropShadows;if(w.length!=1)throw"e";var q=w[P],u=q.color,h=u.value,z=q.dx,O=q.dy;
C.Clr.v=R._.XJ({a:h.r,p:h.g,M:h.b});C.Opct.v.val=Math.round((u.alpha!=null?u.alpha:1)*100);C.uglg.v=!1;
C.enab.v=Y!=null?Y:!0;C.lagl.v.val=Math.round(180/Math.PI*Math.atan2(O,-z));C.Dstn.v.val=Math.round(Math.sqrt(z*z+O*O));
C.blur.v.val=Math.round(q.r*2.3)}}return j};f_.LD=function(r,j,D,N,b,Y,x,C,w){var q=f_;if(j=="none"){Y.add.vstk.fillEnabled.v=!1;
Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:0,p:0,M:0})}}}else{var u,h,z;if(j=="solid"){var O=r.color.value;
u="SoCo";h=hz.kK;var g=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);z={t:"Objc",v:g};z.v.Clr.v=R._.XJ({a:O.r,p:O.g,M:O.b})}else if(j=="gradient"){u="GdFl";
h=hz.bl;var g=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),t=g.Grad.v,F,T,_;t.Intr.v=0;var $=r[j],i=$.ref?C.gradients[$.ref]:$.meta.ux.gradientResources,A=["linear","radial"].indexOf(i.type),H=i.stops;
g.Type.v.GrdT=["Lnr","Rdl","Angl"][A];if(A==0){var F=new gJ($.x1,$.y1),T=new gJ($.x2,$.y2);F.x=T.x+.5*(F.x-T.x);
F.y=T.y+.5*(F.y-T.y)}else{var F=new gJ($.cx,$.cy),T=new gJ($.cx+$.r,$.cy)}_=b;if($.units=="objectBoundingBox"){var V=new j9(N.d,0,0,N.r,N.x,N.y);
F=V.OT(F);T=V.OT(T)}var V=q.hN($.transform);F=V.OT(F);T=V.OT(T);V=D.clone();V.gq();F=V.OT(F);T=V.OT(T);
R._.fv(F,T,_,g);var X=[];for(var P=0;P<H.length;P++){var o=H[P],c=o.color,O=c.value,E=c.alpha;if(E==null)E=1;
X.push([o.offset,[O.r/255,O.g/255,O.b/255],E])}R._.NI(X,t);z={t:"Objc",v:g}}else if(j=="pattern"){u="PtFl";
h=hz.CU;var g=JSON.parse(hz._5[hz.order.indexOf("patternFill")]),U,J=1,m=0,p=0,L=1;z={t:"Objc",v:g};
var f=r[j],d=f.meta.ux,s=d.uid,B=w["resources/"+s].buffer,a=aP.rF(B);if(x.qc[s])U=x.qc[s];else{var M=new bf(0,0,f.width,f.height),W;
if(M.jE()){M=new bf(0,0,1,1);W=new ArrayBuffer(4)}else{var n=aP.QE(a);if(n.Xg){var e=new dl;n.G$(B,e);
W=e.Ez().buffer}else{var Q=n.G$(B)[0];W=Q.data;M=Q.Yn}}U={};U.id=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f";
U.name="someImage";U.PT=[new Uint8Array(W),M];x.fO(U);x.qc[s]=U}var M=U.PT[1];g.Algn.v=!0;g.Ptrn.v.Idnt.v=U.id;
if(d.scaleBehavior=="cover"){J=L*Math.max(b.d/M.d,b.r/M.r);var S=J;if(d.scale!=null)J*=d.scale;m=b.x-(M.d*J-b.d)/2;
p=b.y-(M.r*J-b.r)/2;if(d.offsetX!=null)m+=d.offsetX*M.d*S;if(d.offsetY!=null)p+=d.offsetY*M.r*S}else if(d.scaleBehavior=="fill"){J=L*Math.min(b.d,b.r)/Math.max(M.d,M.r);
m=b.x-(M.d*J-b.d)/2;p=b.y-(M.r*J-b.r)/2}else throw"Unknown scale behaviour";g.Scl.v.val=100*J;g.phase.v.Hrzn.v=Math.round(m);
g.phase.v.Vrtc.v=Math.round(p)}else console.log(j);if(u!=null){Y.add[u]={classID:"null"};for(var P=0;
P<h.length;P++){var eJ=h[P];Y.add[u][eJ]=z.v[eJ]}}}};function cB(){}cB.$g=function(r,j,D){r=new Uint8Array(r);
var N=l.Hi(r,0,r.length),b=new DOMParser,Y=b.parseFromString(N,"image/svg+xml"),x=Y.getElementsByTagName("style")[0],O=1;
if(x)x=Typr.U.SVG.cssMap(x.textContent);else x={};var C=Y.firstChild;while(C.tagName!="svg")C=C.nextSibling;
var w=new bf(0,0,100,100),q=C.getAttribute("viewBox"),u=C.getAttribute("width"),h=C.getAttribute("height");
if(q){var z=cB.WF(q);w.x=z[0];w.y=z[1];w.d=z[2];w.r=z[3]}else if(u!=null||h!=null){w.d=u!=null?parseFloat(u):parseFloat(h);
w.r=h!=null?parseFloat(h):parseFloat(u)}w=R.K.yB(w);while(D&&Math.max(w.d*O,w.r*O)<Math.max(D[0],D[1]))O++;
while(D==null&&Math.max(w.d,w.r)*O>8192)O*=.5;j.Fc=!0;j.d=~~(w.d*O);j.r=~~(w.r*O);j.buffer=R.O(j.d*j.r*4);
var g=new j9(O,0,0,O,-w.x*O,-w.y*O),t={Ce:cB.vS(C),a0g:x};cB.Sm(Y,C.children,j,g,t,new j9,0);if(j.j.length==0){var $=j.Xp();
$.Lp("Layer");j.j.push($)}};cB.WF=function(r){var j=" ";if(r.indexOf(",")!=-1)j=",";return r.split(j).map(parseFloat)};
cB.Sm=function(r,j,D,N,b,Y,x){var C=cB,w=["display","opacity","fill-opacity"];for(var q=0;q<j.length;
q++){var u=j[q],h=u.tagName,z=u.getAttribute("id"),O=C.vS(u,b.a0g),t=13,F=1,V="clip-path",X=null;for(var g in b.Ce)if(w.indexOf(g)==-1&&O[g]==null)O[g]=b.Ce[g];
if(O["font-size"])t=C.D_(O["font-size"],t);if(u.getAttribute("dx"))N.Db+=C.D_(u.getAttribute("dx"),t);
if(u.getAttribute("dy"))N.aF+=C.D_(u.getAttribute("dy"),t);var $=C.B7(u);$.concat(N);var i=u.getAttribute("visibility"),A=O.display,H=D.Xp();
if(i=="hidden"||A=="none")H.yE(!1);H.Lp(z!=null?z.split(":::")[0]:"Layer");if(O.opacity)F*=parseFloat(O.opacity);
if(O["fill-opacity"]){var T=parseFloat(O["fill-opacity"]);if(T!=0)F*=T}H.opacity=Math.round(255*F);if(O["mix-blend-mode"]){var _=by.Zo.indexOf(O["mix-blend-mode"]);
if(_!=-1)H.yp=by.n4[_]}if(u.getAttribute(V)==null)V="mask";if(u.getAttribute(V)!=null){var o=u.getAttribute(V);
o=o.slice(4,o.length-1);var c=r.getElementById(o.slice(1));if(c){var E=c.children;X=D.Xp();X.Lp("Clip-Path"+(z?": "+z:""));
X.add.lsct=x<2?bH.nV:bH.$w;X.yp="pass";X.Qk=24;var f=X.add.vmsk=new G.$R;D.j.push(D.Hc());var d=[];if(c.getAttribute(V)){var o=c.getAttribute(V);
o=o.slice(4,o.length-1);d=r.getElementById(o.slice(1)).children}for(var P=0;P<E.length;P++){var s=C.B7(E[P]);
s.concat($);var B=C.nk(r,E[P],!1).slice(2);R.b.ho(B,s);f.W=f.W.concat(B)}for(var P=0;P<d.length;P++){var s=C.B7(E[P]);
s.concat($);var B=C.nk(r,d[P],!1).slice(2);for(var a=0;a<B.length;a++)if(B[P].va!=null)B[P].va=3;R.b.ho(B,s);
f.W=f.W.concat(B)}X.HJ();X.Fz();x++}}if(h=="g"||h=="a"||h=="svg"||h=="switch"||(h=="text"||h=="textPath")&&u.children.length>0){if(h=="text")Y=C.Rr(u,Y);
var U=u.getAttribute("viewBox"),M=u.getAttribute("width"),W=u.getAttribute("height");if(U&&M&&W){var n=cB.WF(U),e=C.Rr(u),Q=new j9;
Q.translate(-n[0],-n[1]);Q.scale(parseFloat(M)/n[2],parseFloat(W)/n[3]);Q.translate(e.Db,e.aF);Q.concat($);
$=Q}var J=u.children.length,m=b.Ce;b.Ce=O;var p=h!="text"&&h!="textPath"||J>1;if(p){var L=H.Xy();H.add.lsct=x<2&&L&&(z==null||!z.endsWith(":::"))?bH.nV:bH.$w;
H.yp="pass";H.Qk=24;H.yE(L);D.j.push(D.Hc())}C.Sm(r,u.children,D,$,b,Y,x+1);if(p)D.j.push(H);else{var S=D.j[D.j.length-1];
S.opacity=H.opacity;S.yp=H.yp}b.Ce=m}else if(h=="use"){var Q=C.Rr(u);Q.concat($);var eJ=C.Wl(u),hy=r.getElementById(eJ.slice(1)),m=b.Ce;
b.Ce=O;C.Sm(r,[hy],D,Q,b,Y,x+1);b.Ce=m}else if(h=="path"||h=="rect"||h=="circle"||h=="ellipse"||h=="polygon"||h=="polyline"||h=="line"){H.Qk|=16;
H.add.vmsk=new G.$R;H.add.vstk=JSON.parse(JSON.stringify(hz._O.default));H.add.vstk.strokeEnabled.v=!1;
var v=H.add.vstk,f=H.add.vmsk,ff=O.fill,K=ff=="none"||O["fill-opacity"]&&parseFloat(O["fill-opacity"])==0;
f.W=C.nk(r,u,O["fill-rule"]=="evenodd",K);R.b.ho(f.W,$);var jo=R.b.sl(f.W),g5=O.stroke,fQ=O["stroke-width"],iT=O["stroke-dasharray"],ac=O["stroke-linejoin"],aR=O["stroke-linecap"],hV=O["paint-order"];
if(g5==null||g5=="none"||g5=="null"){}else{var cu=C.xs(r,g5,$,jo),iy=["SoFi","GrFl","patternFill"].indexOf(cu.type),gr=cu.m.v.Opct.v,g7=1;
if(gr.val!=100){H.opacity=Math.round(H.opacity*gr.val/100);gr.val=100}var cp=[hz.kK,hz.bl,hz.CU][iy],gP=v.strokeStyleContent.v={classID:hz._O.AH[iy]};
for(var P=0;P<cp.length;P++)gP[cp[P]]=cu.m.v[cp[P]];fQ=fQ?parseFloat(fQ):1;if(hV&&hV.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){g7=2;
fQ/=2}v.strokeEnabled.v=!0;if(ac)v.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hz._O.join[["miter","round","bevel"].indexOf(ac)];
if(aR)v.strokeStyleLineCapType.v.strokeStyleLineCapType=hz._O.DD[["butt","round","square"].indexOf(aR)];
v.strokeStyleLineWidth.v.val=fQ*I.T.zR($);v.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hz._O.io[g7];
v.strokeStyleOpacity.v.val=100*(O["stroke-opacity"]?parseFloat(O["stroke-opacity"]):1);if(iT!=null&&iT!="none")v.strokeStyleLineDashSet.v=fx.kA(iT.split(",").map(parseFloat),1/fQ)}if(K){H.add.vstk.fillEnabled.v=!1;
H.add.SoCo={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:0,p:0,M:0})}}}else{var cu=C.xs(r,ff,$,jo),j8=null,dg=null;
if(cu.type=="SoFi"){j8="SoCo";dg=hz.kK}if(cu.type=="GrFl"){j8="GdFl";dg=hz.bl}if(cu.type=="patternFill"){j8="PtFl";
dg=hz.CU}if(j8!=null){var gr=cu.m.v.Opct.v;if(gr.val!=100){H.opacity=Math.round(H.opacity*gr.val/100);
gr.val=100}H.add[j8]={classID:"null"};for(var P=0;P<dg.length;P++){var g=dg[P];H.add[j8][g]=cu.m.v[g]}}}if(O.filter&&O.filter!="none"){var gR=O.filter;
gR=gR.slice(5,gR.length-1);if(r.getElementById(gR)){var em=r.getElementById(gR).children[0];if(em.tagName=="feGaussianBlur"){H.add.vmsk.wt=parseFloat(em.getAttribute("stdDeviation"))*I.T.zR($)}}}H.HJ();
H.Fz(D);D.j.push(H)}else if((h=="text"||h=="tspan")&&u.textContent!=""){Y=C.Rr(u,Y);var Q=Y.clone(),dK=0;
Q.concat($);if(u.children.length>0){var fr=C.vS(u.children[0],b.a0g);for(var g in fr)if(w.indexOf(g)==-1)O[g]=fr[g]}var aU=O["xml:space"],bb=u.textContent;
if(aU=="preserve")bb=bb.replace(/\t/g," ").replace(/\n/g," ");if(z==null)H.Lp(bb);H.add.lnsr="rend";
H.add.TySh=cU.WJ(0,0);H.add.TySh.DU=new bf(0,0,100,100);H.add.TySh.F=Q.clone();var fZ=H.add.TySh.d1;
cU._w(fZ,0,bb);var ff=O.fill,h1=O["font-weight"],ar=O["font-family"],gt=O["text-decoration"],g5=O.stroke,fQ=O["stroke-width"],gX=O["dominant-baseline"];
if(gX=="text-before-edge")dK=t;else if(gX=="middle")dK=t/2;else if(gX=="hanging")dK=t;if(dK!=0)H.add.TySh.F.translate(0,dK);
var ay=cU.eZ(fZ,0,1);if(ff&&ff!="none"){var hh=CSS.K5(ff);ay.WQ.FillColor={Type:1,Values:[1,hh.a/255,hh.p/255,hh.M/255]}}if(gt=="underline")ay.WQ.Underline=!0;
ay.WQ.FontSize=Math.round(t);cU.ht(ay,"LiberationSans");if(h1=="bold")cU.ht(ay,"LiberationSans-Bold");
if(ar){ar=ar.split(",")[0].trim();if(ar[0]=="\"")ar=ar.slice(1);if(ar[ar.length-1]=="\"")ar=ar.slice(0,ar.length-1);
var b7=ar+":"+(h1?h1:"normal"),cV={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(cV[b7])cU.ht(ay,cV[b7]);else cU.ht(ay,ar)}if(O["text-anchor"])ay.Av.Justification=["start","end","middle"].indexOf(O["text-anchor"]);
cU.lc(fZ,0,bb.length,ay);if(g5==null||g5=="none"){}else{var bj=JSON.parse(hz._5[hz.order.indexOf("FrFX")]);
bj.Clr.v=R._.XJ(CSS.K5(g5));bj.Sz.v.val=Math.round(parseFloat(fQ)*I.T.zR(Q));var bW=JSON.parse(hz.default);
for(var P=0;P<hz.order.length;P++)bW[hz.l9[P]]={t:"VlLs",v:[]};bW.frameFXMulti.v.push({t:"Objc",v:bj});
H.add.lmfx=bW}D.j.push(H)}else if(h=="image"){var eJ=C.Wl(u);if(eJ.slice(0,4)=="data"){var bu=aP._H(eJ),da=bu,dj=D.Ok(da,H.getName(),0,0);
dj.Qk=H.Qk;H=dj;var e_=H.rect.clone();e_.x=e_.y=0;var de=u.getAttribute("width"),aM=u.getAttribute("height");
if(de)e_.d=parseFloat(de);if(aM)e_.r=parseFloat(aM);var g2=C.Rr(u);g2.concat($);var g9=R.K.rR(e_).v;
R.K.F(g9,g2,g9);H.add.SoLd.Trnf=I.T.Qn(g9);H.add.SoLd.nonAffineTransform=I.T.Qn(g9);H.zX(D,!1);D.j.push(H)}}else console.log("unknown tag: "+h,u.children.length,u.textContent.length);
if(X!=null){D.j.push(X);x--}}};cB.nk=function(r,j,D,N){var b=cB,Y=[{type:6},{type:8,all:0}],x=j.tagName;
if(x=="use"){var C=b.Wl(j),w=r.getElementById(C.slice(1)),q=new j9;if(w.tagName!="rect")q=b.Rr(w);q.concat(b.B7(w));
Y=b.nk(r,w,D,N);R.b.ho(Y,q)}else if(x=="path"){var u=j.getAttribute("d");if(u==null)return Y;var h=Typr.U.SVGToPath(u);
Y=R.K.CH({v:h.crds,J:h.cmds},D,N)}else if(x=="rect"){var z=j.getAttribute("rx"),O=b.Rr(j);Y=R.b.Lu.Rect(O.Db,O.aF,parseFloat(j.getAttribute("width")),parseFloat(j.getAttribute("height")),z?parseFloat(z):0)}else if(x=="circle"||x=="ellipse"){var g=[0,0,0,0],t=["cx","cy","rx","ry","r"];
for(var P=0;P<5;P++){var $=j.getAttribute(t[P]);if($){$=parseFloat($);if(P<4)g[P]=$;else g[2]=g[3]=$}}Y=R.b.Lu.Co(g[0]-g[2],g[1]-g[3],2*g[2],2*g[3])}else if(x=="polygon"||x=="polyline"||x=="line"){var i;
if(x=="line")i=[j.getAttribute("x1"),j.getAttribute("y1"),j.getAttribute("x2"),j.getAttribute("y2")].map(parseFloat);
else i=j.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
Y=R.b.Lu.xo(i,0,x!="polygon")}return Y};cB.D_=function(r,j){if(r.charAt(r.length-1)=="m")return j*parseFloat(r.slice(0,r.length-2));
else return parseFloat(r)};cB.xs=function(r,j,D,N){var b,Y,x=cB,C=JSON.parse(hz._5[hz.order.indexOf("SoFi")]),w=j!=null?j.indexOf("("):-1;
if(w!=-1){var q=j.indexOf(")"),u=j.slice(0,w).trim(),h=j.slice(w+1,q).trim();if(h.charAt(0)=="'")h=h.slice(1,h.length-1);
if(u=="url"){if(h.charAt(0)=="#"){var z=r.getElementById(h.slice(1));if(z&&z.tagName.toLowerCase().endsWith("gradient")){var O=x.HT(r,z,D,N);
b="GrFl";Y={t:"Objc",v:O}}else{b="SoFi";Y={t:"Objc",v:C}}}else console.log("unknown url",h)}else if(u=="rgb"||u=="rgba"){b="SoFi";
Y={t:"Objc",v:C};Y.v.Clr.v=R._.XJ(CSS.K5(j));if(u=="rgba")Y.v.Opct.v.val=Math.round(100*parseFloat(j.split(",").pop()))}else console.log("unknown fill",j)}else{b="SoFi";
Y={t:"Objc",v:C};Y.v.Clr.v=R._.XJ(CSS.K5(j))}return{type:b,m:Y}};cB.B7=function(r){var j=new j9,D=r.getAttribute("transform");
if(D)j=cB.D3(D);var N=r.getAttribute("style");if(N!=null){var b={};cB.Ex(b,N,["transform"]);N=b.transform;
if(N)j.concat(cB.D3(N))}return j};cB.Rr=function(r,j){var D=new j9,N=r.getAttribute("x"),b=r.getAttribute("y");
if(N)D.Db=parseFloat(N);else if(j)D.Db=j.Db;if(b)D.aF=parseFloat(b);else if(j)D.aF=j.aF;return D};cB.D3=function(r){var j=Typr.U.SVG.readTrnf(r);
return new j9(j[0],j[1],j[2],j[3],j[4],j[5])};cB.vS=function(r,j){var D={},N="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var P=0;P<N.length;P++){var b=r.getAttribute(N[P]);if(b!=null&&b!="inherit")D[N[P]]=b}var Y=r.getAttribute("class");
if(j!=null&&Y!=null&&j["."+Y]!=null)cB.Ex(D,j["."+Y],N);var x=r.getAttribute("id");if(j!=null&&x!=null&&j["#"+x]!=null)cB.Ex(D,j["#"+x],N);
var C=r.getAttribute("style");if(C!=null)cB.Ex(D,C,N);return D};cB.Ex=function(r,j,D){j=j.trim().split(";");
for(var P=0;P<j.length;P++){var N=j[P].split(":"),b=N[0]?N[0].trim():"",Y=N[1]?N[1].trim():"";for(var x=0;
x<D.length;x++)if(b==D[x]&&Y!="inherit")r[D[x]]=Y}};cB.Wl=function(r){var j=r.getAttribute("xlink:href");
if(j==null)j=r.getAttribute("href");if(j==null)j=r.getAttribute("xl:href");return j};cB.HT=function(r,j,D,N){var b=cB;
function Y(X,o,c){var E=j.getAttribute(X);if(E==null)return;var f=parseFloat(E);if(E.endsWith("%"))f*=(c?N.d:N.r)/100;
if(c)o.x=f;else o.y=f}var x=new j9,C=j.getAttribute("gradientTransform");if(C)x=b.D3(C);x.concat(D);
var w=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),q=w.Grad.v;q.Intr.v=0;var u=j.tagName,h=new gJ(0,0),z=new gJ(N.d,0);
if(u=="linearGradient"){w.Type.v.GrdT="Lnr";Y("x1",h,!0);Y("y1",h,!1);Y("x2",z,!0);Y("y2",z,!1);h.x=z.x+.5*(h.x-z.x);
h.y=z.y+.5*(h.y-z.y)}if(u=="radialGradient"){w.Type.v.GrdT="Rdl";if(j.getAttribute("cx"))h.x=parseFloat(j.getAttribute("cx"));
if(j.getAttribute("cy"))h.y=parseFloat(j.getAttribute("cy"));z.Ho(h.x,h.y);if(j.getAttribute("r"))z.x+=parseFloat(j.getAttribute("r"))}if(j.getAttribute("gradientUnits")=="userSpaceOnUse"){h=x.OT(h);
z=x.OT(z)}else{h.x=N.x+h.x*N.d;h.y=N.y+h.y*N.r;z.x=N.x+z.x*N.d;z.y=N.y+z.y*N.r}R._.fv(h,z,N,w);var O=j.children;
if(O.length==0){var g=b.Wl(j);if(g==null)throw"gradient has no stops";var t=r.getElementById(g.slice(1));
if(t==null){console.log(g.slice(1));throw"e"}var $=b.HT(r,t,x,N);w.Grad=$.Grad}else{var i=[];for(var P=0;
P<O.length;P++){var A=O[P],H=b.vS(A),F=H["stop-color"],T=H["stop-opacity"],_=A.getAttribute("offset");
if(F==null)F="#000000";if(T==null)T="1";var V=_?parseFloat(_):0;F=CSS.K5(F);i.push([V,[F.a/255,F.p/255,F.M/255],parseFloat(T)])}R._.NI(i,q)}return w};
cB.G5=function(r,j,D){var N=[],b=cB;b.ZF=j.ahw?"\t":"";var Y=j.a7s,x=j.aoe;N.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+r.d+" "+r.r+"\" width=\""+Y+"\" height=\""+x+"\">");
N.push(b.zY(1)+"<title>"+cB.Yg(r.name.split(".")[0])+"</title>");var C={LN:[],lk:[],_0:0,IL:0,gT:0,Bl:{},Zv:{},aK:0,n6:{},K0:{},Qc:0,fA:[]};
cB.tb(r,C,r.root.children,1,j,D);if(C.LN.length!=0){N.push(b.zY(1)+"<defs>");N=N.concat(C.LN);N.push(b.zY(1)+"</defs>")}N.push(b.zY(1)+"<style>");
N.push(b.zY(2)+"tspan { white-space:pre }");for(var w in C.n6)N.push(b.zY(2)+"."+w+" { "+C.n6[w]+" } ");
N.push(b.zY(1)+"</style>");N=N.concat(C.lk);N.push("</svg>");N=N.join(j.ahw?"\n":"");if(b.tU){console.log(b.tU);
var q="SVGParser.gen.db = [\n";for(var P=0;P<b.tU.length;P++){var u=b.tU[P];q+="{\n\tnam: \""+u.Tr+"\",\n\tpts: [\n";
for(var h=0;h<u.qE.length;h++){var z=u.qE[h];q+="\t\t[\""+z[0]+"\", { cmds: "+JSON.stringify(z[1].J)+", crds:"+JSON.stringify(z[1].v)+" } ]"+(h==u.qE.length-1?"":",")+"\n"}q+="\t]\n}"+(P==b.tU.length-1?"":",")+"\n"}q+="]\n";
console.log(q)}return l.IH(N)};cB.ZF="";cB.zY=function(eK){var r="";for(var P=0;P<eK;P++)r+=cB.ZF;return r};
cB.Bm=function(eK){return""+parseFloat(eK.toFixed(3))};cB.tb=function(r,j,D,N,b,Y){var x=cB;function C(u,g7){var X=u.add.lmfx;
if(X)X=X[g7].v[0];if(X)X=X.v;if(X&&!X.enab.v)X=null;return X}function w(u,t){var hh=C(u,"frameFXMulti");
if(hh){var b7=hh.Sz.v.val;if(hh.Styl.v.FStl=="OutF"){t.push("paint-order:stroke fill markers");b7*=2}t.push("stroke: "+CSS.Zw(hh.Clr.v));
t.push("stroke-width: "+b7);t.push("stroke-linejoin: round;")}}for(var q=0;q<D.length;q++){var u=D[q].n,h=u.add.lsct,z=u.add.vmsk,O=u.add.vstk,g=u.add.TySh;
if(z&&!z.isEnabled)z=O=null;var t=[];if(!b.hidden&&!u.Xy())continue;var $=u.opacity/255,i=u.add.iOpa?u.add.iOpa/255:1;
if($!=1)t.push("opacity: "+x.Bm($));if(i!=1)t.push("fill-opacity: "+x.Bm(i));if(u.yp!="norm"){var A=by.Zo[by.n4.indexOf(u.yp)];
if(A!=null)t.push("mix-blend-mode: "+A)}if(!u.Xy())t.push("display: none");var H=[],F=[],T=u.getName(),_=T.indexOf(" .");
if(_!=-1){F.push(T.slice(_+2));T=T.slice(0,_)}if(b.names)H.push("id=\""+x.Yg(T)+"\"");var V=fx.YC(u.add.lmfx,u.add),X=V[0],o=V[1];
if(u.iO()){var c=D[q].children;if(!(c.length==1&&c[0].n.add.SoLd&&!b.ES)){if(x.tU&&u.getName().split("-").length==3){x.tU.push({Tr:u.getName(),XW:0,qE:[]})}cB.gf(u,z,j,H);
if(t.length!=0)H.push("style=\""+t.join(";")+"\"");j.lk.push(x.zY(N)+"<g "+x.LL(H,F)+">");x.tb(r,j,c,N+1,b,Y);
j.lk.push(x.zY(N)+"</g>")}}else if(u.x2()&&z==null){var E=new bf(0,0,r.d,r.r);x.Vs(t,u.add,j,E);if(t.length!=0)H.push("style=\""+t.join(";")+"\"");
j.lk.push(x.zY(N)+"<rect width=\""+r.d+"\" height=\""+r.r+"\" "+x.LL(H,F)+" />")}else if(z&&u.add.SoLd==null){var E=R.b.sl(z.W,null,!0),f=R.b.Lb(z.W);
if(f.zw!=0){H.push("fill-rule=\"evenodd\"")}var d=f.mo;x.Vs(t,u.add,j,E);if(t.length!=0){var s=t.join(";"),B=j.K0[s];
if(B==null){B="shp"+j.Qc;j.Qc++;j.K0[s]=B;j.n6[B]=s}F.push(B)}j.lk.push(x.zY(N)+"<path "+x.LL(H,F)+" d=\""+d+"\" />");
if(x.tU&&x.tU[x.tU.length-1]){var a=R.K.WM(z.W);a.v=a.v.map(Math.round);var U=x.tU[x.tU.length-1];U.XW+=JSON.stringify(a).length;
U.qE.push([t[0].split("#").pop(),a])}}else if(g&&b.a2k){var M=g.d1,W=new fu(M,Y),n=null;if(X)n=CSS.Zw(X.Clr.v);
if(o){var E=u.rect.clone();x.ke(o,j,E);n=" url(#grd"+j._0+")"}if(n)H.push("fill=\""+n+"\"");w(u,t);if(t.length!=0)H.push("style=\""+t.join(";")+"\"");
var e=iW.O5(W,g),Q=R.K.dJ(e);for(var J in Q){if(n==null)H.push("fill=\""+J+"\"");var m=Q[J],d=Typr.U.pathToSVG({crds:m.v,cmds:m.J},2);
j.lk.push(x.zY(N)+"<path "+x.LL(H,F)+" "+x.vB(g)+" d=\""+d+"\" />");if(n==null)H.pop()}}else if(g&&!b.aeY){var M=g.d1,p=g.F.clone(),n=null,jo=0,g5=0;
if(cU.Tl(M)==1){var L=cU.eZ(M,0,0).Av.Justification,S=0,eJ=cU.Nb(M)[2];if(L==2)S=eJ/2;if(L==1)S=eJ;p.translate(S,0)}t.push("transform: "+x.My(p));
var hy=cU.g2(M),v=M.EngineDict.ParagraphRun,ff=v.RunArray,K=v.RunLengthArray;w(u,t);if(t.length!=0)H.push("style=\""+t.join(";")+"\"");
j.lk.push(x.zY(N)+"<text "+x.LL(H,F)+" >");if(X)n=CSS.Zw(X.Clr.v);if(o){var E=u.rect.clone();E.x-=p.Db;
E.y-=p.aF;x.ke(o,j,E);n=" url(#grd"+j._0+")"}for(var P=0;P<ff.length;P++){var fQ=[],iT=K[P],ac=hy.slice(jo,jo+iT-1),aR=cU.eZ(M,jo,jo),hV=aR.HB[aR.WQ.Font].Name;
if(j.fA.indexOf(hV)==-1)j.fA.push(hV);CSS.a8M(fQ,aR,g.F,!0,!0,n);var cu=aR.WQ.FontSize*1.12;if(P==0)cu=cU.Tl(M)==0?0:aR.WQ.FontSize;
g5+=cu;if(ac!=""){var s=fQ.join(";"),B=j.K0[s],gr="";if(B==null){B="txt"+j.Qc;j.Qc++;j.K0[s]=B;j.n6[B]=s}var iy=aR.WQ.Tracking;
if(iy!=null&&iy!=0){iy=Math.round(iy*aR.WQ.FontSize/1e3);gr=" dx=\"0";for(var cp=1;cp<ac.length;cp++)gr+=" "+iy;
gr+="\" "}j.lk.push(x.zY(N+1)+"<tspan x=\"0\" y=\""+x.Bm(g5)+"\" class=\""+B+"\""+gr+">"+x.Yg(ac)+"</tspan>")}jo+=iT}j.lk.push(x.zY(N)+"</text>")}else if(u.add.SoLd&&b.ES){var gP=u.add.SoLd,g7=gP.Idnt.v,j8=0,dg=gP.Crop?gP.Crop.v:null;
if(j.Zv[g7]!=null)j8=j.Zv[g7];else{j.aK++;j8=j.aK;j.Zv[g7]=j.aK;var gR=r.oz(g7,dg),aU="";if(gR==null)return;
var em=gR.Du,fr=aP.rF(gR.raw.buffer);if(fr=="pdf"){var bb=new dl("h");aP.QE("PDF").G$(gR.raw.buffer,bb);
bb.KE();bb.qw();bb.P();bb.wR();if(gP.Crop&&gP.Crop.v==1){I.rh.yX(bb,bb.root.q7(bb,!0))}var fZ=aP.QE("SVG").TL(bb,bb.d,bb.r,null,{fA:Y});
aU="data:image/svg+xml;base64,"+aP.BI(fZ)}else if(fr=="jpg"||fr=="png"||fr=="gif"||fr=="svg"){var h1={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
aU="data:"+h1[fr]+";base64,"+aP.BI(gR.raw.buffer)}else{aU=aP.pU(em[0].buffer,em[1].d,em[1].r)}j.LN.push(x.zY(2)+"<image width=\""+em[1].d+"\" height=\""+em[1].r+"\" id=\"img"+j8+"\" href=\""+aU+"\"/>")}var ar=R.t.PY(gP),gt=[];
cB.gf(u,z,j,gt);if(gt.length!=0)j.lk.push(x.zY(N)+"<g "+x.LL(gt,F)+">");if(t.length!=0)H.push("style=\""+t.join(";")+"\"");
var gX=x.LL(H,F);j.lk.push(x.zY(N)+"<use "+gX+" href=\"#img"+j8+"\" transform=\""+x.My(ar)+"\"/>");if(gt.length!=0)j.lk.push(x.zY(N)+"</g>")}else if(!u.rect.jE()&&(b.ES||g)){if(t.length!=0)H.push("style=\""+t.join(";")+"\"");
var gX=x.LL(H,F),dK=u.buffer;if(X)dK=fx.jP(dK,X,u.rect);var ay=u.rect;j.aK++;var aU=aP.pU(dK.buffer,ay.d,ay.r,"png",null,!0);
j.LN.push(x.zY(2)+"<image "+x.vB(g)+" width=\""+u.rect.d+"\" height=\""+u.rect.r+"\" id=\"img"+j.aK+"\" href=\""+aU+"\"/>");
j.lk.push(x.zY(N)+"<use "+gX+" href=\"#img"+j.aK+"\" x=\""+ay.x+"\" y=\""+ay.y+"\" />")}}};cB.vB=function(r){if(r==null)return"";
var j=r.d1,D=cU.g2(j);D=cB.Yg(D.slice(0,D.length-1));return"aria-label=\""+D+"\" "};cB.LL=function(r,j){if(j.length!=0)r.push("class=\""+j.join(" ")+"\"");
return r.join(" ")};cB.Yg=function(r){return String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
cB.My=function(r){var j=[r.kD,r.M,r.Jy,r.oq,r.Db,r.aF].map(cB.Bm);return"matrix("+j.join(",")+")"};cB.gf=function(r,j,D,N){var b=cB;
if(j||r.add.artb){var Y;if(j)Y=R.b.Lb(j.W).mo;else{var x=r.tT(),C=R.K.rR(x);Y=Typr.U.pathToSVG({crds:C.v,cmds:C.J},2)}D.gT++;
N.push("clip-path=\"url(#cp"+D.gT+")\"");D.LN.push(b.zY(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+D.gT+"\">");
D.LN.push(b.zY(3)+"<path d=\""+Y+"\" />");D.LN.push(b.zY(2)+"</clipPath>")}};cB.Vs=function(r,j,D,N){var b=cB,Y=j.vstk,x=j.vmsk,C=j.lmfx;
if(x&&x.wt!=0){var w=b.Bm(x.wt);if(D.Bl[w]==null){D.IL++;D.Bl[w]=D.IL;D.LN.push(b.zY(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+D.IL+"\"> <feGaussianBlur stdDeviation=\""+w+"\" /> </filter>")}r.push("filter: url(#flt"+D.Bl[w]+")")}var q=fx.YC(C,j),u=q[0],h=q[1];
if(Y&&!Y.fillEnabled.v)r.push("fill: none");else if(u){var z=CSS.Zw(u.Clr.v);r.push("fill: "+z)}else if(h){b.ke(h,D,N);
r.push("fill: url(#grd"+D._0+")")}if(Y==null||!Y.strokeEnabled.v)Y=fx.WU(C);if(Y&&Y.strokeEnabled.v){var O=Y.strokeStyleContent.v,g=O.classID;
if(g=="solidColorLayer")r.push("stroke: "+CSS.Zw(O.Clr.v));else{b.ke(O,D,N);r.push("stroke: url(#grd"+D._0+")")}var t=hz._O.DD.indexOf(Y.strokeStyleLineCapType.v.strokeStyleLineCapType),$=hz._O.join.indexOf(Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType),i=Y.strokeStyleOpacity.v.val/100,A=Y.strokeStyleLineWidth.v.val,H=hz._O.io.indexOf(Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(H==2){A*=2;r.push("paint-order:stroke fill markers")}var F=Y.strokeStyleLineDashSet.v,T=[];for(var P=0;
P<F.length;P++)T.push(Math.round(F[P].v.val*A));if(t!=0)r.push("stroke-linecap:"+["butt","round","square"][t]);
if($!=0)r.push("stroke-linejoin:"+["miter","round","bevel"][$]);if(i!=1)r.push("stroke-opacity:"+b.Bm(i));
if(A!=1)r.push("stroke-width: "+b.Bm(A));if(T.length!=0)r.push("stroke-dasharray: "+T.join(","))}};cB.ke=function(r,j,D){j._0++;
var N=cB,b=r.Grad.v,Y=JSON.parse(JSON.stringify(b.Clrs.v)),x=JSON.parse(JSON.stringify(b.Trns.v)),C=r.Ofst.v,w=r.Type.v.GrdT,q=w=="Rdl"?1:0,u=(q==1?"radial":"linear")+"Gradient",h=R._.Ly(r,D);
if(q==0){h[0].x=h[1].x+2*(h[0].x-h[1].x);h[0].y=h[1].y+2*(h[0].y-h[1].y)}var z=N.zY(2)+"<"+u+" id=\"grd"+j._0+"\" gradientUnits=\"userSpaceOnUse\" ";
if(q==0)j.LN.push(z+" x1=\""+N.Bm(h[0].x)+"\" y1=\""+N.Bm(h[0].y)+"\" x2=\""+N.Bm(h[1].x)+"\" y2=\""+N.Bm(h[1].y)+"\">");
if(q==1)j.LN.push(z+" cx=\""+N.Bm(h[0].x)+"\" cy=\""+N.Bm(h[0].y)+"\" r=\""+N.Bm(gJ.tA(h[0],h[1]))+"\">");
if(w=="Rflc"){for(var O=0;O<2;O++){var g=O==0?Y:x;for(var P=g.length-1;P>=0;P--){var t=g[P];t.v.Lctn.v=2048+(t.v.Lctn.v>>>1);
var $=JSON.parse(JSON.stringify(t));$.v.Lctn.v=4096-$.v.Lctn.v;g.push($)}g.sort(function(T,_){return T.v.Lctn.v-_.v.Lctn.v})}}var i=r.Rvrs.v;
if(i){Y.reverse();x.reverse()}for(var P=0;P<Y.length;P++){var A=Y[P].v,H=P<x.length?x[P].v.Opct.v.val/100:1,H=H==1?"":"stop-opacity=\""+N.Bm(H)+"\"",F=A.Lctn.v/4096;
if(i)F=1-F;j.LN.push(N.zY(3)+"<stop offset=\""+N.Bm(F)+"\" stop-color=\""+CSS.Zw(A.Clr.v)+"\" "+H+" />")}j.LN.push(N.zY(2)+"</"+u+">")};
cB.Lu=function(r,j,D,N,b){var Y=[],x=cB.Lu,C=!1,w={oW:r,qg:j,ng:[!0,!0,!0],zM:!1,VK:D,ajF:0};w.G1=Math.round(Math.max(r,j)*(.02+x.u8(w)*.03));
w.jr=x.a0$(w);w.bQ=x.a8W(w.jr,(x.u8(w)<.5?-1:1)*(.2+x.u8(w)*.3));if(x.u8(w)<.5){var q=w.jr;w.jr=w.bQ;
w.bQ=q}w.adi=x.u8(w)<.4&&x.acB(w.bQ,{a:1,p:1,M:1})>.3;w.a4o=x.u8(w)<.5?0:1;Y.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+r+" "+j+"\" width=\""+r+"\" height=\""+j+"\">");
w.xP=N[Math.floor(x.jb(w)*N.length)];w.j8=N[Math.floor(x.jb(w)*N.length)];Y.push("<style>");Y.push("@font-face {  font-family: "+w.xP[2]+";  src: url(rsrc/fonts/"+w.xP[5]+");  }");
Y.push("@font-face {  font-family: "+w.j8[2]+";  src: url(rsrc/fonts/"+w.j8[5]+");  }");Y.push("</style>");
var u=[0,0,r,j],h=u;if(b==null)Y.push("<path style=\"fill: "+x.Pw(w.jr)+"\" d=\""+x.Rect(u[0],u[1],u[2]-u[0],u[3]-u[1])+"\" id=\"Background\" />");
else{w.zM=!0;x.p$(w,u,Y,b)}if(x.u8(w)<.25&&!w.zM){w.ng[0]=w.ng[2]=!1;x.aaA(u,w,Y);h=u}else if(x.u8(w)<.25||w.zM)h=u;
else{var z=.52+x.u8(w)*.2;if(x.u8(w)<.5)z=1-z;var O=u.slice(0),g=u.slice(0);if(x.u8(w)<.5)O[2]=g[0]=Math.round(z*r);
else O[3]=g[1]=Math.round(z*j);if(x.u8(w)<.5){var q=O;O=g;g=q}h=O;x.a7j(w,g,Y,b)}x.ac6(w,h,Y);Y.push("</svg>");
Y=Y.join("\n");var t=R.O(Math.round(Y.length*1.5)),$=l.Ws(Y,t,0);return[t.buffer.slice(0,$),w.eC]};cB.Lu.aaA=function(r,j,D){var N=cB.Lu,b=r[2]-r[0],Y=r[3]-r[1];
if(N.u8(j)<.5){D.push("<path id=\"Border\" style=\"fill: "+N.Pw(j.bQ)+"\" d=\""+N.a1K(r[0],r[1],r[2]-r[0],r[3]-r[1],j.G1)+"\" />")}else if(N.u8(j)<-.4){N.afu(j,r,D)}else{var x=N.u8(j)<.5?0:1,C=(x==0?Y:b)/4,w=N.Ac(j,x,r,D,C,!0),w=N.Ac(j,x+2,r,D,C,!0,w)}};
cB.Lu.ac6=function(r,j,D){var N=cB.Lu,b="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),Y=2*Math.floor(N.u8(r)*b.length/2),x=j[2]-j[0],C=j[3]-j[1],q=0,h=0;
r.gQ=(r.oW+x)*.5*(.04+N.u8(r)*.05);r.gQ=Math.min(r.gQ,C*.4,x*.12);r.gQ=Math.round(r.gQ);var w=Math.min(r.gQ*b[Y].length*(.35+.3*N.u8(r)),x*.9),u=(j[1]+j[3])/2,z=R.le(r.jr)<.85?{a:1,p:1,M:1}:{a:.1,p:.1,M:.1};
if(N.u8(r)<.25&&r.ng[0]){h=0;q=j[0]+r.G1}else if(N.u8(r)<.33&&r.ng[2]){h=2;q=j[2]-r.G1}else{h=1;q=(j[0]+j[2])/2}var O=z.a==1?"0,0,0":"255,255,255",g=r.zM&&N.u8(r)<1;
if(g){var t=j[0],$=x,i=u-r.gQ*1.1,A=r.gQ*2.2,H=.7;if(h==1&&N.u8(r)<.5){t=i=.2*Math.min(x,C);$=x-2*i;
A=C-i-i}else if(N.u8(r)<.7){t=i=0;$=x;A=C;H=.25}D.push("<path id=\"Strip\" style=\"fill: rgb("+O+"); opacity: "+H+"\" d=\""+N.Rect(t,i,$,A)+"\" />")}if(N.u8(r)<.4){var F=r.gQ*.07;
F*=1.5+N.u8(r)*1;if(h==-1&&x/C<3&&!g){D.push("<path id=\"Bar-bottom\" style=\"fill: "+N.Pw(z)+"\" d=\""+N.Rect(q-w/2,u+r.gQ*1.1-F/2,w,F)+"\" />");
D.push("<path id=\"Bar-top\"    style=\"fill: "+N.Pw(z)+"\" d=\""+N.Rect(q-w/2,u-r.gQ*1.1-F/2,w,F)+"\" />")}if(h!=1){D.push("<path id=\"Bar\" style=\"fill: "+N.Pw(z)+"\" d=\""+N.Rect(q-F/2,u-r.gQ*.8,F,r.gQ*.8*2)+"\" />");
q+=(h==0?1:-1)*r.gQ/3}}var T=r.gQ*.4;D.push(N.O4(b[Y+1],q,u+T*1.6,T,z,h,r.j8));D.push(N.O4(b[Y],q,u+r.gQ*.04,r.gQ,z,h,r.xP))};
cB.Lu.a7j=function(r,j,D,N){var b=j[2]-j[0],Y=j[3]-j[1],x=Math.max(b,Y),C=Math.min(b,Y),w=cB.Lu;if(x/C<5&&!r.zM&&!1){w.p$(r,j,D,N)}else if(w.u8(r)<0)D.push("<path style=\"fill: "+w.Pw(r.bQ)+"\" d=\""+w.Rect(j[0],j[1],b,Y)+"\" />");
else{var q=0;if(j[3]!=r.qg)q=0;if(j[2]!=r.oW)q=3;if(j[0]!=0)q=1;if(j[1]!=0)q=2;var u=q+2&3;if(x/C<3){var h=w.a60(u),z=h[Math.round(w.u8(r)*(h.length-1))],O=z.Tr.slice(0,4),g=O.indexOf(1);
z=JSON.parse(JSON.stringify(z));var t=-1;if(O!="0000"){var $=new j9;if(z.Tr[5]=="0"){if(g==3&&q==1){t=1;
$.scale(-1,1)}else t=g}else{var i=u;while(i==u)i=Math.floor(w.u8(r)*4)&3;$.rotate((-g+i)*Math.PI/2)}w.F(z,$)}var A=w.mN(z),H=b-2*r.G1,F=Y-2*r.G1;
if(t!=-1){if((t&1)==0)F-=r.G1;else H-=r.G1}var T=Math.min(H/A.d,F/A.r),_=new j9;_.translate(-A.x,-A.y);
_.scale(T,T);var V=(b-A.d*T)/2,X=(Y-A.r*T)/2;if(t!=-1){if(t==3)V=0;if(t==0)X=0;if(t==1)V=b-A.d*T;if(t==2)X=Y-A.r*T}_.translate(j[0]+V,j[1]+X);
w.UC(r,z,_,r.bQ,D)}else{w.Ac(r,q,j,D,1e9)}}};cB.Lu.p$=function(r,j,D,N){var b=j[2]-j[0],Y=j[3]-j[1],x=Math.max(b,Y),C=Math.min(b,Y),w=cB.Lu,q=w.jb(r),u,h,z,O=N[0]instanceof ArrayBuffer;
if(O){u="data:image/jpg;base64,"+hs.AY(N[0]);h=N[1];z=N[2]}else{var g=Math.floor(q*N.length),t=N[g];
r.eC=t;u=t.webformatURL;h=t.webformatWidth;z=t.webformatHeight}var $=j[0],i=j[1],A=b,H=Y;if(b/Y>h/z){H=A*z/h;
i=i-(H-Y)/2}else{A=H*h/z;$=$-(A-b)/2}if(O){D.push("<defs>");D.push("<image width=\""+h+"\" height=\""+z+"\" id=\"Background\" href=\""+u+"\" />");
D.push("</defs>");var F=A/h;D.push("<use href=\"#Background\" transform=\""+cB.My(new j9(F,0,0,F,$,i))+"\" />")}else{var T="cp"+Math.random();
D.push("<clipPath id=\""+T+"\">");D.push("<path style=\"fill: "+w.Pw(r.bQ)+"\" d=\""+w.Rect(j[0],j[1],b,Y)+"\" />");
D.push("</clipPath>");D.push("<image  clip-path=\"url(#"+T+")\" xlink:href=\""+u+"\" x=\""+$+"\" y=\""+i+"\" width=\""+A+"\" height=\""+H+"\" />")}};
cB.Lu.O4=function(r,j,D,N,b,Y,x){var C=cB.Lu;return"<text x=\""+j+"\" y=\""+D+"\" style=\"fill:"+C.Pw(b)+"; font-size:"+N+"px; text-anchor:"+["start","middle","end"][Y]+"; font-family:"+x[2]+";\"><tspan>"+r+"</tspan></text>"};
cB.Lu.UC=function(r,j,D,N,b){var Y=cB.Lu,x=[];for(var P=0;P<j.qE.length;P++){x.push(N);if(r.adi){N=(P&1)==r.a4o?{a:1,p:1,M:1}:x[0]}}b.push("<g id=\""+j.Tr.split("-")[2]+":::\" style=\"transform: "+cB.My(D)+";\" >");
for(var P=0;P<j.qE.length;P++){var C=j.qE[P];N=x.pop();b.push("<path style=\"fill: "+(N?Y.Pw(N):"#"+C[0])+"\" d=\""+Typr.U.pathToSVG({crds:C[1].v,cmds:C[1].J})+"\" />")}b.push("</g>")};
cB.Lu.afu=function(r,j,D){var N=cB.Lu,b=cB.Lu.nS,Y=[];for(var P=0;P<b.length;P++){var x=b[P],C=x.Tr.slice(0,4);
if(C!="1001")continue;Y.push(x)}var x=Y[Math.floor(N.u8(r)*Y.length)];if(N.u8(r)<.5)N.F(x,new j9(0,1,1,0,0,0));
var w=j[3]-j[1],q=j[2]-j[0],u=N.mN(x),h=.7*Math.min(q,w,.5*Math.max(q,w))/Math.max(u.d,u.r),z=new j9;
z.scale(h,h);if(N.u8(r)<.5){z.scale(1,-1);z.translate(0,w)}N.UC(r,x,z,r.bQ,D);z.rotate(Math.PI);z.translate(q,w);
N.UC(r,x,z,r.bQ,D)};cB.Lu.a60=function(r){var j=cB.Lu.nS,D=[];for(var P=0;P<j.length;P++){var N=j[P],b=N.Tr.slice(0,4);
if(b=="0000"){D.push(N);continue}if(["1000","0100","0010","0001"].indexOf(b)==-1)continue;var Y=b.indexOf("1");
if(N.Tr[5]=="0"&&r==Y&&Y!=3)continue;D.push(N)}return D};cB.Lu.Ac=function(r,j,D,N,b,Y,x){var C=cB.Lu.nS,w=cB.Lu,q=[],A,H;
for(var P=0;P<C.length;P++){var u=C[P],h=u.Tr.slice(0,4);if(["1110","1101","1011","0111"].indexOf(h)==-1)continue;
var z=h.indexOf("0")+2&3;if(u.Tr[5]=="0")if(Y==!0||j!=z&&!(j==1&&z==3))continue;q.push(u)}var O=x!=null?x:Math.floor(w.u8(r)*q.length),u=q[O],u=JSON.parse(JSON.stringify(u)),h=u.Tr.slice(0,4),z=h.indexOf("0")+2&3;
if(z==3&&j==1)R.F(u,new j9(1,0,0,-1,0,1e3));var g=new j9;g.translate(-500,-500);g.rotate(-z*Math.PI/2);
g.translate(500,500);w.F(u,g);var t=D[3]-D[1],$=D[2]-D[0],i=w.mN(u);if(i.y<0){i.r+=i.y;i.y=0}if(i.y>0){i.r+=i.y;
i.y=0}if((j&1)==0){H=t;A=$}else{A=t;H=$}var F=Math.min(Math.min(.5+.5*w.u8(r))*Math.min($,t),b)/i.r,T=Math.ceil(A/(1e3*F)),_=new j9,V=new j9;
V.scale(F,F);if(j==0||j==2){V.translate(-($/2),-(t/2));V.rotate(-j*Math.PI/2);V.translate($/2+D[0],t/2+D[1])}else{V.rotate(Math.PI/2);
V.scale(1,-1);V.translate(D[0],D[1]);if(j==1){V.scale(-1,1);V.translate($,0)}}N.push("<g id=\"Border-"+["top","right","bottom","left"][j]+":::\">");
for(var P=0;P<T;P++){var X=_.clone();X.concat(V);w.UC(r,u,X,r.bQ,N);_.translate(1e3-2,0)}N.push("</g>");
return O};cB.Lu.Rect=function(r,j,D,N){return Typr.U.pathToSVG({crds:[r,j,r+D,j,r+D,j+N,r,j+N],cmds:["M","L","L","L","Z"]})};
cB.Lu.a1K=function(r,j,D,N,b){var Y=[r,j,r+D,j,r+D,j+N,r,j+N];r+=b;j+=b;D-=2*b;N-=2*b;Y.push(r,j,r,j+N,r+D,j+N,r+D,j);
return Typr.U.pathToSVG({crds:Y,cmds:"M L L L Z M L L L Z".split(" ")})};cB.Lu.a8W=function(r,j){var D=R.zy(r.a,r.p,r.M);
D.w$=Math.max(.1,Math.min(.9,D.w$+j));return R.Xa(D.qg,D.z1,D.w$)};cB.Lu.afd=function(r,j){var D=R.zy(r.a,r.p,r.M);
D.qg+=j;return R.Xa(D.qg,D.z1,D.w$)};cB.Lu.anC=function(r){var j=R.zy(r.a,r.p,r.M);j.w$=1-j.w$;return R.Xa(j.qg,j.z1,j.w$)};
cB.Lu.acB=function(r,j){var D=r.a-j.a,N=r.p-j.p,b=r.M-j.M;return Math.sqrt(D*D+N*N+b*b)};cB.Lu.a0$=function(r){var j=cB.Lu;
return{a:j.u8(r),p:j.u8(r),M:j.u8(r)}};cB.Lu.Pw=function(r){return CSS.XC({a:r.a*255,p:r.p*255,M:r.M*255})};
cB.Lu.mN=function(r){var j=r.qE,D=new bf;for(var P=0;P<j.length;P++)D=D.zs(R.K.mN(j[P][1].v));return D};
cB.Lu.F=function(r,j){var D=r.qE;for(var P=0;P<D.length;P++)R.K.F(D[P][1].v,j,D[P][1].v)};cB.Lu.u8=function(r){r.ajF++;
var j=r.ajF&3;if(j==0)r.VK=cB.Lu.PL(r.VK);var D=r.VK>>>8*j&255;return D*(.99999999/255)};cB.Lu.jb=function(r){var j=cB.Lu.PL(r.VK);
r.VK=cB.Lu.PL(j);return j*(1/4294967295)};cB.Lu.PL=function(r){r=(r^61^r>>>16)>>>0;r=r+(r<<3)>>>0;r=(r^r>>>4)>>>0;
r=r*668265261>>>0;r=(r^r>>>15)>>>0;return r};cB.Lu.nS=[{Tr:"0001-0-bird",qE:[["4b3c34",{J:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),v:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{J:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),v:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{J:"M C C C C C C C C C C C C L Z".split(" "),v:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Tr:"0001-0-bird2",qE:[["ff7f2a",{J:"M L L L Z M L L L Z".split(" "),v:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{J:"M C C C C C C C C C C C L Z".split(" "),v:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{J:"M C C C C C C L Z M C C Z".split(" "),v:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{J:"M L L L Z M L L L Z".split(" "),v:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{J:"M L C C C C C C C C L Z".split(" "),v:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{J:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),v:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Tr:"0000-1-flower",qE:[["7a59a2",{J:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),v:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Tr:"0000-1-flower",qE:[["d13777",{J:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),v:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Tr:"0000-1-flower",qE:[["ffac42",{J:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),v:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Tr:"0000-1-flower",qE:[["d04040",{J:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Tr:"0000-1-flower",qE:[["ec7272",{J:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),v:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{J:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),v:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Tr:"0000-0-hearts",qE:[["d17070",{J:"M C C C C C C C C C L Z".split(" "),v:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{J:"M C C C C C C C C C L Z".split(" "),v:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{J:"M C C C C C C C C C L Z".split(" "),v:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Tr:"0000-0-anchor",qE:[["2a3b66",{J:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),v:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Tr:"0000-1-leaf",qE:[["fbb600",{J:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),v:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Tr:"0000-1-acorn",qE:[["a05a2c",{J:"M C C C C C C C L Z".split(" "),v:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{J:"M C C C C C C C C C C C Z".split(" "),v:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Tr:"0000-0-skull",qE:[["808080",{J:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),v:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Tr:"0000-0-ghost",qE:[["e6e6e6",{J:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),v:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{J:"M C C C C Z M C C C C Z".split(" "),v:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Tr:"1001-1-rose",qE:[["9e1460",{J:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),v:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{J:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),v:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Tr:"1001-1-curls",qE:[["53a7ab",{J:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{J:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Tr:"0111-0-pines",qE:[["e9e9e9",{J:"M C C C C C C C C L L L Z".split(" "),v:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{J:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),v:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Tr:"0111-0-flowers",qE:[["8cae40",{J:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),v:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{J:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Tr:"1101-1-confetti",qE:[["e789ff",{J:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{J:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Tr:"1101-1-branch",qE:[["7f500b",{J:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),v:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Tr:"1101-1-sticks",qE:[["ec7272",{J:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{J:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Tr:"1101-1-dots",qE:[["ec7272",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{J:["M","C","C","Z"],v:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Tr:"1101-1-strips",qE:[["ffc88c",{J:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{J:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{J:["M","C","C","Z"],v:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Tr:"1101-1-circs",qE:[["ec7272",{J:"M C C C C Z M C C C C Z".split(" "),v:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{J:"M C C C C Z M C C C C Z".split(" "),v:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{J:["M","C","C","Z"],v:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Tr:"1101-1-squares",qE:[["014ea7",{J:"M L L L L Z M L L L L Z".split(" "),v:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{J:"M L L L L Z M L L L L Z".split(" "),v:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{J:["M","C","C","Z"],v:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Tr:"1101-0-christmas",qE:[["014ea7",{J:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{J:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var gw={};gw.parse=function(r){var j=new Uint8Array(r),D=null;if(j[0]==80&&j[1]==75){var N=Date.now(),b=UZIP.parse(j.buffer),D=b["document.json"];
D=JSON.parse(l.Hi(D,0,D.length));gw.fe(D,b)}else{var Y=eD.parse(r);D=gw.mC(Y[2][0][1])}return D};gw.fe=function(r,j){var D=typeof r;
if(D=="string"||D=="number"||D=="boolean")return r;if(r instanceof Array){for(var P=0;P<r.length;P++)r[P]=gw.fe(r[P],j);
return r}var N=r._class;if(N==null)return r;if(N=="MSJSONFileReference"){var b=r._ref;if(!1){}else if(j[b+".json"]!=null){var Y=j[b+".json"],x=Y.length;
for(var P=0;P<x;P++)if(Y[P]==11||Y[P]==3)Y[P]=32;var C=l.Hi(Y,0,x);r=JSON.parse(C)}else if(j[b+".png"]!=null)return{key:b.split("/").pop(),bdata:j[b+".png"]};
else if(j[b+".jpg"]!=null)return{key:b.split("/").pop(),bdata:j[b+".jpg"]};else if(j[b+".pdf"]!=null)return{key:b.split("/").pop(),bdata:j[b+".pdf"]};
else if(j[b]!=null)return{key:b.split("/").pop(),bdata:j[b]};else{console.log(r,j);return}}else if(N=="MSAttributedString"){var C=atob(r.archivedAttributedString._archive),w=C.length-1,q=new Uint8Array(w);
for(var P=0;P<w;P++)q[P]=C.charCodeAt(P);r.archivedAttributedString=gw.mC(q)}for(var u in r)r[u]=gw.fe(r[u],j);
return r};gw.La=function(r,j,D,N){if(r instanceof Uint8Array)return null;if(N.indexOf(r)!=-1)return null;
N.push(r);if(r==j)return D;for(var b in r){D.push(b);var Y=gw.La(r[b],j,D,N);if(Y){console.log(r,Y);
throw"e"}D.pop()}};gw.mC=function(r){var j=an.parse(r,0),D=j.$objects,N=new Uint8Array(D.length),b=gw.hn(D,N,j.$top.root);
for(var P=0;P<D.length;P++)if(N[P]==0&&P!=0){console.log(P,D[P]);gw.La(b,P,[],[])}for(var P=0;P<D.length;
P++){var Y=D[P];if(Y._class&&(Y._class=="bitmap"||Y._class=="fill"&&Y.fillType==4&&(Y.image||Y.imageSHA))){var x=Y.image,C=Y.imageSHA,w=null,q=null;
if(x=="$null")x=null;if(C=="$null")C=null;if(x&&x.data){q=x.sha1["NS.bytes"];q=btoa(l.Km(q,0,q.length));
w=x.data instanceof Uint8Array?x.data:x.data["NS.bytes"]}else if(x==null&&C==null){var u=aP.QE("PNG").TL([[R.O(4).buffer]],1,1);
w=new Uint8Array(u)}else{var h=(b.assets?b.assets.imageCollection:b.images).images;if(C)q=C instanceof Uint8Array?C:C["NS.bytes"];
else q=x.sha1["NS.bytes"];q=btoa(l.Km(q,0,q.length));var w=h[q].data;if(w["NS.bytes"])w=w["NS.bytes"]}w=new Uint8Array(w.buffer.slice(w.byteOffset,w.byteOffset+w.length));
delete Y.imageSHA;Y.image={key:q,bdata:w}}}return b};gw.aeK=function(r){return r.slice(0,11)=="MSImmutable"?"MS"+r.slice(11):r};
gw.hn=function(r,j,D){var N=r[D];if(j[D]==1){return N}j[D]=1;if(typeof N=="string")return N;if(typeof N=="number")return N;
if(typeof N=="boolean")return N;if(N instanceof Array)return N;if(N instanceof Uint8Array){return N}if(r[N.$class]==null){if(N.$class==null&&N["NS.data"]!=null)return N;
console.log(D,N);throw"e"}var b=r[N.$class],Y=gw.aeK(b.$classname);j[N.$class]=1;N.$class=Y;if(gw.ep[Y]){delete N.$class;
N._class=gw.ep[Y]}var x=gw.hn;if(Y=="NSMutableArray"||Y=="NSArray"){var C=[];if(N["NS.objects"]!=null)for(var P=0;
P<N["NS.objects"].length;P++)C.push(x(r,j,N["NS.objects"][P]));else for(var P=0;N["NS.object."+P]!=null;
P++)C.push(x(r,j,N["NS.object."+P]));r[D]=C;return C}if(Y=="NSDictionary"||Y=="NSMutableDictionary"){var w={$class:Y};
if(N["NS.keys"]!=null)for(var P=0;P<N["NS.keys"].length;P++){var q=x(r,j,N["NS.keys"][P]);if(q instanceof Uint8Array)q=btoa(gw.If.Km(q,0,q.length));
else if(typeof q!="string"&&typeof q!="number")q=btoa(gw.If.Km(q["NS.bytes"],0,q["NS.bytes"].length));
w[q]=x(r,j,N["NS.objects"][P])}else for(var P=0;N["NS.key."+P]!=null;P++){var q=x(r,j,N["NS.key."+P]);
if(q instanceof Uint8Array)q=btoa(gw.If.Km(q,0,q.length));else if(typeof q!="string"&&typeof q!="number")q=btoa(gw.If.Km(q["NS.bytes"],0,q["NS.bytes"].length));
w[q]=x(r,j,N["NS.object."+P])}for(var u in N)delete N[u];for(var u in w)N[u]=w[u];return N}if(Y=="NSURL")return{$class:Y,base:x(r,j,N["NS.base"]),relative:x(r,j,N["NS.relative"])};
if(gw.a79.indexOf(Y)!=-1){r[D]=x(r,j,N.array_do);return r[D]}if(N.do_objectID!=null)N.do_objectID=x(r,j,N.do_objectID);
if(gw.ajH.indexOf(Y)!=-1)return N;var h=gw.a6O[Y];if(h==null){console.log(r,N);throw"unknown class "+Y}for(var P=0;
P<h.length;P++)if(N[h[P]]!=null)N[h[P]]=x(r,j,N[h[P]]);if(Y=="MSTextLayer"){var z=N,O,g,t,$;if(z.attributedString)O=z.attributedString.archivedAttributedString;
else O=z.storage;$=O.NSString;if(typeof $!="string")$=l.Hi($["NS.bytes"],0,$["NS.bytes"].length);if(O.NSAttributeInfo)g=O.NSAttributeInfo["NS.bytes"];
else{var i=$.length,A=[];while(i>0){var H=Math.min(100,i);A.push(H,0);i-=H}g=new Uint8Array(A)}t=O.NSAttributes instanceof Array?O.NSAttributes:[O.NSAttributes];
var F={$class:"NSAttributedString",NSString:$,NSAttributes:t};z.attributedString={_class:"MSAttributedString",archivedAttributedString:F};
F.NSAttributeInfo={$class:"NSMutableData","NS.data":g};delete z.storage}return N};gw.If={h$:function(r,j){return r[j+1]<<8|r[j]},q:function(r,j){return r[j+3]<<24|r[j+2]<<16|r[j+1]<<8|r[j]},Km:function(r,j,D){var N="";
for(var P=0;P<D;P++)N+=String.fromCharCode(r[j+P]);return N}};gw.ep={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
gw.a79=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
gw.ajH="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
gw.a6O={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var an={};an.parse=function(r,j){var D=l.Km(r,j,8);j+=8;var N=an.parse.ar$(r,r.length-31),b=[];if(N.Rx==1){var j=r.length-31-N.Rx*N.RA;
for(var P=0;P<N.RA;P++)b.push(r[j+P])}else if(N.Rx==2){var j=r.length-31-N.Rx*N.RA;for(var P=0;P<N.RA;
P++)b.push(l.h$(r,j+P*2))}else if(N.Rx==4){var j=r.length-31-N.Rx*N.RA;for(var P=0;P<N.RA;P++)b.push(l.q(r,j+P*4))}else{throw"e"}var Y=an.parse.hn(r,b,N.root,N);
return Y};an.parse.hn=function(r,j,D,N){var b=an.If,Y=N.ar7,x=Y==4?b.q:Y==2?b.h$:b.ao$,C=an.parse,w=j[D],q=r[w],u=q>>4,h=q&15,O=null;
w+=1;if([4,5,6,10,12,13].indexOf(u)!=-1&&h==15){var z=C.iV(r,w);w+=z.XW;h=z.m}if(!1){}else if(u==0)O=h==8?!1:h==9?!0:null;
else if(u==1)O=C.iV(r,w-1).m;else if(u==2)O=1<<h==4?l.Ej(r,w):l.wT(r,w);else if(u==3)O=l.wT(r,w);else if(u==4)O=new Uint8Array(r.buffer,w,h);
else if(u==5)O=l.Km(r,w,h);else if(u==6)O=l.cB(r,w,h);else if(u==8){O=0;for(var P=0;P<h+1;P++)O=O<<8|r[w+P]}else if(u==10){O=[];
for(var P=0;P<h;P++)O.push(C.hn(r,j,x(r,w+Y*P),N))}else if(u==12){O=[];for(var P=0;P<h;P++)O.push(C.hn(r,j,x(r,w+Y*P),N))}else if(u==13){O={};
for(var P=0;P<h;P++){var g=C.hn(r,j,x(r,w+Y*P),N),t=C.hn(r,j,x(r,w+Y*(h+P)),N);O[g]=t}}else throw"unknown mask "+u;
return O};an.parse.iV=function(r,j){var D=1<<(r[j]&15),N=0;for(var P=0;P<D;P++)N=N<<8|r[j+1+P];return{m:N,XW:D+1}};
an.parse.ar$=function(r,j){var D={};j+=6;D.Rx=r[j];j++;D.ar7=r[j];j++;j+=4;D.RA=l.q(r,j);j+=4;j+=4;D.root=l.q(r,j);
j+=4;j+=4;D.a1b=l.q(r,j);j+=4;return D};an.If={ao$:function(r,j){return r[j]},h$:function(r,j){return r[j]<<8|r[j+1]},q:function(r,j){return r[j]<<24|r[j+1]<<16|r[j+2]<<8|r[j+3]},Km:function(r,j,D){var N="";
for(var P=0;P<D;P++)N+=String.fromCharCode(r[j+P]);return N}};var eD={parse:function(r){var j=new Uint8Array(r),D=eD.Mf(j),N=[],b=new Uint8Array(j.length),Y=[];
N.push(Y);eD.s9(j,D,1,b,Y);for(var P=0;P<Y.length;P++){var x=[];N.push(x);eD.s9(j,D,Y[P][3],b,x);Y[P][3]=P+1}return N},s9:function(r,j,D,N,b){D--;
var Y=D*j.Xb+(D==0?100:0),x=r[Y],C=eD.h$(r,Y+1);if(C!=0)throw"free block in a page";var w=eD.h$(r,Y+3),q=eD.h$(r,Y+5);
if(q==0)q=65536;var u=r[Y+7],h=eD.h$(r,Y+8);if(x==2||x==5)Y+=4;else h=0;for(var z=0;z<w;z++){var O=D*j.Xb+eD.h$(r,Y+8+2*z),g=-1,t=0,$=0,i=0;
if(x==2||x==5){g=eD.q(r,O);O+=4}if(x==2||x==10||x==13){t=eD.sk(r,O);O+=t.XW}if(x==5||x==13){$=eD.sk(r,O);
O+=$.XW}if(x==5){eD.s9(r,j,g,N,b);continue}var A=j.Xb-(D==0?100:0),H=t.sr,F=x==13?A-35:Math.floor((A-12)*64/255)-23,T=Math.floor((A-12)*32/255)-23,_=T+(H-T)%(A-4);
if(H<=F){eD.kZ(r,O,N,0,H)}else{var V=_<=F?_:T,X=0;eD.kZ(r,O,N,0,V);X+=V;i=eD.q(r,O+V);while(i!=0){var o=(i-1)*j.Xb;
i=eD.q(r,o);var c=Math.min(j.Xb-4,H-X);eD.kZ(r,o+4,N,X,c);X+=c}}b.push(eD.arC(N,H))}},arC:function(r,j){var D=0,N=eD.sk(r,D);
D+=N.XW;var b=[],Y=[];while(D<N.sr){var x=eD.sk(r,D);D+=x.XW;b.push(x.sr)}if(D!=N.sr)throw"e";for(var P=0;
P<b.length;P++){var x=b[P];if(!1){}else if(x==0)Y.push(null);else if(x==1){Y.push(eD.abH(r,D));D+=1}else if(x==2){Y.push(eD.oB(r,D));
D+=2}else if(x==3){Y.push(eD.a4s(r,D));D+=3}else if(x==4){Y.push(eD.iV(r,D));D+=4}else if(x==7){Y.push(eD.ahJ(r,D));
D+=16}else if(x==8)Y.push(0);else if(x==9)Y.push(1);else if(x>=12&&(x&1)==0){var C=x-13>>1,w=new Uint8Array(C);
eD.kZ(r,D,w,0,C);Y.push(w);D+=C}else if(x>=13&&(x&1)==1){var C=x-12>>1;Y.push(eD.Hi(r,D,C));D+=C}else throw"unknonw type "+x}return Y},Mf:function(r){if(!(r[18]==1&&r[19]==1&&r[20]==0&&r[21]==64&&r[22]==32&&r[23]==32))throw"unexpected SQL3 header";
var j={s1:eD.Km(r,0,15),Xb:eD.h$(r,16),ajg:eD.q(r,24),size:eD.q(r,28),a3f:eD.q(r,32),a3s:eD.q(r,36),amm:eD.q(r,40),abj:eD.q(r,44),ao9:eD.q(r,48),apZ:eD.q(r,52),ato:eD.q(r,56),a6F:eD.q(r,60),afN:eD.q(r,64)!=0,aov:eD.q(r,68),ase:eD.q(r,92),ak4:eD.q(r,96)};
if(j.Xb==1)j.Xb=65536;if(j.ato!=1)throw"unsupported text encoding "+j.ato;return j},afH:function(r,j){return r[j]<<16|r[j+1]<<8|r[j+2]},a4s:function(r,j){var D=eD.afH(r,j),N=D&8388608;
return N?-(16777215-D+1):D},abH:function(r,j){eD.z7[0]=r[j];return eD.adx[0]},iV:function(r,j){var D=eD.z7;
for(var P=0;P<4;P++)D[P]=r[j+3-P];return eD.a9v[0]},oB:function(r,j){var D=eD.z7;D[0]=r[j+1];D[1]=r[j];
return eD.arE[0]},h$:function(r,j){return r[j]<<8|r[j+1]},q:function(r,j){return r[j]<<24|r[j+1]<<16|r[j+2]<<8|r[j+3]},ahJ:function(r,j){var D=eD.z7;
for(var P=0;P<8;P++)D[P]=r[j+7-P];return eD.aan[0]},sk:function(r,j){var D=j,eK=0;while(!0){var N=r[j];
j++;eK=eK*128+(N&127);if(N<128)break}return{sr:eK,XW:j-D}},Km:function(r,j,D){var N="";for(var P=0;P<D;
P++)N+=String.fromCharCode(r[j+P]);return N},Hi:function(r,j,D){var N="";for(var P=0;P<D;P++)N+="%"+eD.a3P(r[j+P].toString(16));
return decodeURIComponent(N)},kZ:function(r,j,D,N,b){if(r[j+b-1]==null||D[N+b-1]==null){console.log(j,N,b);
throw"e"}for(var P=0;P<b;P++)D[N+P]=r[j+P]},a3P:function(eK){return eK.length<2?"0"+eK:eK}};eD.z7=new Uint8Array(8);
eD.adx=new Int8Array(eD.z7.buffer);eD.arE=new Int16Array(eD.z7.buffer);eD.a9v=new Int32Array(eD.z7.buffer);
eD.aan=new Float64Array(eD.z7.buffer);function ee(r,j,D){this.Ww=r;this.T9=j;this.a4f=D;this.Cw=new gJ(0,0);
this.SD=-1;this.CR=0;this.$J=0;this.iz=new bf;this.y1=[];this.KQ=null;this.a0d=null;this.d3=null;this.H_=null;
this.iF=null;this.apO=null}ee.prototype.StartPage=function(r,j,D,N,b){var Y=this.T9,x=Y.zR(),C=1,w=(D-r)*(N-j);
if(b!=null)w=b;while(w*x*x/(C*C)>2*8192*8192)C++;Y.scale(1/C,1/C);this.a0d=[r,j,D,N];var C=Y.zR();r=Math.round(r*C);
j=Math.round(j*C);D=Math.round(D*C);N=Math.round(N*C);var q=this.Ww,u=this.d3;if(u==null){Y.Db=-r}else{var h=u[2]-u[0]+30,z=Math.round(D-r)+30;
if(this.Cw.x+h+z>8192){Y.Db=-r;this.Cw.x=0;this.Cw.y+=this.$J+120;this.$J=0}else{Y.Db+=h;this.Cw.x+=h}}Y.aF=this.Cw.y+(this.a4f?N:-j);
this.$J=Math.max(this.$J,Math.round(N-j));this.d3=[r,j,D,N];q.j.push(q.Hc())};ee.prototype.yq=function(){var r=this.Ww,j=r.j[r.j.length-1];
return j};ee.prototype.fz=function(){var r=JSON.parse(JSON.stringify(hz._O.default));r.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
r.strokeEnabled.v=!1;r.fillEnabled.v=!1;return r};ee.prototype.Nv=function(){var r=this.Ww,j=r.Xp();
j.Lp("Path "+r.j.length);this.Ww.j.push(j);j.Qk|=16;j.add.SoCo={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:0,p:0,M:0})}};
j.add.vmsk=new G.$R;j.add.vstk=this.fz();return j};ee.prototype.aq=function(r){var j={v:r.crds,J:r.cmds},D=R.K.CH(j,!1);
R.b.ho(D,this.T9);return D};ee.asy=function(r,j){for(var P=0;P<r.length;P++)if(r[P].va!=null)r[P].va=j};
ee.anJ=function(r){return Math.sqrt(Math.abs(r[0]*r[3]-r[1]*r[2]))};ee.hr=function(r){return R._.XJ({a:r[0]*255,p:r[1]*255,M:r[2]*255})};
ee.Kb=function(r){return new j9(r[0],r[1],r[2],r[3],r[4],r[5])};ee.prototype.Stroke=function(r){if(this.SD!=-1&&this.SD!=this.CR)return;
if(r.pth.cmds.length<=1)return;var j=this.aq(r.pth);if(j.length<=2)return;this.dY(r);ee.asy(j,-1);j[2].va=1;
var D=ee.hr(r.COLR),N=this.yq(),b=this.fz();ee.pV(b,r,this.T9.zR(),D);var Y=N!=null&&N.add.vmsk!=null&&!N.iO(),x=Y&&!N.add.vstk.strokeEnabled.v&&G.$R.a7K(N.add.vmsk.W,j,!0),C=Y&&!N.add.vstk.fillEnabled.v&&JSON.stringify(b)==JSON.stringify(N.add.vstk);
if(C){N.add.vmsk.W=N.add.vmsk.W.concat(j.slice(2))}else if(x){N.add.vstk=b;b.fillEnabled.v=!0}else{N=this.Nv();
N.add.vmsk.W=j;N.add.vstk=b}};ee.pV=function(r,j,D,N){r.strokeEnabled.v=!0;r.strokeStyleMiterLimit.v=j.mlimit;
r.strokeStyleLineDashSet.v=fx.kA(j.dash,1/j.lwidth);r.strokeStyleLineDashOffset.v.val=j.doff;r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hz._O.join[j.ljoin];
r.strokeStyleLineCapType.v.strokeStyleLineCapType=hz._O.DD[j.lcap];r.strokeStyleLineWidth.v.val=Math.max(.4,j.lwidth*ee.anJ(j.ctm)*D);
r.strokeStyleContent.v.Clr.v=N};ee.prototype.Fill=function(r,j){if(this.SD!=-1&&this.SD!=this.CR)return;
if(r.ca==0)return;var D=r.pth.cmds;if(D.length==0)return;if(D.length==2&&JSON.stringify(D)=="[\"M\",\"L\"]")return;
var N=R.K.mN(r.pth.crds),b=R.K.mN(r.cpth.crds);if(N.su(b).jE())return;var Y=r.pth,x=UDOC.G.isBox(Y,[N.x,N.y,N.x+N.d,N.y+N.r]),C=r.cpth,w=UDOC.G.isBox(C,[b.x,b.y,b.x+b.d,b.y+b.r]);
if(x&&w&&N.Z()>b.Z()*2){var q=N.su(b),u=q.x,h=q.y,z=u+q.d,O=h+q.r;Y={cmds:["M","L","L","L","Z"],crds:[u,h,z,h,z,O,u,O]};
N=q}else if(this.H_==null&&UDOC.G.isBox(Y,[N.x,N.y,N.x+N.d,N.y+N.r])&&N.Ob(b)){Y=C;N=b}else this.dY(r);
var g=this.aq(Y),t=R.K.rR(N);R.K.F(t.v,this.T9,t.v);N=R.K.mN(t.v);var $=ee.qH(r.colr,this.T9,N),i=this.yq(),A=i!=null&&i.opacity==Math.round(255*r.ca)&&i.add.vstk!=null&&!i.add.vstk.strokeEnabled.v&&i.add.SoCo&&$.type=="SoFi"&&JSON.stringify(i.add.SoCo.Clr.v)==JSON.stringify($.m.v.Clr.v);
if(A){var H=!1;for(var P=0;P<g.length;P++){if(g[P].va==0||g[P].va==2)H=!0}if(H){var F=R.K.mN(R.b.W_(i.add.vmsk.W)),T=R.K.mN(R.b.W_(g));
A=F.su(T).jE()}}if(A){var _=i.add.vmsk.W;for(var P=2;P<g.length;P++)_.push(g[P])}else{i=this.Nv();delete i.add.SoCo;
i.add.vmsk.W=G.$R.wO(g);ee.LD(r.colr,i,this.T9,N);ee.IG(r,i)}};ee.LD=function(r,j,D,N){var b=ee.qH(r,D,N),Y=null,x=null;
j.add.vstk.fillEnabled.v=!0;if(b.type=="SoFi"){Y="SoCo";x=hz.kK}if(b.type=="GrFl"){Y="GdFl";x=hz.bl}if(b.type=="patternFill"){Y="PtFl";
x=hz.CU}if(Y!=null){j.add[Y]={classID:"null"};for(var P=0;P<x.length;P++){var C=x[P];j.add[Y][C]=b.m.v[C]}}};
ee.prototype.dY=function(r){var j=this.Ww,D=r.cpth,N=D.cmds.join(""),b=D.crds,Y=N+" "+b.join(","),x=UDOC.G.isBox(D,this.a0d);
if(x&&this.H_==null)return;if(Y==this.H_)return;this.gi();if(!x){this.H_=Y;j.j.push(j.Hc());var C=j.Xp();
C.Lp("Mask");C.add.lsct=bH.$w;C.yp="pass";C.Qk=24;var w=C.add.vmsk=new G.$R;w.W=this.aq(r.cpth);if(UDOC.G.isBox(D)){this.iF=R.b.sl(w.W);
this.iF.Fp(3,3)}else this.iF=null;this.apO=C}};ee.prototype.gi=function(){var r=this.Ww;if(this.H_!=null){var j=r.j.length-1,P=j,D=!1;
while(P>=0&&r.j[P].add.lsct!=bH.ym)P--;var N=this.iF;if(N){var b=new bf,Y=j;while(Y>P){b=r.j[Y].dk(this.Ww,!1,!0);
Y--}D=N.Ob(b)}if(D){this.y1.splice(P,1);r.j.splice(P,1)}else{r.j.push(this.apO)}this.H_=null}};ee.qH=function(r,j,D){var N,b;
if(r.length!=null){N="SoFi";var Y=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);b={t:"Objc",v:Y};b.v.Clr.v=ee.hr(r)}else{var x=ee.ahN(r,j,D);
N="GrFl";b={t:"Objc",v:x}}return{type:N,m:b}};ee.ahN=function(r,j,D){var N=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),b=N.Grad.v;
b.Intr.v=0;var Y=ee.Kb(r.mat);Y.concat(j);var x=new gJ(0,0),C=new gJ(D.d,0),w=r.crds;if(r.typ=="rad"){N.Type.v.GrdT="Rdl";
var q=.7;x.x=(1-q)*w[0]+q*w[3];x.y=(1-q)*w[1]+q*w[4];C.x=x.x;C.y=x.y;C.x+=Math.max(w[2],w[5])}else{N.Type.v.GrdT="Lnr";
x.x=w[0];x.y=w[1];C.x=w[2];C.y=w[3];x.x=C.x+.5*(x.x-C.x);x.y=C.y+.5*(x.y-C.y)}x=Y.OT(x);C=Y.OT(C);R._.fv(x,C,D,N);
var u=r.grad;R._.NI(u,b);return N};ee.prototype.PutText=function(r,j,D,N){var b=j.charCodeAt(0),z=null;
if(this.SD!=-1&&this.SD!=this.CR)return;if(j.length==0||j.length==1&&(b==0||b==8203))return;this.dY(r);
var Y=this.Ww,x=r.font,C=ee.Kb(r.ctm);C.concat(this.T9);var w=ee.Kb(x.Tm);w.concat(C);var q=I.T.zR(w),u=new j9(1/q,0,0,-1/q,0,0);
u.concat(w);var h=x.Tfs*q;if(x.Th!=100||x.Trise!=0){console.log(x)}var O=Y.j.length-1;while(O>=0&&Y.j[O].add.TySh==null)O--;
if(u.M*u.M+u.Jy*u.Jy<.001&&N==null&&O>=0&&Y.j[O].add.TySh&&Y.j[O].opacity==Math.round(255*r.ca)){var g=Y.j[O],t=this.y1[O],$=g.add.TySh.F,i=($.Db+t.jA-u.Db)/h,A=Math.abs(i),H=j.indexOf(" ")==-1,F=$.kD==u.kD&&$.M==u.M&&$.Jy==u.Jy&&$.oq==u.oq,T=F&&Math.abs(t.fE-u.aF)<1e-5&&A<.6,_=u.aF-t.fE;
if(T){z=g;t.jA=u.Db-$.Db;if(i>.2&&H&&[".",",","?",":","!"].indexOf(j)==-1)j=" "+j}else if(F&&Math.abs(u.Db-$.Db)<1e-5&&0<_&&_<h*1.7&&t.a1$==h){z=g;
this._o(t);t.fE=u.aF;j="\n"+j}}if(z==null){O=Y.j.length;this.y1[O]={Dt:[],jA:0,fE:u.aF,NJ:"",a1$:h};
z=Y.Xp();Y.j.push(z);z.add.lnsr="rend";z.add.TySh=cU.WJ(0,0);z.add.TySh.F=u}var t=this.y1[O];t.jA+=D*h;
t.NJ+=j;var V=z.add.TySh.d1,X=cU.g2(V);if(N){cU.jp(V,1);var o=[0,0,Math.ceil(N[0]*q),Math.ceil(N[1]*q)];
cU.TS(V,o)}var c=X.length-1,f=c+j.length;cU._w(V,c,j);if(this.KQ==null)this.KQ=cU.eZ(V,c,c);var d=this.KQ;
d.WQ.FontSize=Math.round(h);d.WQ.Tracking=Math.round(x.Tc*100);d.WQ.Underline=x.Tun==1;d.WQ.FillColor={Type:1,Values:[1,r.colr[0],r.colr[1],r.colr[2]]};
if(x.Tal!=null)d.Av.Justification=x.Tal;if(t.Dt.length!=0){d.WQ.AutoLeading=!1;d.WQ.Leading=t.fE-t.Dt[t.Dt.length-1].y}var s=x.Tf;
s=s.replace(/#2B/g,"+");s=s.replace(/#2C/g,"-");s=s.split("+").pop();var B={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(B[s])s=B[s];cU.ht(d,s);cU.lc(V,c,f-1,d);z.jn();z.opacity=Math.round(255*r.ca)};ee.prototype._o=function(r){r.Dt.push({oW:r.jA,cK:r.NJ.slice(r.Dt.length==0?0:1)+"\n",y:r.fE,z1:r.a1$});
r.jA=0;r.NJ=""};ee.prototype.PutImage=function(r,j,D,N,b,Y,x){if(this.SD!=-1&&this.SD!=this.CR)return;
var C=this.Ww,w=r.font.Tmode;if(w==7&&C.j[C.j.length-1].add.TySh){return}this.dY(r);var q=ee.Kb(r.ctm);
q.concat(this.T9);var u=new j9(1/D,0,0,-1/N,0,1);u.concat(q);q=u;j=ee.Ll(j,D,N,Y,!1);if(b)b=ee.Ll(b,D,N,x,!0);
if(b==null){if(j.length==D*N*4)j=new Uint8Array(aP.QE("PNG").TL([[j.buffer,0]],D,N))}else{j=this.tW(j,D,N,Y,!1);
b=this.tW(b,D,N,x,!0);var h=R.O(D*N);R.ni(b,h,0);R.zQ(h,j,3);j=new Uint8Array(aP.QE("PNG").TL([[j.buffer,0]],D,N))}var z=C.Ok(j,"Bitmap",0,0),O=z.rect.clone();
O.x=O.y=0;var g=R.K.rR(O).v;R.K.F(g,q,g);z.add.SoLd.Trnf=I.T.Qn(g);z.add.SoLd.nonAffineTransform=I.T.Qn(g);
z.zX(C,!1);ee.IG(r,z);C.j.push(z)};ee.IG=function(r,j){j.opacity=Math.round(255*r.ca);var D=ee.Zi[r.bmode];
if(D==null)console.log("Unknown blend mode",D);else j.yp=D};ee.Zi={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ee.HD=function(r){for(var j in ee.Zi)if(ee.Zi[j]==r)return j};ee.Ll=function(r,j,D,N,b){var Y=aP.rF(r.buffer);
if(Y=="jpg"){try{r=new Uint8Array(aP.QE("JPG").aoD(r.buffer))}catch(cM){r=new Uint8Array(j*D*4)}}else if(Y=="jb2"){r=new Uint8Array(aP.QE("JPG").G$(r.buffer,N,b)[0].data)}else if(r.length!=j*D*4){var x=new Uint8Array(j*D*4),C=Math.ceil(j/8),w=new Uint8Array(D*C);
UTIF.decode._decodeG4(r,0,r.length,w,0,j,1);var q=w[0]==(b?255:0);for(var u=0;u<D;u++){var h=C*u;for(var z=0;
z<j;z++){var P=u*j+z,O=P*4,g=(w[h+(z>>3)]>>7-(z&7)&1)*255;if(q)g=255-g;x[O]=g;x[O+1]=g;x[O+2]=g;x[O+3]=255}}r=x}return r};
ee.prototype.tW=function(r,j,D,N,b){if(r.length!=j*D*4){var Y=aP.rF(r.buffer);if(Y=="jb2")throw"e";var x=aP.QE(Y);
if(x==null||Y=="tga")x=aP.QE("jpg");r=new Uint8Array(x.G$(r,N,b)[0].data)}return r};ee.prototype.ShowPage=function(){var r=this.Ww;
this.CR++;var j=this.d3;this.gi();var D=r.Xp();r.j.push(D);var N=new bf(Math.round(this.Cw.x),Math.round(this.Cw.y),Math.round(j[2]-j[0]),Math.round(j[3]-j[1]));
if(N.jE())N.d=N.r=2e3;this.iz=this.iz.zs(N);D.OD(N);D.add.artb.artboardBackgroundType.v=3;D.Lp("Page "+this.CR);
D.add.lsct=bH.$w;D.yp="pass";D.Qk=24};ee.prototype.Print=function(r){console.log("Print:",r)};ee.prototype.Done=function(){var r=this.Ww;
if(this.CR==1)r.j[r.j.length-1].add.lsct=bH.nV;r.WD(this.CR);for(var P=0;P<r.j.length;P++){var j=r.j[P],D=j.add.vmsk,N=j.add.TySh,b=this.y1[P];
j.HJ();if(D){var Y=!1;for(var x=0;x<D.W.length;x++){var C=D.W[x];if((C.type==0||C.type==3)&&C.length>32767)Y=!0}if(Y){r.j.splice(P,1);
P--;continue}}j.Fz(r);if(N&&b.Dt.length!=0){this._o(b);var w=N.d1,q=b.Dt.length,u=b.Dt[0],h=0,z=0;for(var x=0;
x<q;x++)h=Math.max(h,b.Dt[x].oW);cU.jp(w,1);N.F.aF-=u.z1*.7;cU.TS(w,[0,0,Math.ceil(h*1.1),Math.ceil(b.Dt[q-1].y-u.y+u.z1*2)])}if(N){var w=N.d1;
cU.a4T(w);var O=cU.g2(w).split("\n");for(var x=0;x<O.length-1;x++){var g=O[x],t=0;for(var $=0;$<g.length;
$++){var i=g.charCodeAt($);if(1473<=i&&i<=1524)t++}if(t>g.length/2){O[x]=g.split("").reverse().join("");
var A=w.EngineDict.ParagraphRun.RunArray[x].ParagraphSheet.Properties;A._Direction=1;A.Justification=cU.Cq(A)}}cU.Lz(w,O.join("\n"))}}r.Fc=!0;
r.d=this.iz.d;r.r=this.iz.r;r.buffer=R.O(this.iz.Z()*4)};var ae={};ae.G5=function(r,j,D,N,b,Y){if(b==null)b=r.d;
if(Y==null)Y=r.r;var x=!1,C=[r.root],w=r.root.children;if(r.add.artd){x=!0;for(var P=0;P<w.length;P++)if(w[P].n.add.artb==null)x=!1;
if(x)C=w}var q=new bf(0,0,r.d,r.r),u=j[0];u=u.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
u=u.split(" ");var h=[];for(var P=0;P<u.length;P++){var z=u[P];if(z=="-"){var O=h.pop(),g=parseInt(u[P+1]);
while(O<g){h.push(O);O++}}else h.push(parseInt(z))}u=h;for(var P=0;P<u.length;P++)if(isNaN(u[P])||u[P]<1||u[P]>C.length){u.splice(P,1);
P--}var t=b/r.d,$=Y/r.r,i=t*72/r.TB,A=$*72/r.TB,H=72*j[5],F=72*j[5];for(var P=0;P<C.length;P++){if(u.length!=0&&u.indexOf(P+1)==-1)continue;
var T=C[P],_=x?T.n.tT():q,V=Math.round(_.d*i+2*H),X=Math.round(_.r*A+2*F);D.StartPage(0,0,V,X);var o=UDOC.getState([[0,0,V,X]]),c=new j9;
c.translate(-_.x,-_.y-_.r);c.scale(i,-A);c.translate(H,F);if(j[2]){var E=r.Ez();if(!q.gy(_)){E=R.O(_.Z()*4);
R.UB(r.Ez(),q,E,_)}if(j[1]!=100){var f=aP.QE("JPG").TL([[E.buffer]],_.d,_.r,[j[1]]);E=new Uint8Array(f)}var d=new j9;
d.translate(_.x,_.y);ae.e8(o,D,E,_,d,c)}else ae.rJ(r,T,o,D,c,j,N);D.ShowPage()}D.Done()};ae.yi=function(r){r=R._.z2(r);
return[r.a/255,r.p/255,r.M/255]};ae.rJ=function(r,j,D,N,b,Y,x){var C=j.n,w=C.add.lsct,q=C.add.lmfx,u=C.add.vmsk,h=C.add.vstk,z=C.add.TySh,$,i;
if(!C.Xy())return;var O=C.opacity/255,g=C.add.iOpa!=null?C.add.iOpa/255:1;D.bmode=ee.HD(C.yp);D.ca=D.CA=O*g;
var t=q;if(t)t=t.solidFillMulti.v[0];if(t)t=t.v;if(t&&!t.enab.v)t=null;var A=C.rect;if(C.RC()&&(!C.iO()||C.Nl&&C.Nl.k2)){if(C.iO){$=C.Nl.k2;
A=C.Nl.apf}else{$=R.O(C.rect.Z());R.ni(C.buffer,$,3)}i=fx.sP(q,null,$,A,r,A).type;var H=["DrSh","OrGl"];
if(g!=1||h&&!h.fillEnabled.v){var F=$.slice(0);R.gq(F);for(var P=0;P<H.length;P++){var T=i[H[P]];for(var _=0;
_<T.length;_++){var V=T[_],X=V.dS.clone();X.x+=A.x;X.y+=A.y;R.I8(F,A,V.Iz,X)}}}}if(i)ae.c3(C,$,A,i,D,N,b,Y,!0);
if(C.iO()){for(var P=0;P<j.children.length;P++)ae.rJ(r,j.children[P],D,N,b,Y,x)}else if(u&&C.x2()){var o=u.W,c=R.b.sl(o),E=R.K.p_(o).mo,f=!1,d=!1,s=!1;
R.K.F(E.v,b,E.v);D.pth={cmds:E.J,crds:E.v};if(h.fillEnabled.v){var B=fx.YC(q,C.add),a=B[0],U=B[1];if(a){D.colr=ae.yi(a.Clr.v)}else if(U){var M=U,W=[],n,e=M.Type.v.GrdT=="Rdl"?"rad":"lin",Q=R._.Ly(M,c),J=b.OT(Q[0]),m=b.OT(Q[1]);
if(e=="rad")n=[J.x,J.y,0,J.x,J.y,gJ.tA(J,m)];else{J.Ho(m.x+(J.x-m.x)*2,m.y+(J.y-m.y)*2);n=[J.x,J.y,m.x,m.y]}var p=M.Grad.v.Clrs.v;
for(var P=0;P<p.length;P++){var L=p[P].v;W.push([L.Lctn.v/4096,ae.yi(L.Clr.v)])}D.colr={typ:e,mat:[1,0,0,1,0,0],grad:W,crds:n}}f=!0}var S=fx.WU(q);
if(!h.strokeEnabled.v&&S)h=S;if(h.strokeEnabled.v){var eJ=h.strokeStyleContent.v,hy=h.strokeStyleLineDashSet.v,v=hz._O.io.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(eJ.Clr==null)return;var ff=R._.z2(eJ.Clr.v);D.COLR=[ff.a/255,ff.p/255,ff.M/255];D.lwidth=h.strokeStyleLineWidth.v.val*(v==2?2:1)*b.zR();
D.mlimit=h.strokeStyleMiterLimit.v;D.doff=h.strokeStyleLineDashOffset.v.val;D.ljoin=hz._O.join.indexOf(h.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
D.lcap=hz._O.DD.indexOf(h.strokeStyleLineCapType.v.strokeStyleLineCapType);D.dash=[];for(var P=0;P<hy.length;
P++)D.dash.push(hy[P].v.val*D.lwidth);if(D.dash.length==1&&D.dash[0]==0)D.dash=[];d=!0;if(v==2)s=!0}if(f&&!s)N.Fill(D);
if(d)N.Stroke(D);if(f&&s)N.Fill(D)}else if(z&&Y[4]){var K=z.d1,jo=new fu(K,x),E=iW.O5(jo,z),g5=R.K.dJ(E);
for(var ff in g5){var fQ=parseInt(ff.slice(1),16);D.colr=t?ae.yi(t.Clr.v):[(fQ>>>16&255)/255,(fQ>>>8&255)/255,(fQ&255)/255];
var iT=g5[ff];R.K.F(iT.v,b,iT.v);iT=R.K.a62(iT);D.pth={cmds:iT.J,crds:iT.v};N.Fill(D)}}else if(z&&Y[3]==!1){var K=z.d1,ac=z.F.clone(),aR=new j9(1,0,0,-1,0,0);
aR.concat(ac);aR.concat(b);var hV=cU.g2(K),jo=new fu(K,x);for(var P=0;P<jo.Av.length;P++){var cu=jo.Av[P];
if(cu.M2.length==1&&cu.M2[0].VX)continue;for(var _=0;_<cu.vA.length;_++){var iy=cu.vA[_],gr=cu.kI.y+iy.kI.y,cp=cu.M2[iy.start].start,gP=cu.M2[iy.end-1].end,g7=cU.a4S(K,cp,gP);
for(var j8=0;j8<g7.length;j8++){var dg=jo.ru(cp),gR=g7[j8],em=cU.eZ(K,cp,cp),fr=em.HB[em.WQ.Font].Name;
D.font.Tf=fr;var ff=cU.z2(em.WQ);D.colr=t?ae.yi(t.Clr.v):[ff.a/255,ff.p/255,ff.M/255];D.font.Tfs=Math.round(em.WQ.FontSize);
var aU=hV.slice(cp,cp+gR);if(em.WQ.FontCaps==2)aU=aU.toUpperCase();var bb=new j9;bb.translate(dg.DN.x,-gr);
bb.concat(aR);D.ctm=[bb.kD,bb.M,bb.Jy,bb.oq,bb.Db,bb.aF];N.PutText(D,aU,0);D.ctm=[1,0,0,1,0,0];cp+=gR}}}}else if(!C.rect.jE()){var fZ,h1,ar=!1,gt=new j9;
if(C.add.SoLd){var gX=C.add.SoLd,dK=gX.Idnt.v,ay=r.oz(dK,gX.Crop?gX.Crop.v:null),cV="";if(ay==null)return;
var hh=ay.Du,b7=aP.rF(ay.raw.buffer);if(Y[6].indexOf(b7)!=-1){fZ=ay.raw;ar=!0}else fZ=hh[0];h1=hh[1];
gt=R.t.PY(gX)}else{fZ=C.buffer;h1=C.rect;gt.translate(h1.x,h1.y)}if(t&&!ar)fZ=fx.jP(fZ,t,h1);ae.e8(D,N,fZ,h1,gt,b);
if(t&&ar){var n=[0,0,h1.d,0,h1.d,h1.r,0,h1.r];R.K.F(n,gt,n);R.K.F(n,b,n);var bj=JSON.parse(JSON.stringify(D));
bj.ca=t.Opct.v.val/100;bj.pth={cmds:["M","L","L","L","Z"],crds:n};bj.colr=ae.yi(t.Clr.v);N.Fill(bj)}}if(i)ae.c3(C,$,A,i,D,N,b,Y,!1)};
ae.c3=function(r,j,D,N,b,Y,x,C,w){var q=D.clone(),u=j;if(r.add.TySh&&!C[3]&&!C[4])return;var h=b.ca,z=b.bmode;
for(var P=hz.order.length-1;P>=0;P--){var O=hz.order[P];if(O=="GrFl"||O=="SoFi")continue;if(r.add.vmsk&&O=="FrFX")continue;
var g=N[O],t=P>7||O=="FrFX";if(t!=w)continue;for(var $=0;$<g.length;$++){var i=g[$];console.log(t,O,i);
if(i.dS==null)i=i.gv?i.gv:i.Cg;var A=i.dS.clone();A.offset(q.x,q.y);if(!t){if(!q.Ob(A)){var H=q.zs(A),F=R.O(H.Z());
R.YO(u,q,F,H);u=F;q=H}R.I8(u,q,i.Iz,A)}if(t&&O=="FrFX"&&i.JB)R.I8(i.JB,A,i.Iz,A);var T=new j9;T.translate(A.x,A.y);
b.ca=i.Uf;b.bmode=ee.HD(i.cm);ae.e8(b,Y,i.Iz,A,T,x)}}b.ca=h;b.bmode=z};ae.e8=function(r,j,D,N,b,Y){var x=new j9;
x.scale(N.d,-N.r);x.translate(0,N.r);x.concat(b);x.concat(Y);r.ctm=[x.kD,x.M,x.Jy,x.oq,x.Db,x.aF];j.PutImage(r,D,N.d,N.r);
r.ctm=[1,0,0,1,0,0]};var d8={};d8.$g=function(r){var j=new Uint8Array(r);return d8.Ge(j,0)};d8.Ge=function(r,j){var D=l.q,N=l.Km,b={FZ:N(r,j,4),u:j+8,size:D(r,j+4)},Y=b.FZ=="FORM"||b.FZ=="LIST"||b.FZ=="CAT ";
if(Y)b.AH=N(r,j+8,4);if(b.size<0||b.u+b.size>r.length)throw"e";if(Y){b.sub=[];j+=12;var x=b.u+b.size;
while(j<x){var C=d8.Ge(r,j);b.sub.push(C);j+=8+C.size+(C.size&1)}}return b};var ej={};ej.$g=function(r,j){var D=new Uint8Array(r);
return ej.Ge(D,0,j)};ej.Ge=function(r,j,D){var N=l.gW,b=l.Km,Y={FZ:b(r,j,4),u:j+8,size:N(r,j+4)};if(D&&D[Y.size]!=null)Y.size=D[Y.size];
if(Y.FZ=="RIFF"||Y.FZ=="LIST"){Y.AH=b(r,j+8,4)}if(Y.size<0||Y.u+Y.size>r.length)throw"e";if(Y.FZ=="RIFF"||Y.FZ=="LIST"&&(Y.AH!="cmpr"&&Y.AH!="stlt")){Y.sub=[];
j+=12;var x=Y.u+Y.size;while(j<x){var C=ej.Ge(r,j,D);Y.sub.push(C);j+=8+C.size+(C.size&1)}}return Y};
var d8={};d8.$g=function(r){var j=new Uint8Array(r);return d8.Ge(j,0)};d8.Ge=function(r,j){var D=l.q,N=l.Km,b={FZ:N(r,j,4),u:j+8,size:D(r,j+4)},Y=b.FZ=="FORM"||b.FZ=="LIST"||b.FZ=="CAT ";
if(Y)b.AH=N(r,j+8,4);if(b.size<0||b.u+b.size>r.length)throw"e";if(Y){b.sub=[];j+=12;var x=b.u+b.size;
while(j<x){var C=d8.Ge(r,j);b.sub.push(C);j+=8+C.size+(C.size&1)}}return b};function gZ(){}gZ.$g=function(r,j){var D=new Uint8Array(r);
j.Fc=!0;var N=l.Km(D,0,2);if(N=="WL"){alert("Unsupported CDR version")}else{var b=gZ.Vp,Y=ej.$g(D.buffer),x={data:D,u:0,JI:gZ.anw(D[11])},z=300;
x.Oy=x.JI<600?16:32;gZ.Ts(x,Y.sub,j,0);var C=b(Y,"cmpr").sub,w=C[0],q=C.slice(1),u=b(w,"mcfg").m,h=u.afB;
z/=hx.Lj(new bf(0,0,Math.round(h.x*z),Math.round(h.y*z)),8192*8192);var O=Math.round(h.x*z),g=Math.round(h.y*z);
j.d=O;j.r=g;j.buffer=R.O(j.d*j.r*4);var t=b(w,"filt").sub,$=b(w,"otlt").sub;w.jM={};for(var P=0;P<t.length;
P++)w.jM[t[P].sub[0].m.id]=t[P].sub[0].m;w.DY={};for(var P=0;P<$.length;P++)w.DY[$[P].m.id]=$[P].m;var i=new j9(z,0,0,-z,h.x*z/2,h.y*z/2),A=q[1];
gZ.tB(A,w,j,i);j.WD(1);j.j[j.j.length-1].OD(new bf(0,0,O,g))}};gZ.Vp=function(r,j){var D=null;for(var P=0;
P<r.sub.length;P++){var N=r.sub[P];if(N.FZ==j||N.AH==j)D=N}return D};gZ.tB=function(r,j,D,N){var b=gZ.Vp,Y=r.AH?r.AH:r.FZ,x=b(r,"lgob"),C=b(r,"txsm"),w,q;
if(x){w=b(x,"trfl");q=b(x,"loda")}var u=w?w.sub[0].sW.clone():new j9;u.concat(N);var h=D.Xp();if(Y=="page"||Y=="layr"||Y=="grp "){h.Lp((Y=="page"?"Page":"Group")+" "+D.j.length);
h.add.lsct=bH.nV;h.yp="pass";h.Qk=24;var z=[];if(Y=="page")z=b(r,"gobj").sub;if(Y=="layr")z=r.sub.slice(2);
if(Y=="grp ")z=r.sub.slice(4);if(z.length==0)return;D.j.push(D.Hc());for(var P=z.length-1;P>=0;P--)gZ.tB(z[P],j,D,N)}else if(Y=="obj "&&q.m&&q.m.path){h.Lp("Object "+D.j.length);
var O=j.jM[q.m.a5X],g=j.DY[q.m.akY],t=h.getName(),$=O&&O.type!=0,i=$&&O.m!=null?O.m:[0,0,0];h.Qk|=16;
h.add.vstk=JSON.parse(JSON.stringify(hz._O.default));var A=h.add.vstk;A.strokeEnabled.v=!1;h.add.vmsk=new G.$R;
if(g&&g.a19!=1){A.strokeEnabled.v=!0;A.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
A.strokeStyleLineWidth.v.val=g.lineWidth*N.zR();var H=g.color;A.strokeStyleContent.v.Clr.v=R._.XJ({a:H[0]*255,p:H[1]*255,M:H[2]*255})}var F=q.m.path;
h.add.vmsk.W=R.K.CH(F,!1);R.b.ho(h.add.vmsk.W,u);ee.LD(i,h,u,R.b.sl(h.add.vmsk.W));A.fillEnabled.v=$;
h.HJ();h.Fz(D)}else if(Y=="obj "&&C){var T=q.m.aa7,_=q.m.ako,o="";h.add.TySh=cU.WJ(0,0);var V=u.zR();
h.add.TySh.F.translate(u.Db,u.aF);var X=h.add.TySh.d1,c=C.m.a2b;for(var P=0;P<c.length;P++){var f=c[P],d=o.length;
o+=f.text+"\n";cU._w(X,d,f.text+"\n");var s=gZ.alw(f.a6l,j),B=cU.eZ(X,d,o.length);if(s.align==3)B.Av.Justification=1;
else B.Av.Justification=0;var a=s.fill.m;B.WQ.FillColor={Type:1,Values:[1,a[0],a[1],a[2]]};B.WQ.FontSize=Math.round(s.a4Q.fontSize*u.zR());
cU.lc(X,d,o.length-1,B)}if(_){cU.jp(X,0)}else{cU.jp(X,1);cU.TS(X,[0,0,Math.round(T.x*u.kD),Math.round(-T.y*u.oq)])}h.Lp(o.slice(0,10))}else{h=null}if(h)D.j.push(h)};
gZ.alw=function(r,j){var D=gZ.Vp(j,"stlt").m,N=JSON.parse(JSON.stringify(D.LZ[r]));if(N.Nd!=0){var b=D.LZ[N.Nd];
for(var Y in b)if(N[Y]==null||N[Y]==0)N[Y]=b[Y];delete N.Nd}N.align=D.a2D[N.aaU];N.fill=j.jM[D.ard[N.apC]];
N.asR=j.DY[D.asg[N.afG]];N.a4Q=D.adv[N.ajb];return N};gZ.aoZ=function(P){var eK=P.data[P.u];P.u+=1;return eK};
gZ.yl=function(P){var eK=l.Vz(P.data,P.u);P.u+=2;return eK};gZ.GU=function(P){var eK=l.gW(P.data,P.u);
P.u+=4;return eK};gZ.ami=function(P){var eK=l.gW(P.data,P.u);P.u+=8;return eK};gZ.rk=function(P){var eK=l.iP(P.data,P.u);
P.u+=2;return eK};gZ.JU=function(P){var eK=l.tG(P.data,P.u);P.u+=4;return eK};gZ.wT=function(P){var eK=l.LH(P.data,P.u);
P.u+=8;return eK};gZ.U_=function(P){if(P.u>=P.data.length)throw"e";var r=0;while(P.data[P.u+r]!=0)r++;
var j=l.Km(P.data,P.u,r);P.u+=r+1;return j};gZ.ajG=function(r){if(r.JI<600)return Math.PI*gZ.rk(r)/1800;
return Math.PI*gZ.JU(r)/18e7};gZ.a6p=function(r){if(r.JI<1500)return gZ.P2(r);else return gZ.wT(r)/254e3};
gZ.P2=function(r){if(r.JI<600)return gZ.rk(r)/1e3;else return gZ.JU(r)/254e3};gZ.aiU=function(r){if(r.JI<600)return CRDParser.yl(r);
else return gZ.GU(r)};gZ.anK=function(r){if(r.JI<600)return CRDParser.rk(r);else return gZ.JU(r)};gZ.Ts=function(r,j,D,N){var b=gZ,Y=b.aoZ,x=b.yl,C=b.GU,w=b.ami,q=b.rk,u=b.JU,h=b.wT,z=b.P2,O=b.a6p,g=b.ajG,t=b.aiU,$=b.anK;
for(var i=0;i<j.length;i++){var A=r.JI,H=j[i];r.u=H.u+(H.FZ=="LIST"?4:0);if(H.FZ=="vrsn"){var F=x(r);
r.JI=F;console.log("Version",F);r.Oy=F<600?16:32}else if(H.FZ=="DISP"){}else if(H.FZ=="LIST"&&H.AH=="cmpr"){var T=C(r),_=C(r),V=C(r),X=C(r),o=new Uint8Array(r.data.buffer,r.u+8+2,T-6-8),c=pako.inflateRaw(o),s=0;
r.u+=T;o=new Uint8Array(r.data.buffer,r.u+8+2);var E=pako.inflateRaw(o),f=[];for(var d=0;d<E.length;
d+=4)f.push(l.gW(E,d));H.sub=[];while(s<c.length){var B=ej.Ge(c,s,f);s=B.u+B.size;H.sub.push(B)}var a={data:c,u:0,JI:A,Oy:r.Oy};
gZ.Ts(a,H.sub,D,N+1)}else if(H.FZ=="LIST"&&H.AH=="stlt"){var U=r.u,K=32;H.m={};var M=C(r);if(M==0)return;
H.m.ard=gZ.mi(r,A>=1300);H.m.asg=gZ.mi(r);H.m.adv={};var W=C(r);for(var P=0;P<W;P++){var n=C(r);r.u+=A<1e3?12:20;
var e=x(r),Q=x(r);r.u+=8;var J=z(r);r.u+=A<1e3?12:20;H.m.adv[n]={abE:e,aey:Q,fontSize:J}}H.m.a2D=gZ.mi(r);
var m=C(r);r.u+=52*m;var p=C(r);r.u+=152*p;var L=C(r);r.u+=784*L;var S=C(r);for(var P=0;P<S;P++){r.u+=40;
if(A>1300)r.u+=4;if(A>=1300){if(C(r))r.u+=68;else r.u+=12}else{r.u+=20;if(A>=1e3)r.u+=8;if(C(r))r.u+=8;
r.u+=8}}var eJ=C(r);H.m.a56={};for(var P=0;P<eJ;P++){var hy=C(r),v={};r.u+=12;v.right=z(r);v.an4=z(r);
v.left=z(r);H.m.a56[hy]=v}var ff=C(r);if(A>=1300)K+=4;r.u+=K*ff;var jo=C(r);r.u+=28*jo;if(A>800){var g5=C(r);
r.u+=12*g5}H.m.LZ={};for(var P=0;P<M;P++){var fQ=C(r),iT=C(r),ac={};ac.Nd=C(r);r.u+=8;var aR=C(r);if(A>=1200)aR*=2;
r.u+=aR;ac.apC=C(r);ac.afG=C(r);if(fQ>1){ac.ajb=C(r);ac.aaU=C(r);ac.aiJ=C(r);ac.a2s=C(r);if(A>800)ac.ak2=C(r)}if(fQ>2){ac.a3Z=C(r);
ac.a13=C(r);ac.atl=C(r);ac.asU=C(r);ac.afw=C(r)}H.m.LZ[iT]=ac}}else if(H.FZ=="LIST")gZ.Ts(r,H.sub,D,N+1);
else if(H.FZ=="txsm"){H.m={};if(A<600)throw"e";if(A<700)throw"e";if(A>=1600)throw"e";if(A>=1500)r.u+=37;
else r.u+=36;if(C(r)){if(A<800)r.u+=32}if(A<800)r.u+=4;H.m.a8h=C(r);H.m.a2b=[];r.u+=48;if(A>=800){if(C(r)){r.u+=32;
if(A>=1300)r.u+=8}}if(A>=1500)r.u+=12;var fQ=C(r),hV=1,cu=!1;if(!fQ){if(A>=800)r.u+=4;if(A>800)r.u+=2;
if(A>=1400)r.u+=2;r.u+=24;if(A<800)r.u+=8;hV=C(r)}for(var d=0;d<hV;d++){var iy=C(r),P=0;if(A>=1300&&fQ)r.u++;
r.u++;var M=C(r),gr=[];for(P=0;P<M;P++){var cp=Y(r),g7=0;Y(r);var gP=Y(r);if(A>=800)g7=Y(r);var ac={};
if(gP&1){ac.abE=x(r);var j8=x(r);if(j8)ac.adk=j8}if(gP&2)r.u+=4;if(gP&4)ac.a8N=z(r);if(gP&8)r.u+=4;if(gP&16)r.u+=4;
if(gP&32)r.u+=4;if(gP&64){ac.apC=C(r);if(A>=1500)r.u+=48}if(gP&128){ac.afG=C(r)}if(g7&8){if(A>=1300){var dg=C(r);
if(r.u+dg*2>=r.data.length){cu=!0;break}r.u+=dg*2}else r.u+=4}if(g7&32){var gR=Y(r);if(gR)r.u+=52}if(cp==2)if(A>=1300)r.u+=48;
gr.push(ac)}if(cu){break}var em=C(r);if(r.u+em*4>r.data.length)break;var fr=[];for(P=0;P<em;P++){var aU=0;
if(A>=1200)aU=w(r)&4294967295;else aU=C(r);fr[P]=aU>>16|aU&1}var bb=em;if(A>=1200)bb=C(r);var fZ=gZ.U_(r);
H.m.a2b.push({a6l:iy,text:fZ,LZ:gr})}}else if(H.FZ=="font"){var h1=x(r),ar=x(r);r.u+=14;var gt=gZ.U_(r);
H.m={id:h1,ajQ:ar,name:gt}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(H.FZ)!=-1){}else if(H.FZ=="flgs")H.m=C(r);
else if(H.FZ=="bbox"){var gX=z(r),dK=z(r),ay=z(r),hh=z(r);H.m=new bf(gX,dK,ay-gX,hh-dK)}else if(H.FZ=="fild"){var b7=C(r),cV=0,bW;
if(A>=1300){r.u+=4;cV=x(r);r.u+=2}var bj=x(r);if(bj==0){}else if(bj==1){r.u+=A>=1300?13:2;bW=gZ.K5(r)}else if(bj==2){r.u+=A>=1300?8:2;
var bu=Y(r),da=0;if(A>=1300){r.u+=17;da=q(r)}else if(A>=600){r.u+=19;da=u(r)}else{r.u+=11;da=q(r)}var dj=g(r),e_=.5+$(r),de=.5+$(r)-.5;
if(A>=600)r.u+=2;var aM=t(r)&255,g2=Y(r)/100;r.u++;var g9=t(r)&65535;if(A>=1300)r.u+=3;var hr=[];for(var P=0;
P<g9;P++){var bD=gZ.K5(r);if(A>=1300){if(cV==158||A>=1600&&cV==150)r.u+=26;else r.u+=5}var iG=t(r)/100;
if(A>=1300)r.u+=3;hr.push([iG,bD])}bW={typ:bu==1?"lin":"rad",crds:[e_-Math.cos(dj)/2,de-Math.sin(dj)/2,e_,de],grad:hr,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",bj);
H.m={id:b7,type:bj,m:bW}}else if(H.FZ=="outl"){var iF=C(r);if(A>=1300){var i3=0,bI=0;while(i3!=1){r.u+=bI;
i3=C(r);bI=C(r)}}var fE=x(r),ih=x(r),dD=x(r);if(A<1300&&A>=600)r.u+=2;var aQ=z(r),dn=x(r)/100;if(A>=600)r.u+=2;
var df=g(r);if(A>=1300)r.u+=46;else if(A>=600)r.u+=52;var bW=gZ.K5(r,iF==270963208||iF==276198e3,iF);
H.m={id:iF,a19:fE,a9f:ih,ap6:dD,lineWidth:aQ,color:bW}}else if(H.FZ=="mcfg"){if(1300<=A)r.u+=12;else if(900<=A)r.u+=4;
else if(600<=A&&A<700)r.u+=28;var ba=0,h8=0;if(A<400)throw"e";else{ba=z(r);h8=z(r)}H.m={afB:new gJ(ba,h8)}}else if(H.FZ=="loda"){var U=r.u,eS=t(r),ek=t(r),c9=t(r),dB=t(r),gd=t(r),bU=[],fp=[];
r.u=U+c9;for(var P=0;P<ek;P++)bU[P]=t(r);r.u=U+dB;for(var P=ek-1;P>=0;P--)fp[P]=t(r);H.m={};for(var P=0;
P<ek;P++){r.u=U+bU[P];var i7=fp[P];if(i7==10)H.m.akY=C(r);else if(i7==20)H.m.a5X=C(r);else if(i7==200)H.m.acN=t(r);
else if(i7==30){if(A<400)gd--;if(gd==1){var gX=O(r),dK=O(r),h7=0,h_=0,jy=0,fs=0;if(A<1500){fs=O(r);jy=A<900?fs:O(r);
h_=A<900?fs:O(r);h7=A<900?fs:O(r)}else throw"e";H.m.path=R.K.WM(R.b.Lu.Rect(0,0,gX,dK,h7))}else if(gd==2){var ir=z(r),bk=z(r),aO=g(r),iL=g(r),dX=Math.abs(ir),cj=Math.abs(bk);
H.m.path=R.K.WM(R.b.Lu.Co(0,0,dX,-cj))}else if(gd==3){H.m.path=gZ.a6K(r)}else if(gd==4){H.m.ako=gZ.a8j(r)}else if(gd==6){H.m.aa7=gZ.amD(r)}else if(gd==37){H.m.path=gZ.qN(r)}else console.log(gd)}}}else if(H.FZ=="trfd"){var U=r.u,eS=t(r),ek=t(r),c9=t(r);
r.u=U+c9;var bU=[];for(var P=0;P<ek;P++)bU[P]=t(r);for(var P=0;P<ek;P++){r.u=U+bU[P];if(A>=1300)r.u+=8;
var ha=x(r);if(ha==8){var ja,ad,gX,bS,bg,dK;if(A>=600)r.u+=6;if(A>=500){ja=h(r);ad=h(r);gX=h(r)/(A<600?1e3:254e3);
bS=h(r);bg=h(r);dK=h(r)/(A<600?1e3:254e3)}else throw"e";H.sW=new j9(ja,bS,ad,bg,gX,dK)}else console.log(ha)}}else if(!1){console.log(H);
var aB=Math.min(H.size,32);console.log(l.cq(data,H.u,aB));console.log(l.aes(data,H.u,aB))}}};gZ.mi=function(r,j){var D=gZ.GU,N={},b=D(r);
for(var P=0;P<b;P++){var Y=D(r);r.u+=4;var x=D(r);N[Y]=x;if(j)r.u+=48}return N};gZ.a8j=function(r){var j=gZ,D=j.P2,N=D(r),b=D(r);
return new gJ(N,b)};gZ.amD=function(r){var j=gZ,D=j.P2;r.u+=4;var N=D(r),b=D(r);return new gJ(N,b)};
gZ.qN=function(r){var j=gZ,D=j.GU,N=j.yl,b=j.P2;r.u+=4;var Y=N(r)+N(r);r.u+=16;var x=gZ.ah(r,Y);return x};
gZ.a6K=function(r){var j=gZ.yl(r);r.u+=2;return gZ.ah(r,j)};gZ.ah=function(r,j){var D=gZ,N=D.P2,b=r.JI<600?2:4,Y=r.u,x={v:[],J:[]},C=0,w=0,q=0;
for(var P=0;P<j;P++){var C=N(r),w=N(r),u=r.data[Y+j*b*2+P];if(!(u&64)&&!(u&128)){x.v.push(C,w);x.J.push("M");
q+=2}else if(u&64&&!(u&128)){x.v.push(C,w);x.J.push("L");q+=2}else if(!(u&64)&&u&128){x.v.push(C,w);
x.J.push("C");q+=6}else if(u&64&&u&128){x.v.push(C,w)}}if(q!=x.v.length)throw"e";return x};gZ.aeE=function(r,j){var D=l.gW;
j+=8;var N=D(r,j);j+=4;var b=D(r,j);j+=4;j+=4*7;var Y=j,x=R.O(N*b*4);j+=1024;for(var C=0;C<b;C++)for(var w=0;
w<N;w++){var P=C*N+w,q=(b-C-1)*N+w,u=r[j+P]<<2,h=q<<2;x[h+0]=r[Y+u+2];x[h+1]=r[Y+u+1];x[h+2]=r[Y+u+0];
x[h+3]=255}return{Iz:x,rect:new bf(0,0,N,b)}};gZ.anw=function(r){if(r==32)return 300;else if(r<49)return 0;
else if(r<58)return 100*(r-48);else if(r<65)return 0;return 100*(r-55)};gZ.K5=function(r,j,D){var N=gZ.yl,b=gZ.GU,Y=r.JI,x=0,C=0;
if(Y>=500){x=N(r);if(x==1&&Y>=1300)x=25;if(x==25||x==30){var w=0;if(x==30){x=25;w=30}else{w=N(r);r.u+=4}var q=N(r),u=N(r)}else if(x==14)throw"e";
else{r.u+=6;C=b(r)}}else throw"e";var h=[];if(x==2||x==9||x==17){var z=[C>>>0&255,C>>>8&255,C>>>16&255,C>>>24&255];
if(x==2)for(var P=0;P<4;P++)z[P]=Math.round(255*z[P]/100);for(var P=0;P<4;P++)z[P]/=255;h=UDOC.C.cmykToRgb(z)}else if(x==1||x==5){h=[C>>>0&255,C>>>8&255,C>>>16&255];
for(var P=0;P<3;P++)h[P]=h[P]/255}else console.log("Unknown color model "+x,C,C.toString(16));return h};
var jw=function(){var r,j,D=new ArrayBuffer(4),N=new Uint8Array(D),b=new Uint32Array(D),Y=new Float32Array(D);
function x(z,O){for(var g=0;g<z.length;g++)if(z[g][0]==O)return z[g]}function C(){var z=0,O=0,g=0;do{g=r[j++];
z|=(g&127)<<O;O+=7}while(g&128&&O<35);return z>>>0}function w(z,O,g,t,$){r=z;j=O;var i=t[0]=="mesg",A=t[2],H={},F=1,T=i?1e9:A.length;
while(F<=T){var _=F;if(i){_=C();if(_==0)break}var V=x(A,_),X=V[2],o=V[1]==1,c=o?C():1,E=new Array(c);
if(X==3){if(!o)throw"e";E=r.slice(j,j+c);j+=c}else for(var P=0;P<c;P++){var f;if((X&1)==1){if(X==1)f=r[j++]==1;
else if(X==3)f=r[j++];else if(X==5){var d=C();f=d&1?~(d>>>1):d>>>1}else if(X==7)f=C();else if(X==9){if(r[j]==0){f=0;
j++}else{N[0]=r[j];N[1]=r[j+1];N[2]=r[j+2];N[3]=r[j+3];var s=b[0];b[0]=s<<23|s>>>9;f=Y[0];j+=4}}else if(X==11){var B=q(r,j);
f=B[0];j+=B[1]+1}else throw X}else{var a=g[X>>>1];if(a[0]=="enum"){var U=r[j++];if(U>127)throw"e";f=a[2][U]}else{var M=w(r,j,g,a,$+1);
f=M[0];j=M[1]}}E[P]=f}H[V[3]]=o?E:E[0];F++}return[H,j]}function q(z,O){var g=O;while(z[g]!=0)g++;return[l.Hi(z,O,g-O),g-O]}function u(z,O){var g=O;
while(z[g]!=0)g++;for(var P=O;P<g;P++)if(z[P]>127)throw"e";return l.Km(z,O,g-O)}function h(z){r=z;j=1;
var O=[];while(j<z.length){var g=j,t=O.length,$=u(z,j);j+=$.length+1;var i=C();if(i>2)throw"e";var A=C(),H=[];
for(var P=0;P<A;P++){var F=u(z,j);j+=F.length+1;var T=C(),_=C(),V=C();H.push(i==0?F:[V,_,T,F])}O.push([["enum","strc","mesg"][i],$,H])}return O}return{afn:h,apQ:w}}();
function cC(){}cC.$g=function(r,j){var D=new Uint8Array(r),N=8,b=l.gW(D,N),q=0,a=0;N+=4;var Y=[];while(N<D.length){var x=l.gW(D,N);
N+=4;var C=D.slice(N,N+x);if(D[N]==137&&D[N+1]==80){}else C=UZIP.inflateRaw(C);Y.push(C);N+=x}var w=jw.afn(Y[0]);
for(var P=0;P<w.length;P++)if(w[P][1]=="Message")q=P;var u=jw.apQ(Y[1],0,w,w[q],0)[0],h={ox:{},EL:{},aeu:{}},z=u.nodeChanges;
for(var O=0;O<z.length;O++){var g=z[O],t=g.guid;h.EL[t.sessionID+","+t.localID]=g}for(var O=0;O<z.length;
O++){var g=z[O],t=g.parentIndex;if(t){var $=cC.yy(h.EL,t.guid);if($.children==null)$.children=[];$.children.push(g)}}var i=z[0],A=i.children,H=new bf,F=[],T=[];
for(var t=0;t<A.length;t++){var _=A[t],V=_.children;if(_.name=="Internal Only Canvas"||V==null)continue;
var X=new bf;for(var P=0;P<V.length;P++){var o=V[P],c=o.transform,E=o.size;if(c.m00==1&&c.m10==0&&c.m01==0&&c.m11==1){var f=new bf(c.m02,c.m12,E.x,E.y);
X=X.zs(f)}}var d=H.r==0?0:H.r+100,s=X.clone();s.x=0;s.y=d;H=H.zs(s);F[t]=X;T[t]=d}var B=hx.Lj(new bf(0,0,H.d,H.r),8192*8192);
j.d=Math.round(H.d/B);j.r=Math.round(H.r/B);j.buffer=R.O(j.d*j.r*4);for(var t=0;t<A.length;t++){var _=A[t],V=_.children;
if(_.name=="Internal Only Canvas"||V==null)continue;V.sort(cC.rP);var U=new j9(1,0,0,1,-F[t].x,T[t]-F[t].y);
U.scale(1/B,1/B);for(var P=0;P<V.length;P++){var o=V[P];cC.tB(o,[],U,u.blobs,j,0,h);a++}}j.WD(a);j.Fc=!0;
if(B!=1)alert("File scaled down "+B+"x")};cC.tB=function(r,j,D,N,b,Y,x){var C=cC,o=!1,c,E,d,s,B;for(var P=0;
P<j.length;P++){var w=j[P],q=w.guidPath.guids[0];if(C.aah(q,r.guid)){var u={};for(var h in r)u[h]=w[h]!=null?w[h]:r[h];
r=u}}var z=r.type,O=r.children,g=r.size,t=r.effects,$=b.Xp();$.Lp(r.name);$.yE(r.visible);$.opacity=Math.round(r.opacity*255);
var i=C.hN(r.transform),A=i.clone();A.concat(D);var H=new bf(Math.round(A.Db),Math.round(A.aF),Math.round(g.x*A.zR()),Math.round(g.y*A.zR())),F=r.fillPaints,T=r.inheritFillStyleID;
if(T){var u=C.yy(x.EL,T);if(u)F=u.fillPaints}if(F==null)F=[];var F=C.ed(F),_=F[0],V=r.strokePaints,T=r.inheritFillStyleIDForStroke;
if(T){var u=C.yy(x.EL,T);if(u)V=u.fillPaints}if(V==null)V=[];var V=C.ed(V),X="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(z)!=-1;
if(X||z=="FRAME"){c=new G.$R;E=[];C.yY(r,N,c,E);o=R.b.eY(c.W);R.b.ho(c.W,A);H=R.K.yB(R.b.sl(c.W));if(x.ox.ZU&&_){var f=G.$R.wO(x.ox.ZU.W);
for(var P=2;P<f.length;P++)if(f[P].va!=null)f[P].va=3;c.W=c.W.concat(f.slice(2));E=E.concat(JSON.parse(JSON.stringify(x.ox.Bu)))}}if(_&&_.type=="IMAGE"){B=_.imageScaleMode;
d=C.Ez(N,_.image.dataBlob);var a=d.Yn.d/d.Yn.r,U=g.x/g.y;s=Math.abs(a-U)}if(z=="FRAME"){}else if(X&&o&&d&&(B=="FIT"||B=="FILL"&&s<=.05)){var M=N[_.image.dataBlob].bytes,W=b.Ok(M,$.getName(),0,0);
W.Qk=$.Qk;W.opacity=$.opacity;$=W;var n=new bf(0,0,g.x,g.y);if(B=="FIT"){var e=d.Yn.d,Q=d.Yn.r,J=Math.min(g.x/e,g.y/Q),m=e*J,p=Q*J;
n=new bf(n.x+(n.d-m)/2,n.y+(n.r-p)/2,m,p)}var L=R.K.rR(n).v;R.K.F(L,A,L);$.add.SoLd.Trnf=I.T.Qn(L);$.add.SoLd.nonAffineTransform=I.T.Qn(L);
var S=[],t=r.effects,eJ=_.paintFilter;if(t)for(var P=0;P<t.length;P++)if(t[P].type=="FOREGROUND_BLUR"){var hy=t[P],v=ij.ka("GsnB",{});
S.push(v);v.v.enab.v=hy.visible;v.v.Fltr.v.Rds.v.val=hy.radius/2.4}if(eJ&&eJ.exposure!=0){var v=ij.ka("brit",{});
S.push(v);v.v.Fltr.v.Brgh.v=Math.round(eJ.exposure*160);v.v.Fltr.v.useLegacy.v=!0}if(eJ&&eJ.vibrance!=0){var v=ij.ka("vibA",{});
S.push(v);console.log(v);v.v.Fltr.v.Strt.v=Math.round(Math.round(eJ.vibrance*100))}if(S.length!=0){$.add.SoLd.filterFX=ij.Sq();
b.oY({id:$.add.SoLd.placed.v,rect:new bf,buffer:R.O(1),B:new G.Jz});$.add.SoLd.filterFX.v.filterFXList.v=S}$.zX(b,!1);
C.ms(x,$,b)}else if(X){C.Oo($,E,c,r,_,A,H,N,b,x);var ff=C.nn(r,V[0],A,H,N,b,x);if(ff[0]!="None"){var K=$.add.vstk;
K.strokeEnabled.v=!0;K.strokeStyleLineWidth.v.val=r.strokeWeight*A.zR();K.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hz._O.io[["INSIDE","CENTER","OUTSIDE"].indexOf(r.strokeAlign)];
var jo={SoCo:"SoFi",GdFl:"GrFl"}[ff[0]],g5=["SoFi","GrFl","patternFill"].indexOf(jo),fQ=[hz.kK,hz.bl,hz.CU][g5];
K.strokeStyleContent.v={classID:hz._O.AH[0]};var iT=r.dashPattern;if(iT)K.strokeStyleLineDashSet.v=fx.kA(iT,1/r.strokeWeight);
var ac=K.strokeStyleContent.v={classID:hz._O.AH[g5]};for(var P=0;P<fQ.length;P++)ac[fQ[P]]=ff[1][fQ[P]];
if(!K.fillEnabled.v)C.Lr(ff,$)}if(t)for(var P=0;P<t.length;P++){var hy=t[P];if(hy.type!="FOREGROUND_BLUR")continue;
c.wt=hy.radius/2.4}$.Fz(b)}else if(z=="TEXT"){var aR=r.textData,hV=aR.layoutSize,cu=["LEFT","RIGHT","CENTER"].indexOf(r.textAlignHorizontal);
$.add.lnsr="rend";$.add.TySh=cU.WJ(0,0);$.add.TySh.DU=new bf(0,0,100,100);var iy=A.clone();$.add.TySh.F=iy;
var gr=$.add.TySh.d1,cp=aR.characters;if(r.textCase=="TITLE"){for(var P=0;P<cp.length;P++)if(P==0||cp[P-1]==" "){var gP=cp.slice(0,P),g7=cp.slice(P+1);
cp=gP+cp[P].toUpperCase()+g7}}cp=cp.replace(/\u2028/g,"\n");cp=cp.replace(/\u2029/g,"\n");cp=cp.replace(/\r\n/g," \n");
cU._w(gr,0,cp);var j8=r.textAutoResize,dg=aR.baselines;if(j8=="WIDTH_AND_HEIGHT"){var gR=cu==0?0:cu==1?hV.x:hV.x/2,em=dg?dg[0].position.y:0;
iy.translate(gR*A.zR(),em*A.zR());cU.jp(gr,0)}else if(j8=="HEIGHT"||j8=="NONE"||j8==null){var em=dg?dg[0].position.y-r.fontSize*.7:0;
iy.translate(0,em*A.zR());cU.jp(gr,1);cU.TS(gr,[0,0,Math.round(hV.x),Math.round((j8=="NONE"?1.8:1)*hV.y)])}else throw j8;
if(cp!=""){var fr=cU.eZ(gr,0,1);C.Je(r,A,g,fr,$,N,b,x);cU.lc(gr,0,cp.length,fr);var aU=aR.characterStyleIDs,bb=aR.styleOverrideTable;
if(aU){aU=aU.slice(0);for(var P=0;P<aU.length;P++)if(cp[P]=="\n")aU[P]=-P-1;var fZ=[0],h1=0,ar=0;for(var P=0;
P<aU.length;P++){ar++;var gt=aU[P];if(P==0||gt==aU[P-1]){}else{fZ.push(ar-1,P);ar=1}}fZ.push(ar);for(var P=0;
P<fZ.length;P+=2){var gX=fZ[P],dK=fZ[P+1];if(cp[gX]=="\n")continue;var gt=aU[gX];if(gt!=0){var ay;for(var hh=0;
hh<bb.length;hh++)if(bb[hh].styleID==gt)ay=bb[hh];var fr=cU.eZ(gr,gX,gX+1);C.Je(ay,A,g,fr,$,N,b,x);cU.lc(gr,gX,gX+dK-1,fr)}}}}}else if(z=="SYMBOL"){}else if(z=="INSTANCE"){var b7=r.symbolData,cV=b7.symbolOverrides,u=C.yy(x.EL,b7.symbolID);
if(u)O=u.children;else console.log(r.name,"symbol not found",b7.symbolID);j=j.slice(0);for(var P=0;P<cV.length;
P++)j.push(cV[P])}else console.log(z);if(!1){}else if(O&&!X){b.j.push(b.Hc());var bj=!1,bW=Y==0&&z!="SYMBOL"&&z!="INSTANCE";
if(bW)$.OD(H);_=F[F.length-1];if(bW&&_&&_.type=="SOLID"){var bu=_.color;$.add.artb.artboardBackgroundType.v=4;
$.add.artb.Clr=C.K5(bu)}else if(_&&c){var da=b.Xp();da.Lp("Background");C.Oo(da,E,c,r,_,A,H,N,b,x);da.Fz(b);
b.j.push(da);bj=!0}O.sort(C.rP);var dj=x.ox;x.ox={};for(var e_=0;e_<O.length;e_++)C.tB(O[e_],j,A,N,b,Y+1,x);
x.ox=dj;$.add.lsct=!1?bH.nV:bH.$w;$.yp="pass";var de=$.Xy();$.Qk=24;$.yE(de);var aM=Y!=0&&F.length!=0&&!r.frameMaskDisabled&&r.containerSupportsFillStrokeAndCorners;
if(!bj&&aM&&c){$.add.vmsk=c;$.add.vogk=E;$.Fz(b)}else C.ms(x,$,b);b.j.push($)}else if(r.mask){if(c){x.ox.ZU=c;
x.ox.Bu=E}}else{var g2=[],bI=1;if(t)for(var g9=0;g9<t.length;g9++){var hy=t[g9],hr=hy.color,bD=hy.type,iG=["DROP_SHADOW","INNER_SHADOW"].indexOf(bD);
if(iG!=-1){var iF=["DrSh","IrSh"][iG],i3=JSON.parse(hz._5[hz.order.indexOf(iF)]);g2.push([iF,i3]);i3.enab.v=hy.visible;
i3.Md.v.BlnM=by.B9(C.a0M(hy.blendMode));i3.Opct.v.val=Math.round(100*hr.a);i3.blur.v.val=Math.round(hy.radius*A.zR());
i3.Clr=C.K5(hr);var gR=hy.offset.x,em=hy.offset.y;i3.uglg.v=!1;i3.lagl.v.val=Math.round(180/Math.PI*Math.atan2(em,-gR));
i3.Dstn.v.val=Math.round(Math.sqrt(gR*gR+em*em)*A.zR())}}if(z=="TEXT"&&F[0]&&F[0].type!="SOLID")bI=0;
for(var P=bI;P<F.length;P++){var fE=F[P],ih=C.nn(r,fE,A,H,N,b,x);if(ih[0]=="GdFl")g2.push(["GrFl",ih[1]]);
else if(ih[0]=="SoCo")g2.push(["SoFi",ih[1]]);else if(ih[0]=="PtFl")g2.push(["patternFill",ih[1]]);else throw ih}if(!X)for(var P=0;
P<V.length;P++){var fE=V[P],ih=C.nn(r,fE,A,H,N,b,x);if(ih[0]=="SoCo"){var i3=JSON.parse(hz._5[hz.order.indexOf("FrFX")]);
g2.push(["FrFX",i3]);i3.enab=ih[1].enab;i3.Opct=ih[1].Opct;i3.Md=ih[1].Md;i3.Clr=ih[1].Clr;i3.Sz.v.val=r.strokeWeight}}if(g2.length!=0){var dD=JSON.parse(hz.default);
for(var P=0;P<hz.order.length;P++)dD[hz.l9[P]]={t:"VlLs",v:[]};for(var P=0;P<g2.length;P++){var aQ=g2[P],iF=hz.l9[hz.order.indexOf(aQ[0])];
dD[iF].v.unshift({t:"Objc",v:aQ[1]})}if(O==null)$.add.lmfx=dD}b.j.push($)}};cC.Oo=function(r,j,D,N,b,Y,x,C,w,q){var u=cC;
r.Qk|=16;r.add.vogk=j;r.add.vmsk=D;var h=r.add.vstk=JSON.parse(JSON.stringify(hz._O.default)),z=u.nn(N,b,Y,x,C,w,q);
if(z[0]=="None"){h.fillEnabled.v=!1;r.add.SoCo=z[1]}else{u.Lr(z,r);r.add[z[0]]=z[1]}};cC.Lr=function(r,j){var D=r[1].Opct.v.val;
if(D!=100)j.opacity=Math.round(j.opacity/255*(D/100)*255)};cC.rP=function(r,j){var D=r.parentIndex.position,N=j.parentIndex.position;
return D>N?1:-1};cC.ed=function(r){for(var P=1;P<r.length;P++){var j=r[P];if(j.type=="IMAGE"&&j.opacity==1){r=r.slice(P);
break}}for(var P=0;P<r.length;P++){var j=r[P],D=j.imageThumbnail;if(j.type=="IMAGE"&&(j.image==null||j.image.dataBlob==null)&&D&&D.dataBlob)j.image=D;
if(!j.visible||j.type=="IMAGE"&&j.image.dataBlob==null){r.splice(P,1);P--}}return r};cC.ms=function(r,j,D){if(r.ox.ZU){j.add.vmsk=r.ox.ZU.clone();
j.add.vogk=JSON.parse(JSON.stringify(r.ox.Bu));j.Fz(D)}};cC.Je=function(r,j,D,N,b,Y,x,C){var w=r.fontSize,q=r.lineHeight,u=r.fontName,h=r.textAlignHorizontal,z=r.textTracking,O=r.textCase,g=r.textDecoration;
if(w==null)w=N.WQ.FontSize;if(u)cU.ht(N,u.postscript);if(w!=null)N.WQ.FontSize=Math.round(w);if(g=="UNDERLINE")N.WQ.Underline=!0;
if(z)N.WQ.Tracking=Math.round(z*1e3);if(O)N.WQ.FontCaps=O=="UPPER"?2:0;if(q&&(q.units!="PERCENT"||q.value!=100)){if(w==null)w=15;
var t=q.value;if(q.units=="PERCENT")t=1*w*t/100;if(q.units=="RAW")t=1*w*t;N.WQ.AutoLeading=!1;N.WQ.Leading=Math.round(t)}if(h)N.Av.Justification=["LEFT","RIGHT","CENTER"].indexOf(h);
var $=r.fillPaints,i=r.inheritFillStyleID;if(i){var A=cC.yy(C.EL,i);if(A)$=A.fillPaints}if($&&$[0]){var H=cC.nn(r,$[0],j,D,Y,x,C);
if(H[0]=="SoCo"){var F=R._.z2(H[1].Clr.v);N.WQ.FillColor={Type:1,Values:[1,F.a/255,F.p/255,F.M/255]};
cC.Lr(H,b)}}};cC.nn=function(r,j,D,N,b,Y,x){var C=cC,w,q,u=r.size;if(j){var h=j.type,z=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(h);
if(h=="SOLID"){w="SoCo";var O=j.color;q=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);q.Clr=C.K5(O)}else if(z!=-1){var g=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),t=g.Grad.v;
t.Intr.v=0;g.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][z];var $=[],i=j.stops;for(var P=0;P<i.length;P++){var A=i[P],H=A.color;
$.push([A.position,[H.r,H.g,H.b],H.a])}R._.NI($,t);var F=C.hN(j.transform);F.gq();var T=F.clone();if(u)T.scale(u.x,u.y);
T.concat(D);var _=new gJ(0,.5),V=new gJ(1,.5);_=T.OT(_);V=T.OT(V);if(!0){_.x=V.x+.5*(_.x-V.x);_.y=V.y+.5*(_.y-V.y)}R._.fv(_,V,N,g);
if(z==3){if(T.kD*T.oq-T.M*T.Jy<0)g.Rvrs.v=!g.Rvrs.v}w="GdFl";q=g}else if(h=="IMAGE"){var g=JSON.parse(hz._5[hz.order.indexOf("patternFill")]),X=g.phase.v,o=j.image.dataBlob,c=x.aeu[o],W=1;
if(c==null){var E=C.Ez(b,o);c=x.aeu[o]={};c.id=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f";c.PT=[new Uint8Array(E.data),E.Yn];
c.name="someImage";Y.fO(c)}g.Algn.v=!0;g.Ptrn.v.Idnt.v=c.id;var f=D.Db,d=D.aF,s=j.imageScaleMode,F=C.hN(j.transform);
F.gq();var B=N.d,a=N.r,U=c.PT[1].d,M=c.PT[1].r;if(s=="FILL"){W=Math.max(B/U,a/M);W=Math.round(W*100)/100}else if(s=="FIT"){W=Math.min(B/U,a/M);
W=Math.round(W*100)/100}else if(s=="STRETCH"){var n=B*F.kD,e=a*F.oq;W=.5*(n/U+e/M);W=Math.round(W*100)/100;
f+=(n-B)/2+F.Db*B;d+=(e-a)/2+F.aF*a}else if(s=="TILE"){W=j.scale;W=Math.round(W*100)/100;f+=(n-B)/2;
d+=(e-a)/2}var Q=W*U,J=W*M;f+=-(Q-B)/2;d+=-(J-a)/2;g.Scl.v.val=Math.round(100*W);X.Hrzn.v=Math.round(f);
X.Vrtc.v=Math.round(d);w="PtFl";q=g}else throw h;if(q)q.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(j.opacity*100)}}}else{w="None";
q={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:0,p:0,M:0})}}}return[w,q]};cC.Ez=function(r,j){var D=r[j];
if(D.rslt)return D.rslt;var N=D.bytes.buffer,b=aP.rF(N),Y=aP.QE(b);try{D.rslt=Y.G$(N)[0]}catch(cM){D.rslt={data:R.O(4),Yn:new bf(0,0,1,1)}}return D.rslt};
cC.yY=function(r,j,D,N){var b=r.type,Y=r.size,x=r.cornerRadius,h;if(x==null)x=0;var C=R.Bu.eH(),w=Y.x,q=Y.y,u=[x,x,x,x],z=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var P=0;P<4;P++)if(r[z[P]]!=null)u[P]=r[z[P]];if(b=="RECTANGLE"||b=="ROUNDED_RECTANGLE"||b=="FRAME"){h=R.b.Lu.Rect(0,0,w,q,u)}else if(b=="ELLIPSE"){var O=r.arcData,g=O?O.startingAngle:0,t=O?O.endingAngle:2*Math.PI,$=O?O.innerRadius:0;
if(g==0&&t>1.999*Math.PI)h=R.b.Lu.Co(0,0,w,q,0);else h=R.b.Lu.afv(w/2,q/2,q/2,g,t);if($!=0&&$!=1){var i=G.$R.wO(h).slice(3);
i.reverse();for(var P=0;P<i.length;P++){var A=i[P],H=A.IR;A.IR=A.TU;A.TU=H}var F=new j9;F.translate(-w/2,-q/2);
F.scale($,$);F.translate(w/2,q/2);R.b.ho(i,F);h=h.concat(i);h[2].length*=2}}else if(b=="LINE"){h=R.b.Lu.Rect(0,0,w,q,0);
h.pop();h.pop();h[2].length=2}else if(b=="STAR"){h=R.b.Lu.$b(w/2,q/2,w/2,2*Math.PI*(1/4),5,0,r.starInnerScale)}else if(b=="REGULAR_POLYGON"){h=R.b.Lu.Y5(.5,.5,.5,Math.PI/2,r.count,0);
var T=new j9;T.scale(w,q);R.b.ho(h,T)}else if(b=="BOOLEAN_OPERATION"){h=[{type:6},{type:8,all:0}];var _=r.children,V=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(r.booleanOperation);
if(V==-1)throw r;if(_==null)_=[];for(var P=0;P<_.length;P++){var o=_[P],c=new G.$R,E=[],f=cC.yY(o,j,c,E);
if(c.W==null)continue;R.b.ho(c.W,cC.hN(o.transform));h=h.concat(c.W.slice(2));for(var d=0;d<E.length;
d++)N.push(E[d])}for(var P=3;P<h.length;P++)if(h[P].va!=null)h[P].va=V;C=null}else if(b=="VECTOR"){var s,B,L=3;
if(!0){var a=r.vectorData;s=a.normalizedSize;B=a.vectorNetworkBlob}var U=j[B].bytes,M=new Uint32Array(U.buffer),W=new Float32Array(U.buffer),n=M[0],e=M[1],Q=M[2],J=[],m=[],p=[],S=L+n*3,eJ=S+e*7;
for(var P=0;P<n;P++){var hy=L+P*3,v=new gJ(W[hy+1],W[hy+2]);J.push(v)}for(var P=0;P<e;P++){var ff=S+P*7;
m.push([M[ff+0],M[ff+1],W[ff+2],W[ff+3],M[ff+4],W[ff+5],W[ff+6]])}for(var P=0;P<Q;P++){var K=M[eJ+1],jo=p[P]=[];
eJ+=2;for(var d=0;d<K;d++){var g5=M[eJ++],fQ=jo[d]=[];for(var iT=0;iT<g5;iT++)fQ[iT]=M[eJ+iT];eJ+=g5}}if(eJ!=M.length)throw"e";
if(Q==0){var ac=-1;for(var P=0;P<e;P++){if(ac==-1){}else{var aR=-1;for(var d=P;d<e;d++)if(m[d][4]==ac)aR=d;
for(var d=P;d<e;d++)if(m[d][1]==ac)aR=d;if(aR!=-1){var hV=0,H=m[aR];m[aR]=m[P];m[P]=H;if(H[1]!=ac){hV=H[1];
H[1]=H[4];H[4]=hV;hV=H[2];H[2]=H[5];H[5]=hV;hV=H[3];H[3]=H[6];H[6]=hV}}}ac=m[P][4]}p.push([[]]);for(var P=0;
P<e;P++)p[0][0].push(P)}var cu=[],iy=[];for(var gr=0;gr<p.length;gr++){for(var cp=0;cp<p[gr].length;
cp++){var gP=p[gr][cp],g7=0;if(gP.length>1){var j8=m[gP[0]],dg=m[gP[1]];g7=j8[4]==dg[1]?1:0}for(var P=0;
P<gP.length;P++){var gR=m[gP[P]],em=1,fr=4;if(g7==0){em=4;fr=1}var aU=J[gR[em]],bb=J[gR[fr]];if(P==0){iy.push("M");
cu.push(aU.x,aU.y)}iy.push("C");cu.push(aU.x+gR[em+1],aU.y+gR[em+2],bb.x+gR[fr+1],bb.y+gR[fr+2],bb.x,bb.y)}}}h=R.K.CH({v:cu,J:iy},!1);
if(x!=0){var u=[],fZ=h[2].length;for(var P=0;P<fZ;P++)u.push(x);if(R.b.dL(h))R.b.Pl(h,2,u)}var h1=new j9;
h1.scale(s.x==0?1:Y.x/s.x,s.y==0?1:Y.y/s.y);R.b.ho(h,h1)}D.W=h;if(C)N.push(C)};cC.yy=function(r,j){return r[j.sessionID+","+j.localID]};
cC.aah=function(r,j){return r.sessionID==j.sessionID&&r.localID==j.localID};cC.a0M=function(r){var j={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[r];
if(j==null)throw r;return j};cC.K5=function(r){return{t:"Objc",v:R._.XJ({a:r.r*255,p:r.g*255,M:r.b*255})}};
cC.hN=function(r){var j=[r.m00,r.m10,r.m01,r.m11,r.m02,r.m12];for(var P=0;P<6;P++)if(Math.abs(j[P])<1e-20)j[P]=0;
return new j9(j[0],j[1],j[2],j[3],j[4],j[5])};function hF(){}hF.$g=function(){var r=l.Km;function j(O,g,t,$){var i=$?[]:{};
while(g<O.length-1&&O[g]!=125){var A=r(O,g,3),H=r(O,g+3,1),F;g+=4;g++;if(H=="v"){var T=j(O,g,t+1,A=="ELM"||A=="TIL");
F=T.m;g=T.u}else if(H=="i"||H=="f"){var _=g;while(O[_]!=125)_++;var V=r(O,g,_-g);F=H=="i"?parseInt(V,16):parseFloat(V);
g=_+1}else if(H=="s"){var X=l.h$(O,g),V="";g+=2;for(var P=0;P<X;P++)V+=String.fromCharCode(O[g+2*P+1]);
F=V;g=g+2*X+1}else if(H=="b"){F=O[g]==49;g=g+2}else throw"e";if($)i.push([A,F]);else if(i[A]==null)i[A]=F;
else{if(!(i[A]instanceof Array))i[A]=[i[A]];i[A].push(F)}}g++;return{m:i,u:g}}function D(O,g){var t=N(O).slice(1),O=g.Clr.v;
O.Rd.v=t[0]*255;O.Grn.v=t[1]*255;O.Bl.v=t[2]*255}function N(O){return[(O>>>24&255)/255,(O>>>16&255)/255,(O>>>8&255)/255,(O>>>0&255)/255]}function b(O,g){var t=g&4278190080|(g&255)<<16|(g>>>8&255)<<8|g>>>16&255;
new Uint32Array(O.buffer).fill(t)}function Y(O,g){var t=O.TSZ,$=O.WPX,i=O.HPX,A=O.TIL,H=new bf(0,0,$,i),F=R.O($*i*4),T=0;
for(var _=0;_<i;_+=t)for(var V=0;V<$;V+=t){var X=new bf(V,_,t,t),o,c=A[T];if(c[0]=="TMC"){o=R.O(X.Z()*4);
b(o,c[1])}else if(c[0]=="TID"){o=g[c[1]]}R.UB(o,X,F,H);T++}return[F,H]}function x(O,g){O=new Uint8Array(O);
var t=8,$,i={},a=0;while(t<O.length){var A=l.q(O,t);t+=4;var H=r(O,t,4);t+=4;if(H=="mkTS"){var F=pako.inflate(O.slice(t,t+A)),T=j(F,0,0);
$=T.m}else if(H=="mkBT"){var _=l.q(O,t+4),V=l.q(O,t+8),F=pako.inflate(O.slice(t+76,t+A));if(V==0)for(var P=0;
P<F.length;P+=4){var X=F[P],o=F[P+1],c=F[P+2],E=F[P+3];F[P+3]=X;F[P+2]=E;F[P+1]=c;F[P]=o}else{var f=R.O(F.length*4);
f.fill(255);R.gx(F,f);F=f}i[_]=F}t+=A+4}var d=$.PDC,s=d?d instanceof Array?d:[d]:[$.MKB],B=new bf;for(var P=0;
P<s.length;P++){var U=s[P];B=B.zs(new bf(0,a,U.WID,U.HIT));a+=U.HIT+100}g.d=B.d;g.r=B.r;g.buffer=R.O(B.Z()*4);
g.WD(s.length);a=0;for(var M=0;M<s.length;M++){g.j.push(g.Hc());var U=s[M],W=U.WID,n=U.HIT,e=U.BGC,Q=(U.LYL?U:$).LYL.LAY,p=3;
for(var P=0;P<Q.length;P++)w(Q[P],g,null,i,new j9(1,0,0,1,0,a));var J=g.Xp();g.j.push(J);var m=new bf(0,a,W,n);
a+=n+100;J.OD(m);if(e>>>24!=0){var L=R._.XJ({a:e>>>16&255,p:e>>>8&255,M:e>>>0&255});J.add.artb.Clr={t:"Objc",v:L};
p=4}J.add.artb.artboardBackgroundType.v=p;J.Lp(U.PGN?U.PGN:"Page "+(M+1));J.add.lsct=bH.$w;J.yp="pass";
J.Qk=24}}function C(O,g,t){var $=O[g];return $ instanceof Array?$[t]:$}function w(O,g,t,$,i){var A=g.Xp();
if(O.VIS!=null)A.yE(O.VIS);if(O.VIF!=null)A.yE(O.VIF.VIS);if(O.OPA!=null)A.opacity=Math.round(255*O.OPA/1e3);
A.yp=O.CLL||t=="GRP"?"pass":"norm";if(O.BLD!=null){var H=O.BLD,F={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[H+""];
if(F==null)console.log(O.OBN,H);else A.yp=F;if(H==30)A.opacity>>>=1}if(O.CLL){A.Lp(O.LNM);g.j.push(g.Hc());
var T=O.CLL.CEL.ELM;for(var P=T.length-1;P>=0;P--)w(T[P][1],g,T[P][0],$,i);A.add.lsct=O.DIS?bH.nV:bH.$w;
A.Qk|=24}else if(t=="GRP"){var _=A.add.lmfx=u(O.EFL),V;g.j.push(g.Hc());var T=O.ELM;if(O.MNA){V=T[0][1];
T=T.slice(1)}A.Lp("Group: "+T.length+" objects");for(var P=T.length-1;P>=0;P--)w(T[P][1],g,T[P][0],$,i);
if(V){if(O.MRX){var X=Y(V,$),o=A.B=new G.Jz;o.rect=X[1].clone();o.rect.x=V.XLC;o.rect.y=V.YLC+i.aF;o.channel=R.O(o.rect.Z());
R.ni(X[0],o.channel,0);R.gq(o.channel)}else{q(A,V,i);A.Fz(g)}}A.add.lsct=bH.$w;A.Qk|=24}else if(t=="IMG"){A.Lp(O.OBN?O.OBN:"Bitmap");
var X=Y(O,$);A.rect=X[1].clone();A.rect.x=O.XLC;A.rect.y=O.YLC+i.aF;A.buffer=X[0]}else if(t=="TXT"){var c=O.TFS,E=c.TRN instanceof Array?c.TRN.length:1,B="";
A.add.lnsr="rend";A.add.TySh=cU.WJ(0,0);A.add.TySh.DU=new bf(0,0,100,100);var f=new j9(1,0,0,1,O.LFT,O.TOP);
if(O.MTX){var d=O.MTX,o=new j9(d.M00,d.M01,d.M10,d.M11,d.M20,d.M21);f.concat(o)}f.concat(i);A.add.TySh.F=f;
var s=A.add.TySh.d1;for(var P=0;P<E;P++){var a=C(c,"TRN",P);cU._w(s,B.length,a);var U=cU.eZ(s,0,1);cU.ht(U,C(c,"FON",P));
U.WQ.FontSize=Math.round(C(c,"PTS",P));var M=C(c,"FCL",P);U.WQ.FillColor={Type:1,Values:N(M)};cU.lc(s,B.length,B.length+a.length,U);
B+=a}A.Lp(B.slice(0,255));var W=O.RIT-O.LFT,n=O.BOT-O.TOP;if(O.IMG){w(O.IMG,g,"IMG",$,i);var e=g.j.pop();
A.buffer=e.buffer;A.rect=e.rect.clone()}cU.jp(s,1);cU.TS(s,[0,0,W,n])}else if(t=="PTH"){A.Lp(O.OBN?O.OBN:"Path");
A.Qk|=16;var Q=!1;q(A,O,i);var J=A.add.vmsk,m=A.add.vstk,p=R.b.sl(J.W),L=O.PAT,S=L.BPL,eJ=L.FPL,hy=L.TXF;
if(eJ&&eJ.FEF)J.wt+=eJ.FEF/2.4;if(S){var v=S.CAT;m.strokeEnabled.v=!0;m.strokeStyleLineWidth.v.val=S.BDI;
m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hz._O.io[O.BRP];D(L.BCL,m.strokeStyleContent.v);
if(v!="bc_Basic"&&v!="bc_Pencil")Q=!0}if(eJ==null){m.fillEnabled.v=!1;A.add.SoCo=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);
D(0,A.add.SoCo)}else if(eJ.CAT=="fc_Solid"){A.add.SoCo=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);D(O.PAT.FCL,A.add.SoCo)}else if(eJ.CAT=="fc_Linear"||eJ.CAT=="fc_Circular"||eJ.CAT=="fc_Elliptical"){var ff=eJ.CAT=="fc_Linear",K=A.add.GdFl=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),jo=K.Grad.v,g5=[],fQ=eJ.FGL.FGY,iT=fQ.FG0.FGI,ac=fQ.FG1.FGI;
for(var P=0;P<iT.length;P++){var aR=iT[P],hV=N(aR.FGC),cu=1;if(ac.length==iT.length)cu=N(ac[P].FGC)[0];
g5.push([aR.FGP,hV.slice(1),cu])}K.Type.v.GrdT=ff?"Lnr":"Rdl";R._.NI(g5,jo);jo.Intr.v=0;var iy=O.PRI?O.PRI:O,gr=new gJ(iy.PSX,iy.PSY),cp=new gJ(iy.PEX,iy.PEY);
if(eJ.CAT=="fc_Elliptical"&&iy.PFX!=null){var gP=new gJ(iy.PFX,iy.PFY),g7=gJ.tA(gr,cp),j8=gJ.tA(gr,gP);
if(j8<g7){var dg=g7;g7=j8;j8=dg}cp=new gJ(gr.x+(g7+j8)/2,gr.y);if(g7/j8<.5)Q=!0}if(ff){gr.x=(gr.x+cp.x)/2;
gr.y=(gr.y+cp.y)/2}R._.fv(gr,cp,p,K)}else console.log(eJ.CAT);var _=A.add.lmfx=u(O.EFL,J);if(eJ&&eJ.FTB!=0){var X=Y(hy.MSK,$),gR={};
gR.id=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f";gR.name="someImage";gR.PT=X;g.fO(gR);var em=X[0];for(var P=0;
P<em.length;P+=4){em[P+3]=255-em[P];em[P]=em[P+1]=em[P+2]=255}var K=JSON.parse(hz._5[hz.order.indexOf("patternFill")]);
K.Opct.v.val=Math.round(eJ.FTB/10);K.Algn.v=!0;K.Ptrn.v.Idnt.v=gR.id;_.patternFillMulti.v.unshift({t:"Objc",v:K})}if(Q&&O.IMG){w(O.IMG,g,"IMG",$,i);
var fr=g.j[g.j.length-1];fr.opacity=A.opacity;return}A.Fz(g)}else if(t=="URL")return;else console.log("unknown layer type",t,O);
g.j.push(A)}function q(O,g,t){if(g.PBL==null)return;var $=O.add.vmsk=new G.$R,i=O.add.vstk=JSON.parse(JSON.stringify(hz._O.default)),A=g.PBL.PBP;
if(!(A instanceof Array))A=[A];for(var H=0;H<A.length;H++){var F=A[H].PBT,T=A[H].ISC?0:3;$.W.push({type:T,length:F.length,va:0,fU:2,J8:0,wB:0});
for(var P=0;P<F.length;P++){var _=F[P],V=_.XLC,X=_.YLC,o=[V,X,V,X,V,X],c="XPC YPC XLC YLC XSC YSC".split(" ");
for(var E=0;E<6;E++){var f=c[E],d=_[f];if(d!=null)o[E]=d}$.W.push({type:T+2,Q:new gJ(V,X),IR:new gJ(o[0],o[1]),TU:new gJ(o[4],o[5])})}}R.b.ho($.W,t);
O.HJ()}function u(O,g){var t=JSON.parse(hz.default);for(var P=0;P<hz.order.length;P++)t[hz.l9[P]]={t:"VlLs",v:[]};
if(O==null)return t;var $=O.EPS;if(!($ instanceof Array))$=[$];for(var P=0;P<$.length;P++){var i=$[P].DCE,A={};
for(var H=0;H<i.length;H++)A[i[H].DCK]=i[H].DCV;if(A.EffectIsVisible=="false")continue;var F=A.mkbFile_WriteOnly_TemporaryEffectUiName;
if(F=="Gaussian Blur..."&&g){g.wt+=parseFloat(A.gaussian_blur_radius);continue}var T=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(F);
if(T==-1){continue}var _=["DrSh","ebbl","IrGl","OrGl"][T],V=hz.l9[hz.order.indexOf(_)],X=JSON.parse(hz._5[hz.order.indexOf(_)]);
t[V].v.unshift({t:"Objc",v:X});if(_=="DrSh"){X.uglg.v=!1;h(A,"ShadowDistance",X,"Dstn");h(A,"ShadowBlur",X,"blur");
h(A,"ShadowAngle",X,"lagl",180);X.Opct.v.val=100;z(A,"ShadowColor",X,"Clr")}if(_=="IrGl"){X.Md.v.BlnM="Nrml";
var o=A.MaskSoftness,c=A.GlowWidth;if(o&&c){o=parseInt(o);c=parseInt(c);X.blur.v.val=c+o;X.Ckmt.v.val=Math.round(100*c/(c+o))}h(A,"BevelContrast",X,"Opct");
z(A,"OuterBevelColor",X,"Clr")}if(_=="OrGl"){X.Md.v.BlnM="Nrml";var o=A.MaskSoftness,c=A.GlowWidth;if(o&&c){o=parseInt(o);
c=parseInt(c);X.blur.v.val=c+o}h(A,"BevelContrast",X,"Opct");z(A,"OuterBevelColor",X,"Clr")}if(_=="ebbl"){X.uglg.v=!1;
h(A,"BevelWidth",X,"blur");h(A,"AngleSoftness",X,"Sftn");h(A,"BevelContrast",X,"srgR");h(A,"LightAngle",X,"lagl")}}return t}function h(O,g,t,$,i){var A=O[g];
if(i==null)i=0;if(A)t[$].v.val=parseInt(A)+i}function z(O,g,t,$){var i=O[g];if(i){i=i.slice(1);if(i.length==6)i=i+"ff";
if(i.length!=8)throw"e";var A=N(parseInt(i,16)),H=t[$].v;H.Rd.v=A[0]*255;H.Grn.v=A[1]*255;H.Bl.v=A[2]*255;
t.Opct.v.val=Math.round(t.Opct.v.val/100*A[3]*100)}}return x}();function dr(){}dr.$g=function(){function r(X,o){var c=!1,E=Date.now(),f=i(X,c),K=1;
if(c)console.log("part found",Date.now()-E);E=Date.now();var d=$(f),s=d.Layer,B=d.Header;if(c)console.log(d);
var a=s[0];a=d.Layer[0];if(c)console.log("document parsed",Date.now()-E);E=Date.now();d.Setup.Gradient=t(d.Setup.Gradient,f);
if(c)console.log("grads loaded",Date.now()-E);E=Date.now();d.Setup.Pattern=g(d.Setup.Pattern,f);if(c)console.log("patts loaded",Date.now()-E);
E=Date.now();d.Setup.DocumentData=O(d.Setup.DocumentData,f).pop();if(c)console.log("docdata loaded",Date.now()-E);
E=Date.now();d.Setup.SVGFilter=O(d.Setup.SVGFilter,f);if(c)console.log("svgfilter loaded",Date.now()-E);
E=Date.now();var U=B.Cropmarks,M=B.BoundingBox.split(" ").map(parseFloat),W=B.ArtSize?B.ArtSize.split(" ").map(parseFloat):[M[2]-M[0],M[3]-M[1]];
o.d=Math.round(W[0]);o.r=Math.round(W[1]);var n=[1,0,0,1,-M[0]+(o.d-(M[2]-M[0]))/2,-M[1]+(o.r-(M[3]-M[1]))/2];
n[3]=-1;n[5]=o.r-n[5];if(U){U=U.split(" ").map(parseFloat);o.d=Math.round(U[2]-U[0]);o.r=Math.round(U[3]-U[1]);
n=[1,0,0,-1,-U[0],o.r+U[1]]}var e=d.Setup.DocumentData;if(e&&e[0]&&e[0].ArtboardArray){var Q=e[0].ArtboardArray;
if(Q.length!=1)console.log(Q.length,"artboards");var J=new bf;for(var P=0;P<Q.length;P++){var m=Q[P],p=m.PositionPoint1,L=m.PositionPoint2,S=p[0],eJ=Math.min(p[1],L[1]),hy=L[0],v=Math.max(p[1],L[1]);
J=J.zs(new bf(S,eJ,hy-S,v-eJ))}o.d=Math.round(J.d);o.r=Math.round(J.r);n[4]=-J.x;n[5]=J.y+o.r}var ff=Math.max(o.d,o.r);
while(ff*K<1200)K++;while(ff*K>6e3)K*=.5;o.d=Math.round(o.d*K);o.r=Math.round(o.r*K);o.TB=Math.round(72*K);
o.buffer=R.O(o.d*o.r*4);for(var P=0;P<6;P++)n[P]*=K;for(var jo=0;jo<s.length;jo++){var g5=s[jo],fQ=g5.Layer;
if(fQ&&fQ[0].Raster){var iT=g5.Raster;if(iT==null)iT=g5.Raster=[];iT=g5.Raster=iT.concat(fQ[0].Raster);
iT.sort(function(aR,hV){return aR._begin-hV._begin})}var ac=h(f,g5);j(o,ac,n,d,g5,f)}if(c)console.log("layers created",Date.now()-E);
E=Date.now()}function j(X,o,c,E,f,d){var s="",B=0,a="",U=UDOC.G,M=UDOC.getState(),W="norm",n=1,e="SoCo",m=!1,p=0,S=null,eJ=!1,hy=0,v=null,ff,K,jo,g5=0,fQ=0,iT=0;
M.ctm=c;var Q=[0,0,0],J=[0,0,0],L=[],ac=[],aR=[];for(var hV=0;hV<o.length;hV++){var cu=o[hV];if(cu[0]=="%"){if(cu=="%_/ArtDictionary :"&&hy==0)S=[cu.slice(2)];
else if(S!=null){if(cu=="%_"&&hy==0){var iy=F(S)[0],gr=iy.AI10_ArtUID;if(gr&&!gr.startsWith("XMLID"))X.j[X.j.length-1].Lp(_(gr));
S=null}else{S.push(cu.slice(eJ?1:2));if(cu=="%_X=")hy++;if(cu=="%_X+")hy--;if(cu=="%_/Binary : /ASCII85Decode ,")eJ=!0;
if(eJ&&cu.endsWith("~>"))eJ=!1}}else if(v){ff+=(ff==""?"":" ")+cu.slice(2);if(ff.endsWith("X#")){v.push(ff.slice(0,ff.length-3));
ff=""}}continue}else if(cu=="/Mesh X!"){v=[];ff="";continue}else if(cu=="/End X!"){D(v,M,X);v=null;continue}cu=cu.trim();
var cp=cu.split(" "),gP=cp[cp.length-1],g7=gP.toLowerCase(),j8=cp.map(parseFloat);if(gP=="m")U.moveTo(M,j8[0],j8[1]);
else if(gP=="L"||gP=="l")U.lineTo(M,j8[0],j8[1]);else if(gP=="V"||gP=="v"||gP=="Y"||gP=="y")U.quadCurveTo(M,j8[0],j8[1],j8[2],j8[3]);
else if(gP=="C"||gP=="c")U.curveTo(M,j8[0],j8[1],j8[2],j8[3],j8[4],j8[5]);else if(gP=="H"||gP=="h"){if(gP==g7)U.closePath(M);
L.push(JSON.parse(JSON.stringify(M.pth)))}else if(gP=="Xy"){W=["norm","mul ","scrn",null,"sLit"][j8[0]];
n=j8[1];if(W==null){W="norm";console.log("unknown blend mode",j8[0])}}else if(gP=="Xd"){var dg=X.j[X.j.length-1];
dg.opacity=Math.round(255*n);dg.yp=dg.iO()&&W=="norm"?"pass":W}else if(gP=="AE")g5=j8[0];else if(gP=="Ae")fQ=j8[0];
else if(gP=="Xw")iT=j8[0];else if(gP=="*"){var gR=M.pth.crds,em=M.ctm,fr=gR[0]==gR[2]?0:1;X.Pc.push([fr,gR[fr]]);
U.newPath(M)}else if(gP=="Xh")K=j8;else if(gP=="XN")jo=cu.split(" ")[0];else if(gP=="XI"){if(K==null)continue;
var aU=f.Raster;if(aU==null){console.log("no Raster");continue}var bb=aU[B++].Data,fZ=bb._begin,h1=bb._end;
while(d[fZ]!=88)fZ++;fZ+=3;var ar=d.slice(fZ,h1),gt=K[8],gX=K[9],dK=gt*gX,ay=R.O(dK*4);ay.fill(255);
var hh=o[hV-2];hh=hh.slice(hh.indexOf("]")+2).split(" ").map(parseFloat);var b7=hh[7],cV=hh[8],bj=hh[6],bW=Math.ceil(gt*b7*bj/8);
if(b7==1){if(bj==8)for(var P=0;P<dK;P++)for(var bu=0;bu<3;bu++)ay[4*P+bu]=ar[P];else if(bj==1)for(var da=0;
da<gX;da++)for(var dj=0;dj<gt;dj++)for(var bu=0;bu<3;bu++)ay[4*(da*gt+dj)+bu]=255*(ar[da*bW+(dj>>>3)]>>>7-(dj&7)&1);
else throw bj}else if(b7==3)for(var P=0;P<dK;P++)for(var bu=0;bu<3;bu++)ay[4*P+bu]=ar[3*P+bu];else if(b7==4||b7==5)for(var P=0;
P<dK;P++){var e_=w([ar[b7*P+0]/255,ar[b7*P+1]/255,ar[b7*P+2]/255,ar[b7*P+3]/255]);ay[4*P+0]=e_[0]*255;
ay[4*P+1]=e_[1]*255;ay[4*P+2]=e_[2]*255}else throw jo;if(cV==1){var de=gX*bW;for(var P=0;P<dK;P++)ay[4*P+3]=ar[de+P]}var aM=R.bP(ay,gt,gX)?"JPG":"PNG";
if(gt*gX<700*700)aM="PNG";var g2=aP.QE(aM).TL([[ay.buffer]],gt,gX),g9=X.Ok(new Uint8Array(g2),"<Image>",0,0);
X.j.push(g9);g9.yp=W;g9.opacity=Math.round(255*n);g9.yE(iT==0);var c=new j9;c.scale(1,-1);c.concat(C(K.slice(1)));
c.concat(C(M.ctm));var hr=g9.rect.clone();hr.x=hr.y=0;var cp=R.K.rR(hr).v;R.K.F(cp,c,cp);g9.add.SoLd.Trnf=I.T.Qn(cp);
g9.add.SoLd.nonAffineTransform=I.T.Qn(cp);g9.zX(X,!1)}else if(gP=="Ln"){s=b(cu)}else if(gP=="u"||gP=="q"||gP=="Lb"){ac.push(fQ==1);
aR.push((gP=="Lb"?1-j8[0]:iT)==0);if(m)continue;X.j.push(X.Hc())}else if(gP=="U"||gP=="Q"||gP=="LB"){if(ac.length==0||aR.length==0)throw hV;
var bD=ac.pop(),iG=aR.pop();if(gP=="LB")bD=g5==1;if(m)continue;var g9=X.Xp();g9.Lp((gP=="U"?"<Group>":"<Clip Group>")+a);
if(gP=="LB")g9.Lp(s);if(gP=="Q"&&L.length!=0){var iF=L.pop(),i3=UDOC.G.isBox(iF,[0,0,X.d,X.r]);if(!i3)q(g9,iF,X)}g9.add.lsct=bD?bH.nV:bH.$w;
g9.yp="pass";g9.Qk=24;g9.yE(iG);X.j.push(g9)}else if(gP=="Bb"||gP=="Bh"||gP=="BB"){}else if(gP=="Bg"){var bI=E.Setup.Gradient[b(cu)];
e="GdFl";Q=N(bI.bW,bI.ag0)}else if(gP=="Bm"||gP=="Xm"){var fE=Q.Type.v.GrdT;if(fE=="Lnr"&&gP!="Xm"||fE=="Rdl"&&gP!="Bm")continue;
var ih=R.K.mN(M.pth.crds),dD=new gJ(0,0),aQ=new gJ(1,0),dn=new j9;dn.concat(C(j8));dn.concat(C(M.ctm));
dD=dn.OT(dD);aQ=dn.OT(aQ);if(fE=="Lnr"){dD.x=(dD.x+aQ.x)/2;dD.y=(dD.y+aQ.y)/2}R._.fv(dD,aQ,ih,Q)}else if(gP=="p"){var df=b(cu),ba=E.Setup.Pattern[df];
if(ba.raw==null){var ih=ba.JO,gt=Math.round(ih[2]-ih[0]),gX=Math.round(ih[3]-ih[1]),iy=new dl;iy.d=gt;
iy.r=gX;iy.buffer=R.O(gt*gX*4);j(iy,ba.Dt,[1,0,0,-1,-ba.JO[0],gX+ba.JO[1]],E,f,d);ba.raw=new Uint8Array(aP.QE("PSD").TL(iy))}var h8=cu.slice(cu.indexOf(")")+2),eS=h8.slice(0,h8.indexOf("[")-1).split(" ").map(parseFloat),ek=h8.slice(h8.indexOf("[")+1,h8.indexOf("]")).split(" ").map(parseFloat);
e="patt";Q=[df,eS,ek]}else if(gP=="J"||gP=="j"||gP=="w"||gP=="M"||gP=="d"){for(var P=1;P<cp.length;P++){var dB=cp[P],gd=j8[P-1];
if(dB=="w")M.lwidth=gd;if(dB=="j")M.ljoin=gd;if(dB=="J")M.lcap=gd;if(dB=="d"){var bU=cu.slice(cu.indexOf("[")+1,cu.indexOf("]")).trim();
if(bU.length!=0){var fp=bU.split(" ").map(parseFloat);M.dash=fp}}}}else if(g7=="xa"||g7=="xx"){var i7=[j8[4],j8[5],j8[6]];
e="SoCo";if(gP=="Xa"||gP=="Xx")Q=i7;else J=i7}else if(g7=="xk"){var i7,h7=j8[j8.length-2],h_=j8[j8.length-3];
if(h7==0)i7=w(j8);else if(h7==1){i7=[j8[4],j8[5],j8[6]];for(var P=0;P<3;P++)i7[P]=h_*1+(1-h_)*i7[P]}else throw cu;
e="SoCo";if(gP=="Xk")Q=i7;else J=i7}else if(g7=="k"||g7=="x"){if(g7=="x"){j8.pop();var jy=1-j8.pop();
for(var P=0;P<4;P++)j8[P]*=jy}var i7=w(j8);e="SoCo";if(gP==g7)Q=i7;else J=i7}else if(g7=="g"){var i7=[j8[0],j8[0],j8[0]];
e="SoCo";if(gP==g7)Q=i7;else J=i7}else if(g7=="n")U.newPath(M);else if(gP=="*u"){m=!0;p=0}else if(gP=="*U"||g7=="s"||g7=="f"||g7=="b"){if(gP!="*U"&&m){if(g7=="f"||g7=="b")p|=1;
if(g7=="s"||g7=="b")p|=2;continue}if(gP==g7)U.closePath(M);if(gP=="*U"){m=!1}var g9;if(e=="patt"){var ba=E.Setup.Pattern[Q[0]];
g9=X.Ok(ba.raw,"<Pattern>",0,0);var hr=g9.rect.clone();hr.x=hr.y=0;var cp=R.K.rR(hr).v,ek=C(Q[2]);ek.Db=ek.aF=0;
R.K.F(cp,ek,cp);g9.add.SoLd.Trnf=I.T.Qn(cp);g9.add.SoLd.nonAffineTransform=I.T.Qn(cp);g9.zX(X,!1)}else{g9=X.Xp();
g9.Qk|=16;var fs=g9.add.vstk=JSON.parse(JSON.stringify(hz._O.default));fs.strokeEnabled.v=fs.fillEnabled.v=!1;
if(e=="SoCo"){g9.add.SoCo=JSON.parse(hz._5[hz.order.indexOf("SoFi")]);var ir=g9.add.SoCo.Clr.v;Y(ir,Q)}if(e=="GdFl")g9.add.GdFl=Q;
if(g7=="f"||g7=="b"||gP=="*U"&&p&1)fs.fillEnabled.v=!0;if(g7=="s"||g7=="b"||gP=="*U"&&p&2)ee.pV(fs,M,1,ee.hr(J))}g9.Lp("<"+(gP=="*U"?"Compound ":"")+"Path>"+a);
g9.yp=W;g9.opacity=Math.round(255*n);g9.yE(iT==0);q(g9,M.pth,X);X.j.push(g9);U.newPath(M)}else if(gP==","&&cp[1]=="/StoryIndex"){var bk=E.Setup.TextDocument,ad=null;
if(!(bk instanceof Array))bk=E.Setup.TextDocument=z(bk,d);var aO=bk[0],iL=bk[2];if(aO._DocumentResources)aO=bk[0]=cb.a36(aO);
else cb.a8D(aO);var g9=X.Xp();g9.add.lnsr="rend";g9.add.TySh=cU.WJ(0,0);var dX=ck.a9z(aO),cj=g9.add.TySh.d1=dX[j8[0]];
if(cj==null){console.log("text not found");continue}g9.Lp(cU.g2(cj).slice(0,50));g9.yp=W;g9.opacity=Math.round(255*n);
g9.yE(iT==0);var jy=aO._1._1[j8[0]]._1._0[0]._0;jy=parseInt(jy.slice(1));var ha=aO._0._8._0,ja=ha[jy]._0;
if(ja._0)ad=x(ja._0);else if(ja._1)ad=x(ja._1._0);else ad=x(ja._2._2).slice(3);if(ad.length!=2){var ih=R.K.mN(ad);
ad=[ih.x,ih.y];if(ih.Z()!=0){cU.jp(cj,1);cU.TS(cj,[0,0,Math.round(ih.d),Math.round(ih.r)])}}var bS=new j9,bg=new j9(1,0,0,1,ad[0],ad[1]),aB=new j9(1,0,0,1,-iL[0],-iL[1]),jz=C(M.ctm),eB=new j9;
if(ja._2&&ja._2._2){var c=x(ja._2._2);eB=new j9(c[0],c[1],c[2],c[3],c[4],c[5])}bS.concat(bg);bS.concat(eB);
bS.concat(aB);bS.scale(1,-1);bS.concat(jz);g9.add.TySh.F=bS;X.j.push(g9);X.Fc=!0}}}function D(X,o,c){var E=UDOC.G,f=[],d=[],s="/DeviceGray",B,a=[],U=1,gR=0,em=0,fr=0;
for(var M=0;M<X.length;M++){var W=X[M];if(W.endsWith(" /CS")){var n=W.indexOf("/NChannel"),e=W.indexOf("/Process");
if(W.startsWith("/DeviceRGB")){s="/DeviceRGB";B=3}else if(W.startsWith("/DeviceGray")){s="/DeviceGray";
B=1}else if(W.startsWith("/DeviceCMYK")){s="/DeviceCMYK";B=4;a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(n!=-1){s="/DeviceCMYK";
B=parseInt(W.slice(n-2,n-1));var Q=1;for(var P=0;P<B;P++){Q=W.indexOf("[",Q);a[B-1-P]=W.slice(Q+1,Q+8).split(" ").map(parseFloat);
Q++}}else if(e){s="/DeviceGray";B=1}else throw W}else if(W[0]=="["){var J=W.indexOf("]"),m=W.slice(1,J).split(" ").map(parseFloat),p=W.slice(J+2),L,S,eJ,hy,v,ff;
if(p=="/Size"||p=="/P"||p=="/R")continue;if(p=="/S"||p=="/A"){L=m[0];S=m[1];eJ=m[2];hy=m[3];v=m[4];ff=m[5]}else if(p=="/N"){var K=B+(U==1?0:1),jo;
L=m[K+0];S=m[K+1];eJ=m[K+2];hy=m[K+3];v=m[K+5];ff=m[K+6];if(s=="/DeviceRGB")jo=m.slice(0,3);else if(s=="/DeviceGray")jo=[m[0],m[0],m[0]];
else if(s=="/DeviceCMYK"){var g5=[0,0,0,0];for(var P=0;P<B;P++){var fQ=m[P],iT=a[P];g5[0]+=fQ*iT[0];
g5[1]+=fQ*iT[1];g5[2]+=fQ*iT[2];g5[3]+=fQ*iT[3]}jo=w(g5)}else throw jo;jo.push(m[B]);d.push([jo,L,S])}else throw p;
f.push([p,v,ff,L,S,eJ,hy])}else if(W=="/E"){var ac=f.slice(0),aR=0;for(var P=0;P<f.length;P++){var hV=f[P][0];
if(hV=="/N"){aR++;continue}var cu=P,iy=P+1;while(f[iy][0]!="/N"&&iy<f.length)iy++;if(aR==0||aR==3){for(var gr=0;
gr<iy-cu;gr++)ac[cu+gr]=f[iy-1-gr]}else for(var gr=cu;gr<iy;gr++){var cp=ac[gr],gP=cp[1];cp[1]=cp[5];
cp[5]=gP;gP=cp[2];cp[2]=cp[6];cp[6]=gP}P=iy-1}f=[];for(var P=0;P<ac.length;P++){var cp=ac[P];f.push(cp[1],cp[2],cp[3],cp[4],cp[5],cp[6])}var g7=f.length;
E.moveTo(o,f[2],f[3]);for(var P=0;P<g7;P+=6){var eJ=f[(P+4)%g7],hy=f[(P+5)%g7],v=f[(P+6)%g7],ff=f[(P+7)%g7],L=f[(P+8)%g7],S=f[(P+9)%g7];
E.curveTo(o,eJ,hy,v,ff,L,S)}E.closePath(o);f=[]}else if(W.endsWith("/Version"))U=parseFloat(W[0])}var j8=c.Xp();
j8.Qk|=16;j8.Lp("<Mesh>");var dg=j8.add.vstk=JSON.parse(JSON.stringify(hz._O.default));dg.strokeEnabled.v=!1;
for(var P=0;P<d.length;P++)for(var gr=P+1;gr<d.length;gr++){var aU=d[P][0],bb=d[gr][0],fZ=aU[0]-bb[0],h1=aU[1]-bb[1],ar=aU[2]-bb[2],gt=Math.sqrt(fZ*fZ+h1*h1+ar*ar);
if(gt>fr){fr=gt;gR=P;em=gr}}var gX=d[gR],dK=d[em],ay=j8.add.GdFl=N(0,[[0,gX[0]],[1,dK[0]]]),hh=C(o.ctm),b7=hh.OT(new gJ(gX[1],gX[2])),cV=hh.OT(new gJ(dK[1],dK[2])),bj=R.K.mN(o.pth.crds);
b7.x=(b7.x+cV.x)/2;b7.y=(b7.y+cV.y)/2;R._.fv(b7,cV,bj,ay);q(j8,o.pth,c);c.j.push(j8);E.newPath(o)}function N(X,o){var c=JSON.parse(hz._5[hz.order.indexOf("GrFl")]),E=c.Grad.v;
E.Intr.v=0;c.Type.v.GrdT=["Lnr","Rdl"][X];R._.NI(o,E);return c}function b(X){return X.slice(X.indexOf("(")+1,X.indexOf(")"))}function Y(X,o){X.Rd.v=o[0]*255;
X.Grn.v=o[1]*255;X.Bl.v=o[2]*255}function x(X){var o=[];for(var P=0;P<X.length;P++)o[P]=parseFloat(X[P].slice(1));
return o}function C(X){return new j9(X[0],X[1],X[2],X[3],X[4],X[5])}function w(X){return UDOC.C.cmykToRgb(X)}function q(X,o,c){X.add.vmsk=new G.$R;
if(o.crds.length!=0)X.add.vmsk.W=u(o);X.HJ();X.Fz(c)}function u(X){var o={v:X.crds,J:X.cmds},c=R.K.CH(o,!1);
return c}function h(X,o){var c=[o._begin],E=o._end-o._begin,f=E,d=o.Raster,M=0;if(d){for(var P=0;P<d.length;
P++){var s=d[P].Data,B=s._begin+32,a=s._end;if(B>a)B=a;c.push(B,a);f-=a-B}}c.push(o._end);var U=new Uint8Array(f);
for(var P=0;P<c.length;P+=2){var B=c[P],W=c[P+1]-B;U.set(new Uint8Array(X.buffer,B,W),M);M+=W}return l.Hi(U).split(/\r\n|\r|\n/)}function z(X,o){if(X==null)return[];
var c=h(o,X),E="",f="",d=0,s;for(var P=2;P<c.length;P++){var B=c[P];if(B[0]=="%"){if(d==0)E+=B.slice(1);
else f+=B.slice(1)}else if(B==";")d++;else if(B.endsWith("/RulerOrigin ,"))s=B.split(" ").slice(0,2).map(parseFloat)}var a=[E,f],U=[];
for(var P=0;P<2;P++){var M=a[P],W=new Uint8Array(M.length);l.k3(W,0,M);var n=FromPS.F.ASCII85Decode({buff:W,off:0}),e=hH.$g(n);
U.push(e)}U.push(s);return U}function O(X,o){if(X==null)return[];var c=h(o,X);c=c.slice(1);for(var P=0;
P<c.length;P++){var E=c[P];if(E[0]=="%")c[P]=E.slice(E[1]=="_"?2:1)}var f=F(c);return f}function g(X,o){var c={};
if(X==null)return c;for(var P=0;P<X.length;P++){var E=h(o,X[P]),f=E[1],d=b(f),s=f.slice(f.indexOf(")")+2).split(" ").map(parseFloat),B=[];
for(var a=2;a<E.length;a++)B.push(E[a].slice(2));c[d]={JO:s,Dt:B}}return c}function t(X,o){var c={},E,f;
if(X==null)return c;var d=[];for(var P=0;P<X.length;P++){var s=h(o,X[P]);for(var B=0;B<s.length;B++){var a=s[B];
if(a[0]=="("){var U=a.split(")");E=U[0].slice(1);var M=U[1].split(" ");f=parseInt(M[1])}else if(a.endsWith("%_BS")){var U=a.split(" "),Q,J=1;
U.pop();U=U.map(parseFloat);var W=U.pop(),n=U.pop(),e=U.pop();if(e==0)Q=[U[0],U[0],U[0]];else if(e==2||e==4)Q=[U[4],U[5],U[6]];
else if(e==1||e==3)Q=w(U);else if(e==6){if(U.length==3)Q=[U[0],U[0],U[0]];else Q=w(U);J=U.pop()}else{throw e}d.push([W/100,Q,J,n/100])}else if(a=="BD"){for(var m=0;
m<d.length-1;m++)d[m][3]=d[m+1][3];d.sort(function(p,L){return p[0]-L[0]});c[E]={bW:f,ag0:d};d=[]}}}return c}function $(X){var o="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),c=Date.now(),E=0,f=[],d={Header:{}},s=[d],B=X.length;
while(E<B){var a=E;while(a!=B&&X[a]!=13&&X[a]!=10){a++}if(X[E]==37&&X[E+1]==95&&X[E+2]==37)E+=2;if(X[E]==37&&(X[E+1]==37||X[E+1]==65)){var U=l.Km(X,E,a-E);
if(U=="%%EndComments"||U=="%EndComments"||U=="%AI5_Begin_NonPrinting"||U=="%AI5_End_NonPrinting--"||U.startsWith("%AI17_Begin_Content_if_version_gt")||U=="%AI17_End_Versioned_Content"){}else{var M=U.indexOf("Begin"),W=U.indexOf("End");
if(M!=-1){var n=U.slice(M+5).split(":")[0],e={_begin:E,_end:E},Q=s[s.length-1];if(o.indexOf(n)!=-1){if(Q[n]==null)Q[n]=[];
Q[n].push(e)}else{if(Q[n]!=null){console.log(s);throw U}Q[n]=e}s.push(e);if(U.startsWith("%%BeginData")){a=l.NY(X,"%%EndData",E)}else if(U=="%AI9_BeginDocumentData")a=l.NY(X,"%AI9_EndDocumentData",a);
else if(U=="%AI11_BeginTextDocument")a=l.NY(X,"%AI11_EndTextDocument",a)}else if(W!=-1){s.pop()._end=E}else if(s.length==1&&(U.startsWith("%AI")||U.startsWith("%%")&&U.indexOf(" ")!=-1)){var J=1;
if(U.startsWith("%AI"))while(U[J]!="_"&&J<U.length)J++;var m=U.indexOf(":");if(m==-1)m=U.indexOf(" ");
var p=U.slice(J+1,m),L=U.slice(m+1).trim();d.Header[p]=L}}}E=a;if(X[E]==13)E++;if(X[E]==10)E++}return d}function i(X,o){var c=Date.now(),E=new Uint8Array(X),f,d=E[2]==68;
if(o)console.log(!d?"EPS":"PDF");if(d){var s=l.NY(E,"/AIMetaData "),hy=!1,v=!1;while(E[s]!=60)s--;s--;
var B=l.NY(E,">>",s),a=l.Km(E,s+2,B-s-2).split("/"),U=[];for(var P=0;P<a.length;P++){var M=a[P],W=M.startsWith("AIPrivateData"),n=M.startsWith("AIPDFPrivateData");
if(!W&&!n)continue;var e=M.trim().split(/\s+/),Q=parseInt(e[1]),J=parseInt(e[0].slice(W?13:16));U.push([J,Q])}if(o)console.log("--- map made",Date.now()-c);
c=Date.now();var m=FromPDF.indexOfXref(E),p=[],L=FromPDF.readXrefTrail(E,m,p),S={buff:E,off:0},eJ=new Array(U.length),ff=s;
for(var P=0;P<U.length;P++){var J=U[P][0],Q=U[P][1],K=FromPDF.getIndirect(Q,0,S,p),jo=K.buff,g5=K["/Filter"],fQ=0;
if(g5!=null&&typeof g5=="string")g5=[g5];var iT=l.Km(jo,fQ,fQ+20);if(iT=="%AI12_CompressedData"){fQ+=20;
hy=!0}else if(iT=="%AI24_ZStandard_Data"){fQ+=20;v=!0}jo=new Uint8Array(jo.buffer,jo.byteOffset+fQ,jo.length-fQ);
if(g5)for(var ac=0;ac<g5.length;ac++){var aR=g5[ac];if(aR=="/FlateDecode")jo=pako.inflate(jo);else if(aR=="/ASCIIHexDecode")jo=FromPS.F.HexDecode({buff:jo,off:0});
else throw aR}eJ[J-1]=jo}if(o)console.log("--- arrays found",Date.now()-c);c=Date.now();var hV=l.Km(eJ[0],0,13);
if(hV=="%%BoundingBox"||hV=="%AI7_Thumbnai")eJ=eJ.slice(1);if(hV=="%AI24_ZStanda"){eJ[0]=eJ[0].slice(20);
v=!0}f=A(eJ);if(o)console.log("--- concatenated",Date.now()-c);c=Date.now();if(hy)f=UZIP.inflate(f);
if(v)f=aP.A9.QG(f);if(o)console.log("--- inflated",Date.now()-c);c=Date.now()}else{var cu=l.Hi(E);if(cu.indexOf("%AI5_BeginLayer")!=-1){f=E}else{var iy=cu.split(/[\n\r]+/),gr=[],cp=!1;
for(var gP=0;gP<iy.length;gP++){var g7=iy[gP].trim();if(g7=="%AI9_PrivateDataEnd"){cp=!1;break}else if(g7=="%AI9_DataStream"||g7=="%AI24_DataStream"){cp=!0}else if(cp)gr.push(g7.slice(1))}var j8=l.IH(gr.join("")),dg=FromPS.F.ASCII85Decode({buff:j8,off:0});
if(dg[0]==120&&dg[1]==156)f=UZIP.inflate(dg);else f=aP.A9.QG(dg)}}return f}function A(X){var o=0,E=0;
for(var P=0;P<X.length;P++)o+=X[P].length;var c=new Uint8Array(o);for(var P=0;P<X.length;P++){var f=X[P];
c.set(f,E);E+=f.length}return c}function H(X,o){for(var P=0;P<o.length;P++)if(X.startsWith(o[P]))return!0;
return!1}function F(X){var o=[],c=[],top=-1,E,f=null,d=null,s=0;for(var B=0;B<X.length;B++){var a=X[B];
if(E){a=E+a;E=null}var U="\t".repeat(o.length);if(f!=null){f.push(a);if(a.endsWith("~>")){var M=l.IH(f.join("")),W=FromPS.F.ASCII85Decode({off:0,buff:M});
o.push(W);c.push(!1);top++;f=null}}else if(d!=null){if(a=="X+"){if(s==1){o.push(d);c.push(!1);top++;
d=null}else s--}else if(a=="X=")s++;else d.push(a)}else if(a=="/Binary : /ASCII85Decode ,"){f=[]}else if(a=="X="){d=[];
s++}else if(a=="/SVGFilter :"||a=="; /Def ;")continue;else if(a.startsWith("/")&&a[1].toUpperCase()!=a[1].toLowerCase()){if(a.startsWith("/XMLUID")){var n=T(a);
if(c[top])throw"e";o[top][n[4]]=n[2]}if(a.startsWith("/GObjRef")){var n=T(a);if(!c[top])throw"e";o[top].push(n[2])}else{var e=a.startsWith("/Array")||a.startsWith("/Document");
o.push(e?[]:{});c.push(e);top++}}else if(a.endsWith(",")){var Q,J,n=T(a);n.pop();if(n[0]==";"||n.length==1){J=o.pop();
c.pop();top--;Q=c[top]?null:n.pop()}else{Q=c[top]?null:n.pop();var m=n.pop(),p=n[0];if(m=="/Int")J=parseInt(p);
else if(m=="/Real")J=parseFloat(p);else if(m=="/Bool")J=p=="1";else if(m=="/String"||m=="/UnicodeString")J=n.join("");
else if(m=="/RealMatrix"||m=="/RealPoint"||m=="/RealPointRelToROrigin")J=n.map(parseFloat);else throw m}if(c[top])o[top].push(J);
else o[top][Q]=J}else if(a==";"){}else if(a==""){}else{if(a.indexOf("/RealPoint")!=-1){}else if(a.startsWith("(")&&a.endsWith(")")){}else if(a.endsWith("/RealMatrix")){}else throw a;
E=E?E+a:a}}return o}function T(X){var o=0,c=[];while(o<X.length){var E=X[o],f=E.charCodeAt(0);if(E==" ")o++;
else if(E==","||E==";"||E==":"){c.push(E);o++}else if(E=="("){var d=o+1;while(!(X[d]==")"&&X[d-1]!="\\"))d++;
var s=X.slice(o+1,d);c.push(s);o=d+1}else if(E=="/"||E=="-"||48<=f&&f<=57){var d=o;while(X[d]!=" ")d++;
c.push(X.slice(o,d));o=d}else throw E}return c}function _(X){var o="";for(var P=0;P<X.length;P++){if(X[P]=="_"&&X[P+1]=="x"){var eK=parseInt(X.slice(P+2,P+4),16);
o+=String.fromCharCode(eK);P+=4}else if(X[P]=="_")o+=" ";else o+=X[P]}return o}function V(X){var o="xmlnode-nodename",c="xmlnode-nodevalue",E="xmlnode-attributes",f="xmlnode-children",d=X[o],s=X[E],B=X[f],a={_nam:d};
for(var U in s){var M=s[U];if(Object.keys(M[E]).length!=0||M[f].length!=0)throw"e";if(M[o]!=U)throw"e";
a[U]=M[c]}if(B.length==0)return a;var W=a.cln=[];for(var P=0;P<B.length;P++)W.push(V(B[P]));return a}return r}();
function aP(){}aP.D8={a7M:["PNG","JPG","SVG","GIF","PDF"],an$:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
aP.R0=function(r,j){var D=r.memory.buffer.byteLength;if(D<j)r.memory.grow((j-D>>>16)+1)};aP.zN={ahk:function(r,j){fetch(r).then(function(D){return D.arrayBuffer()}).then(function(D){var N=new Uint8Array(D),b=0,w="";
if(j){b=N.length;var Y={level:9},x=pako.deflateRaw(N,Y),C=UZIP.deflateRaw(N,Y);console.log(b,x.length,C.length);
N=x.length<C.length?x:C}for(var P=0;P<N.length;P++)w+=String.fromCharCode(N[P]);var q=btoa(w);console.log(JSON.stringify([b,q]))})},get:function(r,j){var D=BINDB[r],N=Date.now(),b=atob(D[1]),Y=b.length,x=new Uint8Array(Y);
for(var P=0;P<Y;P++)x[P]=b.charCodeAt(P);if(D[0]!=0){var C=new Uint8Array(D[0]);UZIP.inflateRaw(x,C);
x=C}if(j){var w=aP.rF(x.buffer);x=aP.QE(w).G$(x.buffer)}return x}};aP.rF=function(r){if(!(r instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var j=new Uint8Array(r),D=aP.wq,N,b=0,Y=j.length-1;
if(D(j,[239,187,191]))b=3;while(b<j.length&&(j[b]==9||j[b]==10||j[b]==13||j[b]==32))b++;while(Y!=0&&(j[Y]==9||j[Y]==10||j[Y]==13||j[Y]==32))Y--;
if(D(j,[56,66,80,83]))N="psd";if(D(j,[102,116,121,112,109,105,102,49],4)||D(j,[102,116,121,112,97,118,105,102],4))N="avif";
if(D(j,[102,116,121,112,105,115,111,109],4))N="mp4";if(D(j,[102,116,121,112,109,112,52,50],4))N="mp4";
if(D(j,[0,255,75,65]))N="afphoto";if(D(j,[120]))N="pxd";if(D(j,[80,68,78,51]))N="pdn";if(D(j,[103,105,109,112,32,120,99,102,32]))N="xcf";
if(D(j,[102,105,103,45,107,105,119,105]))N="fig";if(D(j,[137,80,78,71,13,10,26,10])){N="png";var x=8;
while(x<j.length){var C=l.q(j,x);x+=4;var w=l.Km(j,x,4);x+=4;if(w=="mkTS")N="fpng";x+=C+4}}if(D(j,[87,76]))N="cdr";
if(D(j,[82,73,70,70])){var q=ej.$g(j),u=q.AH;if(u=="WEBP")N="webp";else if(u.slice(0,3)=="CDR")N="cdr";
else N=u}if(D(j,[70,79,82,77])||D(j,[76,73,83,84])||D(j,[67,65,84,32])){var q=d8.$g(j),u=q.AH;if(u=="ILBM")N="ilbm";
else N=u}if(D(j,[255,216,255]))N="jpg";if(D(j,[0,0,0,12,106,80,32,32]))N="jpg";if(D(j,[48,0,1,0],4))N="jb2";
if(D(j,[71,73,70,56]))N="gif";if(D(j,[0,0,0,2,121,102,113,76]))N="msh";if(D(j,[0,0,0,3,121,102,113,76]))N="msh";
if(D(j,[0,0,0,16]))N="atn";if(D(j,[0,1]))N="aco";if(D(j,[0,2]))N="aco";if([0,1].indexOf(j[1])!=-1&&[1,2,3,9,10,11].indexOf(j[2])!=-1&&[0,16,24,32].indexOf(j[7])!=-1)N="tga";
if(D(j,[0,2,56,66,83,76]))N="asl";if(D(j,[0,1,0,-1,0,2,0]))N="abr";if(D(j,[0,2,0,-1,0,2,0]))N="abr";
if(D(j,[0,6,0,1]))N="abr";if(D(j,[0,6,0,2]))N="abr";if(D(j,[0,7,0,2]))N="abr";if(D(j,[0,9,0,2]))N="abr";
if(D(j,[0,10,0,2]))N="abr";if(D(j,[56,66,70,83]))N="shc";if(D(j,[56,66,80,84]))N="pat";if(D(j,[56,66,71,82]))N="grd";
if(D(j,[56,66,84,80]))N="tpl";if(D(j,[0,4,0,5]))N="acv";if(D(j,[99,117,115,104]))N="csh";if(D(j,[0,1,0,0,0]))N="otf";
if(D(j,[79,84,84,79]))N="otf";if(D(j,[116,116,99,102]))N="otf";if(D(j,[68,68,83,32]))N="dds";if(D(j,[80,86,82,3]))N="pvr";
if(D(j,[86,84,70,0]))N="vtf";if(D(j,[83,73,77,80]))N="fits";if(D(j,[0,0,1,0]))N="ico";if(D(j,[66,77]))N="bmp";
if(D(j,[40,0,0,0]))N="bmp";if(D(j,[80,49]))N="ppm";if(D(j,[80,50]))N="ppm";if(D(j,[80,51]))N="ppm";if(D(j,[80,52]))N="ppm";
if(D(j,[80,53]))N="ppm";if(D(j,[80,54]))N="ppm";if(D(j,[73,73,42,0]))N="tiff";if(D(j,[77,77,0,42]))N="tiff";
if(D(j,[70,85,74,73,70,73,76,77]))N="raf";if(D(j,[112]))N="lif";if(D(j,[73,73,26,0]))N="ciff";if(D(j,[83,81,76,105]))N="sketch";
if(D(j,[80,75])){var h=UZIP.parse(r,!0);if(h["document.json"])N="sketch";else if(h.manifest)N="xd";else N="zip"}if(D(j,[123]))N="json";
if(l.q(j,0)==j.length)N="icc";if(D(j,[35]))N="icc";if(D(j,[84,73,84,76],b))N="icc";if(D(j,[76,85,84,95],b))N="icc";
if(D(j,[60,63,120,109],b)){if(l.NY(j,"<look>")!=-1)N="icc";else N="svg"}if(D(j,[60,115,118,103],b))N="svg";
if(D(j,[60,33,100,111],b)||D(j,[60,33,68,79],b)){if(l.NY(j,"<svg")!=-1)N="svg";else N="html"}if(D(j,[37,33])||D(j,[197,208,211,198])){if(l.NY(j,"%AI9_PrivateDataBegin")!=-1||l.NY(j,"%AI5_BeginLayer")!=-1)N="ai";
else N="eps"}if(D(j,[37,80,68,70],b)){if(l.NY(j,"/AIMetaData ")!=-1)N="ai";else N="pdf"}else if(D(j,[10,69,79,70],Y-3))N="dxf";
if(D(j,[1,0,9,0]))N="wmf";if(D(j,[215,205,198,154]))N="wmf";if(D(j,[1,0,0,0]))N="emf";if(D(j,[118,47,49,1]))N="exr";
if(D(j,[10,10,10,10]))N="jsx";if(D(j,[77,90]))N="exe";if(N==null&&R.raw.mW(j.length)!=null)return"tiff";
return N};aP.wq=function(r,j,D){if(D==null)D=0;for(var P=0;P<j.length;P++)if(j[P]!=-1&&r[D+P]!=j[P])return!1;
return!0};aP.QE=function(r){var j={BMP:aP.anP,CDR:aP.y4,DDS:aP.VT,EMF:aP.Xz,DXF:aP.oh,EPS:aP.th,FIG:aP.GB,FPNG:aP.wy,GIF:aP.iq,ICO:aP.Wx,ILBM:aP.xF,FITS:aP.ty,EXR:aP.Hf,JPG:aP.bd,LIF:aP.TT,PDF:aP.wj,PDN:aP.w1,PNG:aP.VA,PPM:aP.kk,PSD:aP.Nf,PXD:aP.HC,RAF:aP.vk,RAW:aP.Q9,SKETCH:aP.v1,SVG:aP.xc,TGA:aP.A1,AVIF:aP.a8E,TIFF:aP.cd,VTF:aP.mQ,WEBP:aP.uj,WMF:aP.Y9,XCF:aP.Ey,XD:aP.ID,EXE:aP.xX,AI:aP.A9,AFPHOTO:aP.sQ,MP4:aP.amS};
return j[r.toUpperCase()]};aP.Gk=function(P){var r=aP.D8.a7M,j=aP.D8.an$,D,N=[];if(P==null)D=r.concat(j);
else D=P==0?r:j;for(var P=0;P<D.length;P++)if(aP.QE(D[P]).TL)N.push(D[P]);return N};aP.a4p=function(){var r;
function j(N){var b=N.target,Y=b.width,x=b.height,C=y.C("canvas");C.width=Y;C.height=x;var w=C.getContext("2d");
w.drawImage(b,0,0);r({Yn:new bf(0,0,Y,x),data:w.getImageData(0,0,Y,x).data.buffer})}function D(N,b,Y){r=Y;
var x=document.createElement("img");x.onload=j;x.src="data:"+b+";base64,"+aP.BI(N)}return D}();aP.oS=function(r,j,D,N,b){var Y=aP.pU(r,j,D,N,b),x=aP._H(Y);
return x.buffer};aP._H=function(r){var j=atob(r.split(",").pop()),D=new Uint8Array(j.length);for(var P=0;
P<j.length;P++)D[P]=j.charCodeAt(P);return D};aP.pU=function(r,j,D,N,b,Y){if(!(r instanceof ArrayBuffer))throw"e";
if(N==null)N="png";if(N=="png"&&Y==!0){var x=aP.QE("PNG").TL([[r,0]],j,D);return"data:image/png;base64,"+aP.BI(x)}var C=aP.OY;
if(C==null)C=aP.OY=y.C("canvas");if(C.width!=j||C.height!=D){C.width=j;C.height=D}var w=C.getContext("2d"),q=new ImageData(new Uint8ClampedArray(r,0,j*D*4),j,D);
w.putImageData(q,0,0);return C.toDataURL("image/"+N,b)};aP.af6=function(r,j,D,N,b){if(b==null)b=0;var Y="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",x="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+Y+"<g transform=\"translate(64 64) scale("+.25*Math.round(y.f())+")\">";
if(r==1)x+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
x+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+b+")\" xlink:href=\""+j+"\" x=\""+80*D+"\" y=\""+80*N+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var C=new Uint8Array(x.length);l.Ws(x,C,0);var w="data:image/svg+xml;base64,"+aP.BI(C.buffer);return{eC:w,DN:new bf(0,0,128,128),UZ:new gJ(64,64)}};
aP.BI=function(r){var j=new Uint8Array(r),D="";for(var P=0;P<j.length;P++)D+=String.fromCharCode(j[P]);
return btoa(D)};aP.aaJ=function(r){var j=atob(r),D=j.length,N=new Uint8Array(D);for(var P=0;P<D;P++)N[P]=j.charCodeAt(P);
return N.buffer};aP.AA=function(r){var j=[],D=[];for(var P=0;P<r.j.length;P++){var N=r.j[P];if(N.getName().slice(0,3)=="_a_"){j.push(P);
D.push(N.Xy())}}return[j,D]};aP.z$=function(r,j,D,N,b,Y){if(D==null)D=r.d;if(N==null)N=r.r;var x=new bf(0,0,r.d,r.r),C=new j9(D/(r.d+.001),0,0,N/(r.r+.001),0,0),q;
j=j.toUpperCase();var w=aP.QE(j);if(w.Xg){r.Ez();q=w.TL(r,D,N,b,Y)}else{var u=aP.AA(r),h=u[0],z=u[1],O=null;
if(r.c9.length!=0){O=[];for(var P=0;P<r.c9.length;P++)O.push(r.c9[P].iJ(x))}if(h.length<2){var g;if(D==r.d&&N==r.r)g=r.Ez().buffer;
else{var t=I.T.Kn([r.Ez(),x],C);g=t.buffer.buffer;if(O){var $=R.O(x.Z()*4);for(var P=0;P<O.length;P++){R.zQ(O[P],$,3);
var t=I.T.Kn([$,x],C),i=O[P]=R.O(t.rect.Z());R.ni(t.buffer,i,3)}}}q=w.TL([[g,0,r.TB,r.y6,O]],D,N,b)}else{var A=[];
for(var P=0;P<h.length;P++){var H=h[P],g;for(var F=0;F<h.length;F++)r.j[h[F]].yE(h[F]==H);r.KE();r.P();
r.wR();if(D==r.d&&N==r.r)g=r.Ez().buffer.slice(0);else{var t=I.T.Kn([r.Ez(),x],C);g=t.buffer.buffer}var T=r.j[H].getName().split(",");
A.push([g,T[1]?parseInt(T[1]):100,r.TB,r.y6,O])}for(var P=0;P<h.length;P++)r.j[h[P]].yE(z[P]);r.P();
r.wR();if(b){var _=b.length,V=b[_-2],X=b[_-1],o=b[_-4]/100;if(o!=1)for(var P=0;P<A.length;P++)A[P][1]=Math.round((A[P][1]==0?16:A[P][1])/o);
if(V)A.reverse();if(X){var c=A.slice(1,A.length-1);c.reverse();A=A.concat(c)}}q=w.TL(A,D,N,b)}}return q};
aP.EI=function(r,j){var D=j[0]._4&&j[0]._4.startsWith("_a_"),N,b=new dl(r+".psd"),Y=new bf(0,0,1,1);
if(D){N=b.Xp();N.add.lsct=bH.nV;N.Lp(r);N.yp="pass";N.Qk=24;N.yE(!0);b.j.push(b.Hc())}for(var P=0;P<j.length;
P++){var x=j[P];Y=Y.zs(x.Yn);var C=b.Xp();C.yE(P==0);C.Lp(j.length==1?"Background":"Layer "+P);if(P==0&&x.TB)b.TB=x.TB;
if(P==0&&x.y6)b.y6=x.y6;if(x._4)C.Lp(x._4);if(x.Yq)for(var P=0;P<x.Yq.length;P++){var w=x.Yq[P],q=dl.wP(w[0]);
q.add.vmsk.W=w[1];R.b.ho(w[1],new j9(Y.d,0,0,Y.r,0,0));b.ou.push(q)}C.rect=x.Yn.clone();C.buffer=new Uint8Array(x.data);
R.jS(C);b.j.push(C)}if(D)b.j.push(N);if(j[0].c9){for(var P=0;P<j[0].c9.length;P++){var u=new G.Jz;b.c9.push(u);
u.rect=j[0].Yn.clone();u.channel=j[0].c9[P]}}b.R=[D?b.j.length-1:0];b.d=Y.d;b.r=Y.r;b.buffer=R.O(Y.Z()*4);
b.P();return b};aP.VA={};aP.VA.TL=function(r,j,D,N){if(N==null)N=[100,!1,0,0,0];var b={sRGB:1,loop:N[3]};
if(r[0][2]!=null){var Y=Math.round(r[0][2]*(1e4/254));b.pHYs=[Y,Y,1]}var x=N[0],C=x==100?0:Math.max(2,Math.floor(x*5));
if(C==5)C=4;var w=[],q=[];for(var P=0;P<r.length;P++){w.push(r[P][0]);q.push(r[P][1])}var u=UPNG.encode(w,j,D,C,q,b,N[1]);
return u};aP.VA.adu=function(r,j,D){return UPNG.encodeLL([r],j,D,3,1,8)};aP.VA.G$=function(r){var j=Date.now(),D=UPNG.decode(r),N=UPNG.toRGBA8(D),b=D.width,Y=D.height,x=0;
if(D.tabs.pHYs)x=Math.round(D.tabs.pHYs[0]*254/1e4);if(N.length==1)return[{Yn:new bf(0,0,b,Y),data:N[0],TB:x}];
var C=[];for(var P=0;P<N.length;P++){C.push({_4:"_a_frm"+P+","+D.frames[P].delay,Yn:new bf(0,0,b,Y),data:N[P],TB:x})}return C};
aP.kk={};aP.kk.TL=function(r,j,D,N){var b=new Uint8Array(r[0][0]),Y=j*D,x=Y*3,C="P6\n"+j+" "+D+"\n255\n",w=C.length,q=R.O(w+x,!0);
for(var P=0;P<w;P++)q[P]=C.charCodeAt(P);for(var P=0;P<Y;P++){var u=P*4,h=P*3+w;q[h]=b[u];q[h+1]=b[u+1];
q[h+2]=b[u+2]}return q.buffer};aP.kk.G$=function(r){r=new Uint8Array(r);var j=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],D=0,N=String.fromCharCode(r[0])+String.fromCharCode(r[1]),b=[],Y=0,x=N=="P1"||N=="P4"?2:3;
for(D=2;D<r.length;D++){var C=r[D],w=String.fromCharCode(C);if(C=="#".charCodeAt(0)){while(r[D]!="\n".charCodeAt(0))D++;
continue}var q=j.indexOf(C)!=-1;if(Y==0&&!q){b.push(w);Y=1;continue}if(Y==1&&!q){b[b.length-1]+=w;continue}if(Y==1&&q){Y=0;
if(b.length==x)break;continue}}var u=parseInt(b[0]),h=parseInt(b[1]),z=u*h*4,O=N=="P1"||N=="P4"?1:255/parseInt(b[2]),g=R.O(z);
if(N=="P1"||N=="P2"||N=="P3"){var t="",$=0,Y=0,i="#".charCodeAt(0);for(var P=D;P<r.length;P++){var C=r[P],w=String.fromCharCode(C),q=j.indexOf(C)!=-1;
if(C==i){while(r[P]!="\n".charCodeAt(0))P++}else if(Y==0&&!q){t=w;Y=1}else if(Y==1){if(q){Y=0;var A=parseInt(t);
t="";if(N=="P1"){g[$]=g[$+1]=g[$+2]=(1-A)*255;g[$+3]=255;$+=4}if(N=="P2"){g[$]=g[$+1]=g[$+2]=Math.round(A*O);
g[$+3]=255;$+=4}if(N=="P3"){g[$]=Math.round(A*O);$++;if(($&3)==3){g[$]=255;$++}}}else t+=w}}}var H=u*h;
if(N=="P4")for(var F=0;F<h;F++){var T=F*8*Math.ceil(u/8);for(var _=0;_<u;_++){var P=T+_,V=r[D+1+(P>>3)];
V=V>>7-(P&7)&1;var X=F*u+_<<2;g[X]=g[X+1]=g[X+2]=(1-V)*255;g[X+3]=255}}if(N=="P5")for(var P=0;P<H;P++){var X=4*P;
g[X]=g[X+1]=g[X+2]=Math.round(r[D+1+P]*O);g[X+3]=255}if(N=="P6")for(var P=0;P<H;P++){var X=4*P,o=D+1+3*P;
g[X]=Math.round(r[o]*O);g[X+1]=Math.round(r[o+1]*O);g[X+2]=Math.round(r[o+2]*O);g[X+3]=255}return[{Yn:new bf(0,0,u,h),data:g.buffer}]};
aP.VT={};aP.VT.TL=function(r,j,D,N){if(N==null)N=[!0,!0];var b=new Uint8Array(r[0][0]),Y=j&3,x=D&3;if(Y!=0||x!=0){var C=j+(Y==0?0:4-Y),w=D+(x==0?0:4-x),q=new Uint8Array(C*w*4);
R.mh(q,4278190080);R.UB(b,new bf(0,0,j,D),q,new bf(0,0,C,w));b=q;j=C;D=w}var u=UTEX.DDS.encode(b.buffer,j,D,N);
if(!1){var h=UTEX.DDS.decode(u)[0],q=new Uint8Array(h.Du),z=0;for(var P=0;P<b.length;P++){var O=b[P]-q[P];
z+=O*O}console.log(z)}return u};aP.VT.G$=function(r){var j=UTEX.DDS.decode(r)[0];return[{Yn:new bf(0,0,j.width,j.height),data:j.image}]};
aP.mQ={};aP.mQ.G$=function(r){var j=UTEX.VTF.decode(r).pop();return[{Yn:new bf(0,0,j.width,j.height),data:j.image}]};
aP.bd={};aP.bd.JK=null;aP.bd.arb=function(r,j){var D=aP.bd.JK,N=r.byteLength,b=j.width,Y=j.height,x=b*Y,C=5e6+2*N+x*(j.progressive?Math.max(2,j.numComponents)*4+1:8),w=D.instance.exports;
aP.R0(w,C);var q=new Uint8Array(w.memory.buffer),u=w.malloc(N);q.set(new Uint8Array(r),u);var h=w.malloc(4),z=w.malloc(4),eK=w.malloc(4),O=w.stbi_load_from_memory(u,N,h,z,eK,4);
w.free(u);w.free(h,z,eK);w.free(O);var g=q.slice(O,O+x*4);return g};(function(){var r=aP.zN.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(r).then(function(j){aP.bd.JK=j})}());
aP.bd.TL=function(r,j,D,N){if(N==null)N=[70];var b=r[0],Y=new Uint8Array(b[0]);if(R.xD(Y)){var x=new Uint8Array(Y.length),C=new bf(0,0,j,D);
R.mh(x,4294967295);R.U.tI("norm",Y,C,x,C,C,1);Y=x}var w=new Uint8Array(aP.oS(Y.buffer,j,D,"jpeg",N[0]/100));
if(b[2]!=null){var q=aP.bd.NN(w)[224][0]+2;q+=9;w[q]=1;l.FK(w,q+1,b[2]);l.FK(w,q+3,b[2])}if(b[3]!=null&&N[1]==!0&&Object.keys(b[3]).length!=0){var u=0,h=0,z=0,O=ho.nl(b[3]),g=new Uint8Array(UTIF.encode([O])),t="http://ns.adobe.com/xap/1.0/",H=0,_=0,E=20;
u=4+6+g.length;var $=ho.a9a(b[3]),i=l.IH($);h=4+t.length+1+i.length;var A=ho.a2I(b[3]);for(var P=0;P<A.length;
P++)H+=5+A[P][1].length;var F=H+(H&1),T=R.O(14+4+2+4+F);l.k3(T,_,"Photoshop 3.0");_+=14;l.k3(T,_,"8BIM");
_+=4;T[_++]=4;T[_++]=4;_+=2;l.$$(T,_,H);_+=4;for(var P=0;P<A.length;P++){var V=A[P],X=V[1];T[_++]=28;
T[_++]=2;T[_++]=V[0];l.FK(T,_,X.length);_+=2;l.k3(T,_,X);_+=X.length}z=4+T.length;var o=u+h+z,c=new Uint8Array(w.length+o);
for(var P=0;P<20;P++)c[P]=w[P];for(var P=20;P<w.length;P++)c[P+o]=w[P];c[E]=255;c[E+1]=225;l.FK(c,E+2,u-2);
l.k3(c,E+4,"Exif");for(var P=0;P<g.length;P++)c[E+10+P]=g[P];E+=u;c[E]=255;c[E+1]=225;l.FK(c,E+2,h-2);
l.k3(c,E+4,t);for(var P=0;P<i.length;P++)c[E+4+t.length+1+P]=i[P];E+=h;c[E]=255;c[E+1]=237;l.FK(c,E+2,z-2);
for(var P=0;P<T.length;P++)c[E+4+P]=T[P];E+=z;w=c}return w.buffer};aP.bd.NN=function(r){var j=0,D=[],N=r.length;
while(j<N){while(r[j]!=255&&j<N)j++;while(r[j]==255)j++;var b=r[j];j++;if(D[b]==null)D[b]=[];D[b].push(j-2);
if(b==216)continue;if(b==217)break;if(224<=b&&b<=239||b==218||b==219||b==192||b==193||b==194||b==196||b==221||b==254){var Y=l.h$(r,j);
j+=Y;if(b==218)while(j<N&&(r[j]!=255||(r[j+1]==0||208<=r[j+1]&&r[j+1]<=215)))j++;continue}console.log("unknown marker ",b.toString(16),j);
break}if(D[217]==null){console.log("EOI marker missing");var x=r.length-2;r[x]=255;r[x+1]=217;D[217]=[x]}return D};
aP.bd.aoD=function(r){r=new Uint8Array(r);if(r[0]!=255)return r.buffer;var j=aP.bd.NN(r),D=aP.bd.yz(r,j);
if(D.numComponents!=4)return r.buffer;var N=D.width,b=D.height,Y=aP.bd.xO(r,j,!0);return aP.bd.TL([[Y[0].data]],N,b,[85])};
aP.bd.yz=function(r,j){var D=(j[192]?j[192]:j[193]?j[193]:j[194])[0]+4,N={};N.progressive=j[194]!=null;
N.precision=r[D];D++;N.height=l.h$(r,D);D+=2;N.width=l.h$(r,D);D+=2;N.numComponents=r[D];D++;if(j[224]){var b=N.jfif={};
D=j[224][0]+2+2+5+2;b.densityUnits=r[D];D++;b.xDensity=l.h$(r,D);D+=2;b.yDensity=l.h$(r,D);D+=2}if(j[238]){var b=N.adobe={};
D=j[238][0]+2+2+6;b.version=r[D];D++;b.flags0=l.h$(r,D);D+=2;b.flags1=l.h$(r,D);D+=2;b.transform=r[D];
D++}return N};aP.bd.adj=function(r,j,D){var N=j,b=l.h$(r,N);N+=2;var Y=l.Km(r,N,4);if(Y=="Exif"){N+=6;
var x=r.slice(N,N+b-8),C;try{C=UTIF.decode(x.buffer,{parseMN:!1,debug:!1})}catch(cM){}if(C)D.exif=C}else if(Y=="http"){var w=0;
while(r[N+w]!=0)w++;var q=l.Km(r,N,w);N+=w+1;if(q=="http://ns.adobe.com/xmp/extension/"){var u=l.Km(r,N,32);
N+=32;N+=8;var h=j+b-N;while(r[N+h-1]==0)h--;if(D.xmp_extn==null)D.xmp_extn="";try{D.xmp_extn+=l.Hi(r,N,h)}catch(cM){}}else if(q=="http://ns.adobe.com/xap/1.0/"){var z=l.Hi(r.slice(N,N+b-w-3));
if(z[0]=="?")z="<"+z;D.xmp=z}}else console.log(Y)};aP.bd.xO=function(r,j,D){var N=aP.bd.yz(r,j),b=N.width,Y=N.height,x=b*Y,C,w=-1,t=72,$;
if(N.adobe)w=N.adobe.transform;if(D||b*Y>15e7||w==0||w==2){var q=new PDFJS.JpegImage;q.parse(r);var u=q.getData({width:b,height:Y,forceRGB:!0,isSourcePDF:D}),C=R.O(x*4);
for(var P=0;P<x;P++){var h=P<<2,z=h-P;C[h]=u[z];C[h+1]=u[z+1];C[h+2]=u[z+2];C[h+3]=255}}else{C=aP.bd.arb(r.buffer,N)}var O=j[225];
if(O)for(var P=0;P<O.length;P++)aP.bd.adj(r,O[P]+2,N);var g=j[217][0]+2;if(g!=r.length)N.suffix=r.slice(g);
var i=[b,Y,1,0,0,0,1,0];if(N.jfif&&N.jfif.densityUnits!=0){t=Math.round([72,1,2.54][N.jfif.densityUnits]*N.jfif.xDensity)}else if(N.exif&&N.exif[0].t282!=null){var A=N.exif[0].t282[0];
t=A[0]/A[1]}if(N.exif){var H=N.exif;$=ho.iS(H[0]);var F=H[0].t274;if(F)F=F[0];if(F!=null&&F>1&&F<20)i=R.raw.t7(F,b,Y)}if(N.xmp){$=ho.aiB(N.xmp,$)}var T=j[237],_=[],V=[];
if(T){var X=new Uint8Array(65536),o=0,c=0;for(var P=0;P<T.length;P++){c=T[P]+2;var E=c+l.h$(r,c);c+=2;
var f=c;while(r[c]!=0)c++;c++;var d=l.Km(r,f,c-f-1),s=E-c;while(o+s>X.length){var B=new Uint8Array(X.length*2);
B.set(X);X=B}var a=new Uint8Array(r.buffer,c,s);X.set(a,o);o+=s}c=0;r=X;while(c<o){var U=l.Km(r,c,4);
c+=4;var M=l.h$(r,c);c+=2;var W=r[c++],n=l.Km(r,c,W);c+=W;if((W&1)==0)c++;var e=l.q(r,c);c+=4;var g=c+e+(e&1);
if(M==1028){while(c+4<g){var Q=r[c++],J=r[c++],m=r[c++],p=l.h$(r,c);c+=2;if(Q==28&&J==2)_.push([m,l.Km(r,c,p)]);
c+=p}}else if((M&2e3)==2e3){var L=fC.Pm(r,c,e);V.push([n,L])}else{}c=g}if(_.length!=0)$=ho.aj5(_,$)}var S=[{Yn:new bf(0,0,b,Y),data:C.buffer,TB:t,y6:$,Yq:V.length==0?null:V}],$=N.xmp_extn;
if($){var eJ=new DOMParser,hy=eJ.parseFromString($,"image/svg+xml"),hy=hy.children[0].children[0].children[0],v=[hy.getAttribute("GImage:Data"),hy.getAttribute("GDepth:Data")];
for(var P=0;P<v.length;P++)if(v[P]){var ff=atob(v[P]),K=new Uint8Array(ff.length);l.k3(K,0,ff);K=K.buffer;
var jo=aP.rF(K),g5=aP.QE(jo).G$(K);S.push(g5[0])}}if(N.suffix){var fQ=N.suffix,iT=l.Km(fQ,4,4),ac=l.NY(fQ,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(aP.wq(fQ,[0,0,1,10,14,0,0,0])){var c=0;while(c!=fQ.length){var aR=l.Vz(fQ,c+2);c+=4;var hV={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[aR];
if(hV!=null){var cu=l.gW(fQ,c);c+=4;var iy=l.Km(fQ,c,cu);c+=cu;var gr=l.Km(fQ,c,hV);c+=hV;if(aR==2608){var cp=l.q(fQ,c+24);
c+=cp+24;var gP=l.q(fQ,c);c+=gP;alert("Photopea found a "+fN.CK(cp)+" MP4 video inside your image.",4e3)}}else if(aR==18502){while(l.Km(fQ,c,4)!="SEFT")c+=4;
c+=4}else{break;console.log(l.cq(fQ,c,128));console.log(fQ.slice(c));throw aR.toString(16)}}}else if(iT=="ftyp"){alert("Photopea found a "+fN.CK(fQ.length)+" MP4 video inside your image.",4e3)}else if(l.Km(fQ,0,4)=="fixe"){alert("Unknown data - "+fQ.length+" B - at the end of the file",3e3);
var c=4,e=l.gW(fQ,c);c+=4;var g7=l.gW(fQ,c);c+=4;var j8=l.gW(fQ,c);c+=4;console.log(e,g7,j8,fQ.slice(c,c+84));
c+=84;var dg=l.Km(fQ,c,32);c+=32;c+=8;var dg=l.Km(fQ,c,32);c+=32}else if(l.Km(fQ,8,13)=="FocusShot_Map"){var gR=l.q(fQ,0),p=l.gW(fQ,4),K=R.O(x*4),em=R.O(x*4);
for(var fr=0;fr<Y;fr++)for(var aU=0;aU<b;aU++){var P=fr*b+aU,h=P<<2,bb=8+13+((fr>>>1)*b+aU>>>1),fZ=fQ[bb],h1=fQ[bb+(x>>>2)];
K[h]=K[h+1]=K[h+2]=fZ;K[h+3]=255;em[h]=em[h+1]=em[h+2]=h1;em[h+3]=255}S.push({Yn:new bf(0,0,b,Y),data:K.buffer},{Yn:new bf(0,0,b,Y),data:em.buffer})}else if(iT=="edof"){var F=fQ[8+7];
console.log(F.toString(16));var c=8+16,ar=l.Vz(fQ,c),gt=l.Vz(fQ,c+2),x=ar*gt;c+=4;c+=32+16;var gX=R.O(x*4);
for(var P=0;P<x;P++){var h=P<<2;gX[h]=gX[h+1]=gX[h+2]=fQ[c+P];gX[h+3]=255}if(F==16){}else if(F==19){var dK=gX.slice(0);
R.t.Vd(gX,dK,ar,gt);var ay=ar;ar=gt;gt=ay;R.t.ad3(dK,gX,ar,gt)}else throw"Unknown orientation of a depth map";
S.push({Yn:new bf(0,0,ar,gt),data:gX.buffer})}else if(ac!=-1&&!(fQ[0]==255&&fQ[1]==129)){try{if(ac!=0)fQ=fQ.slice(ac);
var g5=aP.QE("jpg").G$(fQ.buffer);for(var P=0;P<g5.length;P++)S.push(g5[P])}catch(cM){}}}if(S.length>1){var hh=S[0].Yn;
S[0]._4="Main";for(var P=1;P<S.length;P++){S[P]._4=aP.bd.a0y(new Uint8Array(S[P].data))?"Depth Map":null;
var b7=S[P].Yn;if(!b7.gy(hh)){var cV=hh.d/b7.d,bj=hh.r/b7.r,bW=new j9;bW.scale(cV,bj);var bu=I.T.zH([new Uint8Array(S[P].data),b7],1,R.t.eb(bW));
S[P].Yn=bu.rect;S[P].data=bu.buffer}}}if(aP.bd.s$==1)if(i[2]!=1||i[6]!=1)for(var P=0;P<S.length;P++){var da=S[P],dj=new Uint8Array(da.data),b=da.Yn.d,Y=da.Yn.r,ar=i[0],gt=i[1],C=R.O(ar*gt*4);
R.t.X$(dj,b,Y,C,i);da.Yn=new bf(0,0,ar,gt);da.data=C.buffer}return S};aP.bd.a0y=function(r){var j=!0;
for(var P=0;P<r.length;P+=4){j=j&&r[P]==r[P+1]&&r[P+1]==r[P+2]}return j};aP.bd.s$=0;aP.bd.G$=function(r,j,D){r=new Uint8Array(r);
if(r[0]==255){var N=aP.bd.NN(r);if(N[195]==null){aP.bd.s$++;var b=aP.bd.xO(r,N,!1);aP.bd.s$--;return b}var Y=l.h$(r,N[195][0]+5),x=l.h$(r,N[195][0]+7),C=UTIF.LosslessJpegDecode(r),w=x*Y,q=R.O(w*4);
for(var P=0;P<w;P++){var u=P<<2,h=u-P;q[u]=C[h];q[u+1]=C[h+1];q[u+2]=C[h+2];q[u+3]=255}return[{Yn:new bf(0,0,x,Y),data:q.buffer}]}else if(r[0]==0&&r[4]==48&&r[6]==1){var z=r,O=new PDFJS.Jbig2Image,g=[];
if(j)g.push({data:j,start:0,end:j.length});g.push({data:z,start:0,end:z.length});var C=O.parseChunks(g);
if(!D)for(var P=0;P<C.length;P++)C[P]=~C[P];var x=l.q(r,11),Y=l.q(r,15),t=Math.ceil(x/8),$=R.O(x*Y*4);
for(var i=0;i<Y;i++){var A=i*t;for(var H=0;H<x;H++){var u=(i*x+H)*4,F=C[A+(H>>>3)]>>>7-(H&7)&1,T=F*255;
$[u]=T;$[u+1]=T;$[u+2]=T;$[u+3]=255}}return[{Yn:new bf(0,0,x,Y),data:$.buffer}]}else{var O=new PDFJS.JpxImage;
O.parse(r);var x=O.width,Y=O.height,_=O.tiles,V=O.componentsCount,X=new Uint8Array(x*Y*4),o=new bf(0,0,x,Y);
for(var O=0;O<_.length;O++){var c=_[O],E=c.width,f=c.height,d=E*f,s=c.items,B=new bf(c.left,c.top,E,f),a=new Uint8Array(d*4);
if(V==1)for(var P=0;P<d;P++){var U=s[P],u=P*4;a[u]=U;a[u+1]=U;a[u+2]=U;a[u+3]=255}else if(V==3)for(var P=0;
P<d;P++){var h=P*3,u=P*4;a[u]=s[h];a[u+1]=s[h+1];a[u+2]=s[h+2];a[u+3]=255}else console.log("Unknown number of components: "+V);
R.UB(a,B,X,o)}return[{Yn:o,data:X.buffer}]}};aP.uj={};aP.uj.TL=function(r,j,D,N){if(N==null)N=[70,0,0,0];
var b=N[0]/100,w=0;if(r.length==1)return aP.oS(r[0][0],j,D,"webp",b);var Y=l.Ty,x=l._z,C=new ey;Y(C,w,"RIFF    WEBPVP8X");
w+=16;x(C,w,10);w+=4;x(C,w,18);w+=4;x(C,w,j-1);w+=3;x(C,w,D-1);w+=3;Y(C,w,"ANIM");w+=4;x(C,w,6);w+=4;
C.yg(w,4);C.data[w+3]=255;l.jx(C,w+4,N[2]);w+=6;var q=[];for(var P=0;P<r.length;P++){q.push(r[P][0])}var u=UPNG.encode.compress(q,j,D,b==1?0:Math.max(2,Math.floor(b*500)),[!1,!0,!0,0,!0]).frames;
for(var P=0;P<r.length;P++){Y(C,w,"ANMF");w+=4;var h=w;w+=4;var z=u[P],O=z.rect,g=[O.x>>>1,O.y>>>1,O.width-1,O.height-1,r[P][1]];
for(var t=0;t<5;t++)x(C,w+3*t,g[t]);w+=15;C.yg(w,1);C.data[w]=1-z.blend<<1|z.dispose;w++;var $=new Uint8Array(aP.oS(z.img.buffer,O.width,O.height,"webp",1)),i=ej.$g($.buffer).sub,A=l.Km($,12,4);
if(A!="VP8L"&&A!="VP8 "&&A!="VP8X")throw"e";var H=A=="VP8 "?0:A=="VP8L"?12:30,F=$.length-H;C.yg(w,F);
for(var t=0;t<F;t++)C.data[w+t]=$[H+t];w+=F;var T=w-h-4;x(C,h,T);if((T&1)==1){C.yg(w,1);w++}}x(C,4,w-8);
return C.data.slice(0,w).buffer};(function(){var r=aP.zN.get("wasm/webp").buffer;WebAssembly.instantiate(r).then(function(j){var D=j.instance.exports;
aP.uj.exp=D})}());aP.uj.G$=function(r){var j=new Uint8Array(r),D=aP.uj.a5Q,N=null,b=ej.$g(r).sub,Y={};
for(var P=0;P<b.length;P++)Y[b[P].FZ]=b[P];var x=Y.ANIM,C=Y.VP8L,w=Y["VP8 "],q=Y.VP8X;if(x==null){var u,h;
if(w){u=l.Vz(j,w.u+6);h=l.Vz(j,w.u+8)}else if(C){var z=l.gW(j,C.u+1);u=(z&(1<<14)-1)+1;h=(z>>>14&(1<<14)-1)+1}else throw"e";
var O=[D(N,r,{u:0,size:j.length},u,h)];return O}var g=q.u,u=1+(l.gW(j,g+4)&16777215),h=1+(l.gW(j,g+7)&16777215),t=[],$=new bf(0,0,u,h),i=R.O(u*h*4);
for(var P=0;P<b.length;P++){var A=b[P];if(A.FZ!="ANMF")continue;var H=[];for(var F=0;F<5;F++)H.push(l.gW(j,A.u+F*3)&16777215);
var T=new bf(H[0]*2,H[1]*2,H[2]+1,H[3]+1),_=H[4],V=D(N,r,{u:A.u+16,size:A.size-16},u,h),X=new Uint8Array(V.data),o=j[A.u+15];
if(o>>>1==0)R.U.tI("norm",X,T,i,$,T,1);else R.UB(X,T,i,$);t.push({_4:"_a_"+t.length+","+_,Yn:$.clone(),data:i.buffer.slice(0)});
if((o&1)==1){R.mh(X,0);R.UB(X,T,i,$)}}return t};aP.uj.a5Q=function(r,j,D,N,b){var Y=aP.uj.exp,x=Y.memory,C=5e6+2*D.size+N*b*10;
aP.R0(Y,C);var w=new Uint8Array(x.buffer),q=Y.malloc(D.size);w.set(new Uint8Array(j,D.u,D.size),q);var u=Y.malloc(8),h=Y.WebPDecodeARGB(q,D.size,u,u+4),z=l.gW(w,u),O=l.gW(w,u+4),g=z*O*4,t=R.O(g);
for(var P=0;P<g;P+=4){t[P]=w[h+P+1];t[P+1]=w[h+P+2];t[P+2]=w[h+P+3];t[P+3]=w[h+P]}Y.WebPFree(h);Y.free(u);
Y.free(q);return{Yn:new bf(0,0,z,O),data:t.buffer}};aP.anP=function(){function r(C,w,q,u){var h=new Uint8Array(C[0][0]),z=new Uint32Array(h.buffer),O=[],g={},$=24,i=0,_=0;
for(var P=0;P<z.length;P++){var t=z[P]&16777215;if(g[t]==null){g[t]=O.length;O.push(t);if(O.length>256){O=null;
break}}}if(O){$=1;while(1<<$<O.length)$*=2;if($==2)$=4}var A={oW:w,qg:q,ir:1,lX:$,a5:0,a9W:i},H=4*Math.floor((A.lX*A.oW+31)/32);
A.size=H*A.qg+2;var F=new ey,T=O?(1<<$)*4:0;l.Ty(F,_,"BM");_+=2;l._z(F,_,H*q+16+40+T);_+=4;l._z(F,_,0);
_+=4;l._z(F,_,54+T);_+=4;F.yg(_,40);l._z(F,_,40);_+=4;x(F.data,_,A,H);_+=36;if(O){F.yg(_,T);var V=F.data;
for(var P=0;P<O.length;P++){var X=_+P*4,o=O[P]>>>16,c=O[P]>>>8&255,E=O[P]&255;V[X]=o;V[X+1]=c;V[X+2]=E}_+=T}F.yg(_,H*q);
if($==24)for(var f=0;f<q;f++){var d=_+(q-1-f)*H;for(var s=0;s<w;s++){var B=(f*w+s)*4;F.data[d+s*3+2]=h[B];
F.data[d+s*3+1]=h[B+1];F.data[d+s*3+0]=h[B+2]}}else if($==8)for(var f=0;f<q;f++){var d=_+(q-1-f)*H;for(var s=0;
s<w;s++){var B=f*w+s,a=g[z[B]&16777215];F.data[d+s]|=a}}else if($==4)for(var f=0;f<q;f++){var d=_+(q-1-f)*H;
for(var s=0;s<w;s++){var B=f*w+s,a=g[z[B]&16777215];F.data[d+(s>>>1)]|=a<<4-(s&1)*4}}else if($==1)for(var f=0;
f<q;f++){var d=_+(q-1-f)*H;for(var s=0;s<w;s++){var B=f*w+s,a=g[z[B]&16777215];F.data[d+(s>>>3)]|=a<<7-(s&7)}}_+=H*q+2;
return F.data.slice(0,_).buffer}function j(C){C=new Uint8Array(C);if(l.gW(C,0)==40)return[D(C.buffer,0)];
var w=0,q=l.Km(C,w,2);w+=2;if(q!="BM"){alert("Unsupported BMP format: "+q);return}var u=l.gW(C,w);w+=4;
w+=4;var h=l.gW(C,w);w+=4;return[D(C.buffer,w,h)]}function D(C,w,q){C=new Uint8Array(C);var u=l.gW(C,w),h=Y(C,w+4);
if(h.ir!=1)alert("unsupported number of color planes: "+h.ir);if(h.a5!=0&&h.a5!=1&&h.a5!=2&&h.a5!=3){alert("Unsupported BMP compression: "+h.a5);
return}w+=u;var z=w,O=C;if(q==null)q=w;if(h.a5==1||h.a5==2){var g=b(C,q,h);h.lX=8;C=g;q=0}var t=4*Math.floor((h.lX*h.oW+31)/32),$=h.oW,i=Math.abs(h.qg),A=new Uint8Array($*i*4);
A.fill(255);if(h.lX==32)for(var H=0;H<i;H++){var F=q+(i-1-H)*t;for(var T=0;T<$;T++){var _=(H*$+T)*4;
A[_]=C[F+T*4+2];A[_+1]=C[F+T*4+1];A[_+2]=C[F+T*4+0];A[_+3]=C[F+T*4+3]}}else if(h.lX==24)for(var H=0;
H<i;H++){var F=q+(i-1-H)*t;for(var T=0;T<$;T++){var _=(H*$+T)*4;A[_]=C[F+T*3+2];A[_+1]=C[F+T*3+1];A[_+2]=C[F+T*3+0]}}else if(h.lX==16)for(var H=0;
H<i;H++){var F=q+(i-1-H)*t;for(var T=0;T<$;T++){var _=(H*$+T)*4,V=C[F+T*2+1]<<8|C[F+T*2];A[_]=(V>>>11)*(255/31);
A[_+1]=(V>>>5&63)*(255/63);A[_+2]=(V&31)*(255/31)}}else if(h.lX==8)for(var H=0;H<i;H++){var F=q+(i-1-H)*t;
for(var T=0;T<$;T++){var _=(H*$+T)*4,X=C[F+T];A[_]=O[z+4*X+2];A[_+1]=O[z+4*X+1];A[_+2]=O[z+4*X+0]}}else if(h.lX==4)for(var H=0;
H<i;H++){var F=q+(i-1-H)*t;for(var T=0;T<$;T++){var _=(H*$+T)*4,X=C[F+(T>>1)];X=X>>4-4*(T&1);X=X&15;
A[_]=O[z+4*X+2];A[_+1]=O[z+4*X+1];A[_+2]=O[z+4*X+0]}}else if(h.lX==1)for(var H=0;H<i;H++){var F=q+(i-1-H)*t;
for(var T=0;T<$;T++){var _=(H*$+T)*4,o=C[F+(T>>3)];o=o>>7-(T&7);o=o&1;A[_]=O[z+4*o+2];A[_+1]=O[z+4*o+1];
A[_+2]=O[z+4*o+0]}}else throw"Unknown bit depth "+h.lX;if(h.qg<0){var c=new Uint32Array(A.buffer),E=i>>>1;
for(var H=0;H<E;H++){var f=H*$,d=(i-H-1)*$;for(var T=0;T<$;T++){var s=c[f+T];c[f+T]=c[d+T];c[d+T]=s}}}return{Yn:new bf(0,0,$,i),data:A.buffer}}function N(C,P){return C>>>4-((P&1)<<2)&15}function b(C,w,q){var u=q.oW,h=Math.abs(q.qg),z=new Uint8Array(u*h),O=0,g=0,P=0;
while(g<h){var t=C[w++],$=C[w++],i=g*u+O;if(t>0){if(q.lX==4)for(P=0;P<t;P++){z[i+P]=N($,P)}else for(P=0;
P<t;P++){z[i+P]=$}O+=t}else if(t==0&&$==0){g++;O=0}else if(t==0&&$==1){break}else if(t==0&&$==2){O+=C[w++];
g+=C[w++]}else{var A=$;if(q.lX==4){for(P=0;P<$;P++){z[i+P]=N(C[w+(P>>>1)],P)}A=Math.ceil($/2)}else{for(P=0;
P<$;P++){z[i+P]=C[w+P]}}if((A&1)!=0)A++;w+=A;O+=$}}return z}function Y(C,w){var q=l.tG,u=l.gW,h=l.Vz,z={};
z.oW=q(C,w);w+=4;z.qg=q(C,w);w+=4;z.ir=h(C,w);w+=2;z.lX=h(C,w);w+=2;z.a5=u(C,w);w+=4;z.size=u(C,w);w+=4;
var O=q(C,w);w+=4;var g=q(C,w);w+=4;z.a9W=u(C,w);w+=4;w+=4;return z}function x(C,w,q,u){l.Wh(C,w,q.oW);
w+=4;l.Wh(C,w,q.qg);w+=4;l.N2(C,w,q.ir);w+=2;l.N2(C,w,q.lX);w+=2;l.Wh(C,w,q.a5);w+=4;l.Wh(C,w,q.size);
w+=4;l.Wh(C,w,2834);w+=4;l.Wh(C,w,2834);w+=4;l.Wh(C,w,q.a9W);w+=4;w+=4}return{G$:j,TL:r,aab:D}}();aP.iq={};
aP.iq.TL=function(r,j,D,N){if(N==null)N=[100,0,0,0,0];var b=[],Y=[],x=j*D*4,t=null;for(var C=0;C<r.length;
C++){var w=new Uint8Array(r[C][0].slice(0));for(var P=0;P<x;P+=4){var q=w[P+3]=w[P+3]>127?255:0;if(q==0)w[P]=w[P+1]=w[P+2]=0}b.push(w.buffer);
Y.push(r[C][1])}var u=Math.round(2+254*N[0]/100),h=UPNG.encode.compress(b,j,D,u,[!0,!1,!1,8,!1]),z=h.plte,O=new Uint8Array(4),g=new Uint32Array(O.buffer);
for(var P=0;P<z.length;P++){g[0]=z[P];var $=O[0];O[0]=O[2];O[2]=$;z[P]=g[0];if(g[0]==0)t=P}while(z.length<256)z.push(0);
var i=new Uint8Array(2e3+j*D*r.length),A=N[2],H={palette:z};if(A!=1)H.loop=A==0?0:A-1;var F=new GifWriter(i,j,D,H);
for(var P=0;P<r.length;P++){var T=h.frames[P],_=T.rect,V=T.blend,X=T.dispose;F.addFrame(_.x,_.y,_.width,_.height,T.img,{transparent:t,disposal:X+1,delay:Math.round(Y[P]/10)})}return i.slice(0,F.end()).buffer};
aP.iq.G$=function(r){var j=Date.now(),D=[],N=UGIF.decode(r),b=UGIF.toRGBA8(N),Y=new bf(0,0,N.width,N.height);
for(var P=0;P<b.length;P++){var x=N.frames[P];D.push({Yn:Y.clone(),_4:"_a_frm"+P+","+x.delay*10,data:b[P]})}return D};
aP.Wx={};aP.Wx.TL=function(r,j,D,N){console.log(r);if(j>256||D>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var b=Math.min(j,256),Y=Math.min(D,256),x=new bf(0,0,b,Y),C=R.O(x.Z()*4),w=new bf(0,0,j,D),q=new Uint8Array(r[0][0]);
R.UB(q,w,C,x);r[0][0]=C.buffer;j=b;D=Y}var u=new ey,h=0,z=N&&N[0]==!0;l.jx(u,h,0);h+=2;l.jx(u,h,z?2:1);
h+=2;l.jx(u,h,1);h+=2;var O=new Uint8Array(aP.QE("png").TL(r,j,D));u.yg(h,16);u.data[h]=j==256?0:j;h++;
u.data[h]=D==256?0:D;h++;h+=2;l.jx(u,h,z?Math.round(j/2):1);h+=2;l.jx(u,h,z?Math.round(D/2):32);h+=2;
l._z(u,h,O.length);h+=4;l._z(u,h,6+16);h+=4;u.yg(h,O.length);for(var P=0;P<O.length;P++)u.data[h+P]=O[P];
h+=O.length;var g=new Uint8Array(h);for(var P=0;P<h;P++)g[P]=u.data[P];return g.buffer};aP.Wx.G$=function(r){r=new Uint8Array(r);
var j=4,D=l.Vz(r,j);j+=2;var N=[];for(var P=0;P<D;P++){var b=aP.Wx.a7Y(r,j+P*16),Y=r.buffer.slice(b.offset,b.offset+b.size),x=aP.rF(Y);
x=x?x:"bmp";if(x=="png"){var C=aP.QE(x),w=C.G$(Y);b.bV=w[0]}else{var q=aP.QE("BMP").aab(Y,0),Y=R.O(b.oW*b.qg*4);
R.UB(new Uint8Array(q.data),new bf(0,0,q.Yn.d,q.Yn.r),Y,new bf(0,b.qg,b.oW,b.qg));q.data=Y.buffer;q.Yn.r=b.qg;
b.bV=q}N.push(b)}N.sort(function(u,h){if(u.oW!=h.oW)return u.oW-h.oW;return u.amn-h.amn});return[N.pop().bV]};
aP.Wx.a7Y=function(r,j){var D={};D.oW=r[j];j++;if(D.oW==0)D.oW=256;D.qg=r[j];j++;if(D.qg==0)D.qg=256;
D.amR=r[j];j++;j++;D.al6=l.Vz(r,j);j+=2;D.amn=l.Vz(r,j);j+=2;D.size=l.gW(r,j);j+=4;D.offset=l.gW(r,j);
j+=4;return D};aP.cd={};aP.cd.G$=function(r){var j=Date.now(),N,h=!0;if(R.raw.mW(r.byteLength))return[R.raw.arW(r)];
var D=UTIF.decode(r);if(D[0].t33421)N=D[0];else if(D[0].subIFD&&D[0].t271&&D[0].t271[0]=="Hasselblad"){N=D[0].subIFD[0];
N.t33421=[2,2]}else if(D[0].subIFD&&D[0].subIFD[0].t33421){N=D[0].subIFD[0];if(N.t50706==null){if(N.t258[0]==8)N.t258[0]=12}}else if(D[0].subIFD&&D[0].subIFD[0]&&D[0].subIFD[0].t262&&D[0].subIFD[0].t262[0]==34892)N=D[0].subIFD[0];
else if(D[0].subIFD&&D[0].subIFD[1]&&D[0].subIFD[1].t33421)N=D[0].subIFD[1];else if(D[0].subIFD&&D[0].subIFD[2]&&D[0].subIFD[2].t33421)N=D[0].subIFD[2];
else if(D[3]&&D[3].t50648){var b=D[0].exifIFD,Y=b.makerNote;N=D[3];var x=Y.t224[1],C=Y.t224[2];N.t256=[x];
N.t257=[C];N.t258=[16];N.t259=[7];N.t262=[32803];N.t277=[1];N.t33421=[2,2];var w=N.t50656[0],q=R.raw.PX[w];
if(q==null)throw"e";N.t33422=q}if(N){UTIF.decodeImage(r,N,D);for(var u in D[0])if((u[0]=="t"||u[0]=="e"||u[0]=="d")&&N[u]==null)N[u]=D[0][u];
N._M=D[0].t274?D[0].t274[0]:1;return[N]}var z=1/256;for(var P=0;P<D.length;P++)if(D[P].t258&&D[P].t258[0]==16&&D[P].t277&&D[P].t277[0]==1){}else h=!1;
if(h){var O=0,g=0,t=0;for(var P=0;P<D.length;P++){UTIF.decodeImage(r,D[P],D);var $=D[P].data;for(var i=0;
i<$.length;i+=2){var A=$[i+1]<<8|$[i];if(A>O)O=A;g+=A;t++}}z=1/256*65535/(.5*O+.5*(2*g/t))}var H=[];
for(var P=0;P<D.length;P++){var F=D[P],T=72;UTIF.decodeImage(r,F,D);var _=F.t282,V=F.t296;if(_!=null&&V!=null){T=_[0][0]/_[0][1];
if(V[0]==3)T=Math.round(T/2.54)}if(F.width==null)continue;var X=UTIF.toRGBA8(F,z).buffer,o=ho.iS(F);
H.push({Yn:new bf(0,0,F.width,F.height),data:X,TB:T,y6:o})}return H};aP.cd.TL=function(r,j,D,N){if(N==null)N=[!1];
var b={},Y=r[0];if(Y[3]!=null&&N[0])b=ho.nl(Y[3]);if(Y[2]!=null){b.t282=b.t283=[[Math.round(Y[2]),1]];
b.t296=[2]}return UTIF.encodeImage(Y[0],j,D,b)};aP.Nf={};aP.Nf.Xg=!0;aP.Nf.G$=function(r,j){bJ.$g(r,j)};
aP.Nf.arJ=function(r,j,D,N){if(N==null)N=[!1,!1,!1,!1];if(!N[0])r.Ez();var b=new ey,Y=bJ.FD(r,b,N);return[b.data.buffer,Y]};
aP.Nf.TL=function(r,j,D,N){var b=aP.Nf.arJ(r,j,D,N),Y=b[0],x=b[1];return Y.byteLength==x?Y:Y.slice(0,x)};
aP.HC={};aP.HC.Xg=!0;aP.HC.G$=function(r,j){var D=pako.inflate(new Uint8Array(r)),N=l.h$(D,0),b=l.h$(D,2),Y=4;
j.d=l.q(D,Y);Y+=4;j.r=l.q(D,Y);Y+=4;j.buffer=R.O(j.d*j.r*4);var x=l.h$(D,Y);Y+=2;Y+=4;for(var C=0;C<x;
C++){var w=j.Xp(),g=0,a=1,U=2,M=3,W=0;j.j.push(w);var q=l.q(D,Y);Y+=4;var u=Y,h=l.h$(D,u);u+=2;var z=l.Hi(D,u,h);
u+=h;w.Lp(z);var O=D[u];u++;if(O!=0&&O!=1)throw O;w.rect.x=l.iV(D,u);u+=4;w.rect.y=l.iV(D,u);u+=4;w.rect.d=l.q(D,u);
u+=4;w.rect.r=l.q(D,u);u+=4;if(N>3){g=l.iV(D,u);u+=4}w.opacity=Math.round(255*D[u]/100);u++;var t=D[u];
u++;w.yE(t!=0);w.yp="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[D[u]];
u++;var $=D[u];u++;if($)w.add.lspf=1<<31;if(N>3){var i=l.h$(D,u);u+=2;if(i!=0){var A=JSON.parse(l.Hi(D,u,i));
u+=i;var H=A.text,F=A.textSettings,T=F.font,_=F.size,V=F.padding,X=parseInt(F.color.slice(1),16);w.add.lnsr="rend";
w.add.TySh=cU.WJ(0,0);w.add.TySh.DU=new bf(0,0,100,100);var o=w.add.TySh.F=new j9,c=w.rect.d/2,E=w.rect.r/2;
o.translate(-c,-E);o.rotate(-g*Math.PI/180);o.translate(c,E);o.translate(w.rect.x+V,w.rect.y+V);var f=w.add.TySh.d1;
cU.jp(f,1);cU.TS(f,[0,0,w.rect.d-V*2,w.rect.r]);cU._w(f,0,H);var d=cU.eZ(f,0,1);d.WQ.FontSize=_;d.WQ.FillColor={Type:1,Values:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]};
if(F.bold)T+="-Bold";cU.ht(d,T);d.Av.Justification=["left","right","center"].indexOf(F.align);cU.lc(f,0,H.length,d)}}var s=l.q(D,u);
u+=4;if(s!=w.rect.Z()*4){for(var P=w.rect.d;P>w.rect.d/2;P--){var B=s/(P*4);if(B==Math.round(B)){w.rect.d=P;
w.rect.r=B;break}}}w.buffer=R.O(w.rect.Z()*4);if(N>3){a=0;U=1;M=2;W=3}for(var P=0;P<s;P+=4){w.buffer[P]=D[u+P+a];
w.buffer[P+1]=D[u+P+U];w.buffer[P+2]=D[u+P+M];w.buffer[P+3]=D[u+P+W]}u+=s;var n=l.q(D,u);u+=4;if(n==0&&N>3){Y+=q;
continue}var e=D[u];u++;var Q=l.h$(D,u);u+=2;if(n!=0){w.B=new G.Jz;w.B.rect=w.rect.clone();w.B.channel=R.O(w.rect.Z());
for(var P=0;P<n;P+=4)w.B.channel[P>>>2]=D[u+P+1];u+=n}if(e!=0){var J=JSON.parse(hz.default);w.add.lmfx=J;
for(var P=0;P<hz.order.length;P++)J[hz.l9[P]]={t:"VlLs",v:[]};var m={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var P=0;P<e;P++){var p=l.h$(D,u),L=u+p+4,S=D.slice(u,L),eJ=D[u+2];u+=3;var hy=m[eJ+""],v=JSON.parse(hz._5[hy]);
J[hz.l9[hy]].v.push({t:"Objc",v:v});if(hy!=0){v.Md.v.BlnM=by.B9("norm");v.Opct.v.val=D[u];u++;if(hy==9||hy==2){v.Dstn.v.val=D[u+1];
u+=2}else u+=2;v.blur.v.val=Math.round(D[u]*1.2);u++;if(hy==9||hy==2){v.uglg.v=!1;v.lagl.v.val=180-l.h$(D,u);
u+=2}v.Clr.v=R._.XJ({a:D[u+1],p:D[u+2],M:D[u+3]})}else{v.hglM.v.BlnM=v.sdwM.v.BlnM=by.B9("norm");u+=2;
var ff=D[u++],K=D[u++];v.blur.v.val=Math.round(Math.sqrt(K*ff)*1.3);v.srgR.v.val=Math.round(100*ff/K);
v.uglg.v=!1;v.lagl.v.val=180-l.h$(D,u);u+=2;v.hglO.v.val=D[u++];v.hglC.v=R._.XJ({a:D[u+1],p:D[u+2],M:D[u+3]});
u+=4;v.sdwO.v.val=D[u++];v.sdwC.v=R._.XJ({a:D[u+1],p:D[u+2],M:D[u+3]});u+=4}u=L}}if(u-Y<q){var jo=l.q(D,u),iT=0;
u+=4;u++;var h=l.h$(D,u);u+=2;var H=l.Hi(D,u,h);u+=h;H=H.replace(/\r/g,"\n");var h=l.h$(D,u);u+=2;var T=l.Hi(D,u,h);
u+=h;var _=l.h$(D,u);u+=2;var g5=w.rect.x,fQ=w.rect.d;if(jo&4)iT=1;if(jo&2)iT=2;var ac=Math.round(_*.4);
if(iT==0||iT==2)fQ+=ac;if(iT==1||iT==2){fQ+=ac;g5-=ac}w.add.lnsr="rend";w.add.TySh=cU.WJ(0,0);w.add.TySh.DU=new bf(0,0,100,100);
w.add.TySh.F=new j9(1,0,0,1,g5,w.rect.y+_*.25);var f=w.add.TySh.d1;cU.jp(f,1);cU.TS(f,[0,0,fQ,w.rect.r]);
cU._w(f,0,H);var d=cU.eZ(f,0,1);d.WQ.FontSize=_;d.WQ.FillColor={Type:1,Values:[1,D[u+1]/255,D[u+2]/255,D[u+3]/255]};
u+=4;if(D[u+5])T+="-Bold";if(D[u+6])T+="-Italic";cU.ht(d,T);d.Av.Justification=iT;u+=8;cU.lc(f,0,H.length,d)}Y+=q}};
aP.v1={};aP.v1.Xg=!0;aP.v1.G$=function(r,j){hx.$g(r,j)};aP.ID={};aP.ID.Xg=!0;aP.ID.G$=function(r,j){f_.$g(r,j)};
aP.GB={};aP.GB.Xg=!0;aP.GB.G$=function(r,j){cC.$g(r,j)};aP.Ey={};aP.Ey.Xg=!0;aP.Ey.G$=function(r,j){iS.$g(r,j)};
aP.wy={};aP.wy.Xg=!0;aP.wy.G$=function(r,j){hF.$g(r,j)};aP.sQ={};aP.sQ.Xg=!0;aP.sQ.G$=function(r,j){iV.$g(r,j)};
aP.xc={};aP.xc.Xg=!0;aP.xc.TL=function(r,j,D,N,b){if(N==null)N=[!0,!1,!1,!1,!0,!0];var Y=cB.G5(r,{ES:N[0],hidden:N[1],a2k:N[2],aeY:N[3],names:N[4],ahw:N[5],a7s:j,aoe:D},b.fA);
return Y};aP.xc.G$=function(r,j,D){cB.$g(r,j,D)};aP.th={};aP.th.Xg=!0;aP.th.G$=function(r,j){var D=150,N=new j9(1,0,0,-1,0,0);
N.scale(D/72,D/72);j.TB=D;var b=new ee(j,N,!0);FromPS.Parse(r,b)};aP.wj={};aP.wj.Xg=!0;aP.wj.TL=function(r,j,D,N,b){if(N==null)N=["",100,!1,!1,!1,0];
N[6]=["jpg"];var Y=new ToPDF;ae.G5(r,N,Y,b.fA,j,D);return Y.buffer};aP.wj.G$=function(r,j,D){var N=2;
while(!0){var b=N*72,Y=new j9(1,0,0,-1,0,0);Y.scale(b/72,b/72);j.TB=b;var x=new ee(j,Y,!0);FromPDF.Parse(r,x);
var C=Math.max(j.d,j.r);if(D&&C<Math.max(D[0],D[1])){j.j=[];var w=N;while(C*(N/w)<Math.max(D[0],D[1]))N++}else break}};
aP.Y9={};aP.Y9.Xg=!0;aP.Y9.G$=function(r,j){var D=72,N=new j9(1,0,0,1,0,0);N.scale(D/72,D/72);j.TB=D;
var b=new ee(j,N,!1);FromWMF.Parse(r,b)};aP.Xz={};aP.Xz.A6=!0;aP.Xz.Xg=!0;aP.Xz.TL=function(r,j,D,N,b){if(N==null)N=["",100,!1,!1,!1,0];
N[6]=[];var Y=new ToEMF;ae.G5(r,N,Y,b.fA);return Y.buffer};aP.Xz.G$=function(r,j){var D=72,N=new j9(1,0,0,1,0,0);
N.scale(D/72,D/72);j.TB=D;var b=new ee(j,N,!1);FromEMF.Parse(r,b)};aP.y4={};aP.y4.Xg=!0;aP.y4.G$=function(r,j){return gZ.$g(r,j)};
aP.xF={};aP.xF.G$=function(r,j){var D=d8.$g(r),N=new Uint8Array(r),b=0,Y,x,C,w,q,u,h,z,O=0,g=0,t=0,$=0,i=0;
for(var A=0;A<D.sub.length;A++){var H=D.sub[A],b=H.u;if(H.FZ=="BMHD"){var F=[];for(var P=0;P<4;P++)F[P]=l.h$(N,b+2*P);
b+=8;w=F[2];q=F[3];x=F[0];C=F[1];Y=R.O(x*C*4);u=N[b++];h=N[b++];z=N[b++]}else if(H.FZ=="CMAP")O=b;else if(H.FZ=="CAMG"){var T=l.q(N,b);
g=T&32768,t=T&4,$=T&2048;i=T&128}else if(H.FZ=="BODY"){var _=x+15>>>4<<1,V=u+h,X=R.O(_*C*V),f,d,s;ai.i8(N,b,H.size,X,0,X.length);
var o=u-2,c=(1<<o)-1,E=Math.round(255/c);for(var q=0;q<C;q++)for(var w=0;w<x;w++){var B=0;for(var a=0;
a<V;a++){var U=(q*V+a)*_*8+w,M=X[U>>>3]>>>7-(U&7)&1;B|=M<<a}var n=B>>>u,B=B&(1<<u)-1,P=q*x+w,e=P<<2;
if(O!=0){if($!=0&&B>>>o!=0){var Q=B>>>o,J=(B&c)*E;if(Q==1)s=J;else if(Q==2)f=J;else if(Q==3)d=J}else{var J=O+B*3;
f=N[J+0];d=N[J+1];s=N[J+2]}}else{f=B>>>0&255;d=B>>>8&255;s=B>>>16&255}Y[e+0]=f;Y[e+1]=d;Y[e+2]=s;Y[e+3]=255}}}return[{Yn:new bf(0,0,x,C),data:Y.buffer}]};
aP.A1={};aP.A1.Xg=!1;aP.A1.TL=function(r,j,D,N){var b=r[0][4],Y=new Uint8Array(r[0][0]),x=2,C=b?!0:!1,w=C?4:3,q=new Uint8Array(j*D*w);
for(var u=0;u<D;u++)for(var h=0;h<j;h++){var z=u*j+h<<2,O=((D-u-1)*j+h)*w;q[O]=Y[z+2];q[O+1]=Y[z+1];
q[O+2]=Y[z+0];if(C)q[O+3]=b[0][u*j+h]}if(!0){var g=q.length,t=0,$=new Uint8Array(g*2),i=0,A=0,H=j*w;
while(A<g){var F=A,T=0,_=H*(Math.floor(A/H)+1);while(F<_&&T<128){var V=!0;for(var P=0;P<w;P++)V=V&q[A+P]==q[F+P];
if(!V)break;F+=w;T++}if(T==1){var X=1;while(X<128&&A+(X+1)*w<_){var V=!0,o=A+X*w;for(var P=0;P<w;P++)V=V&q[o+P]==q[o+w+P];
if(V)break;X++}$[i++]=X-1;for(var c=0;c<X;c++)for(var P=0;P<w;P++)$[i++]=q[A++]}else{$[i++]=127+T;for(var P=0;
P<w;P++)$[i+P]=q[A+P];i+=w;A+=w*T;t+=T}}q=$.slice(0,i);x+=8}var E=new Uint8Array(18+q.length+26);E[2]=x;
l.N2(E,12,j);l.N2(E,14,D);E[16]=w*8;E[17]=w==4?8:0;E.set(q,18);l.k3(E,18+q.length+8,"TRUEVISION-XFILE.");
return E.buffer};aP.A1.G$=function(r){var j=new Uint8Array(r),D=0,N=j[0],b=j[1],Y=j[2],x=j[4]*256+j[3],C=j[6]*256+j[5],w=j[7],q=j[9]*256+j[8],u=j[11]*256+j[10],h=j[13]*256+j[12],z=j[15]*256+j[14],O=j[16],g=j[17],t=g>>>4,$=l.Km(j,18,N),i=R.O(h*z*4),D=18+N+(C*w>>>3),A=new Uint8Array(j.buffer,D);
if(Y>3){var H=0,F=j,T=new Uint8Array(h*z*O>>>3),_=D,V=0,X=j.length,o=O>>>3;while(V<T.length){var eK=F[_];
_++;if(eK<128)for(var P=0;P<eK+1;P++){for(var c=0;c<o;c++){T[V]=F[_];V++;_++}}else{for(var P=0;P<eK-127;
P++){for(var c=0;c<o;c++){T[V]=F[_+c];V++}}_+=o}}Y-=8;A=T;D=_}else D+=h*z*O>>>3;var E=new Uint8Array(4),f=aP.A1.akA;
for(var d=0;d<z;d++)for(var s=0;s<h;s++){var B=(t&2)==0?(z-d-1)*h+s:d*h+s,a=d*h+s,U,M,W,n=255,e=B*O>>>3;
if(Y==1){var Q=0;if(O==8)Q=A[e];else throw"e";f(j,18+N+x+(Q*w>>>3),w,E);U=E[0];M=E[1];W=E[2];n=E[3]}else if(Y==2){f(A,e,O,E);
U=E[0];M=E[1];W=E[2];n=E[3]}else if(Y==3){if(O==8)U=M=W=A[e];else throw"e"}var J=a*4;i[J]=U;i[J+1]=M;
i[J+2]=W;i[J+3]=n}var E={Yn:new bf(0,0,h,z),data:i.buffer,_4:$};if(R.xD(i)){var m=R.O(h*z);R.ni(i,m,3);
R.mh(i,4278190080,16777215);E.c9=[m]}return[E]};aP.A1.akA=function(r,j,D,N){var b,Y,x,C=255;if(D==24||D==32){x=r[j];
Y=r[j+1];b=r[j+2];if(D==32)C=r[j+3]}else if(D==16){var w=r[j+1]<<8|r[j+0];b=w>>>10&31;Y=w>>>5&31;x=w>>>0&31;
b=Math.round(b*(255/31));Y=Math.round(Y*(255/31));x=Math.round(x*(255/31))}else throw"e";N[0]=b;N[1]=Y;
N[2]=x;N[3]=C};aP.a8E=function(){var r,j=[],D=!1;function N(x,C,w,q){r=w;j.push(x,q);b()}function b(){if(D||j.length==0)return;
D=!0;aP.a4p(j.shift(),"image/avif",Y)}function Y(x){r(null,[x],j.shift());D=!1;b()}return{Xg:!1,pE:!0,G$:N}}();
aP.amS=function(){var r,j=[],D=!1,N,b,Y,x,C,w;function q(O,g,t,$){r=t;j.push(O,$);u()}function u(){if(D||j.length==0)return;
D=!0;N=document.createElement("canvas");b=N.getContext("2d");Y=document.createElement("video");var O="data:"+"video/mp4"+";base64,"+aP.BI(j.shift());
Y.src=O;Y.muted=!0;Y.currentTime=0;Y.addEventListener("canplay",h,!1);Y.addEventListener("timeupdate",z,!1)}function h(O){Y.removeEventListener("canplay",h);
x=N.width=Y.videoWidth;C=N.height=Y.videoHeight;w=[];Y.play()}function z(O){var g=10;b.drawImage(Y,0,0);
w.push({_4:"_a_"+w.length+","+Math.round(1e3/g),Yn:new bf(0,0,x,C),data:b.getImageData(0,0,x,C).data.buffer});
var t=Y.currentTime+1/g;if(t<Y.duration)Y.currentTime=t;else{r(null,w,j.shift());Y.removeEventListener("timeupdate",z);
D=!1;u();w=null}}return{Xg:!1,pE:!0,G$:q}}();aP.TT={};aP.TT.G$=function(r){var j=new Uint8Array(r),D=0,N=112,b=42,Y=l.gW,u;
D+=8;var x=j[D];D++;if(x!=b)throw"e";var C=Y(j,D);D+=4;var w=l.p2(j,D,C);D+=C*2;var q=[];while(D<j.length){u=Y(j,D);
D+=4;if(u!=N)throw u;D+=4;u=j[D];D++;if(u!=b)throw u;var h=Y(j,D);D+=4;var z=j[D];D++;if(z!=b){D-=5;
h=Y(j,D);D+=8;u=j[D];D++;if(u!=b)throw u}var O=Y(j,D)*2;D+=4;if(h>0)q.push(D+O);D+=O+h}var g=new DOMParser,t=g.parseFromString(w,"image/svg+xml").firstChild.firstChild,$=[];
aP.TT.cf(t,j,q,$);return $};aP.TT.cf=function(r,j,D,N){var b=r.firstChild.firstChild;if(b.tagName=="Image"){var Y=b.getElementsByTagName("ImageDescription")[0],x=Y.children[0].children,C=Y.children[1].children,w=D.shift(),q=[];
for(var P=0;P<C.length;P++)q.push(parseInt(C[P].getAttribute("NumberOfElements")));while(q.length>3)q[2]*=q.pop();
var u=x.length,h=q[0],z=q[1],O=q[2],g=parseInt(C[0].getAttribute("BytesInc"));for(var t=0;t<O;t++){var $=R.O(h*z*4);
R.mh($,4278190080);for(var i=0;i<u;i++){var A=R.O(h*z);if(g==1)for(var H=0;H<A.length;H++)A[H]=j[w+H];
else if(g==2)for(var H=0;H<A.length;H++)A[H]=Math.min(255,(j[w+H*2+1]<<8|j[w+H*2])>>>2);else throw g;
if(i!=3)R.zQ(A,$,i);if(u==1){R.zQ(A,$,1);R.zQ(A,$,2)}w+=h*z*g}N.push({Yn:new bf(0,0,h,z),data:$.buffer})}}else{var F=r.children,T=0;
while(T<F.length&&F[T].tagName!="Children")T++;if(T==F.length)throw"e";F=F[T].children;for(var _=0;_<F.length;
_++)aP.TT.cf(F[_],j,D,N)}};aP.ty={};aP.ty.G$=function(r){var j=new Uint8Array(r),D=0,N={},u=1e9;for(var P=0;
P<306;P++){var b=l.Km(j,D,8).trim(),Y=l.Km(j,D+9,71).split("/")[0].trim();N[b]=Y;D+=80;if(b=="END"){D=Math.ceil(D/2880)*2880;
break}}var x=parseInt(N.NAXIS1),C=parseInt(N.NAXIS2),w=x*C,q=parseInt(N.BITPIX),h=-1e9,z=new Float32Array(w),O=new Float32Array(r,D,r.byteLength-D>>>2);
for(var P=0;P<w;P++){var g=P<<2,t=P<<1;if(q==-32){var $=j[D+g+0];j[D+g+0]=j[D+g+3];j[D+g+3]=$;var $=j[D+g+1];
j[D+g+1]=j[D+g+2];j[D+g+2]=$;z[P]=O[P]}else if(q==16){z[P]=l.Vz(j,D+t)}else throw q;var i=z[P];if(i<u)u=i;
if(i>h)h=i}var A=R.O(w*4),H=1/h;for(var F=0;F<C;F++)for(var T=0;T<x;T++){var P=F*x+T,_=(C-F-1)*x+T,g=_<<2,i=z[P]*H;
A[g]=A[g+1]=A[g+2]=255*i;A[g+3]=255}return[{Yn:new bf(0,0,x,C),data:A,_4:N.OBJECT}]};aP.vk={};aP.vk.G$=function(r){var j=new Uint8Array(r),D=16,N=l.Km(j,D,4),Y=32,i=0,A=0,H=!1,M;
D+=4;var b=l.Km(j,D,8);D+=8;while(j[D+Y-1]==0)Y--;var x=l.Km(j,D,Y);D+=32;var C=l.Km(j,D,4);D+=4;D+=20;
var w=l.q(j,D);D+=4;var q=l.q(j,D);D+=4;var u=l.q(j,D);D+=4;var h=l.q(j,D);D+=4;var z=l.q(j,D);D+=4;
var O=l.q(j,D);D+=4;var g="FujiFilm "+x,t=[0,1,1,2];if(g=="FujiFilm X10"){g="FujiFilm FinePix X10";t=[2,1,1,0]}var $={t271:["FujiFilm"],t272:[g],t277:[1],t33421:[2,2],t33422:t,_M:1};
D=u;var F=[],T=l.h$,_=l.q(j,D);D+=4;for(var P=0;P<_;P++){var V=T(j,D);D+=2;var X=T(j,D);D+=2;if(V==256){A=T(j,D);
i=T(j,D+2)}else if(V==272){F=[T(j,D),T(j,D+2)]}else if(V==273){F.push(T(j,D),T(j,D+2))}else if(V==304){H=!(j[D]>>>7)}else if(V==305){var o=Math.round(Math.sqrt(X)),c=[];
for(var E=0;E<X;E++)c.push(j[D+E]);c.reverse();$.t33421=[o,o];$.t33422=c}else if(V==12272){var f=T(j,D),d=T(j,D+2),s=T(j,D+6);
$.t50728=[f/d,1,f/s]}D+=X}var B=i<A,a=j.slice(z,z+O),U=Math.round(O*8/(i*A));if(a[0]==73&&a[1]==73&&a[2]==42){M=UTIF.decode(a.buffer)[0].fujiIFD;
U=M.t61443[0];var W=M.t61454,n=M.t61450;if(n)$.t50714=n;if(W)$.t50728=[W[0]/W[1],1,W[0]/W[2]];var e=M.t61447[0];
a=a.slice(e,e+M.t61448[0])}var O=a.length,Q=O*8<i*A*U;if(Q){console.log("compressed");var J=$.t33422,m=~~Math.sqrt(J.length),p=[];
for(var P=0;P<m;P++)p[P]=J.slice(P*m,P*m+m);a=new Uint8Array(UTIF._decompressRAF(a,p).buffer);O=a.length}function L(ff,K,jo){jo=jo<<8-(K&7);
var g5=K>>>3;ff[g5]|=jo>>>16;ff[g5+1]|=jo>>>8;ff[g5+2]|=jo}var S=O*8/(i*A);if(S==16)for(var P=0;P<O;
P+=2){var eJ=a[P];a[P]=a[P+1];a[P+1]=eJ}else if(S==14){for(var P=0;P<O;P+=4){var eJ=a[P];a[P]=a[P+3];
a[P+3]=eJ;eJ=a[P+1];a[P+1]=a[P+2];a[P+2]=eJ}}else if(S==12)for(var P=0;P<O;P+=3){var hy=a[P+2]<<16|a[P+1]<<8|a[P+0];
hy=hy>>>12|(hy&4095)<<12;a[P]=hy>>>16&255;a[P+1]=hy>>>8&255;a[P+2]=hy&255}if(B)a=aP.vk.a8p(a,i,A);var v=B?2:1;
i*=v;$.t256=[i];$.t257=[A];$.t258=[U];$.t50719=[F[1],F[0]*v];$.t50720=[F[3],F[2]*v];$.width=i;$.height=A;
$.data=new Uint8Array(a.buffer);return[$]};aP.vk.a8p=function(r,j,D){r=new Uint16Array(r.buffer);var N=new Uint16Array(j*D*2);
for(var b=0;b<D;b+=2)for(var Y=0;Y<j;Y++){var x=b*j+Y,C=x*2,w=r[x],q=r[x+j];N[C+1]=N[C+2*j]=q;if(((b>>>1)+Y&1)==0){N[C]=w;
N[C+2*j+1]=r[x+1]}else{N[C]=r[x-1];N[C+2*j+1]=w}}return N};aP.Q9={};aP.Q9.A6=!0;aP.Q9.TL=function(r,j,D,N){var b=new Uint8Array(r[0][0]),Y=j*D,x=[1,3,4][N[0]],C=8+8*N[1],w=N[2];
if(x==1){var q=new Uint8Array(j*D);R.ni(b,q,0);b=q}if(x==3){var q=new Uint8Array(j*D*3);for(var P=0;
P<Y;P++){var u=P*4,h=P*3;q[h]=b[u];q[h+1]=b[u+1];q[h+2]=b[u+2]}b=q}if(C==16){var z=b.length,q=new Uint8Array(z*2);
for(var P=0;P<z;P++){var O=Math.round(b[P]*(65535/255));q[P*2+w]=O>>>8;q[P*2+1-w]=O&255}b=q}return b.buffer};
aP.Hf={};aP.Hf.G$=function(r,j){function D(w){return~~(.5+R.Ef(Math.max(0,Math.min(1,w)))*255)}var N=EXRLoader.parse(r),b=N.width,Y=N.height,x=R.O(b*Y*4);
for(var C=0;C<Y;C++)for(var w=0;w<b;w++){var P=(C*b+w)*4,q=((Y-C-1)*b+w)*4;x[P]=D(N.data[q+0]);x[P+1]=D(N.data[q+1]);
x[P+2]=D(N.data[q+2]);x[P+3]=D(N.data[q+3])}return[{Yn:new bf(0,0,b,Y),data:x.buffer}]};aP.oh={};aP.oh.A6=!0;
aP.oh.Xg=!0;aP.oh.TL=function(r,j,D,N,b){N=["",100,!1,!1,!1,0];N[6]=["jpg"];var Y=new ToDXF;ae.G5(r,N,Y,b.fA);
return Y.buffer};aP.oh.G$=function(r,j){var D=72,N=new j9(1,0,0,1,0,0);N.scale(D/72,D/72);j.TB=D;var b=new ee(j,N,!1);
FromDXF.Parse(r,b)};aP.xX={};aP.xX.G$=function(){var r=l.Vz,j=l.gW,D=l.Km,N;function b(x,C,w,q,u){var h=j(x,w),z=j(x,w+4),O=j(x,w+8),g=r(x,w+12),t=r(x,w+14);
w+=16;var $={};for(var P=0;P<g+t;P++){var i=j(x,w),A=j(x,w+4),H,F;if(i>>>31==1){i=i&16777215}if(P<g)H=l.p2(x,C+i+2,r(x,C+i));
else H="id"+i;var T=q.slice(0);T.push(H);if(A>>>31==1){A=A&268435455;F=b(x,C,C+A,T,u)}else{var _=j(x,C+A),V=j(x,C+A+4),X=j(x,C+A+8),o=j(x,C+A+12);
if(o!=0)throw"e";if(_<u[0]||_>u[0]+u[1])throw"e";var c=u[2]+_-u[0];F=x.slice(c,c+V);var E=aP.rF(F.buffer);
if(E&&["bmp","png","ico"].indexOf(E)!=-1){var f=aP.QE(E);if(!f.Xg){var d=null;try{d=f.G$(F.buffer)}catch(cM){}if(d){d[0]._4=T[1];
N.push(d[0])}}}else if(E)console.log(E)}$[H]=F;w+=8}return $}function Y(x){N=[];var C=new Uint8Array(x),w=0,q=r(C,w);
w+=2;w+=58;var u=j(C,w);w+=4;w=u;var h=D(C,w,4);w+=4;var z=r(C,w);w+=2;var O=r(C,w);w+=2;var g=j(C,w);
w+=4;var t=j(C,w);w+=4;var $=j(C,w);w+=4;var i=r(C,w);w+=2;var A=r(C,w);w+=2;w+=i;var H={};for(var P=0;
P<O;P++){var F=w;while(C[F]!=0)F++;var T=D(C,w,F-w),_=j(C,w+8),V=j(C,w+12),X=j(C,w+16),o=j(C,w+20),c=j(C,w+24),E=j(C,w+28),f=r(C,w+32),d=r(C,w+34),A=j(C,w+36);
H[T]=[V,_,o,X,A];if(c+E!=0)throw"e";w+=40}for(var s in H){var B=H[s];w=B[2];if(s==".rsrc"){var a=b(C,w,w,[],B),U="id134"}}return N}return Y}();
aP.A9={};aP.A9.Xg=!0;aP.A9.G$=function(r,j){dr.$g(r,j)};(function(){var r=aP.zN.get("wasm/zstd").buffer;
WebAssembly.instantiate(r).then(function(j){var D=j.instance.exports;aP.A9.al9=D})}());aP.A9.QG=function(r,j){var D=aP.A9.al9,N=r.length,b=D.memory,Y=2*N+1e6,w=8;
aP.R0(D,Y);var x=new Uint8Array(b.buffer),C=D.malloc(N);x.set(r,C);while(!0){var q=j==null?N*w:j;aP.R0(D,Y+q);
var u=D.malloc(q),h=D.ZSTD_decompress(u,q,C,N);if(h==-70){D.free(u);w+=4;if(j!=null)throw"error"}else{x=new Uint8Array(b.buffer);
r=x.slice(u,u+h);D.free(u);break}}D.free(C);return r};aP.w1={};aP.w1.Xg=!0;aP.w1.G$=function(){var r=0,j=1,D=2,N=3,b=4,Y=5,x=6,C=7,w=1,q=2,u=7,h=8,z=9,O,g,t,$,i;
function A(){var eK=l.tG(O,g);g+=4;return eK}function H(){var M=0,W=0;for(var P=0;P<5;P++){var n=O[g++];
M+=(n&127)<<W;W+=7;if((n&128)==0)break}return M}function F(){var M=H(),W=l.Hi(O,g,M);g+=M;return W}function T(){return{typeName:F(),afU:A()}}function _(){var M=A(),W=F(),n=[],e=A();
for(var P=0;P<e;P++)n.push([F()]);return{id:M,Tr:W,arq:n}}function V(M){var W=M.arq,n=[];for(var P=0;
P<W.length;P++)W[P].push(O[g++]);for(var P=0;P<W.length;P++){var e=W[P][1],Q;W[P].push(X(e))}}function X(M){var W;
if(M==r)W=O[g++];else if(M==N)W=F();else if(M==b)W=T();else if(M==j||M==D||M==x||M==Y){}else throw M;
return W}function o(M,W,n){var e;if(M==r){if(W==w)e=O[g++]==1;else if(W==q){e=O[g++]}else if(W==h)e=A();
else if(W==z){e=A();A()}else throw W}else if(M==N){e=d(n+1)}else if(M==b){e=d(n+1)}else if(M==Y){e=d(n+1)}else if(M==j){e=d(n+1)}else if(M==x){e=d(n+1)}else throw M;
return e}function c(M,W){var n=t["c"+M],e=n.arq,Q={_class:n.Tr};for(var P=0;P<e.length;P++){var J=e[P],m=J[1],p=J[2],L=o(m,p,W),S=J[0];
Q[S]=L}return Q}function E(M,W,n,e){var Q=[];for(var P=0;P<M;P++){var J=o(W,n,e);if(J.cK&&J.cK=="null_count"){var m=J.sr;
for(var p=0;p<m;p++)Q.push(null);P+=m-1}else Q.push(J)}return Q}function f(){return[A(),A()]}function d(M){if(M==null)throw"e";
var W=null,n=O[g],e=null;g++;if(n==0){var Q=A(),J=A(),m=A(),p=A();W=[Q,J,m,p]}else if(n==1){e=A();var L=A();
W=c(L,M)}else if(n==4){var S=_();e=S.id;V(S);t["c"+S.id]=S;W=c(S.id,M)}else if(n==5){var S=_();e=S.id;
V(S);var eJ=A();t["c"+S.id]=S;W=c(S.id,M)}else if(n==6){e=A();var hy=F();W=hy}else if(n==7){e=A();var v=O[g++];
if(v!=0)throw v;var ff=A();if(ff!=1)throw ff;var K=A(),jo=O[g++],g5=X(jo);W=E(K,jo,g5,M)}else if(n==9){var fQ=A();
W={cK:"ref",sr:fQ};i["o"+fQ]=!0}else if(n==10){W={cK:"null_count",sr:1}}else if(n==11){W={cK:"end"}}else if(n==12){var eJ=A(),iT=F()}else if(n==13){var ac=O[g++];
W={cK:"null_count",sr:ac}}else if(n==16){var aR=f();e=aR[0];W=E(aR[1],b,null,M)}else if(n==17){var aR=f();
e=aR[0];W=E(aR[1],j,null,M)}else throw"e";if(e!=null&&e>0){if($["o"+e]!=null)throw"e";$["o"+e]=W}return W}function s(M,$){if(M instanceof Array){for(var P=0;
P<M.length;P++)M[P]=B(M[P],$)}else if(M instanceof Object){for(var W in M)M[W]=B(M[W],$)}}function B(M,$){if(M&&M.cK&&M.cK=="ref")return $["o"+M.sr];
else return M}function a(M,W,n){O=new Uint8Array(M);g=0;t={};$={};i={};var e=l.Km(O,0,4);if(e!="PDN3")throw e;
g+=4;var Q=l.Vz(O,g)+O[g+2]*256*256;g+=3;var J=l.Km(O,g,Q);g+=Q;g+=2;while(!0){var m=d(0);if(m&&m.cK&&m.cK=="end")break}for(var p in i)if($[p]==null)throw p;
for(var p in $)s($[p],$);var L=$.o1;console.log(L);W.d=L.width;W.r=L.height;W.buffer=R.O(W.d*W.r*4);
var S=L.layers["ArrayList+_items"];for(var P=0;P<S.length;P++){var eJ=S[P];if(eJ==null)continue;console.log(eJ);
var hy=eJ["Layer+width"],v=eJ["Layer+height"],ff=eJ["Layer+properties"],K=eJ.properties,jo=K.blendOp._class.split("+").pop();
jo=jo.slice(0,jo.length-7);var g5={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[jo],fQ=W.Xp();
fQ.Lp(ff.name);fQ.opacity=ff.opacity;fQ.yE(ff.visible);fQ.yp=g5;var iT=1<<16,ac=Math.ceil(hy*v/iT);fQ.rect=new bf(0,0,hy,v);
fQ.buffer=R.O(hy*v*4);var aR=fQ.buffer;g+=5;for(var hV=0;hV<ac;hV++){var cu=U();aR.set(cu[1],cu[0]*iT*4)}for(var iy=0;
iy<aR.length;iy+=4){var gr=aR[iy+0];aR[iy+0]=aR[iy+2];aR[iy+2]=gr}W.j.push(fQ)}}function U(){var M=l.q(O,g);
g+=4;var W=l.q(O,g);g+=4;var n=pako.inflateRaw(O.slice(g+10));g+=W;return[M,n]}return a}();function R(){}R.D={};
R.a1W={};R.aj0=function(){var r=[64,64,128,256,512,1024,2048],j=[];for(var P=0;P<r.length;P++){var D=r[P],N=document.createElement("canvas");
N.width=D;N.height=D;j.push(N.getContext("2d"))}return j}();R.NH=function(r,j){var D,N=R.aj0,P=1,b=Math.max(r,j);
while(P<N.length&&b>N[P].canvas.width)P++;if(P==N.length){D=N[0];var Y=D.canvas;Y.width=r;Y.height=j}else{D=N[P];
D.clearRect(0,0,r,j)}return D};R.bP=function(r,j,D){var N={},b=0,Y=0,x=new Uint32Array(r.buffer),C=x.length,w=Date.now();
for(var q=1;q<D-1;q++)for(var u=1;u<j-1;u++){var h=q*j+u,z=x[h];if(z>>>24<230)Y++;if(N[z]==null){N[z]=!0;
b++}}if(Y!=0||b<20)return!1;return!0};R._u=function(r,j,D,N,b,Y){if(b==null)b=Y=0;N=Math.log(N)/Math.log(2);
N=Math.round(N);for(var P=0;P<D;P++)for(var x=0;x<j;x++){var C=P*j+x<<2,w=R.nA(P+Y,x+b,N);r[C]=r[C+1]=r[C+2]=w;
r[C+3]=255}};R.nA=function(P,r,j){return 255-((P>>>j)+(r>>>j)&1)*51};R.Za=function(r){var j=r.toString(16);
while(j.length<6)j="0"+j;return j};R.mf=function(r){return parseInt(r,16)};R.le=function(r){return.3*r.a+.59*r.p+.11*r.M};
R.K2=function(r){return Math.max(r.a,r.p,r.M)-Math.min(r.a,r.p,r.M)};R.qO=function(r,j,D){return.3*r+.59*j+.11*D};
R.ap$=function(r,j,D){return Math.max(r,j,D)-Math.min(r,j,D)};R.u6=function(r,j){var D=j-r,N=Math.abs(D),b=D-1,Y=D+1;
if(Math.abs(b)<N)D=b;else if(Math.abs(Y)<N)D=Y;return D};R.Ef=function(r){return r<.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055};
R.hY=function(r){return r<.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)};R.alm=function(r,j){var D=Math.min(r.length,j.length);
for(var P=0;P<D;P+=4){var N=r[P],b=r[P+1],Y=r[P+2];j[P]=16+Math.floor(65.481/255*N+128.553/255*b+24.966/255*Y+.5);
j[P+1]=128-Math.floor(37.797/255*N-74.203/255*b+112/255*Y+.5);j[P+2]=128+Math.floor(112/255*N-93.786/255*b-18.214/255*Y+.5);
j[P+3]=r[P+3]}};R.a5x=function(r,j,D){var N,b,Y,x=Math.max(r,j,D),C=Math.min(r,j,D);Y=x;if(x!=0)b=(x-C)/x;
else b=0;if(b==0)N=0;else{var w=x-C,q=(x-r)/w,u=(x-j)/w,h=(x-D)/w;if(r==x)N=h-u;else if(j==x)N=2+q-h;
else N=4+u-q;N*=1/6;if(N<0)N=N+1}return{qg:N,z1:b,M:Y}};R.arH=function(r,j,D){var N=0,b=0,Y=0;if(j==0)N=b=Y=D;
else{var x=(r-Math.floor(r))*6,C=Math.floor(x),w=x-Math.floor(x),q=D*(1-j),u=D*(1-j*w),h=D*(1-j*(1-w));
switch(C){case 0:N=D;b=h;Y=q;break;case 1:N=u;b=D;Y=q;break;case 2:N=q;b=D;Y=h;break;case 3:N=q;b=u;
Y=D;break;case 4:N=h;b=q;Y=D;break;case 5:N=D;b=q;Y=u;break}}return{a:N,p:b,M:Y}};R.zy=function(r,j,D){var N=Math.max(r,j,D),b=Math.min(r,j,D),Y=0,x=0,C=(N+b)*.5;
if(N!=b){var w=N-b;x=C>.5?w/(2-(N+b)):w/(N+b);switch(N){case r:Y=(j-D)/w+(j<D?6:0);break;case j:Y=(D-r)/w+2;
break;case D:Y=(r-j)/w+4;break}Y*=1/6}return{qg:Y,z1:x,w$:C}};R.Xa=function(r,j,D){var N,b,Y;if(j==0)N=b=Y=D;
else{var x=D<.5?D*(1+j):D+j-D*j,C=2*D-x;N=R.ws(C,x,r+1/3);b=R.ws(C,x,r);Y=R.ws(C,x,r-1/3)}return{a:N,p:b,M:Y}};
R.ws=function(r,j,D){if(D<0)D+=1;if(D>1)D-=1;if(D<1/6)return r+(j-r)*6*D;if(D<1/2)return j;if(D<2/3)return r+(j-r)*(2/3-D)*6;
return r};R.d$=function(r,j,D){var N=Math.max(r,j,D),b=Math.min(r,j,D),Y,x,C=N,w=N-b;x=N==0?0:w/N;if(N==b)Y=0;
else{switch(N){case r:Y=(j-D)/w+(j<D?6:0);break;case j:Y=(D-r)/w+2;break;case D:Y=(r-j)/w+4;break}Y*=1/6}return{qg:Y,z1:x,sr:C}};
R.uz=function(r,j,D){var N,b,Y,P,x,C,w,q;P=Math.floor(r*6);x=r*6-P;C=D*(1-j);w=D*(1-x*j);q=D*(1-(1-x)*j);
switch(P%6){case 0:N=D,b=q,Y=C;break;case 1:N=w,b=D,Y=C;break;case 2:N=C,b=D,Y=q;break;case 3:N=C,b=w,Y=D;
break;case 4:N=q,b=C,Y=D;break;case 5:N=D,b=C,Y=w;break}return{a:N,p:b,M:Y}};R.Nj=function(){var r=[],j=[];
for(var P=0;P<2e3;P++){var D=P/1e3;r[P]=R.hY(D);j[P]=D>.008856?Math.pow(D,1/3):(903.3*D+16)*(1/116)}return[r,j]}();
R.WS=function(r,j,D){var N=R.Nj[0],b=R.Nj[1];r=N[~~(r*(1e3/255))];j=N[~~(j*(1e3/255))];D=N[~~(D*(1e3/255))];
var Y=R.ft.aiS,x=Y[0]*r+Y[1]*j+Y[2]*D,C=Y[4]*r+Y[5]*j+Y[6]*D,w=Y[8]*r+Y[9]*j+Y[10]*D;x=x*(100/96.72);
C=C*(100/100);w=w*(100/81.427);return R.NA(x,C,w)};R.NA=function(r,j,D){var N=R.Nj[1],b=N[~~(r*1e3)],Y=N[~~(j*1e3)],x=N[~~(D*1e3)];
return{lD:116*Y-16,kD:500*(b-Y),M:200*(Y-x)}};R.Cy=function(r,j,D){var N=903.3,b=.008856,Y=(r+16)/116,x=Y*Y*Y,C=Y-D/200,w=C*C*C,q=j/500+Y,u=q*q*q,h=w>b?w:(116*C-16)/N,z=x>b?x:(116*Y-16)/N,O=u>b?u:(116*q-16)/N,g=O*96.72,t=z*100,$=h*81.427,i=R.ft.rg(R.ft.Gi,[g/100,t/100,$/100,0]);
for(var P=0;P<4;P++)i[P]=Math.max(0,Math.min(255,R.Ef(i[P])*255));return{a:i[0],p:i[1],M:i[2]}};R.Nc=function(r,j,D,N,b){var Y=r.lD,x=r.kD,C=r.M,w=(Y<j.lD?j.lD-Y:D.lD<Y?D.lD-Y:0)*(1/100),q=(x<j.kD?j.kD-x:D.kD<x?D.kD-x:0)*(1/116),u=(C<j.M?j.M-C:D.M<C?D.M-C:0)*(1/116),h=Math.sqrt(w*w+q*q+u*u)*1.35;
return h<=N?Math.min(1,1.17*(1-h*b)):0};R.$d=function(r,j,D){var N=r.length,b=.3,Y=.59,x=.11;if(D){b=D[0];
Y=D[1];x=D[2]}for(var P=0;P<N;P+=4)j[P>>2]=~~(r[P+0]*b+r[P+1]*Y+r[P+2]*x+.5)};R.gx=function(r,j){var D=j.length;
for(var P=0;P<D;P+=4){var N=r[P>>>2];j[P]=N;j[P+1]=N;j[P+2]=N}};R.Ke=function(r,j){var D=r.kD,N=r.a,b=r.p,Y=r.M,x=Math.min(r.kD.length,j.buffer.byteLength>>>2),C=4*Math.floor(x/4),w=new Uint32Array(j.buffer),q=new Uint32Array(D.buffer),u=new Uint32Array(N.buffer),h=new Uint32Array(b.buffer),z=new Uint32Array(Y.buffer);
for(var P=0;P<C;P+=4){var O=q[P>>2],g=z[P>>2],t=h[P>>2],$=u[P>>2];w[P]=O<<24|(g&255)<<16|(t&255)<<8|$&255;
w[P+1]=(O&65280)<<16|(g&65280)<<8|t&65280|($&65280)>>>8;w[P+2]=(O&16711680)<<8|g&16711680|(t&16711680)>>>8|($&16711680)>>>16;
w[P+3]=O&4278190080|(g&4278190080)>>>8|(t&4278190080)>>>16|($&4278190080)>>>24}for(var P=C;P<x;P++)w[P]=D[P]<<24|Y[P]<<16|b[P]<<8|N[P]};
R.wJ=function(r,j){var D=j.kD,N=j.a,b=j.p,Y=j.M,x=Math.min(j.kD.length,r.buffer.byteLength>>>2),C=4*Math.floor(x/4),w=new Uint32Array(r.buffer),q=new Uint32Array(D.buffer),u=new Uint32Array(N.buffer),h=new Uint32Array(b.buffer),z=new Uint32Array(Y.buffer);
for(var P=0;P<C;P+=4){var O=w[P],g=w[P+1],t=w[P+2],$=w[P+3];u[P>>2]=O&255|(g&255)<<8|(t&255)<<16|$<<24;
h[P>>2]=(O&65280)>>8|g&65280|(t&65280)<<8|($&65280)<<16;z[P>>2]=(O&16711680)>>16|(g&16711680)>>8|t&16711680|($&16711680)<<8;
q[P>>2]=O>>>24|g>>>24<<8|t>>>24<<16|$&4278190080}for(var P=C;P<x;P++){var i=w[P];N[P]=i>>0&255;b[P]=i>>8&255;
Y[P]=i>>16&255;D[P]=i>>24&255}};R.ni=function(r,j,D){var N=new Uint8Array(r.buffer),b=Math.min(N.length/4,j.length);
for(var P=0;P<b;P++){j[P]=N[(P<<2)+D]}};R.zQ=function(r,j,D){var N=new Uint8Array(j.buffer),b=new Uint32Array(r.buffer),Y=Math.min(N.length/4,r.length),P=0;
while(P+4<Y){var x=b[P>>>2];N[(P<<2)+D]=x&255;N[(P<<2)+D+4]=x>>>8&255;N[(P<<2)+D+8]=x>>>16&255;N[(P<<2)+D+12]=x>>>24;
P+=4}while(P<Y){N[(P<<2)+D]=r[P];P++}};R.mh=function(r,j,D){if(D==null)D=0;var N=new Uint32Array(r.buffer),b=N.length;
for(var P=0;P<b;P++)N[P]=N[P]&D|j};R.aen=function(r,j,D,N,b){if(b==null)b=0;var Y=new Uint32Array(r.buffer);
D=D.su(j);var x=D.x-j.x,C=D.y-j.y,w=D.d,q=D.r,u=j.d;for(var h=0;h<q;h++){var P=(C+h)*u+x;for(var z=0;
z<w;z++){Y[P]=Y[P]&b|N;P++}}};R.kZ=function(r,j){var D=Math.min(r.buffer.byteLength,j.buffer.byteLength),N=D>>>2,r=new Uint32Array(r.buffer,0,N),j=new Uint32Array(j.buffer,0,N);
j.set(r)};R.gy=function(r,j){var D=r.buffer.byteLength,N=j.buffer.byteLength,b=new Uint32Array(r.buffer,0,D>>2),Y=new Uint32Array(j.buffer,0,N>>2);
if(D!=N)return!1;var x=b.length;for(var P=0;P<x;P++)if(Y[P]!=b[P])return!1;return!0};R.gq=function(r){var j=new Uint32Array(r.buffer),D=j.length;
for(var P=0;P<D;P++)j[P]=~j[P]};R.a6b=function(r){var j=r.length;for(var P=0;P<j;P+=4){r[P]=~r[P];r[P+1]=~r[P+1];
r[P+2]=~r[P+2]}};R.akL=function(r){var j=r.length;for(var P=3;P<j;P+=4)r[P]=~r[P]};R.af$=function(r){return r+(r%4==0?0:4-r%4)};
R.O=function(r,j){if(j==null)j=!1;if(!j)r=R.af$(r);try{var D=new Uint8Array(r)}catch(cM){alert("Not enough RAM! (need "+Math.round(r/(1<<20))+" MB)",7e3);
throw"low_ram"}return D};R.aA=function(r){var j=r.length,D=r[j-2],N=r[j-1];while(N.d>=2&&N.r>=2){var b=R.lR(D,N);
r.push(b.Iz,b.rect);D=b.Iz;N=b.rect}};R.IX=function(r){var j=r.length,D=r[j-2],N=r[j-1];while(N.d>=2&&N.r>=2){var b=R.HN(D,N);
r.push(b.Iz,b.rect);D=b.Iz;N=b.rect}};R.lR=function(r,j,D){var N=j.d,b=j.r,Y=N>>1,x=b>>1,C=new bf(j.x,j.y,Y,x),w=D&&D.length==Y*x*4?D:R.O(Y*x*4),q=new Uint32Array(r.buffer),u=new Uint32Array(w.buffer);
for(var h=0;h<x;h++)for(var z=0;z<Y;z++){var O=h*Y+z,g=(h<<1)*N+(z<<1),t=q[g],$=q[g+1],i=q[g+N],A=q[g+N+1],H=t>>>24,F=$>>>24,T=i>>>24,_=A>>>24,V=H+F+T+_;
if(V==1020){var X=(t>>>0&255)+($>>>0&255)+(i>>>0&255)+(A>>>0&255)+2>>>2,o=(t>>>8&255)+($>>>8&255)+(i>>>8&255)+(A>>>8&255)+2>>>2,c=(t>>>16&255)+($>>>16&255)+(i>>>16&255)+(A>>>16&255)+2>>>2;
u[O]=255<<24|c<<16|o<<8|X}else if(V==0)u[O]=0;else{var X=(t>>>0&255)*H+($>>>0&255)*F+(i>>>0&255)*T+(A>>>0&255)*_,o=(t>>>8&255)*H+($>>>8&255)*F+(i>>>8&255)*T+(A>>>8&255)*_,c=(t>>>16&255)*H+($>>>16&255)*F+(i>>>16&255)*T+(A>>>16&255)*_,E=1/V;
X=~~(X*E+.5);o=~~(o*E+.5);c=~~(c*E+.5);u[O]=V+2>>>2<<24|c<<16|o<<8|X}}return{rect:C,Iz:w}};R.Y6=function(r,j,D){var N=j.d,b=j.r,Y=N>>1,x=b>>1,C=new bf(j.x,j.y,Y,x),w=D&&D.length==Y*x*4?D:R.O(Y*x*4),q=new Uint32Array(r.buffer),u=new Uint32Array(w.buffer);
for(var h=0;h<x;h++)for(var z=0;z<Y;z++){var O=h*Y+z,g=(h<<1)*N+(z<<1),t=q[g],$=q[g+1],i=q[g+N],A=q[g+N+1],H=2+(t>>>0&255)+($>>>0&255)+(i>>>0&255)+(A>>>0&255)>>>2,F=2+(t>>>8&255)+($>>>8&255)+(i>>>8&255)+(A>>>8&255)>>>2,T=2+(t>>>16&255)+($>>>16&255)+(i>>>16&255)+(A>>>16&255)>>>2,_=2+(t>>>24&255)+($>>>24&255)+(i>>>24&255)+(A>>>24&255)>>>2;
u[O]=_<<24|T<<16|F<<8|H}return{rect:C,Iz:w}};R.a0p=function(r,j,D){var N=j.d,b=j.r,Y=2*Math.floor(N/3),x=2*Math.floor(b/3),C=new bf(j.x,j.y,Y,x),w=D&&D.length==Y*x*4?D:R.O(Y*x*4),q=new Uint32Array(r.buffer),u=new Uint32Array(w.buffer);
for(var h=0;h<x;h+=2)for(var z=0;z<Y;z+=2){var O=h*Y+z,g=(h*3>>>1)*N+(z*3>>>1),t=q[g],$=q[g+1],i=q[g+2],A=q[g+N],H=q[g+1+N],F=q[g+2+N],T=q[g+N+N],_=q[g+1+N+N],V=q[g+2+N+N],X=t>>>24<<2,o=(t>>>16&255)*X,c=(t>>>8&255)*X,E=(t&255)*X,f=$>>>24<<1,d=($>>>16&255)*f,s=($>>>8&255)*f,B=($&255)*f,a=i>>>24<<2,U=(i>>>16&255)*a,M=(i>>>8&255)*a,W=(i&255)*a,n=A>>>24<<1,e=(A>>>16&255)*n,Q=(A>>>8&255)*n,J=(A&255)*n,m=H>>>24,p=(H>>>16&255)*m,L=(H>>>8&255)*m,S=(H&255)*m,eJ=F>>>24<<1,hy=(F>>>16&255)*eJ,v=(F>>>8&255)*eJ,ff=(F&255)*eJ,K=T>>>24<<2,jo=(T>>>16&255)*K,g5=(T>>>8&255)*K,fQ=(T&255)*K,iT=_>>>24<<1,ac=(_>>>16&255)*iT,aR=(_>>>8&255)*iT,hV=(_&255)*iT,cu=V>>>24<<2,iy=(V>>>16&255)*cu,gr=(V>>>8&255)*cu,cp=(V&255)*cu,gP=X+f+n+m,g7=a+f+eJ+m,j8=K+iT+n+m,dg=cu+iT+eJ+m,gR=gP==0?0:1/gP,em=g7==0?0:1/g7,fr=j8==0?0:1/j8,aU=dg==0?0:1/dg,bb=0,fZ=0,h1=0,ar=0;
bb=~~(.5+(E+B+J+S)*gR);fZ=~~(.5+(c+s+Q+L)*gR);h1=~~(.5+(o+d+e+p)*gR);ar=~~(.5+gP*(1/9));u[O]=ar<<24|h1<<16|fZ<<8|bb;
bb=~~(.5+(W+B+ff+S)*em);fZ=~~(.5+(M+s+v+L)*em);h1=~~(.5+(U+d+hy+p)*em);ar=~~(.5+g7*(1/9));u[O+1]=ar<<24|h1<<16|fZ<<8|bb;
bb=~~(.5+(fQ+hV+J+S)*fr);fZ=~~(.5+(g5+aR+Q+L)*fr);h1=~~(.5+(jo+ac+e+p)*fr);ar=~~(.5+j8*(1/9));u[O+Y]=ar<<24|h1<<16|fZ<<8|bb;
bb=~~(.5+(cp+hV+ff+S)*aU);fZ=~~(.5+(gr+aR+v+L)*aU);h1=~~(.5+(iy+ac+hy+p)*aU);ar=~~(.5+dg*(1/9));u[O+Y+1]=ar<<24|h1<<16|fZ<<8|bb}return{rect:C,Iz:w}};
R.acQ=function(r,j,D){var N=j.d,b=j.r,Y=2*Math.floor(N/3),x=2*Math.floor(b/3),C=new bf(j.x,j.y,Y,x),w=D&&D.length==Y*x*4?D:R.O(Y*x*4),q=new Uint32Array(r.buffer),u=new Uint32Array(w.buffer);
for(var h=0;h<x;h+=2)for(var z=0;z<Y;z+=2){var O=h*Y+z,g=(h*3>>>1)*N+(z*3>>>1),t=q[g],$=q[g+1],i=q[g+2],A=q[g+N],H=q[g+1+N],F=q[g+2+N],T=q[g+N+N],_=q[g+1+N+N],V=q[g+2+N+N],X=(t>>>16&255)<<2,o=(t>>>8&255)<<2,c=(t&255)<<2,E=($>>>16&255)<<1,f=($>>>8&255)<<1,d=($&255)<<1,s=(i>>>16&255)<<2,B=(i>>>8&255)<<2,a=(i&255)<<2,U=(A>>>16&255)<<1,M=(A>>>8&255)<<1,W=(A&255)<<1,n=H>>>16&255,e=H>>>8&255,Q=H&255,J=(F>>>16&255)<<1,m=(F>>>8&255)<<1,p=(F&255)<<1,L=(T>>>16&255)<<2,S=(T>>>8&255)<<2,eJ=(T&255)<<2,hy=(_>>>16&255)<<1,v=(_>>>8&255)<<1,ff=(_&255)<<1,K=(V>>>16&255)<<2,jo=(V>>>8&255)<<2,g5=(V&255)<<2,fQ=0,iT=0,ac=0;
fQ=~~(.5+(c+d+W+Q)*(1/9));iT=~~(.5+(o+f+M+e)*(1/9));ac=~~(.5+(X+E+U+n)*(1/9));u[O]=255<<24|ac<<16|iT<<8|fQ;
fQ=~~(.5+(a+d+p+Q)*(1/9));iT=~~(.5+(B+f+m+e)*(1/9));ac=~~(.5+(s+E+J+n)*(1/9));u[O+1]=255<<24|ac<<16|iT<<8|fQ;
fQ=~~(.5+(eJ+ff+W+Q)*(1/9));iT=~~(.5+(S+v+M+e)*(1/9));ac=~~(.5+(L+hy+U+n)*(1/9));u[O+Y]=255<<24|ac<<16|iT<<8|fQ;
fQ=~~(.5+(g5+ff+p+Q)*(1/9));iT=~~(.5+(jo+v+m+e)*(1/9));ac=~~(.5+(K+hy+J+n)*(1/9));u[O+Y+1]=255<<24|ac<<16|iT<<8|fQ}return{rect:C,Iz:w}};
R.xD=function(r){var j=255,D=r.length;D-=D&31;for(var P=3;P<D;P+=32)j=j&r[P]&r[P+4]&r[P+8]&r[P+12]&r[P+16]&r[P+20]&r[P+24]&r[P+28];
return j!=255};R.acF=function(r,j,D,N){var b=R.lR,Y=R.a0p,C=0;if(!R.xD(r)){b=R.Y6;Y=R.acQ}var x={Iz:r,rect:j},w=D;
while(w<.499){C++;w*=2}for(var P=0;P<C;P++)x=b(x.Iz,x.rect,N);if(w<.5001)x=b(x.Iz,x.rect,N);else x=Y(x.Iz,x.rect,N);
return x};R.at8=function(r,j,D,N){var b=R.HN,Y=R.uu,x={Iz:r,rect:j},C=0,w=D;while(w<.499){C++;w*=2}for(var P=0;
P<C;P++)x=b(x.Iz,x.rect,N);if(w<.5001)x=b(x.Iz,x.rect,N);else x=Y(x.Iz,x.rect,N);return x};R.HN=function(r,j,D){var N=j.d,b=j.r,Y=N>>1,x=b>>1,C=new bf(j.x,j.y,Y,x);
if(r==null)return{rect:C};var w=D&&D.length>=Y*x?D:R.O(Y*x);for(var q=0;q<x;q++){var u=q*Y;for(var h=0;
h<Y;h++){var z=(q<<1)*N+(h<<1);w[u+h]=2+r[z]+r[z+1]+r[z+N]+r[z+N+1]>>>2}}return{rect:C,Iz:w}};R.uu=function(r,j,D){var N=j.d,b=j.r,Y=2*Math.floor(N/3),x=2*Math.floor(b/3),C=new bf(j.x,j.y,Y,x);
if(r==null)return{rect:C};var w=D&&D.length>=Y*x?D:R.O(Y*x);for(var q=0;q<x;q+=2)for(var u=0;u<Y;u+=2){var h=q*Y+u,z=(q*3>>>1)*N+(u*3>>>1),O=r[z]<<2,g=r[z+1]<<1,t=r[z+2]<<2,$=r[z+N]<<1,i=r[z+1+N],A=r[z+2+N]<<1,H=r[z+N+N]<<2,F=r[z+1+N+N]<<1,T=r[z+2+N+N]<<2;
w[h]=~~(.5+(O+g+$+i)*(1/9));w[h+1]=~~(.5+(t+g+A+i)*(1/9));w[h+Y]=~~(.5+(H+F+$+i)*(1/9));w[h+Y+1]=~~(.5+(T+F+A+i)*(1/9))}return{rect:C,Iz:w}};
R.YO=function(r,j,D,N,b){var Y=j.su(N);if(b)Y=Y.su(b);var x=Math.max(0,Y.x-j.x),C=Math.max(0,Y.x-N.x),w=Math.max(0,Y.y-j.y),q=Math.max(0,Y.y-N.y),u=Y.d,h=Y.r;
for(var P=0;P<h;P++){var z=(w+P)*j.d+x,O=(q+P)*N.d+C;for(var g=0;g<u;g++){D[O+g]=r[z+g]}}};R.Oa=function(r,j,D,N){if(j.gy(N)){R.zQ(r,D,3);
return}var b=j.su(N),Y=Math.max(0,b.x-j.x),x=Math.max(0,b.x-N.x),C=Math.max(0,b.y-j.y),w=Math.max(0,b.y-N.y),q=b.d,u=b.r;
for(var P=0;P<u;P++){var h=(C+P)*j.d+Y,z=(w+P)*N.d+x;for(var O=0;O<q;O++)D[(z+O<<2)+3]=r[h+O]}};R.Wv=function(r,j,D,N){var b=j.su(N),Y=Math.max(0,b.x-j.x),x=Math.max(0,b.x-N.x),C=Math.max(0,b.y-j.y),w=Math.max(0,b.y-N.y),q=b.d,u=b.r;
for(var P=0;P<u;P++){var h=(C+P)*j.d+Y,z=(w+P)*N.d+x;for(var O=0;O<q;O++)D[z+O]=r[(h+O<<2)+3]}};R.UB=function(r,j,D,N,b){if(j.gy(N)&&(b==null||b.gy(N))){R.kZ(r,D);
return}r=new Uint32Array(r.buffer),D=new Uint32Array(D.buffer);var Y=j.su(N);if(b)Y=Y.su(b);var x=Math.max(0,Y.x-j.x),C=Math.max(0,Y.x-N.x),w=Math.max(0,Y.y-j.y),q=Math.max(0,Y.y-N.y),u=Y.d,h=Y.r,z=u&3,O=z==0?u:u-z;
for(var P=0;P<h;P++){var g=(w+P)*j.d+x,t=(q+P)*N.d+C;D.set(new Uint32Array(r.buffer,g*4,u),t)}};R.WL=function(r,j,D,N){var b=j.su(N),Y=Math.max(0,b.x-j.x),x=Math.max(0,b.x-N.x),C=Math.max(0,b.y-j.y),w=Math.max(0,b.y-N.y),q=b.d,u=b.r,h=r.kD,z=r.a,O=r.p,g=r.M,t=D.kD,$=D.a,i=D.p,A=D.M;
for(var P=0;P<u;P++){var H=(C+P)*j.d+Y,F=(w+P)*N.d+x;for(var T=0;T<q;T++){t[F+T]=h[H+T];$[F+T]=z[H+T];
i[F+T]=O[H+T];A[F+T]=g[H+T]}}};R.je=function(r){var j=r.length;for(var P=0;P<j;P+=4){var D=r[P+3];if(D==255)continue;
r[P]=~~(r[P]*D*(1/255)+.5);r[P+1]=~~(r[P+1]*D*(1/255)+.5);r[P+2]=~~(r[P+2]*D*(1/255)+.5)}};R.GQ=function(r){var j=r.length;
for(var P=0;P<j;P+=4){var D=r[P+3];if(D==0||D==255)continue;var N=255/D;r[P]=~~(r[P]*N+.5);r[P+1]=~~(r[P+1]*N+.5);
r[P+2]=~~(r[P+2]*N+.5)}};R.eR=function(r,j){for(var P=0;P<r.length;P++)if(r[P]!=j)return!1;return!0};
R.aY=function(r){return r+1+(r>>>8)>>>8};R.round=function(r,j){if(j==null)j=128;var D=r.length;for(var P=0;
P<D;P++)r[P]=r[P]<j?0:255};R.jU=function(r,j){var D=r.length;for(var P=0;P<D;P++)r[P]=Math.round(r[P]*j)};
R.Zh=function(r,j){var D=new Uint32Array(r.buffer),N=new Uint32Array(j.buffer),b=D.length;for(var P=0;
P<b;P++){var Y=D[P],x=N[P];N[P]=R.aY((Y>>>24)*(x>>>24))<<24|R.aY((Y>>>16&255)*(x>>>16&255))<<16|R.aY((Y>>>8&255)*(x>>>8&255))<<8|R.aY((Y&255)*(x&255))}};
R.R1=function(r,j){var D=r.length;for(var P=0;P<D;P++)j[(P<<2)+3]=R.aY(j[(P<<2)+3]*r[P])};R.amg=function(r,j,D,N){var b=Math.max(0,N.x-j.x),Y=Math.max(0,j.x-N.x),x=Math.max(0,N.y-j.y),C=Math.max(0,j.y-N.y),w=Math.min(j.x+j.d,N.x+N.d)-Math.max(j.x,N.x),q=Math.min(j.y+j.r,N.y+N.r)-Math.max(j.y,N.y);
for(var P=0;P<q;P++){var u=(x+P)*j.d+b,h=(C+P)*N.d+Y;for(var z=0;z<w;z++){D[h]=R.aY(D[h]*r[u]);u++;h++}}};
R.I8=function(r,j,D,N){var b=Math.max(0,N.x-j.x),Y=Math.max(0,j.x-N.x),x=Math.max(0,N.y-j.y),C=Math.max(0,j.y-N.y),w=Math.min(j.x+j.d,N.x+N.d)-Math.max(j.x,N.x),q=Math.min(j.y+j.r,N.y+N.r)-Math.max(j.y,N.y);
for(var P=0;P<q;P++){var u=(x+P)*j.d+b,h=((C+P)*N.d+Y<<2)+3;for(var z=0;z<w;z++){D[h]=R.aY(D[h]*r[u]);
u++;h+=4}}};R.qj=function(r,j,D,N){var b=Math.max(0,N.x-j.x),Y=Math.max(0,j.x-N.x),x=Math.max(0,N.y-j.y),C=Math.max(0,j.y-N.y),w=Math.min(j.x+j.d,N.x+N.d)-Math.max(j.x,N.x),q=Math.min(j.y+j.r,N.y+N.r)-Math.max(j.y,N.y);
for(var P=0;P<q;P++){var u=((x+P)*j.d+b<<2)+3,h=((C+P)*N.d+Y<<2)+3;for(var z=0;z<w;z++){D[h]=R.aY(D[h]*r[u]);
u+=4;h+=4}}};R.mb=function(r){var j=new Float64Array(256),D=new Float64Array(256),N=new Float64Array(256),b=new Float64Array(256),Y=r.length,x=0;
for(var P=0;P<Y;P+=4){var C=r[P+3],w=C*(1/255);D[r[P+0]]+=w;N[r[P+1]]+=w;b[r[P+2]]+=w;x+=C}for(var P=0;
P<256;P++)j[P]=D[P]+N[P]+b[P];return[j,D,N,b,Y>>>2,x/255]};R.RF=function(r,j){var D=new Uint32Array(r.buffer),N=D.length;
for(var P=0;P<N;P++){var b=D[P],Y=b&255,x=b>>8&255,C=b>>16&255,w=b>>24&255;D[P]=j[Y]|j[x]<<8|j[C]<<16|j[w]<<24}};
R.a03=function(r,j,D,N,b,Y,x){var C=new Uint32Array(r.buffer),w=new Uint32Array(j.buffer),q=C.length,u=0;
while(256<<u<D.length)u++;if(!x&&!Y){for(var P=0;P!=q;P++){var h=C[P],z=(h&255)<<u,O=(h>>>8&255)<<u,g=(h>>>16&255)<<u,t=D[z],$=N[O],i=b[g];
w[P]=t|$<<8|i<<16|h&4278190080}return}for(var P=0;P<q;P++){var h=C[P],z=(h&255)<<u,O=(h>>>8&255)<<u,g=(h>>>16&255)<<u;
if(Y)z=O=g=Math.round(z*.3+O*.59+g*.11);var t=D[z],$=N[O],i=b[g];if(x){var A=R.qO(z,O,g),H=R.qO(t,$,i);
if(A>H){var F=(A-H)/(255-H);t+=F*(255-t);$+=F*(255-$);i+=F*(255-i)}else if(H==0)t=$=i=0;else{var F=A/H;
t=F*t;$=F*$;i=F*i}}w[P]=t|$<<8|i<<16|h&4278190080}};R.FV=function(r,j){var D=j.d,N=j.r,top=0,b=0,Y=0,x=0,C=0;
C=0;for(var w=0;w<N;w++){var q=w*D;for(var P=0;P<D;P++)C|=r[q+P];if(C!=0)break;top++}if(top==N)return new bf(0,0,0,0);
C=0;for(var w=N-1;w>=0;w--){var q=w*D;for(var P=0;P<D;P++)C|=r[q+P];if(C!=0)break;Y++}var u=N-Y;C=0;
for(var P=0;P<D;P++){for(var w=top;w<u;w++)C|=r[w*D+P];if(C!=0)break;b++}C=0;for(var P=D-1;P>=0;P--){for(var w=top;
w<u;w++)C|=r[w*D+P];if(C!=0)break;x++}var h=new bf(j.x+b,j.y+top,D-b-x,N-top-Y);return h};R.JN=function(r,j,D,N){if(N==null)N=[!0,!0,!0,!0];
if(D==null)D=0;var b=new Uint32Array(r.buffer),Y=j.d,x=j.r,top=0,C=0,w=0,q=0,u=!1,h=[b[0],b[b.length-1],0][D];
u=!1;if(N[0])for(var z=0;z<x;z++){var O=z*Y;for(var P=0;P<Y;P++)if(b[O+P]!=h)u=!0;if(u)break;top++}u=!1;
if(N[2])for(var z=x-1;z>=0;z--){var O=z*Y;for(var P=0;P<Y;P++)if(b[O+P]!=h)u=!0;if(u)break;w++}u=!1;
if(N[1])for(var P=0;P<Y;P++){for(var z=0;z<x;z++)if(b[z*Y+P]!=h)u=!0;if(u)break;C++}u=!1;if(N[3])for(var P=Y-1;
P>=0;P--){for(var z=0;z<x;z++)if(b[z*Y+P]!=h)u=!0;if(u)break;q++}var g=new bf(j.x+C,j.y+top,Y-C-q,x-top-w);
return g.jE()?new bf(0,0,0,0):g};R.H2=function(r){var j=R.FV(r.channel,r.rect);if(j.gy(r.rect))return;
var D=R.O(j.Z());R.YO(r.channel,r.rect,D,j);r.channel=D;r.rect=j};R.jS=function(r){var j=R.O(r.buffer.length>>2);
R.ni(r.buffer,j,3);var D=R.FV(j,r.rect);if(D.gy(r.rect))return;var N=new R.O(D.Z()*4);R.UB(r.buffer,r.rect,N,D);
r.buffer=N;r.rect=D};R.extend=function(r,j,D){if(r.rect.Ob(j))return;var N=r.rect.zs(j),b=R.O(N.Z());
if(D!=null)b.fill(D);R.YO(r.channel,r.rect,b,N);r.rect=N;r.channel=b};R.a33=function(r,j){if(j.jE()||r.rect.Ob(j))return;
var D=r.rect.zs(j),N=R.O(D.Z()*4);R.UB(r.buffer,r.rect,N,D);r.rect=D;r.buffer=N};R.U2=function(r,j,D){if(!D.yZ(r))return!1;
var N=Math.floor(r.x)-D.x,b=Math.floor(r.y)-D.y,P=b*D.d+N;return j[P]>128};R.a3r=function(r,j,D){if(!D.yZ(r))return!1;
var N=Math.floor(r.x)-D.x,b=Math.floor(r.y)-D.y,P=b*D.d+N;return j[4*P+3]>128};R.TJ=function(r){if(R.n9.length<r){R.n9=R.O(r);
R.n9.fill(255)}return R.n9};R.n9=R.O(0);R.eH=function(r){if(R.Kr.length<r)R.Kr=R.O(r);return R.Kr};R.Kr=R.O(0);
R.oj=function(r){this.kD=R.O(r);this.a=R.O(r);this.p=R.O(r);this.M=R.O(r)};R.oj.prototype.clone=function(){var r=this.kD.length,j=new R.oj(1);
j.kD=this.kD.slice(0);j.a=this.a.slice(0);j.p=this.p.slice(0);j.M=this.M.slice(0);return j};R.D.ad_=function(r,j,D,N,b){var Y=b[0]+1,x=b[1],C=Math.abs(x-25)/4,w=b[2],q=w%2+w*w>>1,u=R.D.L;
u.J1(j,D);var h=u.us(1),z=u.us(1),O=u.us(1);u.A$(r,N,w,w,q);u.dE(N);u.$S(N,h);u.c4(h,z,Y,Y,1);u.c4(h,O,Y,Y,Y*Y);
u.sub(O,z);u.Zh(z,C);(x<25?u.sub:u.add)(h,z);u.vJ(z,N);u.bX(N)};R.D.ao3=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=b[0]*2.55,C=b[1],w=C>>1,q=b[2]*.25,u=Y.us(4),h=Y.us(1),z=Y.us(1);Y.IO(r,u,C,1,!0,w);
Y.IO(r,N,C,1,!1,w);Y.RR(r,h);Y.bg(h,x);Y.M8(h,z,3);Y._W(N,z,u);Y.oT(u,N,q)};R.D.a0L=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[3]);var x=b[0]*-3+80,C=b[1]*-3+80,w=b[2]/2+.5,q=b[4],u=b[5],h=Y.us(1),z=Y.us(1),O=Y.us(1),g=Y.us(1),t=Y.us(4),$=Y.us(4);
Y.RR(r,h);Y.kZ(h,z);Y.Lm(h,C,5);Y.pI(h,.4,0);Y.M8(h,O,3);Y.YZ(O,h,9,3,!0,27);Y.kZ(z,O);Y.gq(O);var i=Y.gN(x,5,O);
for(var P=0;P<Y.XW;P++){z[P]=i[255-z[P]]}Y.pI(z,.4,0);Y.kZ(z,O);Y.M8(O,g,2);Y.YZ(g,O,5,3,!1,15);Y.Zh(h,w);
Y.Zh(O,w);Y.oF(N,2155905279);Y.oF($,q);Y.oF(t,u);Y._W($,h,N);Y._W(t,O,N)};R.D.a1F=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=new Uint8Array(256),C=5+10*b[1];C+=b[1]>3?(b[1]-3)*10:0;var w=~~(b[2]*.73)+50,q=Math.min(w+C,128),u=q-w,h=-255*w;
for(var P=0;P<256;P++){var z=P*65;x[P]=Y.B4(h/u);h+=255}var O=Y.us(1),g=Y.us(1),t=Y.us(1);Y.RR(r,O);
Y.kZ(O,t);Y.M8(O,g,2*b[0]+1);Y.sub(g,O);Y.Zh(O,65);Y.YZ(O,g,9,3,!0,20);for(var P=0;P<Y.XW;P++){var $=t[P],i=g[P];
O[P]=i>0?~~((i*$+(255-i)*128)/255):128}Y.M8(O,g,3);Y.YZ(g,O,15,2,!0,16);Y.YZ(g,t,15,2,!1,15);Y.xW(O,t);
Y.kY(t,g,2);Y.rG(g,x);Y.M8(g,O,2);Y.D1(O,N)};R.D.a2O=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);var x=2*b[0]+1,C=Y.T8[b[1]],w=b[2]*5.1,q=b[3],u=Y.us(1),h=Y.us(1),z=Y.us(4),O=Y.us(4);
Y.oF(z,q);Y.dE(z,N);Y.ih(u,w);Y.vJ(u,N);Y.bX(N,z);Y.RR(r,h);Y.M8(h,u,x);Y.sub(u,h);Y.Zh(h,C);Y.YZ(h,u,9,3,!0,20);
Y._W(r,u,z);Y.tF(z,N,3);Y.IO(N,z,15,2,!0,16);Y.IO(N,O,15,2,!1,16);Y.xW(z,O);Y.oT(O,N,2)};R.D.a0U=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=(15-b[0])/4+1,C=(15-b[1])/4+1,w=b[2],q=b[3],u=Y.sX(b[4]),h=b[5]+1,z=b[6],O=b[7],g=b[8],t=Y.us(1),$=Y.us(1),i=Y.us(1),A=Y.us(1),H=Y.us(4),F=Y.us(4);
Y.Eq(i,w,q,z);Y.RR(r,$);Y.M8($,t,5);Y.ma(i,t,A,h,u);Y.Zh(A,x);Y.$z(A,2);Y.gq(t);Y.ma(i,t,$,h,u);Y.Zh($,C);
Y.$z($,2);Y.oF(H,2155905279);Y.oF(F,O);Y.oF(N,g);Y._W(H,$,F);Y._W(F,A,N)};R.D.akQ=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[3]);var x=b[0],C=b[1]/10,w=b[2]/10,q=Y.us(1),u=Y.us(1),h=Y.us(1),z=Y.xL(),O=Y.xL(),g=Y.xL();
Y.hO(q);Y.M8(q,u,11);Y.M8(u,q,11);Y.Wj(q,z);Y.Nh(r,q);Y.kZ(q,h);Y.M8(q,u,9);Y.M8(u,q,9);Y.Wj(q,O);Y.AG(O,g,5);
Y.AG(g,O,5);Y.zG(z,.8);Y.a00(z,O,.8,.9);Y.Vg(O,q,x);Y.c4(q,u,2,2,1);Y.c4(u,q,2,2,3);Y.c4(q,u,2,2,3);
Y.c4(h,q,5,5,13);Y._j(u,q,u,C);Y.$A(q,u,u,w);Y.ma(u,u,q,5,1);Y.dE(r,N);Y.vJ(q,N);Y.bX(N)};R.D.ash=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=b[0],C=b[1]/2,w=b[2],q=x/2,u=Y.us(4),h=Y.us(4);Y.kZ(r,N);for(var z=0;z<w;z++){Y.IO(N,u,x,1,!0,q);
Y.IO(N,h,x,1,!1,q);Y.xW(h,u);Y.tF(u,h,2);Y.oT(h,N,C)}};R.D.ane=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);
var x=b[0]*10,C=b[1]*4.9,w=b[2]*4.9,q=Y.us(1),u=Y.us(1),h=Y.us(4),z=Y.us(4);Y.RR(r,q);Y.bg(q,Y.a27(q,x));
Y.M8(q,u,3);Y.IO(r,h,5,1,!1,1);Y.IO(r,N,15,2,!0,16);Y._W(N,u,h);Y.dE(h,N);Y.$S(N,q);Y.Lm(q,C,w);Y.vJ(q,N);
Y.bX(N)};R.D.a7O=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);Y.VK(b[4]);var x=b[0]/20,C=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][b[1]],w=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][b[2]],q=b[3],u=new Int16Array(256);
for(var P=0;P<256;P++){u[P]=~~((P-128)*x)}var h=Y.us(1),z=Y.us(1),O=Y.us(4);Y.RR(r,h);Y.M8(h,z,25);Y.Zh(z,C);
Y.$z(z,w);Y.M8(z,h,25);Y.hO(z);Y.M$(h,z,u);Y.kZ(r,N);Y.oF(O,q);Y._W(O,h,N)};R.D.ahM=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=b[0]+5,C=15-b[1],w=x*x/2,q=1-(3-b[2])/10,u=~~(C*C*q-1),h=~~(C*C*(1-q));if(h==0)h=1;var z=Y.us(1),O=Y.us(1),g=Y.us(1),t=Y.us(4);
Y.RR(r,g);Y.c4(g,z,x,x,w);Y.M8(g,O,x);Y.sub(z,O);Y.bg(O,1);Y.A$(r,t,C,C,u);Y.A$(r,N,C,C,h);Y._W(t,O,N)};
R.D.afe=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);Y.VK(b[3]);var x=(20-b[0])*.05,C=b[1]*-2.75+60,w=65-C,q=b[2]/10,u=Y.us(1),h=Y.us(1);
Y.Nh(r,h);var z=Y.gN(C,w,h);Y.dE(r,N);Y.$S(N,h);Y.hO(u);Y.YA(h,u,x);Y.rG(h,z);Y.Zh(h,b[2]/10);Y.add(u,h);
Y.vJ(h,N);Y.bX(N)};R.D.a1i=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);var x=5+b[0],C=15-b[1],w=b[2],q=x*x/2+x*x%2*1,u=1-(3-b[2])/10,h=~~(C*C*u-1),z=~~(C*C*(1-u));
if(z==0)z=1;var O=Y.us(1),g=Y.us(1),t=Y.us(1),$=Y.us(1),i=Y.us(1);Y.Nh(r,g);Y.kY(g,O,3);Y.c4(O,g,2,2,1);
var A=Y.gN(20,20,g);Y.rG(g,A);Y.M8(g,i,5);Y.c4(i,O,x,x,q);Y.c4(i,g,C,C,h);Y.c4(i,t,C,C,z);Y.M8(i,$,x);
Y.sub(O,$);Y.bg($,1);Y._Z(g,$,t);Y.dE(r,N);Y.vJ(t,N);Y.bX(N)};R.D.asI=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[5]);var x=Y.XW,C=Y.mu,w=b[0],q=b[1],u=b[2],h=b[3],z=b[4],O=.05*w+1,g=w/100,t=w>>1,$=2*w-100,i=+(q==9),A=+(q==7),H=[4,1][i],F=[3,2][i],T=[1,2][A],_=[2,1][A],V=[50,75][i],X=q<4?u:(u>>1)+50,o=Y.uV(V,X),c=Y._s(h),E=Y._s(z),f=Y.us(4),d=Y.us(4),s=Y.us(1),B=Y.us(1);
function a(N,o){if(X!=50){Y.n2(N,o)}}function U(r,hy){for(var P=0;P<x;P++){r[P]=Y.B4(r[P]+(hy[P]-128)*g)}}function M(r,hy){for(var P=0,v=0;
P<x;P++){r[v]=Y.B4(r[v]+(hy[v]-128)*g);r[v+1]=Y.B4(r[v+1]+(hy[v+1]-128)*g);r[v+2]=Y.B4(r[v+2]+(hy[v+2]-128)*g);
v+=4}}function W(r,N){Y.hO(d);Y.kZ(r,N);M(N,d);a(N,o)}function n(hy){var v=0;for(var ff=0;ff<12;ff++)v+=Y.random();
return Y.B4(t*(v-6)+hy)}function e(r,N){Y.kZ(r,N);for(var P=0;P<C;P+=4){N[P]=n(N[P]);N[P+1]=n(N[P+1]);
N[P+2]=n(N[P+2])}a(N,o)}function Q(r,N){Y.kZ(r,N);for(var P=0;P<C;P+=4){if(Y.random()<g){N[P]=c[0];N[P+1]=c[1];
N[P+2]=c[2]}}a(N,o)}function J(r,N){Y.hO(f);Y.A$(f,d,F,F,H);Y.kZ(r,f);M(f,d);Y.A$(f,N,5,5,13);a(N,o)}function m(r,N){Y.hO(d);
Y.kZ(r,f);M(f,d);a(N,o);Y.A$(f,N,F,F,H)}function p(r,N){Y.kZ(r,f);a(N,o);Y.RR(f,s);for(var P=0,hy=0;
P<x;P++){var v=(($-s[P]+255)*128.5+.5)/32767;if(Y.random()<=v){N[hy++]=E[0];N[hy++]=E[1];N[hy++]=E[2]}else{N[hy++]=c[0];
N[hy++]=c[1];N[hy++]=c[2]}N[hy]=r[hy];hy++}}function L(r,N){Y.dE(r,N);Y.$S(N,s);Y.kY(s,B,O);Y.c4(B,s,F,F,H);
Y.rG(s,o);Y.vJ(s,N);Y.bX(N)}function S(r){var hy=0;if(q==8){for(var v=0;v<j;v++){r[hy++]=~~(Y.random()*255)}for(var P=1;
P<D;P++){for(var v=0;v<j;v++){r[hy++]=r[v]}}}else{for(var P=0;P<D;P++){var ff=~~(Y.random()*255);for(var v=0;
v<j;v++){r[hy++]=ff}}}}function eJ(r,N){Y.RR(r,s);Y.hO(B);U(s,B);S(B);U(s,B);Y.tF(r,f,9);Y.tF(f,d,9);
Y.M8(s,B,2);Y.rG(B,o);Y.M8(B,s,2);Y.dE(d,N);Y.vJ(s,N);Y.bX(N)}[W,e,Q,J,J,m,p,eJ,eJ,L][q](r,N)};R.D.asF=function(r,j,D,N,b){var Y=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],x=R.D.L,t=0,$,P,T,_,V,X=0,o=1,c=255;
x.J1(j,D);x.VK(b[3]);var C=x.us(1),w=x.us(1);x.RR(r,C);var q=b[0],u=b[1],h=u<=50?Y[u]/255:1+(255-Y[101-u])/255,z=b[2],O=C.length,g=new Float32Array(O),i=1+1/10*q,A=(1-1/i)/2,H=16/256,F=j-1;
for(P=0;P<x.XW;P++){g[P]=C[P]/255;w[P]=q==1?x.random()<1/255?c:o:o}function E(f,d){var s=f*j+d;if(w[s]!=o||f>=D||d>=j){return}var _=g[s],B=h-_,a=x.random(),U=a/i+A;
if(t==0||Math.abs(V-_)>H){$=U<=B?X:c;t=~~(x.random()*q)}else if(.1<a){t--}else{t=0}w[s]=$;V=_}if(z==0){for(P=0;
P<j;P++){for(T=0;T<j;T++){_=P+T;if(_>=j)break;E(T,F-_)}t=0}for(P=1;P<D;P++){for(T=0;T<D;T++){_=P+T;if(_>=D||T>=j)break;
E(_,F-T)}t=0}}else if(z==1){for(P=0;P<D;P++){for(T=0;T<j;T++){E(P,T)}t=0}}else if(z==2){for(P=0;P<j;
P++){for(T=0;T<j;T++){_=P+T;if(_>=j)break;E(T,_)}t=0}for(P=1;P<D;P++){for(T=0;T<D;T++){_=P+T;if(_>=D||T>=j)break;
E(_,T)}t=0}}else{for(P=0;P<j;P++){for(T=0;T<D;T++){E(T,P)}t=0}}x.D1(w,N)};R.D.a7y=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=b[0],C=b[1],w=b[2],q=Y.us(1),u=Y.us(1),h=Y.us(1),z=Y.us(4),O=Y.us(4);Y.RR(r,q);Y.c4(q,u,3,3,1);
Y.c4(q,h,3,3,9);Y.sub(h,u);Y.M8(u,q,3);Y.Lm(q,40,10);Y.IO(r,N,x,2,!1,x);Y.IO(r,z,x,2,!0,x);Y.oF(O,255);
Y._W(N,q,O);Y._W(O,q,z);Y.oT(z,N,1);Y.dE(N);Y.$S(N,q);Y.Lm(q,C,w);Y.vJ(q,N);Y.bX(N)};R.D.ada=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[3]);var x=b[0],C=b[1],w=b[2]/10;x=x+C;var q=Y.us(1),u=Y.us(1),h=Y.xL(),z=Y.xL();Y.hO(q);
Y.M8(q,u,11);Y.M8(u,q,11);Y.Wj(q,h);Y.AG(h,z,5);Y.AG(z,h,5);Y.zG(z,.97);Y.Vg(z,q,x);Y.c4(q,u,C,C,1);
Y.Nh(r,q);Y._j(u,q,u,.6);Y.$A(q,u,u,w);Y.ma(u,u,q,5,1);Y.dE(r,N);Y.vJ(q,N);Y.bX(N)};R.D.ajY=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=Math.abs(b[0]),C=x+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][x],w=2*x+1,q=b[1]/10,u=q*13/15,h=Y.us(1),z=Y.us(1),O=Y.us(1),g=Y.us(1),t=Y.us(4),$=Y.us(4),i=Y.us(4),A=Y.us(4),H=Y.us(4);
Y.RR(r,h);if(b[0]>=0){Y.gq(h)}Y.kZ(h,O);Y.M8(h,g,C);Y.M8(g,h,C);Y.Zh(h,q);Y.kZ(h,z);Y.M8(h,g,w);Y.M8(g,h,w);
Y.Zh(h,u);Y.oF(i,b[2]);Y.oF(A,b[3]);Y.oF(H,b[4]);Y._W(i,h,A,t);Y._W(H,z,t,$);Y._W(A,O,$,N);Y.$S(r,O,3);
Y.vJ(O,N,3)};R.D.a5l=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);Y.VK(b[5]);var x=b[0]*5.1,C=b[1]/100,w=Y.XR[b[2]],q=Y.us(1),u=Y.us(1),h=Y.us(1);
Y.RR(r,q);Y.ih(u,255);Y.hO(h);Y.bg(q,x);Y.YA(u,q,.7);Y.YA(h,q,C);Y.ma(q,q,u,5,w);Y.kZ(r,N);Y.asV(N,x,b[4],b[3]);
Y.dE(N);Y.vJ(u,N);Y.bX(N)};R.D.afi=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);var x=b[0],C=4-b[1],w=11-b[2],q=Y.us(1),u=Y.us(1),h=Y.us(4);
Y.Nh(r,u);for(var P=0;P<C;P++){Y.kZ(u,q);Y.$G(q,u,x,x)}Y.tF(r,h,x);Y.dE(h,h);Y.vJ(u,h);Y.bX(h,h);(w<11?Y.ao4:Y.kZ)(h,N,w)};
R.D.a0Q=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);Y.VK(b[2]);var x=b[0]+5,C=~~(x/5+1),w=~~(x/2)+1,q=w*w,u=~~(x/3),h=Y.XR[b[1]],z=new Array(256);
for(var P=0;P<256;P++){z[P]=~~(.2*(P-128))}var O=Y.us(1),g=Y.us(1);Y.ajD(r,N,x);Y.dE(N);Y.$S(N,O);Y.hO(g);
Y.M$(O,g,z);Y.a2X(g,x,x,C,C);Y._j(O,g,O,1);Y.M8(O,g,u);Y.M8(g,O,u);Y.c4(O,g,w,w,q);Y.ma(g,g,O,5,h);Y.vJ(O,N);
Y.bX(N)};R.D.a6c=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);var x=Y.us(1),C=Y.us(1),w=Y.us(1),q=Y.xL(),u=Y.xL();
Y.RR(r,x);Y.M8(x,C,b[2]);Y.bg(C,b[0]*5.1);Y.c4(C,x,2,2,4);Y.M8(x,C,3);Y.M8(C,x,3);Y.kZ(x,w);Y.M8(x,C,5);
Y.M8(C,x,5);Y.Wj(x,q);Y.AG(q,u,5);Y.AG(u,q,5);Y.akr(q,C,b[1]);Y.gq(C);Y._j(w,C,w,1);Y.D1(w,N)};R.D.ai5=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=1<<7-b[2],C=Y.us(1),w=Y.us(1),q=Y.us(1);Y.Nh(r,w);Y.M8(w,C,3);Y.kZ(C,w);Y.M8(C,q,b[0]+5);
Y.sub(q,w);Y.Lm(w,1,b[1]);Y.Zh(C,1/x);Y.Zh(C,x);Y.sub(C,w);Y.dE(r,N);Y.vJ(w,N);Y.bX(N)};R.D.ahz=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[3]);var x=Y.us(1),C=Y.us(1),w=Y.us(1);Y.RR(r,x);Y.abr(C,b[0]/50);Y.M8(C,w,3);Y.c4(x,C,9,9,41);
Y.Lm(C,b[1],b[2]);Y._j(C,w,w,.75);Y.$A(C,w,C,.5);Y.kZ(C,x);Y.c4(x,w,3,3,8);Y._j(w,C,w,.75);Y.Zh(w,1.2);
Y.kY(w,x,1);Y.M8(x,w,2);Y.kY(w,x,2);Y.Zh(x,1.2);Y.M8(x,w,2);Y.D1(w,N)};R.D.ajT=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=b[0]+9,C=b[1]/2,w=b[2],q=b[3],u=Y.sX(b[4]),h=b[5]+1,z=b[6],O=Y.us(1),g=Y.us(1),t=Y.us(4),$=Y.us(4);
Y.Eq(g,w,q,z);Y.zg(r,N,x,1,1);Y.zg(N,t,x,1,1);Y.ahX(t,t,$,7,C);Y.Zh($,1.2);Y.$z($,1.2);Y.ma(g,O,O,h,u);
Y.Zh(O,3);Y.kZ(r,N);Y._W($,O,N)};R.D.a9F=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);Y.VK(b[3]);var x=b[0]+4,C=x*2/5+(x%5|0);
x--;var w=b[1]*-2.75+60,q=65-w,u=b[2]/10,h=Y.us(1),z=Y.us(1);Y.hO(h);Y.Nh(r,z);var O=Y.gN(w,q,z);Y.dE(r,N);
Y.$S(N,z);Y.YA(z,h,.8);Y.rG(z,O);Y.Zh(z,u);Y.add(h,z);Y.YZ(z,h,x,3,!1,C);Y.vJ(h,N);Y.bX(N)};R.D.a32=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[3]);var x=b[0]+5,C=(x*x>>1)+x%2,w=b[1]/10,q=b[2],u=(q*q>>1)+q%2,h=Y.us(1),z=Y.us(1),O=Y.us(1),g=Y.us(4),t=Y.us(4),$=Y.us(4);
Y.hO(O);Y.dE(r,$);Y.$S($,h);Y.YA(h,O,.8);Y.M8(O,h,3);Y.kY(h,O,w);Y.vJ(O,$);Y.bX($,$);Y.RR($,O);Y.c4(O,h,x,x,C);
Y.M8(O,z,x);Y.sub(h,z);Y.bg(z,1);Y.A$($,g,7,7,40);Y.A$($,t,7,7,10);Y._W(g,z,t);Y.A$(t,N,q,q,u)};R.D.a2d=function(r,j,D,N,b){var Y=R.D.L,C=255,P,q;
Y.J1(j,D);var x=b[0];if(x<2)C=x;else if(x<12)C=5*x-5;else if(x<47)C=2*x+28;else if(x<50){P=x-47;C=125+12.5*P+12.5*P*P}var w=new Uint8Array(256);
for(P=75,q=15;P<256;P++,q+=24)w[P]=Math.min(255,q);var u=Y.us(1),h=Y.us(1),z=Y.us(1);Y.RR(r,u);Y.M8(u,h,11);
Y.M8(h,z,11);Y.sub(z,u);Y.Zh(u,8);Y.sub(z,u);Y.bg(u,C);Y.gq(u);Y.M8(u,h,5);Y.bg(h,51);Y.M8(h,u,b[1]);
Y.M8(u,h,b[1]);Y.gq(h);Y.rG(h,w);Y.D1(h,N)};R.D.ap7=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);var x=Y.T8[b[1]],C=b[2],w=C*1.5,q=Y.us(1),u=Y.us(1),h=Y.us(1);
Y.Nh(r,q);Y.YZ(q,u,15,2,!0,15);Y.kZ(u,h);Y.Lm(h,C,w);Y.M8(h,q,3);Y.M8(u,h,b[0]);Y.sub(h,u);Y.Zh(u,x);
Y.sub(q,u);Y.M8(u,q,3);Y.YZ(q,u,3,1,!1,1);Y.tF(r,N,15);Y.dE(N);Y.vJ(u,N);Y.bX(N)};R.D.a8m=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);Y.VK(b[3]);var x=b[0]*5.1,C=16-b[1],w=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][b[2]],q=Y.us(1),u=Y.us(1),h=Y.us(1);
Y.RR(r,q);Y.bg(q,x);Y.M8(q,u,C);Y.M8(u,q,C);Y.hO(h);Y.$A(q,h,h,1);Y._j(q,h,q,.75);Y.Zh(q,w);Y.$z(q,w);
Y.c4(q,u,2,2,2);Y.D1(u,N)};R.D.ata=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);var x=b[0]+9,C=b[1]+9,w=b[2],q=b[3],u=Y.sX(b[4]),h=b[5]+1,z=b[6],O=Y.us(1),g=Y.us(1),t=Y.us(1),$=Y.us(1),i=Y.us(1),A=Y.us(4);
Y.Nh(r,O);Y.$G(O,t,x,x);Y.M8(t,O,C);Y.kZ(t,i);Y.kZ(O,$);Y.sub(i,$);Y.sub(O,i);Y.add(i,$);Y.Zh($,10);
Y.Eq(g,w,q,z);Y.ma(g,O,i,h,u);Y._Z(i,$,t,.8);Y.tF(r,A,9);Y.tF(A,N,9);Y.dE(N);Y.vJ(t,N);Y.bX(N)};R.D.apK=function(r,j,D,N,b){var Y=R.D.L;
Y.J1(j,D);var x=16-b[0],C=b[1]*8,w=1-(3-b[2])/10,q=~~(x*x*w-1),u=~~(x*x*(1-w));if(u==0)u=1;var h=Y.us(1),z=Y.us(1),O=Y.us(1),g=Y.us(4);
Y.RR(r,O);Y.c4(O,h,7,7,25);Y.M8(O,z,7);Y.sub(h,z);Y.bg(z,1);Y.A$(r,g,x,x,q);Y.A$(r,N,x,x,u);Y._W(g,z,N);
Y.dE(N);Y.$S(N,h);Y.c4(h,O,3,3,1);Y.c4(h,z,3,3,9);Y.sub(z,O);Y.kZ(O,z);Y.sub(h,O);Y.sub(O,z);Y.c4(z,h,3,3,8);
Y.Lm(h,C,1);Y.vJ(h,N);Y.bX(N)};R.D.a1N=function(r,j,D,N,b){var Y=R.D.L;Y.J1(j,D);Y.VK(b[3]);var x=b[0],C=b[1],w=b[2],q=x>>1,u=Math.max(~~(x/5),1),h=Math.max(~~(x*2/3),1),z=Y.uV(C,w),O=Y.us(1),g=Y.us(1),t=Y.us(1),$=Y.us(1),i=Y.us(4);
Y.Nh(r,O);Y.QU(2147483647,4,2,2,0,255,g);Y.QU(4,2147483647,2,2,0,255,$);Y.hO(t);Y.$A(g,t,g,1);Y.$A($,t,$,1);
Y.$A(g,O,g,1);Y.$A($,O,$,1);Y.tF(r,i,q);Y.tF(i,N,q);Y.c4(g,O,1,x,u);Y.c4(O,g,3,x,h);Y.c4($,O,x,1,u);
Y.c4(O,$,x,3,h);Y.xW(g,$);Y.dE(N);Y.vJ($,N);Y.bX(N);Y.n2(N,z)};R.D.L={};R.D.L.oW=0;R.D.L.qg=0;R.D.L.XW=0;
R.D.L.IQ=0;R.D.L.mu=0;R.D.L.J1=function(r,j){var D=r*j,self=R.D.L;self.oW=r;self.qg=j;self.XW=D;self.IQ=D<<1;
self.mu=D<<2};R.D.L.VK=function(r){R.D.L.random=function(){var j=r+=1831565813;j=Math.imul(j^j>>>15,j|1);
j^=j+Math.imul(j^j>>>7,j|61);return((j^j>>>14)>>>0)/4294967296}};R.D.L.us=function(r){var j=R.D.L;return new Uint8Array([-1,j.XW,j.IQ,-1,j.mu][r])};
R.D.L.xL=function(){return new Int32Array(R.D.L.IQ)};R.D.L.M8=function(r,j,D,N){if(N==null)N=D;var self=R.D.L,b=self.oW,Y=self.qg;
R.Fg.pY(r,j,new bf(0,0,b,Y),D>>>1);return};R.D.L.AG=function(r,j,D,N){var self=R.D.L,b=new Int32Array(self.XW),Y=new Int32Array(self.XW);
for(var P=0;P<2;P++){self.$S(r,b,P,2);self.M8(b,Y,D,N);self.vJ(Y,j,P,2)}};R.D.L.tF=function(r,j,D,N){var self=R.D.L,b=self.us(1),Y=self.us(1);
for(var P=0;P<4;P++){self.$S(r,b,P);if(P<3)self.M8(b,Y,D,N);else Y=b;self.vJ(Y,j,P)}};R.D.L.zg=function(r,j,D,N,b){var self=R.D.L,Y=self.oW,x=self.qg,C=D+N-1,w=D>>1,q=C>>1,u=0,h=D*N,z=new Int32Array(D);
for(var P=0;P<x;P++){var O=0,g=0,t=0;for(var $=0;$<D;$++){var i=b?C-$-N:$;for(var A=i,H=N+i;A<H;A++){var F=0-q+A,T=P-w+$;
if(A==i){z[$]=F}if(F<0)F=0;else if(F>=Y)F=Y-1;if(T<0)T=0;else if(T>=x)T=x-1;var _=Y*T+F<<2;O+=r[_];g+=r[_+1];
t+=r[_+2]}}j[u++]=~~(O/h);j[u++]=~~(g/h);j[u++]=~~(t/h);j[u]=r[u];u++;for(var V=1;V<Y;V++){for(var $=0;
$<D;$++){var T=P-w+$,i=z[$]+1;z[$]=i;var X=i-1,o=i+N-1;if(T<0)T=0;else if(T>=x)T=x-1;if(X<0)X=0;else if(X>=Y)X=Y-1;
if(o<0)o=0;else if(o>=Y)o=Y-1;var c=T*Y+X<<2,E=T*Y+o<<2;O=O+r[E]-r[c];g=g+r[E+1]-r[c+1];t=t+r[E+2]-r[c+2]}j[u++]=~~(O/h);
j[u++]=~~(g/h);j[u++]=~~(t/h);j[u]=r[u];u++}}};R.D.L.YZ=function(r,j,D,N,b,Y){var self=R.D.L,x=self.oW,C=self.qg,w=D+N-1,q=D>>1,u=w>>1,h=0,z=new Int32Array(D),O=new Int32Array(256),g=new Int32Array(16);
for(var P=0;P<C;P++){O.fill(0);g.fill(0);for(var t=0;t<D;t++){var $=b?w-t-N:t;for(var i=$,A=N+$;i<A;
i++){var H=0-u+i,F=P-q+t;if(i==$){z[t]=H}if(H<0)H=0;else if(H>=x)H=x-1;if(F<0)F=0;else if(F>=C)F=C-1;
O[r[F*x+H]]++;g[r[F*x+H]>>>4]++}}j[h++]=R.D.L.bE(g,O,Y);for(var T=1;T<x;T++){for(var t=0;t<D;t++){var F=P-q+t,$=z[t]+1;
z[t]=$;var _=$-1,V=$+N-1;if(F<0)F=0;else if(F>=C)F=C-1;if(_<0)_=0;else if(_>=x)_=x-1;if(V<0)V=0;else if(V>=x)V=x-1;
var X=r[F*x+_],o=r[F*x+V];O[X]--;O[o]++;g[X>>>4]--;g[o>>>4]++}j[h++]=R.D.L.bE(g,O,Y)}}};R.D.L.IO=function(r,j,D,N,b,Y){var self=R.D.L,x=self.us(1),C=self.us(1);
for(var P=0;P<4;P++){self.$S(r,x,P);if(P<3)self.YZ(x,C,D,N,b,Y);else C=x;self.vJ(C,j,P)}};R.D.L.c4=function(r,j,D,N,b){b=Math.min(N*D,b);
var self=R.D.L,Y=self.oW,x=self.qg,C=N>>1,w=D>>1,q=0,u=new Int32Array(N),h=new Int32Array(256),z=new Int32Array(16);
for(var P=0;P<x;P++){h.fill(0);z.fill(0);for(var O=0;O<N;O++){for(var g=0,t=D;g<t;g++){var $=0-w+g,i=P-C+O;
if(g==0){u[O]=$}if($<0)$=0;else if($>=Y)$=Y-1;if(i<0)i=0;else if(i>=x)i=x-1;h[r[i*Y+$]]++;z[r[i*Y+$]>>>4]++}}j[q++]=R.D.L.bE(z,h,b);
for(var A=1;A<Y;A++){for(var O=0;O<N;O++){var i=P-C+O,H=u[O]+1;u[O]=H;var F=H-1,T=H+D-1;if(i<0)i=0;else if(i>=x)i=x-1;
if(F<0)F=0;else if(F>=Y)F=Y-1;if(T<0)T=0;else if(T>=Y)T=Y-1;var _=r[i*Y+F],V=r[i*Y+T];h[_]--;h[V]++;
z[_>>>4]--;z[V>>>4]++}j[q++]=R.D.L.bE(z,h,b)}}};R.D.L.bE=function(r,j,D){var N=0,b=0;while(N+r[b>>>4]<D){N+=r[b>>>4];
b+=16}for(;b<256;b++){N+=j[b];if(N>=D)break}return b};R.D.L.A$=function(r,j,D,N,b){var self=R.D.L,Y=self.us(1),x=self.us(1);
for(var P=0;P<4;P++){self.$S(r,Y,P);if(P<3)self.c4(Y,x,D,N,b);else x=Y;self.vJ(x,j,P)}};R.D.L.kY=function(r,j,D){var self=R.D.L,N=self.oW,b=self.qg,Y=0;
for(var P=0;P<b;P++){var x=P*N,C=(P-1)*N,w=(P+1)*N;if(C<0)C=x;if(w>=b)w=x;for(var q=0;q<N;q++){var u=q-1,h=q+1;
if(u<0)u=q;if(h>=N)h=q;var z=x+u,O=x+h,g=C+q,t=w+q,$=x+q,i=r[z],A=r[O],H=r[g],F=r[t],T=r[$],_=T+(T*4*D+.5);
_=_-((i+A+F+H)*D+.5);j[Y++]=self.B4(_)}}};R.D.L.oT=function(r,j,D){var self=R.D.L,N=self.us(1),b=self.us(1);
for(var P=0;P<4;P++){self.$S(r,N,P);if(P<3)self.kY(N,b,D);else b=N;self.vJ(b,j,P)}};R.D.L.ao4=function(r,j,D){var self=R.D.L,N=self.oW,b=self.qg,Y=0,x=D+4;
for(var P=0;P<b;P++){var C=P*N,w=(P-1)*N,q=(P+1)*N;if(w<0)w=C;if(q>=b)q=C;for(var u=0;u<N;u++){var h=u-1,z=u+1;
if(h<0)h=u;if(z>=N)z=u;var O=C+h<<2,g=C+z<<2,t=w+u<<2,$=q+u<<2,i=C+u<<2;for(var A=0;A<3;A++){var H=r[O+A],F=r[g+A],T=r[t+A],_=r[$+A],V=r[i+A];
j[Y++]=(V*D+H+F+_+T)/x}j[Y]=r[Y];Y++}}};R.D.L.$G=function(r,j,D,N){var self=R.D.L,b=self.oW,Y=self.qg,x=D>>1,C=N>>1,w=0,q=new Int32Array(D),u=new Int32Array(256);
for(var P=0;P<Y;P++){u.fill(0);for(var h=0;h<D;h++){for(var z=0,O=N;z<O;z++){var g=0-C+z,t=P-x+h;if(z==0){q[h]=g}if(g<0)g=0;
else if(g>=b)g=b-1;if(t<0)t=0;else if(t>=Y)t=Y-1;u[r[t*b+g]]++}}var $=0,i=0;for(var A=0;A<256;A++){if($<u[A]){i=A;
$=u[A]}}j[w++]=i;for(var H=1;H<b;H++){for(var h=0;h<D;h++){var t=P-x+h,F=q[h]+1;q[h]=F;var T=F-1,_=F+N-1;
if(t<0)t=0;else if(t>=Y)t=Y-1;if(T<0)T=0;else if(T>=b)T=b-1;if(_<0)_=0;else if(_>=b)_=b-1;u[r[t*b+T]]--;
u[r[t*b+_]]++}$=0;i=0;for(var A=0;A<256;A++){if($<u[A]){i=A;$=u[A]}}j[w++]=i}}};R.D.L.acL=[function(r,j,D,N,b,Y,x,C,w,q){return b+(r+j+D)*q-(w+C+x)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(j+D+Y)*q-(C+x+N)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(D+Y+w)*q-(x+N+r)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(Y+w+C)*q-(N+r+j)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(w+C+x)*q-(r+j+D)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(C+x+N)*q-(j+D+Y)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(x+N+r)*q-(D+Y+w)*q},function(r,j,D,N,b,Y,x,C,w,q){return b+(N+r+j)*q-(Y+w+C)*q}];
R.D.L.ma=function(r,j,D,N,b){var self=R.D.L,Y=self.oW,x=self.qg,C=Y,w=self.acL[N-1];for(var P=0;P<x;
P++){var q=(P>0?P-1:0)*C,u=P*C,h=(P<x?P+1:P)*C;for(var z=0;z<Y;z++){var O=z>0?z-1:0,g=z<Y?z+1:z,t=u+z,$=r[q+O],i=r[q+z],A=r[q+g],H=r[u+O],F=j[t],T=r[u+g],_=r[h+O],V=r[h+z],X=r[h+g];
D[t]=self.B4(w($,i,A,H,F,T,_,V,X,b))}}};R.D.L.ahX=function(r,j,D,N,b){var self=R.D.L,Y=self.us(1),x=self.us(1),C=self.us(1);
for(var P=0;P<3;P++){self.$S(r,Y,P);self.$S(j,x,P);self.ma(Y,x,C,N,b);self.vJ(C,D,P)}self.$S(j,Y,3);
self.vJ(Y,D,3)};R.D.L.RR=function(r,j){var D=r.length,N=0;for(var P=0;P<D;P++){j[N++]=~~((r[P++]+r[P++]+r[P++]+2)/3)}};
R.D.L.D1=function(r,j){var D=j.length,N=0;for(var P=0;P<D;P++){var b=r[P];j[N++]=b;j[N++]=b;j[N++]=b;
j[N++]=255}if(j[0]==255)j[0]--;else j[0]++};R.D.L.Nh=function(r,j){var D=j.length,N=0;for(var P=0;P<D;
P++){var b=r[N++],Y=r[N++],x=r[N++];N++;if(Y>b)b=Y;if(x>b)b=x;j[P]=b}};R.D.L.dE=function(r,j){if(j==null)j=r;
var D=r.length;for(var N=0;N<D;N+=4){var b=r[N],Y=r[N+1],x=r[N+2],C=b,w=0,q=b,h;if(Y<=b){b=Y}else{w=1;
q=Y}if(x<=q){if(b>x){b=x}}else{w=2;q=x}var u=q-b;if(u!=0){if(w==0){h=~~(43*(Y-x)/u)}else if(w==1){h=~~(43*(x+2*u-C)/u)}else{h=43*(C+4*u-Y)/u}if(h<0){h=255&h-1}j[N]=h;
j[N+1]=~~(255*u/q)}else{j[N]=u;j[N+1]=u}j[N+2]=q;j[N+3]=r[N+3]}};R.D.L.bX=function(r,j){if(j==null)j=r;
var D=r.length;for(var N=0;N<D;N+=4){var b=r[N],Y=r[N+1],x=r[N+2];if(Y){if(b==255)b=0;var C=~~(6*b/255),w=~~(-255*C+6*b);
if(C==0){j[N]=x;j[N+1]=~~(x*(255-Y*(255-w)/255)/255);j[N+2]=~~(x*(255-Y)/255)}else if(C==1){j[N]=~~(x*(255-Y*w/255)/255);
j[N+1]=x;j[N+2]=~~(x*(255-Y)/255)}else if(C==2){j[N]=~~(x*(255-Y)/255);j[N+1]=x;j[N+2]=~~(x*(255-Y*(255-w)/255)/255)}else if(C==3){j[N]=~~(x*(255-Y)/255);
j[N+1]=~~(x*(255-Y*w/255)/255);j[N+2]=x}else if(C==4){j[N]=~~(x*(255-Y*(255-w)/255)/255);j[N+1]=~~(x*(255-Y)/255);
j[N+2]=x}else{j[N]=x;j[N+1]=~~(x*(255-Y)/255);j[N+2]=~~(x*(255-Y*w/255)/255)}}else{j[N]=x;j[N+1]=x;j[N+2]=x}j[N+3]=r[N+3]}};
R.D.L.vJ=function(r,j,D,N){if(D==null)D=2;if(N==null)N=4;var b=r.length;for(var P=0;P<b;P++){j[D]=r[P];
D+=N}};R.D.L.$S=function(r,j,D,N){if(D==null)D=2;if(N==null)N=4;var b=j.length;for(var P=0;P<b;P++){j[P]=r[D];
D+=N}};R.D.L._Z=function(r,j,D,N){if(N==null)N=1;var b=j.length,Y=0,x;for(var Y=0;Y<b;Y++){x=j[Y];if(x){x*=N;
D[Y]=~~((x*r[Y]+(255-x)*D[Y])/255)}}};R.D.L._W=function(r,j,D,N){if(N==null)N=D;var b=j.length,Y=0,x,C;
for(var P=0;P<b;P++){x=j[P];if(x){C=255-x;N[Y]=~~((x*r[Y]+C*D[Y])/255);N[Y+1]=~~((x*r[Y+1]+C*D[Y+1])/255);
N[Y+2]=~~((x*r[Y+2]+C*D[Y+2])/255)}N[Y+3]=r[Y+3];Y+=4}};R.D.L._j=function(r,j,D,N){var b=~~(N*255),Y=D.length;
for(var P=0;P<Y;P++){D[P]=((255-b*(255-r[P])/255)*j[P]+r[P]*(b*(255-r[P])/255))/255}};R.D.L.$A=function(r,j,D,N){var b=~~(N*255),Y=D.length;
for(var P=0;P<Y;P++){D[P]=((255-b*r[P]/255)*j[P]+r[P]*(b*r[P]/255))/255}};R.D.L.YA=function(r,j,D){var N=j.length;
for(var P=0;P<N;P++){j[P]=~~(r[P]*D+.5)+(j[P]-~~(j[P]*D+.5))}};R.D.L.sub=function(r,j){var D=r.length;
for(var P=0;P<D;P++){j[P]=Math.max(r[P]-j[P],0)}};R.D.L.add=function(r,j){var D=r.length;for(var P=0;
P<D;P++){j[P]=Math.min(r[P]+j[P],255)}};R.D.L.xW=function(r,j){var D=r.length;for(var P=0;P<D;P++){j[P]=r[P]+j[P]>>1}};
R.D.L.kZ=function(r,j){var D=r.length;for(var P=0;P<D;P++){j[P]=r[P]}};R.D.L.rG=function(r,j){var D=r.length;
for(var P=0;P<D;P++){r[P]=j[r[P]]}};R.D.L.n2=function(r,j){var D=R.D.L.mu;for(var P=0;P<D;P+=4){var N=r[P],b=r[P+1],Y=r[P+2],x=N;
if(b>N)x=b;if(Y>N)x=Y;var C=j[x];if(C){r[P]=~~(C*N/x);r[P+1]=~~(C*b/x);r[P+2]=~~(C*Y/x)}else{r[P]=C;
r[P+1]=C;r[P+2]=C}}};R.D.L.Zh=function(r,j){for(var P=0,D=r.length;P<D;P++){r[P]=Math.min(255,~~(.5+r[P]*j))}};
R.D.L.$z=function(r,j){for(var P=0,D=r.length;P<D;P++){r[P]=255-Math.min(255,~~(.5+(255-r[P])*j))}};
R.D.L.gq=function(r){var j=r.length;for(var P=0;P<j;P++){r[P]=255-r[P]}};R.D.L.bg=function(r,j,D,N){if(D==null)D=0;
if(N==null)N=255;for(var P=0,b=r.length;P<b;P++){r[P]=r[P]>=j?N:D}};R.D.L._s=function(r){return[r>>24&255,r>>16&255,r>>8&255,r&255]};
R.D.L.asV=function(r,j,D,N){if(D==null)D=255;if(N==null)N=4278190335;var b=R.D.L,Y=b.mu,x=b._s(D),C=b._s(N);
for(var P=0;P<Y;P+=4){var w=~~((r[P]+r[P+1]+r[P+2]+2)/3);if(w>=j){r[P]=x[0];r[P+1]=x[1];r[P+2]=x[2]}else{r[P]=C[0];
r[P+1]=C[1];r[P+2]=C[2]}}};R.D.L.oF=function(r,j){var D=R.D.L,N=D.mu,b=D._s(j);for(var P=0;P<N;){r[P++]=b[0];
r[P++]=b[1];r[P++]=b[2];r[P++]=b[3]}};R.D.L.ih=function(r,j){var D=r.length;for(var P=0;P<D;){r[P++]=j}};
R.D.L.uV=function(r,j){r=r>5?(100-Math.max(4,r))/100:.95;j=j!=100?Math.max(4,j)/100:.9995;var D=new Uint8Array(256),N=j>.5?.5/(1-j):j*2,b=~~(N*256),Y=~~((.5-r*N)*256)<<8;
for(var P=0;P<256;P++){D[P]=R.D.L.B4(Y>>8);Y+=b}return D};R.D.L.hO=function(r){for(var P=0,j=R.D.L,D=r.length;
P<D;P++){r[P]=~~(j.random()*256)}};R.D.L.abr=function(r,j){for(var P=0,D=R.D.L,N=r.length;P<N;P++){r[P]=D.random()<j?255:0}};
R.D.L.pI=function(r,j,D){for(var P=0,N=R.D.L,b=r.length;P<b;P++){if(N.random()<j)r[P]=D}};R.D.L.M$=function(r,j,D){var N=r.length;
for(var P=0;P<N;P++){r[P]=R.D.L.B4(r[P]+D[j[P]])}};R.D.L.S1=function(r){var j=new Uint32Array(256);for(var P=0,D=r.length;
P<D;P++){j[r[P]]++}return j};R.D.L.gN=function(r,j,D){var self=R.D.L,N=self.S1(D),b=self.XW/100,Y=new Uint8Array(256),x=b*r,C=b*j,w=0,q=-1,u=256;
do{w+=N[++q]}while(w<=x);w=0;do{w+=N[--u]}while(w<=C);if(u-q<=0)u=q+1;if(u>255){u=255;q=254}var h=255/(u-q),z=-q;
for(var P=0;P<256;P++){Y[P]=self.B4(h*z+.5);z++}return Y};R.D.L.Lm=function(r,j,D){var N=R.D.L;N.rG(r,N.gN(j,D,r))};
R.D.L.a27=function(r,j){var self=R.D.L,D=self.S1(r),N=self.XW*j/100,b=0,Y=-1;do{b+=D[++Y]}while(b<=N);
return Y};R.D.L.Wj=function(r,j){var D=0,self=R.D.L,N=self.oW,b=self.qg,Y=1/Math.PI,x=Y*255;for(var P=0;
P<b;P++){var C=P+1;if(C==b)C--;var w=P*N,q=~~((1-(P+1)/b)*255);for(var u=0;u<N;u++){var h=u+1;if(h==N)h--;
var z=r[w+u],O=r[w+h],g=r[C*N+u];if(z-g==0){j[D++]=q}else{var t=z-g+255;if(t==255){t=0}else{t=~~(Math.atan2(1/(255-t),1)*x+.5);
if(t<0)t+=255}j[D++]=t}if(z-O==0){j[D++]=~~((1-(u+1)/N)*255)}else{var t=z-O+255;if(t==255){t=0}else{t=~~(Math.atan2(1/(255-t),1)*x+.5);
if(t<0)t+=255}j[D++]=t}}}};R.D.L.zG=function(r,j){var self=R.D.L,D=self.oW,N=self.qg,b=0;for(var P=0;
P<N;P++){for(var Y=0;Y<D;Y++){r[b]=~~(P*j+.5)+~~(r[b]*(1-j)+.5);b++;r[b]=~~(Y*j+.5)+~~(r[b]*(1-j)+.5);
b++}}};R.D.L.a00=function(r,j,D,N){var self=R.D.L,b=self.oW,Y=self.qg,x=0;for(var P=0;P<Y;P++){for(var C=0;
C<b;C++){j[x]=~~(j[x]*(1-D)+.5)+~~(r[x]*N+.5);x++;j[x]=~~(j[x]*(1-D)+.5)+~~(r[x]*N+.5);x++}}};R.D.L.Vg=function(r,j,D){var self=R.D.L,N=self.oW,b=self.qg,Y=0,x=0;
for(var P=0;P<b;P++){for(var C=0;C<N;C++){var w=r[Y++],q=r[Y++];j[x++]=q%D>=2&&w%D>=2?255:0}}};R.D.L.QU=function(r,j,D,N,b,Y,x){var self=R.D.L,C=self.oW,w=self.qg,q=0,u=0,h=0;
for(var P=0;P<w;P++){var z=P%r<D||w-D<=P;for(var O=0;O<C;O++){x[q++]=z||O%j<N||C-N<=O?b:Y}}};R.D.L.Eq=function(r,j,D,N){var self=R.D.L,b=self.oW,Y=self.qg,x=cQ.Eq(j),C=x[0],w=x[1],q=R.O(C.Z()*4);
q.fill(4294967295);R.gx(w,q);var u=R.scale.ab(q,C.d,C.r),h=R.scale.B_(u,null,b,Y,D/100,D/100,0,0);R.ni(h,r,0);
if(N)R.gq(r)};R.D.L.B4=function(r){return~~Math.min(255,Math.max(0,r))};R.D.L.T8=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
R.D.L.XR=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];R.D.L.sX=function(r){return r>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][r-41]:r/40};
R.D.L.ajD=function(r,j,D){var self=R.D.L,N=self.oW,b=self.qg,Y=D,x=D>>1,C=x-1,w=Y*Y,q=0;for(var P=0;
P<b;P++){var u=0,h=0,z=0,O=~~(P/D)*D,g=0;for(var t=0;t<Y;t++){for(var $=0;$<Y;$++){var i=g+$,A=O+t;if(i>=N)i=N-1;
if(A>=b)A=b-1;u+=r[A*N+i<<2];h+=r[(A*N+i<<2)+1];z+=r[(A*N+i<<2)+2]}}var H=~~(u/w),F=~~(h/w),T=~~(z/w);
j[q]=H;j[q+1]=F;j[q+2]=T;j[q+3]=r[q+3];q+=4;for(var _=1;_<N;_++){for(var t=0;t<Y;t++){var V=_-1,X=V+Y,A=O+t;
if(X>=N)X=N-1;if(A>=b)A=b-1;var o=A*N,c=o+X<<2,E=o+V<<2;u+=r[c]-r[E];h+=r[c+1]-r[E+1];z+=r[c+2]-r[E+2]}if(_%D==0){H=~~(u/w);
F=~~(h/w);T=~~(z/w)}j[q]=H;j[q+1]=F;j[q+2]=T;j[q+3]=r[q+3];q+=4}}};R.D.L.a2X=function(r,j,D,N,b){var self=R.D.L,Y=self.oW,x=self.qg,C=0,w=0,q=0,u=0;
for(var P=u;P<x+u;P++){var h=P%j>=N||P<N||x+u-N<=P;for(var z=0;z<Y;z++){r[C++]=h&&(z%D>=b||z<b||Y-b<=z)?255:0}}};
R.D.L.akr=function(r,j,D){var N=function(q,u){return u<=q?q/u&1?u-q%u:q%u:q},b=[function(C,w){return N(C,255)/255},function(C,w){return(255+N(C,255)-N(w,255))/510},function(C,w){return(255-N(w,255))/255},function(C,w){return(510-N(C,255)-N(w,255))/510},function(C,w){return(255-N(C,255))/255},function(C,w){return(255-N(C,255)+N(w,255))/510},function(C,w){return N(w,255)/255},function(C,w){return(N(C,255)+N(w,255))/510}][D],Y=0,x=0;
for(var P=0;P<R.D.L.XW;P++){var C=r[Y++],w=r[Y++];j[x++]=~~(255*b(C,w))}};R.D.anh=function(){var r=[],j=new Uint8Array(512),D=new Float32Array(512),N=new Float32Array(512),b=[1,-1,1,-1,1,-1,0,0],Y=[1,1,-1,-1,0,0,1,-1],x=0,C,g=0;
for(;x<256;x++)r[x]=x;while(x!=0){x--;C=Math.floor(Math.random()*x);r[C]^=r[x]^(r[x]=r[C])}function w(w){w=Math.floor(w*65536);
if(w<256){w|=w<<8}for(var P=0;P<256;P++){var i=P+256,A=r[P]^(P&1?w:w>>8)&255;j[P]=j[i]=A;A=A%8;D[P]=D[i]=b[A];
N[P]=N[i]=Y[A]}}function q(i){return i*i*i*(i*(i*6-15)+10)}function u(i,A,H){return(1-H)*i+H*A}function h(i,A){return i&A}function z(i,A){return i%A}function O(i,A,H,F,T){var _=Math.floor(i),V=Math.floor(A),x,X,o,c,E,f;
i=i-_;A=A-V;_=_&255;V=V&255;x=_+j[V];c=D[x]*i+N[x]*A;x=_+j[T(V+1,F)];o=D[x]*i+N[x]*(A-1);x=T(_+1,H)+j[V];
E=D[x]*(i-1)+N[x]*A;x=T(_+1,H)+j[T(V+1,F)];f=D[x]*(i-1)+N[x]*(A-1);X=q(i);return u(u(c,E,X),u(o,f,X),q(A))}function t(i,x,A){i[x]=A}function $(i,A,H,F,T){var _=Math.min(Math.min(A,256),Math.min(256,H)),V=_==256||_<8,X=8,o=new Uint32Array(X),c=new Uint32Array(X),E=new Float32Array(X),f=new Float32Array(X),d=1,s=1,B=V?h:z,a=t,U;
for(var P=0;P<X;P++){U=s*1/_;if(V){c[P]=(1<<Math.ceil(Math.log2(H*U)))-1;o[P]=(1<<Math.ceil(Math.log2(A*U)))-1}else{c[P]=U*H;
o[P]=U*A}E[P]=d;f[P]=U;d*=.5;s=s<<1}w(Math.random());for(var M=0,x=0;M<H;M++){for(var W=0;W<A;W++){var n=0;
for(var e=0;e<X;e++){U=f[e];n+=O(W*U,M*U,o[e],c[e],B)*E[e]}a(F,x++,Math.round(Math.max(0,255*Math.min(1,.5+n*.5))))}}}return $}();
R.D.aok=function(){function r(j,D,N,b){var Y=new Uint8Array(j.length>>>2),x=new Uint8Array(j.length>>>2),C=new Uint8Array(j.length);
for(var P=0;P<j.length;P+=4){var w=j[P+0]*.3+j[P+1]*.59+j[P+2]*.11;x[P>>>2]=w;C[P]=j[P];C[P+1]=j[P+1];
C[P+2]=j[P+2]}R.tK.es(x,Y,D,N);R.tK.nT(j,b,D,N,R.tK.dc[1],0,!0);for(var P=0;P<j.length;P+=4){C[P+3]=255-Y[P>>>2]}for(var P=0,q=j.length;
P<q;P+=4){var u=C[P+3]/255;b[P]=C[P]*u+b[P]*(1-u);b[P+1]=C[P+1]*u+b[P+1]*(1-u);b[P+2]=C[P+2]*u+b[P+2]*(1-u)}}return r}();
R.D.abB=function(){function r(Y,x,C,w,q){var u=new Uint32Array(Y.buffer),h=0;for(var P=0;P<C;P++){for(var z=0;
z<x;z++,h+=4){var O=u[P*x+z],g=O&255,t=O>>>8&255,$=O>>>16&255,i=O>>>24&255,A=~~(Math.random()*8),H=A%3,F=0,T=0;
if(A<3){T--}else if(A>4){T++}if(H==0){F--}else if(H==2){F++}var _=z+F,V=P+T;if(_<0)_=0;else if(_>x-1)_=x-1;
if(V<0)V=0;else if(V>C-1)V=C-1;var O=u[V*x+_],X=O&255,o=O>>>8&255,c=O>>>16&255,E=O>>>24&255;w[h]=q(g,X);
w[h+1]=q(t,o);w[h+2]=q($,c);w[h+3]=q(i,E)}}}function j(Y,x){return x}function D(Y,x){return Y>x?x:Y}function N(Y,x){return Y<x?x:Y}function b(Y,x,C,w,q){var u=q[0];
if(u==0)r(Y,x,C,w,j);else if(u==1)r(Y,x,C,w,D);else if(u==2)r(Y,x,C,w,N);else if(u==3){console.error("Not implemented")}else console.error("Mew mew")}return b}();
R.D.afg=function(){function r(j,D,N,b,Y){var x=Y&&Y[0]?Y[0]:4,C,w,q,u,h,z,O;for(var P=0;P<N;P++){var g=Math.max(P-x,0),t=Math.min(P+x,N-1);
for(var $=0;$<D;$++){var i=Math.max($-x,0),A=Math.min($+x,D-1);C=g*D+i<<2;u=j[C];h=j[C+1];z=j[C+2];O=j[C+3];
C=g*D+A<<2;u+=j[C];h+=j[C+1];z+=j[C+2];O+=j[C+3];C=t*D+i<<2;u+=j[C];h+=j[C+1];z+=j[C+2];O+=j[C+3];C=t*D+A<<2;
u+=j[C];h+=j[C+1];z+=j[C+2];O+=j[C+3];C=P*D+$<<2;b[C]=u+2>>>2;b[C+1]=h+2>>>2;b[C+2]=z+2>>>2;b[C+3]=O+2>>>2}}}return r}();
R.D.a12=function(){function r(j,D,N,b){var Y=new Uint8Array(j.length),x=new Uint8Array(j.length>>>2),C=new Uint8Array(j.length>>>2);
R.tK.nT(j,Y,D,N,R.tK.dc[2],0,!0);for(var P=0;P<j.length;P+=4){var w=Y[P+0]*.3+Y[P+1]*.59+Y[P+2]*.11;
x[P>>>2]=w;b[P+0]=j[P+0];b[P+1]=j[P+1];b[P+2]=j[P+2];b[P+3]=j[P+3]}R.tK.es(x,C,D,N);for(var P=0;P<j.length;
P+=4){Y[P+3]=~~(Math.max(0,255-C[P>>>2]-50)*(255/205))}for(var P=0,q=j.length;P<q;P+=4){var u=Y[P+3]/255;
b[P]=Y[P]*u+b[P]*(1-u);b[P+1]=Y[P+1]*u+b[P+1]*(1-u);b[P+2]=Y[P+2]*u+b[P+2]*(1-u)}}return r}();R.D.SO=function(){function r(A,H){return A[H]+A[H+1]+A[H+2]+A[H+3]}function j(A,H){return A[H]+A[H+1]+A[H+2]+2*A[H+3]}function D(A,H,F,T){A[H]=F[T];
A[H+1]=F[T+1];A[H+2]=F[T+2];A[H+3]=F[T+3]}function N(A,H,F){A[H]=A[F];A[H+1]=A[F+1];A[H+2]=A[F+2];A[H+3]=A[F+3]}function b(A,H,F){A[F]=H[F];
A[F+1]=H[F+1];A[F+2]=H[F+2];A[F+3]=255-H[F+3]}function Y(A){for(var P=0,H=A.length;P<H;P+=4){A[P+3]=255-A[P+3]}}function x(){var A=Math.random();
if(A>.5)return 0;if(A>.25)return 1;if(A>.1)return 2;if(A>.02143)return 3;if(A>.00445)return 4;if(A>65e-5)return 5;
if(A>415e-6)return 6;if(A>55e-6)return 7;return 8}function C(A,H,F,T,_,V){A[H]=F[T]+(_[V]-F[T]>>1);A[H+1]=F[T+1]+(_[V+1]-F[T+1]>>1);
A[H+2]=F[T+2]+(_[V+2]-F[T+2]>>1);A[H+3]=F[T+3]+(_[V+3]-F[T+3]>>1)}function w(A,H,F,T,_,V){A[H]=_[V]+F[T]>>1;
A[H+1]=_[V+1]+F[T+1]>>1;A[H+2]=_[V+2]+F[T+2]>>1;A[H+3]=_[V+3]+F[T+3]>>1}function q(A,H,F,T,_,V,X,o,c){var E=0,f=0,d=0,P,s=_[V],B;
C(o,0,A,H,A,F);for(P=0;P<s;P++){C(o,(P+1)*4,o,P*4,A,F)}f=(s+1)*4;d+=s;V--;D(A,H,o,f-4);T[V]=r(A,H);H-=c;
while(V>0&&T[V-1]<T[V]){B=o;o=X;X=B;E=f;w(o,0,A,H-c,X,0);for(P=4;P<E;P+=4){w(o,P,o,P-4,X,P)}s=_[V];for(P=d;
P<s;P++){C(o,f,o,f-4,X,E-4);f+=4;d++}V--;D(A,H,o,f-4);T[V]=r(A,H);H-=c}}function u(A,H,F,T,_){var V=H*4,X=0,o,c,E=new Uint8Array(H+1),f=new Uint8Array(10*4),d=new Uint8Array(10*4);
for(var P=0;P<F;P++){b(T,A,X);_[0]=r(T,X);E[0]=x();o=X;X+=4;for(var s=1;s<H;s++){b(T,A,X);_[s]=r(T,X);
c=x();E[s]=c;if(_[s-1]<_[s]&&c>0){q(T,X-4,X,_,E,s,f,d,4)}X+=4}_[H]=_[0];E[H]=E[0];if(_[H-1]<_[H]&&c>0){q(T,X,o,_,E,H,f,d,4)}}Y(T)}function h(){var A=Math.random();
if(A>.659755)return 0;if(A>.1625)return 10;if(A>.06)return 20;if(A>.01)return 30;if(A>.0035)return 40;
if(A>65e-5)return 50;if(A>415e-6)return 60;if(A>55e-6)return 70;return 80}function z(A,H,F,T,_,V){var X=h()+1,o=T[_];
for(var P=1;P<X;P++){if(0>_)break;if(T[_-P]<o){N(A,H,F)}else{break}H+=V}}function O(A,H,F,T,_){var V=H*4,X=0;
for(var P=0;P<F;P++){b(T,A,X);_[0]=r(T,X);X+=4;for(var o=1;o<H;o++){b(T,A,X);_[o]=r(A,X);if(_[o-1]<_[o]){z(T,X-4,X,_,o,-4)}X+=4}_[H]=_[0];
if(_[o-1]<_[o]){z(T,X-4,X-V,_,o,-4)}}Y(T)}function g(A,H,F,T,_,V){var X=1,o,c,E=new Uint8Array(4),f,d=H;
while(Math.random()<1/X){d=H;if(T<=1)break;o=F[T];c=F[T-1];if(o<=c)break;D(E,0,A,d-V);f=!0;for(var P=T;
P<_;P++){if(c>F[P]){D(A,d-V,E,0);F[P-1]=c;f=!1;break}D(A,d-V,A,d);F[P-1]=F[P];d+=V}if(f){D(A,d-V,E,0);
F[_-1]=c}X++;T--;H-=V}}function t(A,H,F,T,_){var V=0,X=0,o=H*4;for(var P=0;P<F;P++){X=V;for(var c=0;
c<H;c++){b(T,A,V);_[c]=j(T,V);V+=4}V=X;for(var c=1;c<H;c++){if(_[c-1]<_[c]&&Math.random()<.66){g(T,V+4,_,c,H,4)}V+=4}V+=4}Y(T)}function $(A,H,F,T,_){var V=_[0],X=_[1],o=new Uint16Array(H+1),c=A,E=T,f;
if(X){f=T.slice(0);i(A,T,H,F);c=T;E=f}if(V==0)u(c,H,F,E,o);else if(V==1)O(c,H,F,E,o);else if(V==2)t(c,H,F,E,o);
if(X){i(f,T,H,F)}}function i(A,H,F,T){for(var _=0;_<T;_++)for(var V=0;V<F;V++){var X=_*F+V<<2,o=_*F+(F-1-V)<<2;
H[o]=A[X];H[o+1]=A[X+1];H[o+2]=A[X+2];H[o+3]=A[X+3]}}return $}();R.D.a3B=function(r,j,D,N,b){var Y=R.D.L,x=1,$=0,H=0;
Y.J1(j,D);Y.VK(b[2]);var C=3<<13,w=Math.PI/2.43,q=w/256,u=Math.PI*2/256;function h(){var V=Y.random()*256,X=Y.random()*256;
return x*~~(Math.tan(w-V*q)*325*Math.cos(X*u)*256)+C>>16}x=b[0];var z=b[1],O=(z+2)/2,g=Y.random()*255,t=Y.us(1);
for(var P=0;P<D;P++){var i=Y.B4(h()+g);for(var A=0;A<j;A++){i=Y.B4(h()+i);t[$++]=i}}$=j;for(var P=1;
P<D;P++){var F=Y.B4(h()+t[H++]);t[$++]=F;for(var A=1;A<j;A++){var T=H+1;if(A+1==j){T--}var _=(O+F+t[T]+t[H]*z)/(z+2);
F=Y.B4(h()+_);t[$++]=F;H++}}Y.D1(t,N)};var b2=function(){function r(m){m=m^61^m>>>16;m=m+(m<<3);m=m^m>>>4;
m=m*668265261;m=m^m>>>15;return m}var j=function(){var j=function(m){if(m){this.kD=m}this.kD=r(this.kD);
return(this.kD&16777215)*(1/16777215)};return j};function D(m,p){if(p==null){p=[0,0]}return Math.sqrt((p[0]-m[0])*(p[0]-m[0])+(p[1]-m[1])*(p[1]-m[1]))}function N(m,p){if(p==null){p=[0,0]}return[-(p[1]-m[1])/D(m,p),(p[0]-m[0])/D(m,p)]}function b(m){return[Math.cos(m),Math.sin(m)]}function Y(m){var p=D(m,[0,0]),L=[m[0]/p,m[1]/p],S=Math.atan(L[1]/L[0]);
if(L[0]>0&&L[1]<0){S+=2*Math.PI}else if(L[0]<0&&L[1]<0){S+=Math.PI}else if(L[0]<0&&L[1]>0){S+=Math.PI}return S}function x(m){var x=0;
for(var P=1;P<m.length/2;++P){x+=D([m[2*P],m[2*P+1]],[m[2*(P-1)],m[2*(P-1)+1]])}return x}function C(m,p,L){var S=new Float32Array(m.length),eJ=1/(m.length/2),hy=T(L);
for(var P=0;P<m.length/2;++P){var v=P*eJ,ff=v/2+.5,K=1,jo=0;if(L.shape==2){K=1/(2*ff)}if(L.shape==3){ff=(1-v)/2+.5;
K=1/(2*ff)+.5}if(L.shape==4){ff=v;K=Math.sin(3/2*Math.PI*ff)/4+1}if(L.shape==5){ff=(v-.5)*6;K=(-Math.atan(ff)/1.25+1)/5+.6-.2*v}var g5=[null,null];
if(P==0){g5=N([m[2*P],m[2*P+1]],[m[2*(P+1)],m[2*(P+1)+1]])}else if(P==m.length/2-1){g5=N([m[2*(P-1)],m[2*(P-1)+1]],[m[2*P],m[2*P+1]])}else{g5=N([m[2*(P-1)],m[2*(P-1)+1]],[m[2*(P+1)],m[2*(P+1)+1]])}S[2*P]=m[2*P]+(K*p+jo)*g5[0];
S[2*P+1]=m[2*P+1]+(K*p+jo)*g5[1];if(L.style==2){S[2*P]+=_(2*P/S.length,hy,L)}}return S}function w(m,p,L){var S=new Float32Array(m.length),eJ=1/(m.length/2);
for(var P=0;P<m.length/2;++P){var hy=P*eJ,v=[null,null],ff=.6*L.dh*o(hy,p.a6u)*L.IN/100,K=.6*L.dh*o(hy,p.alH)*L.IN/100,jo=p.a4a*ff+(1-p.a4a)*K;
if(P==0){v=N([m[2*P],m[2*P+1]],[m[2*(P+1)],m[2*(P+1)+1]])}else if(P==m.length/2-1){v=N([m[2*(P-1)],m[2*(P-1)+1]],[m[2*P],m[2*P+1]])}else{v=N([m[2*(P-1)],m[2*(P-1)+1]],[m[2*(P+1)],m[2*(P+1)+1]])}S[2*P]=m[2*P]+jo*v[0];
S[2*P+1]=m[2*P+1]+jo*v[1]}return S}function q(m){if(m.$y==1){return[.150684932,.205479452,.465753425,.178082192]}else if(m.$y==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var p=[],L=1/(d(m)-1);
for(var P=0;P<d(m)-1;++P){p.push(L)}return p}}function u(m,p,L){var S=[],eJ=p-m,hy=m;for(var P=0;P<L.length-1;
++P){S.push(hy+L[P]*eJ);hy=S[P]}return S}function h(m,p,L,S){var eJ=new Float32Array(L.length),hy=0,v={shape:Math.floor(S.random()*2.99),adr:S.random()*.1+.15};
for(var P=0;P<L.length-1;++P){var ff=hy+L[P];eJ[P]=((1-ff)*m+ff*p)*i(S,ff,v);hy=ff}return eJ}function z(m,p,L,S){var eJ=E(S),hy=S.random(),v=hy*20+(1-hy)*26,ff=new Float32Array(L.length),K=0;
for(var P=0;P<L.length-1;++P){var jo=K+L[P];ff[P]=(1-jo)*m+jo*p+eJ/v*(2/3*Math.sin(Math.PI*jo)+1/3*Math.sqrt(Math.sin(Math.PI*jo)));
K=jo}return ff}function O(m,p,L){var S=[];for(var P=0;P<p.length-1;++P){S.push(p[P].slice());var eJ=P*(d(L)-1),hy=(P+1)*(d(L)-1),v=m[hy]-m[eJ];
for(var ff=eJ+1;ff<hy;++ff){var K=T(L),jo=new Float32Array(p[0].length),g5=(m[ff]-m[eJ])/v;for(var fQ=0;
fQ<p[0].length/2;++fQ){jo[2*fQ]=(1-g5)*p[P][2*fQ]+g5*p[P+1][2*fQ];jo[2*fQ+1]=(1-g5)*p[P][2*fQ+1]+g5*p[P+1][2*fQ+1];
if(L.style==2){jo[2*fQ]+=_(2*fQ/p[0].length,K,L)}}S.push(jo)}}S.push(p[p.length-1]);return S}function g(m,p,L){var S=new Array(p.length),eJ=n(m),v=null;
for(var P=0;P<p.length;++P){S[P]=C(eJ,(p[P]-.5)*L.IN,L)}var hy=1+.05*L.ajj*E(L)/E({$y:1});for(var P=0;
P<p.length;++P){if(p[P]==0){v=P}}for(var P=0;P<p.length;++P){var ff=(L.random()-.5)*2,K=Math.round(L.random()*9+1),jo=new Float32Array(K*2+2);
for(var g5=0;g5<=K;++g5){jo[2*g5]=S[P][0]-(S[P][2*g5]-S[P][0]);jo[2*g5+1]=S[P][1]-(S[P][2*g5+1]-S[P][1])}if(P==v){ff*=.1}for(var g5=(S[P].length-1)/2;
g5>K;--g5){S[P][2*g5]=(1-ff)*S[P][2*g5]+ff*(S[P][2*(g5-K)]+hy*(S[P][2*g5]-S[P][2*(g5-K)]));S[P][2*g5+1]=(1-ff)*S[P][2*g5+1]+ff*(S[P][2*(g5-K)+1]+hy*(S[P][2*g5+1]-S[P][2*(g5-K)+1]))}for(var g5=K-1;
g5>=0;--g5){S[P][2*g5]=(1-ff)*S[P][2*g5]+ff*(jo[2*(K-g5)]+hy*(S[P][2*g5]-jo[2*(K-g5)]));S[P][2*g5+1]=(1-ff)*S[P][2*g5+1]+ff*(jo[2*(K-g5)+1]+hy*(S[P][2*g5+1]-jo[2*(K-g5)+1]))}}var fQ=X(p,L);
if(L.dh>0){var iT=0;for(var P=0;P<p.length;++P){if(P==0){iT+=p[P]}else{iT+=Math.abs(p[P]-p[P-1])}var ac=iT-Math.floor(iT),aR=1;
if(ac==0){aR=0}S[P]=w(S[P],{a6u:fQ[Math.floor(iT)],alH:fQ[Math.floor(iT)+aR],a4a:ac},L)}}return S}function t(m,p){var L=a(p,m),S=U(p,m),eJ=[],hy=[],v=[],ff=q(m);
for(var P=0;P<p.length-1;++P){eJ.push(p[P]);hy.push(L[P]);v.push(S[P]);var K=u(p[P],p[P+1],ff),jo=h(L[P],L[P+1],ff,m),g5=z(S[P],S[P+1],ff,m);
for(var fQ=0;fQ<K.length;++fQ){eJ.push(K[fQ]);hy.push(jo[fQ]);v.push(g5[fQ])}}eJ.push(p[p.length-1]);
hy.push(L[L.length-1]);v.push(S[S.length-1]);return{aot:eJ,aa6:hy,$D:v}}function $(m,p,L,S){var eJ=new Float32Array(2*S),hy=m.length/2,v=hy-p,ff=L*v,K=ff/S;
for(var P=0;P<S;++P){var jo=Math.floor(p+P*K),g5=Math.ceil(p+P*K),L=p+P*K,fQ=g5-jo,iT=1,ac=0;if(fQ!=0){iT=(g5-L)/fQ;
ac=(L-jo)/fQ}eJ[2*P]=iT*m[2*jo]+ac*m[2*g5];eJ[2*P+1]=iT*m[2*jo+1]+ac*m[2*g5+1]}return eJ}function i(m,p,L){var S=L.adr,eJ=p*2*Math.PI,hy=eJ,v=0;
if(L.shape==0){v=(Math.sin(2*hy+Math.PI/2)+1)/2}else if(L.shape==1){v=(Math.sin(hy+Math.PI/2)+1)/2}else{v=(4*Math.sin(3/4*hy+Math.PI)+Math.sin(Math.PI/2+2*hy)-2*hy/Math.PI+6)/7}return Math.min(1,1-S+S*v)}function A(m,p,L,S){var eJ=[];
for(var P=0;P<m.length;++P){eJ.push($(m[P],p[P],L[P],S))}return eJ}function H(m,p,L){var S=[];for(var P=0;
P<m.length;++P){var eJ=b(2*Math.PI*L.random()),hy=b(2*Math.PI*L.random()),v=L.U4*.5*s({$y:1})/s(L),ff=v*L.IN/200,K=v*p/500,jo=new Float32Array(m[0].length);
for(var g5=0;g5<m[0].length/2;++g5){var fQ=b(2*Math.PI*L.random()),iT=2*g5/m[0].length;jo[2*g5]=m[P][2*g5]+ff*(fQ[0]+((1-iT)*eJ[0]+iT*hy[0]));
jo[2*g5+1]=m[P][2*g5+1]+K*(fQ[1]+((1-iT)*eJ[1]+iT*hy[1]))}S.push(jo)}return S}function F(m,p,L){var S=L.ob,eJ=2/S,hy=[1/10,1/30,1/40,1/45,1/100],v=hy[L.$y-1],ff=4*(L.opacity/25*eJ*v)*(1-L.U4/150),fQ=0,ac=0;
if(L.style==3){return ff*.09}var K=2.2*(m-.5),jo=K*K*K*K+.27+Math.max(0,(L.opacity-50)/15),g5=2*(Math.sin(3*Math.PI*p)/(Math.PI*p+2)+1.1)-p/2;
p=2*p;if(p<.41){var iT=2*Math.PI*p/.41;fQ=(Math.sin(iT-Math.PI/2)+1)/4+.5}else if(p<.77){var iT=2*Math.PI*(p-.41)/.36;
fQ=(Math.sin(iT-Math.PI/2)+1)/4+.5-iT/2/Math.PI*.5}else{var iT=2*Math.PI*(p-.77)/.23;fQ=(Math.sin(iT-Math.PI/2)+1)/2*.12}fQ*=3;
fQ+=Math.max(0,(L.opacity-50)/15);if(L.type==6){ac=g5}else{ac=fQ}return ff*jo*ac}function T(m){return{G:m.random()*7/2+.5,St:m.random()*2*Math.PI}}function _(m,p,L){return L.IN/300*d({$y:1})/d(L)*10*(Math.sin(p.G*2*Math.PI*m+p.St)+10*(L.random()-.5))}function V(m){var p=Math.exp(-m.dh/25);
return{G:m.random()*3/2+.5,St:m.random()*2*Math.PI,RU:(m.random()-.5)*10*p}}function X(m,p){var L=Math.ceil(M(m)),S=[];
for(var P=0;P<=L;++P){S.push(V(p))}return S}function o(m,p){var L=p.G*4*Math.PI*m+p.St;return Math.exp(-1/2*Math.PI*m)*Math.cos(L)*Math.cos(L)*Math.cos(L)*Math.cos(L)*Math.cos(L)+m*p.RU-p.RU/4}function c(m,p,L,S,eJ){var hy=0,v=s(p)-1;
for(var P=0;P<v;++P){for(var ff=0;ff<m.length-1;ff+=d(p)-1){for(var K=P;K<m[0].length/2-v;K+=v){for(var jo=ff;
jo<ff+(d(p)-1);++jo){L[eJ+hy]=F(jo*(p.ob-1)/(m.length-1)%1,K/m[0].length,p);var g5=0,fQ=0;if(p.type==6&&jo!=0&&jo!=m.length-1){fQ=(m[jo][2*(K+1)+1]-m[jo][2*K+1])/2;
g5=(m[jo][2*(K+1)]-m[jo][2*K])/2}S[8*eJ+8*hy]=m[jo][2*K]+g5;S[8*eJ+8*hy+1]=m[jo][2*K+1]+fQ;S[8*eJ+8*hy+2]=m[jo][2*(K+v)]+g5;
S[8*eJ+8*hy+3]=m[jo][2*(K+v)+1]+fQ;S[8*eJ+8*hy+4]=m[jo+1][2*(K+v)];S[8*eJ+8*hy+5]=m[jo+1][2*(K+v)+1];
S[8*eJ+8*hy+6]=m[jo+1][2*K];S[8*eJ+8*hy+7]=m[jo+1][2*K+1];++hy}}}}}function E(m){var p=[100,300,500,700,1e3];
return p[m.$y-1]}function f(m){var p=[30,70,100,140,300];return p[m.$y-1]}function d(m){var p=[5,7,26,40,100];
return p[m.$y-1]}function s(m){if(m.$y==1){return 4}else if(m.$y==2){return 8}else{return Math.floor(f(m)/9)}}function B(m){var p=m.ob,L=new Float32Array(p),S=null;
for(var P=0;P<p;++P){L[P]=m.random()}if(m.ob<=3){L[0]=0;L[m.ob-1]=1}else{for(var P=0;P<2;++P){var eJ=Math.floor(m.random()*p);
if(S==null||S!=eJ){L[eJ]=P;S=eJ}else{L[eJ+1]=P}}}return L}function a(m,p){var L=[],S=.2,hy=0;for(var P=0;
P<m.length;++P){var eJ=p.random()*(1-S)+S;L.push(eJ)}var v=Math.min(3,p.ob);for(var P=0;P<m.length;++P){if(L[P]>.9){++hy}}while(hy<v){var ff=Math.floor(p.random()*m.length);
if(L[ff]<=.9){L[ff]=.9+.1*p.random();++hy}}return L}function U(m,p){var L=E(p),S=E({$y:1}),eJ=[];for(var P=0;
P<m.length;++P){eJ.push(Math.max(1,(p.random()*10+2)*L/S))}return eJ}function M(m){var p=0;for(var P=0;
P<m.length;++P){if(P==0){p+=m[P]}else{p+=Math.abs(m[P]-m[P-1])}}return p}function W(m,p){if(m.length/2-1==E(p)){return m}var L=new Float32Array(2*(E(p)+1)),S=(m.length-2)/(L.length-2);
for(var P=0;P<L.length/2;++P){var eJ=P*S,hy=Math.floor(eJ),v=Math.ceil(eJ),ff=v-hy,K=1,jo=0;if(ff!=0){K=(v-eJ)/ff;
jo=(eJ-hy)/ff}L[2*P]=K*m[2*hy]+jo*m[2*v];L[2*P+1]=K*m[2*hy+1]+jo*m[2*v+1]}return L}function n(m,p){var L=m.length/2,S=x(m),eJ=S/L,hy=!1,K=0,jo=0,g5=1;
if(p){var v=Math.floor(S/p.a8J),ff=p.a8J;if(p.a0j&&m[0]==m[m.length-2]&&m[1]==m[m.length-1]){hy=!0;ff=S/(v+1)}if(p.type==2&&!hy&&ff*v+p.length>S){L=v+1}else{L=v+2}eJ=ff}var fQ=new Float32Array(L*2);
fQ[0]=m[0];fQ[1]=m[1];for(var P=1;P<L;++P){while(K<=P*eJ){jo=K;K+=D([m[2*g5],m[2*g5+1]],[m[2*(g5-1)],m[2*(g5-1)+1]]);
++g5}var iT=1-(P*eJ-jo)/(K-jo);fQ[2*P]=(1-iT)*m[2*g5]+iT*m[2*(g5-1)];fQ[2*P+1]=(1-iT)*m[2*g5+1]+iT*m[2*(g5-1)+1]}fQ[fQ.length-2]=m[m.length-2];
fQ[fQ.length-1]=m[m.length-1];return fQ}function e(m,p){var L=n(m,p),S=[];for(var P=0;P<(L.length-2)/2;
++P){var eJ=[];eJ.push(L[2*P]);eJ.push(L[2*P+1]);var hy=D([L[2*(P+1)],L[2*(P+1)+1]],[L[2*P],L[2*P+1]]),v=[(L[2*(P+1)]-L[2*P])/hy,(L[2*(P+1)+1]-L[2*P+1])/hy],ff=b((p.akT-90)/360*2*Math.PI),K=v;
if(p.type==3){K=ff}else if(p.type==4){K=b(Y(v)+Y(ff))}else if(p.type==5){K=b(((p.random()-.5)*p.akT-90)/360*2*Math.PI)}var jo=p.length;
if(p.arj){jo=2*p.random()*p.length}eJ.push(L[2*P]+K[0]*jo);eJ.push(L[2*P+1]+K[1]*jo);S.push(eJ)}return S}function Q(m){if(m.a7J){m.on=100*Math.random()}else{m.on=m.ah5}m.random=new j;
m.random(m.on);if(m.type==6){m.ob=2;m.shape=5;m.ajj=0}}function J(m,p){m=W(m,p);var L=[m],jo=0;if(p.type>=2&&p.type<6){L=e(m,p)}var S=s(p)-1,eJ=f(p)-S,hy=(p.ob-1)*(d(p)-1),v=L.length*eJ*hy,ff=new Float32Array(v),K=new Float32Array(8*v);
for(var P=0;P<L.length;++P){for(var g5=0;g5<1e4;++g5){p.on=r(p.on)}p.random(p.on);var m=W(L[P],p),fQ=B(p),iT=M(fQ),ac=g(m,fQ,p),aR=t(p,fQ),hV=O(aR.aot,ac,p);
hV=A(hV,aR.$D,aR.aa6,f(p));if(p.U4>0){hV=H(hV,x(L[P]),p)}c(hV,p,ff,K,jo);jo+=eJ*hy}return[ff,K]}var b2=function(m){var p=performance.now(),L=m[0],S=m[1];
Q(S);var eJ=[new Float32Array(0),new Float32Array(0)];for(var P=0;P<L.length;++P){S.on=r(S.on);var hy=J(L[P],S),v=new Float32Array(eJ[0].length+hy[0].length),ff=new Float32Array(eJ[1].length+hy[1].length);
v.set(eJ[0]);v.set(hy[0],eJ[0].length);eJ[0]=v;ff.set(eJ[1]);ff.set(hy[1],eJ[1].length);eJ[1]=ff}var K=performance.now();
if(S.a7u){console.s1("Geometry: "+String(K-p)+"ms")}return eJ};return b2}(),cd=function(){function r(b,Y){var x=[],C=0,w=Y.length,q=0,u=0,h=new bf,z=0,O=1e9;
for(u=0;u<w;u++){var g=u*8,t=Y[u];if(t<O)O=t;var $=b[g+0],i=b[g+1],A=b[g+2],H=b[g+3],F=b[g+4],T=b[g+5],_=b[g+6],V=b[g+7],X=Math.min($,A,F,_),o=Math.max($,A,F,_),c=Math.min(i,H,T,V),E=Math.max(i,H,T,V),f=new bf(X,c,o-X,E-c),d=f.zs(h),s=z+t;
if(u-q<10&&(u==q||d.Z()*.8<f.Z()+h.Z())){h=d;z=s}else{x.push(u-q);q=u;h=f;z=t;O=t}}if(u!=q)x.push(u-q);
return x}function j(b,Y,x,C,w,q){var u=document.createElement("canvas"),i=0,v=.8;u.width=Y;u.height=x;
var h=u.getContext("2d"),z=w[0],O=w[1],g=new Float64Array(Y*x),t=Date.now(),$=r(O,z);for(var A=0;A<$.length;
A++){var H=i,F=i+$[A],V=1e9,o=1e9,a=0;i=F;var T=H*8,_=F*8,X=-V,c=-o;for(var E=T;E<_;E+=2){var f=O[E],d=O[E+1];
if(f<V)V=f;if(f>X)X=f;if(d<o)o=d;if(d>c)c=d}V=Math.floor(V);X=Math.ceil(X);o=Math.floor(o);c=Math.ceil(c);
var s=X-V,B=c-o;for(var U=H;U<F;U++)a+=z[U];for(var E=T;E<_;E+=8){var M=z[E>>>3],W=O[E+0],n=O[E+1],e=O[E+2],Q=O[E+3],J=O[E+4],m=O[E+5],p=O[E+6],L=O[E+7];
h.fillStyle="rgba(0,0,0,"+M/a+")";h.beginPath();h.moveTo(W,n);h.lineTo(e,Q);h.lineTo(J,m);h.lineTo(p,L);
h.closePath();h.fill()}var S=h.getImageData(V,o,s,B).data;for(var d=0;d<B;d++)for(var f=0;f<s;f++){var P=d*s+f,eJ=S[P*4+3],hy=(o+d)*Y+V+f;
if(eJ!=0)g[hy]+=eJ*a}h.clearRect(V,o,s,B)}var ff=q[1].color,K=Math.pow(ff.a/255,v),jo=Math.pow(ff.p/255,v),g5=Math.pow(ff.M/255,v),fQ=new bf(0,0,Y,x),iT=R.O(Y*x*4);
for(var d=0;d<x;d++)for(var f=0;f<Y;f++){var P=d*Y+f,U=P*4,z=g[P]*(1/255);iT[U]=N(K,z);iT[U+1]=N(jo,z);
iT[U+2]=N(g5,z);iT[U+3]=Math.min(255,z*255)}R.U.tI("norm",iT,fQ,C,fQ,fQ,1)}var D=new Uint8Array(2e3);
for(var P=0;P<2e3;P++)D[P]=255*Math.min(1,Math.log(P/700+1));function N(b,Y){return D[Math.min(1500,~~(b*Y*1e3))]}return j}();
R.be={a73:function(r,j){var P=r.length;r.push(j);var D=P>>>1;while(D!=0&&r[P][0]<r[D][0]){var N=r[P];
r[P]=r[D];r[D]=N;P=D;D=P>>>1}},ac7:function(r){if(r.length==2)return r.pop();var top=r[1],P=1;r[1]=r.pop();
var j=r.length;while(!0){var D=P<<1,N=D+1,b=P;if(D<j&&r[D][0]<r[b][0])b=D;if(N<j&&r[N][0]<r[b][0])b=N;
if(b==P)break;var Y=r[P];r[P]=r[b];r[b]=Y;P=b}return top},a7Q:function(r){for(var P=1;P<r.length;P++){var j=P,D=1e9;
while(j!=0){var N=r[j][0];if(N>D){console.log(P);throw"e"}D=N;j=j>>>1}}}};R.U={};R.U.jD=new Float64Array(256);
R.U.y3=new Uint8Array(256*256);R.U.S8=new Uint8Array(256*256);(function(){for(var P=0;P<256;P++)R.U.jD[P]=255/P;
for(var P=0;P<256;P++)for(var r=0;r<256;r++)R.U.y3[P*256+r]=P==0?0:Math.round(r*255/P);for(var P=0;P<256;
P++)for(var r=0;r<256;r++)R.U.S8[P*256+r]=Math.round(P*(255-r)/255)}());R.U.tI=function(r,j,D,N,b,Y,x,C){if(C==null)C=fx.Lo();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(r)==-1){x=x*C.fill;C.fill=1;C.style=!1}var w="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),q="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),u=R.U[r+"F"];
if(C.hT==null&&r=="norm")R.U.a64(j,D,N,b,Y,x,u,C.IB?1:0);else if(r=="diss")R.U.a10(j,D,N,b,Y,x,u,C.IB?1:0);
else if(w.indexOf(r)!=-1)R.U.aeL(j,D,N,b,Y,x,u,C);else if(q.indexOf(r)!=-1)R.U.akW(j,D,N,b,Y,x,u,C)};
R.U.aiP=function(r,j,D){var N=r*D+1-D;return N<.001?0:1-Math.min(1,(1-j)/N)};R.U.ao0=function(r,j,D){return r*D==1?1:Math.min(1,j/(1-r*D))};
R.U.lU=function(r){return r<=.25?((16*r-12)*r+4)*r:Math.sqrt(r)};R.U.normF=function(r,j,D){return r};
R.U.darkF=function(r,j,D){return Math.min(r,j)};R.U["mul F"]=function(r,j,D){return r*j};R.U.idivF=function(r,j,D){var N=r*D+1-D;
return j==1?1:1-j>=N?0:1-(1-j)/N};R.U.lbrnF=function(r,j,D){return Math.max(0,r*D+j-D)};R.U.dkClF=function(r,j,D){var N=R.le(r)<R.le(j)?r:j;
D.a=N.a;D.p=N.p;D.M=N.M;return D};R.U.liteF=function(r,j,D){return Math.max(r,j)};R.U.scrnF=function(r,j,D){return j+r-j*r};
R.U["div F"]=function(r,j,D){r*=D;return j==0?0:j>=1-r?1:j/(1-r)};R.U.lddgF=function(r,j,D){r*=D;return Math.min(1,r+j)};
R.U.lgClF=function(r,j,D){var N=R.le(r)>R.le(j)?r:j;D.a=N.a;D.p=N.p;D.M=N.M;return D};R.U.overF=function(r,j,D){return R.U.hLitF(j,r,D)};
R.U.sLitF=function(r,j,D){return r<=.5?j-(1-2*r)*j*(1-j):j+(2*r-1)*(R.U.lU(j)-j)};R.U.hLitF=function(r,j,D){return r<=.5?R.U["mul F"](2*r,j,D):R.U.scrnF(2*r-1,j,D)};
R.U.vLitF=function(r,j,D){return r<=.5?R.U.aiP(2*r,j,D):R.U.ao0(2*r-1,j,D)};R.U.lLitF=function(r,j,D){return r<=.5?R.U.lbrnF(2*r,j,D):R.U.lddgF(2*r-1,j,D)};
R.U.pLitF=function(r,j,D){return r<=.5?R.U.darkF(2*r,j,D):R.U.liteF(2*r-1,j,D)};R.U.hMixF=function(r,j,D){if(D>.99)return r+j<1?0:1;
return Math.min(1,Math.max(0,(j+r*D-D)/(1-D+1e-6)))};R.U.diffF=function(r,j,D){r*=D;return Math.abs(r-j)};
R.U.smudF=function(r,j,D){return r+j-2*r*j};R.U.fsubF=function(r,j,D){return Math.max(j-r,0)};R.U.fdivF=function(r,j,D){return Math.min(j/r,1)};
R.U["hue F"]=function(r,j,D){R.U.wX(r,R.K2(j),D);R.U.ci(D,R.le(j),D)};R.U["sat F"]=function(r,j,D){R.U.wX(j,R.K2(r),D);
R.U.ci(D,R.le(j),D)};R.U.colrF=function(r,j,D){R.U.ci(r,R.le(j),D)};R.U["lum F"]=function(r,j,D){R.U.ci(j,R.le(r),D)};
R.U.ci=function(r,j,D){var N=j-R.le(r);D.a=r.a+N;D.p=r.p+N;D.M=r.M+N;R.U.at4(D)};R.U.at4=function(r){var j=r.a,D=r.p,N=r.M,b=R.qO(j,D,N),eK=Math.min(j,D,N),Y=Math.max(j,D,N);
if(eK<0){var x=b/(b-eK);j=b+(j-b)*x;D=b+(D-b)*x;N=b+(N-b)*x}if(Y>1){var x=(1-b)/(Y-b);j=b+(j-b)*x;D=b+(D-b)*x;
N=b+(N-b)*x}r.a=j;r.p=D;r.M=N};R.U.wX=function(r,j,D){var N=R.U.ate,b=r.a,Y=r.p,x=r.M;if(b==Y&&Y==x){D.a=D.p=D.M=0}else if(b>Y){if(b>x){if(Y>x){D.a=j;
D.p=N(b,Y,x,j);D.M=0}else{D.a=j;D.M=N(b,x,Y,j);D.p=0}}else{D.M=j;D.a=N(x,b,Y,j);D.p=0}}else{if(b<x){if(Y>x){D.p=j;
D.M=N(Y,x,b,j);D.a=0}else{D.M=j;D.p=N(x,Y,b,j);D.a=0}}else{D.p=j;D.a=N(Y,b,x,j);D.M=0}}};R.U.ate=function(r,j,D,N){return(j-D)*N/(r-D)};
R.U.a64=function(r,j,D,N,b,Y,x,C){var w=j.su(N).su(b),q=Math.max(0,w.x-j.x),u=Math.max(0,w.x-N.x),h=Math.max(0,w.y-j.y),z=Math.max(0,w.y-N.y),O=w.d,g=w.r,t=j.d,$=N.d,i=R.U.y3,A=R.U.S8,H=new Uint32Array(r.buffer),F=new Uint32Array(D.buffer);
for(var P=0;P<g;P++){var T=(h+P)*t+q,_=(z+P)*$+u;for(var V=0;V<O;V++){var X=H[T+V],E=255;if(X>>>24==0)continue;
if(X>>>24==255&&Y==1&&C==0){F[_+V]=H[T+V];continue}var o=F[_+V],c=255*Y&255;if(C==0){c=(X>>>24)*Y&255;
E=o>>>24}var f=A[E<<8|c],d=c+f,s=X&255,B=X>>>8&255,a=X>>>16&255,U=o&255,M=o>>>8&255,W=o>>>16&255;F[_+V]=C*(o>>>24)+(1-C)*d<<24|i[d<<8|R.aY(a*c+W*f)]<<16|i[d<<8|R.aY(B*c+M*f)]<<8|i[d<<8|R.aY(s*c+U*f)]}}};
R.U.adH=function(r,j,D,N,b,Y){var x=j.su(N).su(b),C=Math.max(0,x.x-j.x),w=Math.max(0,x.x-N.x),q=Math.max(0,x.y-j.y),u=Math.max(0,x.y-N.y),h=x.d,z=x.r,O=j.d,g=N.d,t=R.U.y3,$=R.U.S8,i=new Uint32Array(r.buffer),A=new Uint32Array(D.buffer),H=Math.floor(Math.random()*16777215),F=0;
for(var P=0;P<z;P++){var T=(q+P)*O+C,_=(u+P)*g+w;for(var V=0;V<h;V++){var X=i[T+V];if(X>>>24==0)continue;
if(X>>24==255&&Y==1){A[_+V]=X;continue}var o=A[_+V],c=(X>>>24)*Y*(1/255),E=(o>>>24)*(1/255),f=E*(1-c),d=c+f,s=X&255,B=X>>>8&255,a=X>>>16&255,U=o&255,M=o>>>8&255,W=o>>>16&255;
F>>>=8;if((V&3)==0)F=R.U.PL(_+V+H);var n=d==0?0:1/d,e=Math.floor(d*(256*255))+(F&255)>>>8,Q=Math.floor((a*c+W*f)*n+.5),J=Math.floor((B*c+M*f)*n+.5),m=Math.floor((s*c+U*f)*n+.5);
A[_+V]=e<<24|Q<<16|J<<8|m}}};R.U.er=function(r,j,D,N,b,Y,x,C){var w=R.qO(r,j,D),q=R.qO(N,b,Y),u=Math.min,h=R.U.amN,z=h(w,C,0);
z=u(z,h(r,C,8));z=u(z,h(j,C,16));z=u(z,h(D,C,24));var O=h(q,C,4);O=u(O,h(N,C,12));O=u(O,h(b,C,20));O=u(O,h(Y,C,28));
O=Math.max(O,1-x);var g=Math.min(z,O);return g<0?0:g>1?1:g};R.U.amN=function(r,j,P){return Math.min((r-j[P])*j[P+1],(r-j[P+3])*j[P+2])};
R.U.aeL=function(r,j,D,N,b,Y,x,C){var w=1/255,q=w*Y,u=C.IB?1:0,h=C.fill,z=C.style,O=j.su(N).su(b),g=Math.max(0,O.x-j.x),t=Math.max(0,O.x-N.x),$=Math.max(0,O.y-j.y),i=Math.max(0,O.y-N.y),A=O.d,H=O.r,F=j.d,T=N.d,_=new Uint32Array(r.buffer),V=new Uint32Array(D.buffer);
for(var P=0;P<H;P++){var X=($+P)*F+g,o=(i+P)*T+t;for(var c=0;c<A;c++,X++,o++){var E=_[X],n=1;if(E>>>24==0)continue;
var f=V[o],d=(E&255)*w,s=(E>>>8&255)*w,B=(E>>>16&255)*w,a=(f&255)*w,U=(f>>>8&255)*w,M=(f>>>16&255)*w,W=Y;
if(u==0){W=(E>>>24)*q;n=(f>>>24)*w}if(C.hT)W*=R.U.er(d,s,B,a,U,M,n,C.hT);var e=n*(1-W),Q=W+e,J=Q==0?0:255/Q,m=z?1:W,p=((1-n)*W*d+(1-m)*n*a+m*n*x(d,a,(1+W-m)*h))*J,L=((1-n)*W*s+(1-m)*n*U+m*n*x(s,U,(1+W-m)*h))*J,S=((1-n)*W*B+(1-m)*n*M+m*n*x(B,M,(1+W-m)*h))*J;
Q=W*h+n*(1-W*h);var eJ=~~(Q*255+.5);V[o]=u*(f>>>24)+(1-u)*eJ<<24|S<<16|L<<8|p}}};R.U.akW=function(r,j,D,N,b,Y,x,C){var w=1/255,q=w*Y,u=C.IB?1:0,h=j.su(N).su(b),z=Math.max(0,h.x-j.x),O=Math.max(0,h.x-N.x),g=Math.max(0,h.y-j.y),t=Math.max(0,h.y-N.y),$=h.d,i=h.r,A=new Uint32Array(r.buffer),H=new Uint32Array(D.buffer),F={a:0,p:0,M:0},T={a:0,p:0,M:0},_={a:0,p:0,M:0};
for(var P=0;P<i;P++){var V=(g+P)*j.d+z,X=(t+P)*N.d+O;for(var o=0;o<$;o++,V++,X++){var c=A[V],E=H[X],f=(c&255)*w,d=(c>>>8&255)*w,s=(c>>>16&255)*w,B=(E&255)*w,a=(E>>>8&255)*w,U=(E>>>16&255)*w,M=Y,W=1;
if(u==0){M=(c>>>24)*q;W=(E>>>24)*w}if(C.hT)M*=R.U.er(f,d,s,B,a,U,W,C.hT);var n=W*(1-M),e=M+n,Q=255/e;
F.a=f;F.p=d;F.M=s;T.a=B;T.p=a;T.M=U;x(F,T,_);var J=(((1-W)*f+W*_.a)*M+B*n)*Q,m=(((1-W)*d+W*_.p)*M+a*n)*Q,p=(((1-W)*s+W*_.M)*M+U*n)*Q,L=u*(E>>>24)+(1-u)*Math.round(e*255);
H[X]=L<<24|p<<16|m<<8|J}}};R.U.pf=function(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;r=r*668265261;r=r^r>>15;
return(r&16777215)*(1/16777215)};R.U.PL=function(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;r=r*668265261;
r=r^r>>>15;return r};R.U.iv=function(r){this.VK=r};R.U.iv.prototype.get=function(){var r=this.VK=R.U.PL(this.VK);
return(r&16777215)*(1/16777215)};R.U.a10=function(r,j,D,N,b,Y,x,C){var w=1/255,q=w*Y,u=Math.round(Y*(256*256*256/255)),h=j.su(N).su(b),z=Math.max(0,h.x-j.x),O=Math.max(0,h.x-N.x),g=Math.max(0,h.y-j.y),t=Math.max(0,h.y-N.y),$=h.d,i=h.r,A=new Uint32Array(r.buffer),H=new Uint32Array(D.buffer);
for(var P=0;P<i;P++){var F=(g+P)*j.d+z,T=(t+P)*N.d+O;for(var _=0;_<$;_++,F++,T++){var V=A[F],X=H[T],o=C*255+(1-C)*(V>>>24);
if((R.U.PL(F)&16777215)>=o*u)continue;H[T]=V&16777215|C*(X>>>24)+(1-C)*255<<24}}};R.U.arg=function(r,j,D){for(var P=0;
P<r.length;P+=4){var N=D[P>>>2];if(N==0)continue;var b=N*(1/255),Y=1/b,x=j[P],C=j[P+1],w=j[P+2],q=r[P],u=r[P+1],h=r[P+2];
j[P]=Math.min(255,Math.max(0,Math.round((x-(1-b)*q)*Y)));j[P+1]=Math.min(255,Math.max(0,Math.round((C-(1-b)*u)*Y)));
j[P+2]=Math.min(255,Math.max(0,Math.round((w-(1-b)*h)*Y)));j[P+3]=255}};R.U.yI=function(r,j,D,N,b,Y,x,C,w,q,u){if(q==null)q=!1;
if(u==null)u=[1,1,1];var h=255<<24|u[2]*16711680|u[1]*65280|u[0]*255,z=~h;if(b&&!j.gy(Y)){var O=R.O(j.Z()*4);
O.fill(x);R.YO(b,Y,O,j);b=O;Y=j}if(q){if(b==null)R.U.amH(r,j,D,N,b,C,w,h,z);else R.U.aox(r,j,D,N,b,C,w)}else{if(b==null)R.U.adX(r,j,D,N,b,C,w,h,z);
else R.U.a6i(r,j,D,N,b,C,w)}};R.U.adX=function(r,j,D,N,b,Y,x,C,w){var q=1/255,u=j.su(N).su(Y),h=Math.max(0,u.x-j.x),z=Math.max(0,u.x-N.x),O=Math.max(0,u.y-j.y),g=Math.max(0,u.y-N.y),t=u.d,$=u.r,i=new Uint32Array(r.buffer),A=new Uint32Array(D.buffer),H=R.U.y3,F=x*255&255;
for(var P=0;P<$;P++){var T=(O+P)*j.d+h,_=(g+P)*N.d+z;for(var V=0;V<t;V++,T++,_++){var X=i[T],o=A[_],c=X>>>24,E=o>>>24,f=R.aY(F*c+(255-F)*E),d=R.aY(c*F),s=R.aY(E*(255-F)),B=X&255,a=X>>>8&255,U=X>>>16&255,M=o&255,W=o>>>8&255,n=o>>>16&255,e=d*B+M*s,Q=d*a+W*s,J=d*U+n*s;
e=H[f<<8|R.aY(e)];Q=H[f<<8|R.aY(Q)];J=H[f<<8|R.aY(J)];var m=f<<24|J<<16|Q<<8|e;A[_]=w&o|C&m}}};R.U.amH=function(r,j,D,N,b,Y,x,C,w){var q=1/255,u=j.su(N).su(Y),h=Math.max(0,u.x-j.x),z=Math.max(0,u.x-N.x),O=Math.max(0,u.y-j.y),g=Math.max(0,u.y-N.y),t=u.d,$=u.r,i=new Uint32Array(r.buffer),A=new Uint32Array(D.buffer),H=R.U.y3,F=x*16777215&16777215;
for(var P=0;P<$;P++){var T=(O+P)*j.d+h,_=(g+P)*N.d+z;for(var V=0;V<t;V++,T++,_++){if((R.U.PL(T)&16777215)<F){A[_]=w&A[_]|C&i[T]}}}};
R.U.a6i=function(r,j,D,N,b,Y,x){var C=1/255,w=j.su(N).su(Y),q=Math.max(0,w.x-j.x),u=Math.max(0,w.x-N.x),h=Math.max(0,w.y-j.y),z=Math.max(0,w.y-N.y),O=w.d,g=w.r,t=new Uint32Array(r.buffer),$=new Uint32Array(D.buffer),i=R.U.y3;
for(var P=0;P<g;P++){var A=(h+P)*j.d+q,H=(z+P)*N.d+u;for(var F=0;F<O;F++,A++,H++){var T=b[A]*x&255;if(T==0)continue;
if(T==255){$[H]=t[A];continue}var _=t[A],V=$[H],X=_>>>24,o=V>>>24,c=R.aY(T*X+(255-T)*o),E=R.aY(X*T),f=R.aY(o*(255-T)),d=_&255,s=_>>>8&255,B=_>>>16&255,a=V&255,U=V>>>8&255,M=V>>>16&255,W=i[c<<8|R.aY(E*d+a*f)],n=i[c<<8|R.aY(E*s+U*f)],e=i[c<<8|R.aY(E*B+M*f)];
$[H]=c<<24|e<<16|n<<8|W}}};R.U.aox=function(r,j,D,N,b,Y,x){var C=1/255,w=j.su(N).su(Y),q=Math.max(0,w.x-j.x),u=Math.max(0,w.x-N.x),h=Math.max(0,w.y-j.y),z=Math.max(0,w.y-N.y),O=w.d,g=w.r,t=new Uint32Array(r.buffer),$=new Uint32Array(D.buffer),i=R.U.y3,A=Math.round(x*257);
for(var P=0;P<g;P++){var H=(h+P)*j.d+q,F=(z+P)*N.d+u;for(var T=0;T<O;T++,H++,F++){var _=b[H]*A;if((R.U.PL(H)&65535)<_)$[F]=t[H]}}};
R.U.iU=function(r,j,D,N,b,Y,x){var C=1/255,w=j.su(N).su(Y),q=Math.max(0,w.x-j.x),u=Math.max(0,w.x-N.x),h=Math.max(0,w.y-j.y),z=Math.max(0,w.y-N.y),O=w.d,g=w.r,t=new Uint32Array(r.buffer),$=new Uint32Array(D.buffer),i=Math.floor(Math.random()*N.Z()),A=R.U.ado;
for(var P=0;P<g;P++){var H=(h+P)*j.d+q,F=(z+P)*N.d+u;for(var T=0;T<O;T++){var _=b[H+T]*x;if(_==0)continue;
if(_==255){$[F+T]=t[H+T];continue}var V=t[H+T],X=$[F+T],o=V>>>24,c=X>>>24,E=o*_*(1/255),f=c*(255-_)*(1/255),d=V&255,s=V>>>8&255,B=V>>>16&255,a=X&255,U=X>>>8&255,M=X>>>16&255,W=R.U.PL(F+T+i),n=Math.floor((E+f)*256+.5)+(W>>>0&255)>>>8,e=n==0?0:256/(E+f),Q=d*E+a*f,J=s*E+U*f,m=B*E+M*f,p=Math.floor(Q*e+.5)+(W>>>8&255)>>>8,L=Math.floor(J*e+.5)+(W>>>16&255)>>>8,S=Math.floor(m*e+.5)+(W>>>21&248)>>>8;
$[F+T]=n<<24|S<<16|L<<8|p}}};R.U.ado=function(r){return Math.floor(r+Math.random())};R.U.RP=function(r,j,D,N,b,Y,x){var C=1/255,w=j.su(N).su(Y),q=Math.max(0,w.x-j.x),u=Math.max(0,w.x-N.x),h=Math.max(0,w.y-j.y),z=Math.max(0,w.y-N.y),O=w.d,g=w.r;
for(var P=0;P<g;P++){var t=(h+P)*j.d+q,$=(z+P)*N.d+u;for(var i=0;i<O;i++,t++,$++){var A=x*b[t]*C;if(A==0)continue;
if(A==1){D[$]=r[t];continue}D[$]=r[t]*A+D[$]*(1-A)}}};R.sd={};R.sd.afC=function(r,j,D,N,b,Y){R.sd.cH(r,j,D,N,b,Y,null,0)};
R.sd.alP=function(r,j,D,N,b){R.sd.cH(r,j,D,N,b,null,null,0)};R.sd.ad5=function(r,j,D,N,b,Y,x){R.sd.cH(r,j,D,N,b,null,Y,x*.5)};
R.sd.cH=function(r,j,D,N,b,Y,x,C){var w=0,f=0,d=1e9,s=0,B=1e9,a=0,U=1e9,M=0,W=0,n=0,e=0;if(Y){w=b*.5;
b=3+Math.round((b-3)*.75)}if(x){b=Math.round(b*2.2)}var q=1/b,u=Math.floor(j*q)+1,h=Math.floor(D*q)+1,z=[],O=new Uint8Array(u*h*4),g=x?.5:1,t=Y?64:0;
for(var $=0;$<h;$++){var i=x?.5*($&1):0;for(var A=0;A<u;A++){var H=(A+Math.random()*g+i)*b,F=($+Math.random()*g)*b;
z.push(H,F);var T=Math.min(j-1,Math.floor(H)),_=Math.min(D-1,Math.floor(F)),V=(_*j+T)*4,X=($*u+A)*4;
for(var P=0;P<4;P++)O[X+P]=Math.max(0,Math.min(255,Math.floor(r[V+P]+(Math.random()-.5)*t)))}}var o=Y?Y:x?x:[0,0,0],c=u*h*2,E=[-u-1,-u,-u+1,-1,0,1,u-1,u,u+1];
for(var $=0;$<D;$++){n=0;for(var A=0;A<j;A++){var Q=A+.5,J=$+.5,m=Math.floor(J*q),p=Math.floor(Q*q),L=m*u+p,hy=0,v=0;
if(n>1+C){d=R.sd.ot(z,f,Q,J);M=Math.sqrt(d);n--;e++}else{d=B=U=1e9;for(var P=0;P<E.length;P++){var S=(L+E[P])*2;
if(S<0||S>=c)continue;var eJ=R.sd.ot(z,S,Q,J);if(eJ<U){if(eJ<B){if(eJ<d){a=s;U=B;s=f;B=d;f=S;d=eJ}else{a=s;
U=B;s=S;B=eJ}}else{a=S;U=eJ}}}M=Math.sqrt(d);W=Math.sqrt(B);n=W-(M+W)*.5}if(x==null){var ff=(M+W)*.5,K=Y?Math.max(0,ff-w):0;
hy=Math.max(0,Math.min(1,.5+ff-M-K));v=Math.max(0,Math.min(1,1-(.5+ff-M)-K))}else{var jo=Math.min(R.sd.Ul(z,f,s,Q,J),R.sd.Ul(z,f,a,Q,J));
hy=Math.max(0,Math.min(1,jo-C*.5));if(Q<C||j-C<Q||J<C||D-C<J)hy=0;v=0}var g5=1-v-hy,X=$*j+A<<2,fQ=f<<1,iT=s<<1;
N[X+0]=Math.floor(.5+hy*O[fQ+0]+v*O[iT+0]+g5*o[0]);N[X+1]=Math.floor(.5+hy*O[fQ+1]+v*O[iT+1]+g5*o[1]);
N[X+2]=Math.floor(.5+hy*O[fQ+2]+v*O[iT+2]+g5*o[2]);N[X+3]=r[X+3]}}};R.sd.ot=function(r,j,D,N){var b=D-r[j],Y=N-r[j+1];
return b*b+Y*Y};R.sd.Ul=function(r,j,D,N,b){var Y=r[j],x=r[j+1],C=r[D],w=r[D+1],q=(Y+C)*.5,u=(x+w)*.5,h=q+(w-x),z=u-(C-Y),O=z-u,g=h-q;
return Math.abs(O*N-g*b+h*u-z*q)/Math.sqrt(g*g+O*O)};R.Fg={};R.Fg.zV=function(r){if(R.Fg.x7.length<r)R.Fg.x7=R.O(r);
return R.Fg.x7};R.Fg.x7=R.O(0);R.Fg.Bb=function(r){if(R.Fg.ZP.length<r)R.Fg.ZP=new Float32Array(r);return R.Fg.ZP};
R.Fg.ZP=new Float32Array(0);R.Fg.hU=function(r,j,D,N){var b=D.d,Y=D.r;R.Fg.amj(r,j,b,Y,N)};R.Fg.Af=function(r,j,D,N){var b=D.d,Y=D.r;
R.Fg.amf(r,j,b,Y,N)};R.Fg.as5=function(r,j,D){var N=j.d,b=j.r;R.Fg.akm(r,N,b,D)};R.Fg.LK=function(r,j,D,N,b){var Y=D.d,x=D.r;
R.Fg.aaw(r,j,Y,x,N,b)};R.Fg.pY=function(r,j,D,N){var b=D.d,Y=D.r;N=Math.round(N);var x=R.Fg.zV(b*Y);
R.kZ(r,j);R.Fg.gr(j,x,b,Y,N)};R.Fg.eB=function(r,j,D){var N=j.d,b=j.r;D=Math.round(D);var Y=R.Fg.zV(N*b*4);
R.Fg.g8(r,Y,N,b,D)};R.Fg.Uq=function(r,j,D,N){var b=D.d,Y=D.r;N=Math.round(N);var x=R.Fg.Bb(b*Y);R.kZ(r,j);
R.Fg.r9(j,x,b,Y,N)};R.Fg.pX=function(r,j,D){var N=j.d,b=j.r;D=Math.round(D);var Y=R.Fg.zV(N*b*4);R.Fg.L6(r,Y,N,b,D);
R.kZ(Y,r)};R.Fg.Ha=function(r,eK){var j=Math.sqrt(12*r*r/eK+1),D=Math.floor(j);if(D%2==0)D--;var N=D+2,b=(12*r*r-eK*D*D-4*eK*D-3*eK)/(-4*D-4),Y=Math.round(b),x=[];
for(var P=0;P<eK;P++)x.push(P<Y?D:N);return x};R.Fg.amj=function(r,j,D,N,b){var Y=R.Fg.Ha(b,3),x=R.Fg.zV(D*N);
R.kZ(r,j);R.Fg.gr(j,x,D,N,Y[0]-1>>1);R.Fg.gr(j,x,D,N,Y[1]-1>>1);R.Fg.gr(j,x,D,N,Y[2]-1>>1)};R.Fg.amf=function(r,j,D,N,b){var Y=R.Fg.Ha(b,2),x=R.Fg.zV(D*N);
R.kZ(r,j);R.Fg.gr(j,x,D,N,Y[0]-1>>1);R.Fg.gr(j,x,D,N,Y[1]-1>>1)};R.Fg.akm=function(r,j,D,N){var b=R.Fg.Ha(N,3),Y=R.Fg.zV(j*D*4);
R.Fg.g8(r,Y,j,D,b[0]-1>>1);R.Fg.g8(r,Y,j,D,b[1]-1>>1);R.Fg.g8(r,Y,j,D,b[2]-1>>1)};R.Fg.aaw=function(r,j,D,N,b,Y){if(Y==null)Y=3;
var x=R.Fg.Ha(b,Y),C=R.Fg.Bb(D*N);R.kZ(r,j);for(var P=0;P<Y;P++)R.Fg.r9(j,C,D,N,(x[P]-1)/2)};R.Fg.gr=function(r,j,D,N,b){R.Fg.a2u(r,j,D,N,b);
R.Fg.ap0(j,r,D,N,b)};R.Fg.g8=function(r,j,D,N,b){R.Fg.L6(r,j,D,N,b);R.Fg.a8e(j,r,D,N,b)};R.Fg.r9=function(r,j,D,N,b){R.Fg.aeF(r,j,D,N,b);
R.Fg.aod(j,r,D,N,b)};R.Fg.RV=[];R.Fg.l1=function(r){if(R.Fg.RV[r])return R.Fg.RV[r];var j=1/(r+r+1),D=(r+r+1)*256,N=R.O(D);
for(var P=0;P<D;P++)N[P]=Math.round(P*j);R.Fg.RV[r]=N;return N};R.Fg.a2u=function(r,j,D,N,b){var Y=1/(b+b+1),x=D-b-b-1,C=R.Fg.l1(b);
for(var P=0;P<N;P++){var w=P*D,q=w,u=w+b,h=r[w],z=r[w+D-1],O=(b+1)*h;for(var g=0;g<b;g++)O+=r[w+g];for(var g=0;
g<=b;g++){O+=r[u+g]-h;j[w+g]=C[O]}u+=b+1;w+=b+1;for(var g=0;g<x;g++){O+=r[u+g]-r[q+g];j[w+g]=C[O]}u+=x;
q+=x;w+=x;for(var g=D-b;g<D;g++){O+=z-r[q++];j[w++]=C[O]}}};R.Fg.L6=function(r,j,D,N,b){var Y=D<<2,x=b<<2,C=1/(b+b+1),w=D-b-b-1,q=w<<2,u=R.Fg.l1(b);
for(var P=0;P<N;P++){var h=P*Y,z=h,O=h+x,g=h+Y,t=r[h],$=r[h+1],i=r[h+2],A=r[h+3],H=(b+1)*t,F=(b+1)*$,T=(b+1)*i,_=(b+1)*A;
for(var V=0;V<x;V+=4){H+=r[h+V];F+=r[h+V+1];T+=r[h+V+2];_+=r[h+V+3]}for(var V=0;V<=x;V+=4){H+=r[O]-t;
j[h]=u[H];F+=r[O+1]-$;j[h+1]=u[F];T+=r[O+2]-i;j[h+2]=u[T];_+=r[O+3]-A;j[h+3]=u[_];O+=4;h+=4}for(var V=0;
V<q;V+=4){H+=r[O+V]-r[z+V];j[h+V]=u[H];F+=r[O+V+1]-r[z+V+1];j[h+V+1]=u[F];T+=r[O+V+2]-r[z+V+2];j[h+V+2]=u[T];
_+=r[O+V+3]-r[z+V+3];j[h+V+3]=u[_]}O+=q;z+=q;h+=q;t=r[g-4];$=r[g-3];i=r[g-2];A=r[g-1];for(var V=D-b;
V<D;V++){H+=t-r[z];j[h]=u[H];F+=$-r[z+1];j[h+1]=u[F];T+=i-r[z+2];j[h+2]=u[T];_+=A-r[z+3];j[h+3]=u[_];
z+=4;h+=4}}};R.Fg.aeF=function(r,j,D,N,b){var Y=1/(b+b+1),x=D-b-b-1;for(var P=0;P<N;P++){var C=P*D,w=C,q=C+b,u=r[C],h=r[C+D-1],z=(b+1)*u;
for(var O=0;O<b;O++)z+=r[C+O];for(var O=0;O<=b;O++){z+=r[q+O]-u;j[C+O]=z*Y}q+=b+1;C+=b+1;for(var O=0;
O<x;O++){z+=r[q+O]-r[w+O];j[C+O]=z*Y}q+=x;w+=x;C+=x;for(var O=D-b;O<D;O++){z+=h-r[w++];j[C++]=z*Y}}};
R.Fg.ap0=function(r,j,D,N,b){var Y=1/(b+b+1),x=N-b-b-1,C=R.Fg.l1(b);for(var P=0;P<D;P++){var w=P,q=w,u=w+b*D,h=r[w],z=r[w+D*(N-1)],O=(b+1)*h;
for(var g=0;g<b;g++)O+=r[w+g*D];for(var g=0;g<=b;g++){O+=r[u]-h;j[w]=C[O];u+=D;w+=D}for(var g=0;g<x;
g++){var t=g*D;O+=r[u+t]-r[q+t];j[w+t]=C[O]}q+=x*D;u+=x*D;w+=x*D;for(var g=N-b;g<N;g++){O+=z-r[q];j[w]=C[O];
q+=D;w+=D}}};R.Fg.a8e=function(r,j,D,N,b){var Y=D<<2,x=b<<2,C=1/(b+b+1),w=N-b-b-1,q=w<<2,u=R.Fg.l1(b);
for(var P=0;P<D;P++){var h=P<<2,z=h,O=h+b*Y,g=h+Y*(N-1),t=r[h],$=r[h+1],i=r[h+2],A=r[h+3],H=(b+1)*t,F=(b+1)*$,T=(b+1)*i,_=(b+1)*A;
for(var V=0;V<b;V++){var X=h+V*Y;H+=r[X];F+=r[X+1];T+=r[X+2];_+=r[X+3]}for(var V=0;V<=b;V++){H+=r[O]-t;
j[h]=u[H];F+=r[O+1]-$;j[h+1]=u[F];T+=r[O+2]-i;j[h+2]=u[T];_+=r[O+3]-A;j[h+3]=u[_];O+=Y;h+=Y}for(var V=0;
V<w;V++){var o=V*Y;H+=r[O+o]-r[z+o];j[h+o]=u[H];F+=r[O+o+1]-r[z+o+1];j[h+o+1]=u[F];T+=r[O+o+2]-r[z+o+2];
j[h+o+2]=u[T];_+=r[O+o+3]-r[z+o+3];j[h+o+3]=u[_]}z+=w*Y;O+=w*Y;h+=w*Y;t=r[g];$=r[g+1];i=r[g+2];A=r[g+3];
for(var V=N-b;V<N;V++){H+=t-r[z];j[h]=u[H];F+=$-r[z+1];j[h+1]=u[F];T+=i-r[z+2];j[h+2]=u[T];_+=A-r[z+3];
j[h+3]=u[_];z+=Y;h+=Y}}};R.Fg.aod=function(r,j,D,N,b){var Y=1/(b+b+1),x=N-b-b-1;for(var P=0;P<D;P++){var C=P,w=C,q=C+b*D,u=r[C],h=r[C+D*(N-1)],z=(b+1)*u;
for(var O=0;O<b;O++)z+=r[C+O*D];for(var O=0;O<=b;O++){z+=r[q]-u;j[C]=z*Y;q+=D;C+=D}for(var O=0;O<x;O++){var g=O*D;
z+=r[q+g]-r[w+g];j[C+g]=z*Y}w+=x*D;q+=x*D;C+=x*D;for(var O=N-b;O<N;O++){z+=h-r[w];j[C]=z*Y;w+=D;C+=D}}};
R.rX={};R.rX.O=function(r,j,D,N){var b=[];for(var Y=0;Y<4;Y++)for(var x=0;x<4;x++)b.push(r+D*x/3,j+N*Y/3);
return b};R.rX.l8=function(r,j){var D=r.slice(0);for(var P=0;P<4;P++)for(var N=0;N<4;N++){var b=2*(P*4+N),Y=2*(N*4+(3-P));
if(j){var x=b;b=Y;Y=x}D[Y]=r[b];D[Y+1]=r[b+1]}return D};R.rX.A_=R.O(0);R.rX.drawImage=function(r,j,D,N,b,Y,x){var C=!1,w=Date.now(),q=2,u=D+2*q,h=N+2*q,z=new bf(q,q,D,N),O=z.clone(),A=50;
O.Fp(q,q);var g=R.rX.A_;if(g.length!=O.Z()*4)g=R.rX.A_=R.O(O.Z()*4);else g.fill(0);R.UB(j,z,g,O);if(C)console.log(Date.now()-w,"copy rect");
w=Date.now();R.je(g);if(C)console.log(Date.now()-w,"multiply alpha");w=Date.now();var t=[],$=[],i=[];
for(var H=0;H<A+1;H++)for(var F=0;F<A+1;F++){var T=F/A,_=H/A;t.push(u*T,h*_);if(F<A&&H<A){var V=H*(A+1)+F,X=V+1,o=V+A+1,c=o+1;
$.push(V,X,o);$.push(o,X,c)}var E=R.rX.apu(r,T,_);i.push(-E)}var f=t.slice(0);R.rX.F(r,f,new bf(q,q,D,N));
R.K.F(f,new j9(1,0,0,1,-Y.x,-Y.y),f);if(C)console.log(Date.now()-w,"mesh built");w=Date.now();var d=Y.d,s=Y.r;
R.hJ.hA(g,u,h,b,d,s,t,f,i,$);if(C)console.log(Date.now()-w,"rendered");w=Date.now();R.GQ(b);if(C)console.log(Date.now()-w,"divided");
w=Date.now()};R.rX.WC=new Array(10);R.rX.ajX=function(r,j){var D=200,N=0,b=0,Y=1e9,x=R.rX.WC;for(var C=0;
C<D+1;C++)for(var w=0;w<D+1;w++){var q=w/D,u=C/D;R.rX.rH(r,q,u,x);var h=x[8]-j.x,z=x[9]-j.y,O=h*h+z*z;
if(O<Y){Y=O;N=q;b=u}}return[N,b]};R.rX.F=function(r,j,D){var N=D.x,b=D.y,Y=1/D.d,x=1/D.r,C=R.rX.WC;for(var w=0;
w<j.length;w+=2){var q=(j[w]-N)*Y,u=(j[w+1]-b)*x;R.rX.rH(r,q,u,C);j[w]=C[8];j[w+1]=C[9]}};R.rX.apu=function(r,j,D){var N,b,Y,x,C=R.rX.WC;
R.rX.aj8(r,j,D,C);N=C[8];b=C[9];R.rX.a16(r,j,D,C);Y=C[8];x=C[9];return N*x-b*Y};R.rX.rH=function(r,j,D,N){R.rX.Bs(N,0,D);
R.rX.Bs(N,4,j);R.rX.ca(r,N)};R.rX.aj8=function(r,j,D,N){R.rX.Bs(N,0,D);R.rX.pg(N,4,j);R.rX.ca(r,N)};
R.rX.a16=function(r,j,D,N){R.rX.pg(N,0,D);R.rX.Bs(N,4,j);R.rX.ca(r,N)};R.rX.pg=function(r,P,j){var D=1-j;
r[P]=-3*(D*D);r[P+1]=3*(D*D)-6*(j*D);r[P+2]=6*(j*D)-3*(j*j);r[P+3]=3*(j*j)};R.rX.Bs=function(r,P,j){var D=1-j;
r[P]=D*(D*D);r[P+1]=3*j*(D*D);r[P+2]=3*(j*j)*D;r[P+3]=j*j*j};R.rX.ca=function(r,j){var D=0,N=0,b=0,Y=j[0],x=j[1],C=j[2],w=j[3],q=j[4],u=j[5],h=j[6],z=j[7];
b=Y*q;D+=r[0]*b;N+=r[1]*b;b=Y*u;D+=r[2]*b;N+=r[3]*b;b=Y*h;D+=r[4]*b;N+=r[5]*b;b=Y*z;D+=r[6]*b;N+=r[7]*b;
b=x*q;D+=r[8]*b;N+=r[9]*b;b=x*u;D+=r[10]*b;N+=r[11]*b;b=x*h;D+=r[12]*b;N+=r[13]*b;b=x*z;D+=r[14]*b;N+=r[15]*b;
b=C*q;D+=r[16]*b;N+=r[17]*b;b=C*u;D+=r[18]*b;N+=r[19]*b;b=C*h;D+=r[20]*b;N+=r[21]*b;b=C*z;D+=r[22]*b;
N+=r[23]*b;b=w*q;D+=r[24]*b;N+=r[25]*b;b=w*u;D+=r[26]*b;N+=r[27]*b;b=w*h;D+=r[28]*b;N+=r[29]*b;b=w*z;
D+=r[30]*b;N+=r[31]*b;j[8]=D;j[9]=N};R.o4={};R.o4.atm=function(r,j,D){var N=Date.now(),b=new ArrayBuffer(j*D*16),Y=R.o4.ahy(r,j,D,b),x=R.o4.a4b(j,D,b);
return{vM:x,w$:Y}};R.o4.a6h=function(r,j,D){var N=Math.round(r.length/8),b=new Uint32Array(N),Y=new Uint8Array(N),x=new Uint32Array(N);
R.mh(b,4294967295,0);b[D]=0;var C=new cg(N);C.push(D,b[D]);var w={vM:r,w$:j,AB:b,Y1:Y,OB:x,lD:C,anb:D};
return w};R.o4.rp=function(r,j){var D=r.vM,N=r.w$,b=r.AB,Y=r.Y1,x=r.OB,C=r.lD;while(!C.jE()&&(j==null||Y[j]==0)){var w=C.pop();
Y[w]=1;for(var P=0;P<8;P++){var q=D[8*w+P],u=w+q;if(q==0||Y[u])continue;var h=b[w]+N[8*w+P];if(C.contains(u)&&h<b[u])C.remove(u,b[u]);
if(!C.contains(u)){b[u]=h;x[u]=w;C.push(u,b[u])}}}};function cg(r){this.Kw=new Uint32Array(r);this.list=[];
this.oP=0;this.p1=4294967295}cg.prototype.jE=function(){return this.oP==0};cg.prototype.push=function(r,j){var D=this.list;
if(D[j]==null)D[j]=[];D[j].push(r);this.oP++;this.Kw[r]=D[j].length-1+1;this.p1=Math.min(this.p1,j)};
cg.prototype.pop=function(){this.oP--;var r=this.list,j=this.p1,D=r[j].pop();if(r[j].length==0)r[j]=null;
this.J6();this.Kw[D]=0;return D};cg.prototype.contains=function(r){return this.Kw[r]!=0};cg.prototype.remove=function(r,j){this.oP--;
var D=this.list,P=this.Kw[r]-1;if(P==D[j].length-1)D[j].pop();else{var N=D[j].pop();D[j][P]=N;this.Kw[N]=P+1}if(D[j].length==0)D[j]=null;
this.Kw[r]=0;this.J6()};cg.prototype.J6=function(){if(this.oP==0){this.p1=4294967295;return}var r=this.p1,j=this.list;
while(j[r]==null)r++;this.p1=r};R.o4.aiI=function(r,j,D,N){var b=new Int16Array(N);for(var Y=0;Y<D;Y++)for(var x=0;
x<j;x++){var P=Y*j+x,C=0;if(1<x&&x<j-2&&1<Y&&Y<D-2){C+=r[P-j-j];C+=r[P-j-1]+2*r[P-j]+r[P-j+1];C+=r[P-2]+2*r[P-1]-16*r[P]+2*r[P+1]+r[P+2];
C+=r[P+j-1]+2*r[P+j]+r[P+j+1];C+=r[P+j+j]}else C=-16*r[P];b[P]=C}return b};R.o4.aoA=function(r,j,D,N){if(N==null)N=128;
var b=new Uint8Array(j*D);for(var Y=1;Y<D-1;Y++)for(var x=1;x<j-1;x++){var P=Y*j+x;b[P]=R.o4.a6I(r[P],r[P-1],r[P+1],r[P-j],r[P+j],N)}return b};
R.o4.a6I=function(r,j,D,N,b,Y){var x=Math.abs(r);return r*j<0&&x<Math.abs(j)&&Math.abs(j-r)>Y||r*D<0&&x<Math.abs(D)&&Math.abs(D-r)>Y||r*N<0&&x<Math.abs(N)&&Math.abs(N-r)>Y||r*b<0&&x<Math.abs(b)&&Math.abs(b-r)>Y?1:0};
R.o4.a23=function(r,j,D,N){var b=new Float32Array(N),Y=0;new Uint32Array(N).fill(0);for(var x=0;x<D;
x++)for(var C=0;C<j;C++){var w=0,q=0,P=x*j+C,u=P*3;if(0<C&&C<j-1)w=r[P+1]-r[P-1];if(0<x&&x<D-1)q=r[P+j]-r[P-j];
var h=b[u+2]=Math.sqrt(w*w+q*q);if(h!=0){var z=1/h;b[u]=w*z;b[u+1]=q*z}if(h>Y)Y=h}var O=j*D,g=Y==0?0:1/Y;
for(var P=0;P<O;P++)b[P*3+2]=1-b[P*3+2]*g;return b};R.o4.amQ=function(r,j,D){return D[~~((.5+.5*r)*255)]+D[~~((.5+.5*j)*255)]};
R.o4.ahy=function(r,j,D,N){var b=Date.now(),Y=R.o4.aiI(r,j,D,N),x=R.o4.aoA(Y,j,D),C=R.o4.a23(r,j,D,N),w=new Float32Array(256);
for(var P=0;P<256;P++)w[P]=Math.acos(-1+2*P/255)*(.95/Math.PI);var q=[-1,0,1,1,1,0,-1,-1],u=[-1,-1,-1,0,1,1,1,0];
for(var P=0;P<8;P++){var h=1/Math.sqrt(q[P]*q[P]+u[P]*u[P]);q[P]*=h;u[P]*=h}var z=[q[0],u[0],q[1],u[1],q[2],u[2],q[3],u[3]],O=[-j-1,-j,-j+1,1],g=new Uint8Array(j*D*8);
new Uint32Array(g.buffer).fill(4294967295);var t=j*D;for(var $=1;$<D-1;$++)for(var i=1;i<j-1;i++){var A=$*j+i,H=1-x[A],F=C[A*3+2],T=C[3*A+1],_=-C[3*A];
for(var V=0;V<4;V++){var X=A+O[V];R.o4.a5n(A,X,V,g,x,C,H,F,T,_,z,w)}}return g};R.o4.a5n=function(r,j,D,N,b,Y,x,C,w,q,u,h){var z=1-b[j],O=(D&1)==0?1:Math.SQRT1_2,g=Y[j*3+2]*O,t=Y[3*j+1],$=-Y[3*j],i=C*O,A=u[D+D],H=u[D+D+1],F=w*A+q*H,T=t*A+$*H;
if(F+T<0){F=-F;T=-T}var _=R.o4.amQ(F,T,h);N[(r<<3)+D]=R.o4.oV(z,_,g);N[(j<<3)+D+4]=R.o4.oV(x,_,i)};R.o4.oV=function(r,j,D){return 1+~~(.5+20*(.43*r+.43*j+.14*D))};
R.o4.a4b=function(r,j,D){var N=new Int16Array(D),b=N,P=0,Y=0;new Uint32Array(D).fill(0);for(var x=0;
x<j;x++)for(var C=0;C<r;C++){if(x>0&&C>0)b[Y+0]=-r-1;if(x>0)b[Y+1]=-r;if(x>0&&C<r-1)b[Y+2]=-r+1;if(C<r-1)b[Y+3]=1;
if(x<j-1&&C<r-1)b[Y+4]=r+1;if(x<j-1)b[Y+5]=r;if(x<j-1&&C>0)b[Y+6]=r-1;if(C>0)b[Y+7]=-1;P++;Y+=8}return N};
R.tK={};R.tK.KP=function(r){var j=r.slice(0),D=0;for(var P=0;P<r.length;P++)D+=r[P];for(var P=0;P<r.length;
P++)j[P]/=D;return j};R.tK.dc=[R.tK.KP([1,2,1,2,16,2,1,2,1]),R.tK.KP([1,2,1,2,4,2,1,2,1]),R.tK.KP([0,-1,0,-1,8,-1,0,-1,0]),R.tK.KP([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
R.tK.nT=function(r,j,D,N,b,Y,x,C){if(x==null)x=!1;if(C==null)C=!1;var w=Math.floor(Math.sqrt(b.length)),q=w-1>>>1,u=new Uint32Array(r.buffer),j=new Uint8ClampedArray(j.buffer);
for(var P=0;P<N;P++)for(var h=0;h<D;h++){var z=0,O=0,g=0,t=0;for(var $=0;$<w;$++)for(var i=0;i<w;i++){var A=b[$*w+i];
if(A==0)continue;var H=h-q+i,F=P-q+$;if(H<0)H=0;else if(H>D-1)H=D-1;if(F<0)F=0;else if(F>N-1)F=N-1;if(C&&u[F*D+H]>>>24==0){F=P;
H=h}var T=u[F*D+H];z+=(T&255)*A;O+=(T>>>8&255)*A;g+=(T>>>16&255)*A;t+=(T>>>24&255)*A}if(x){if(z<0)z=-z;
if(O<0)O=-O;if(g<0)g=-g;if(t<0)t=-t}if(C){z=Math.max(0,Math.min(255,z));O=Math.max(0,Math.min(255,O));
g=Math.max(0,Math.min(255,g));t=Math.max(0,Math.min(255,t))}var _=P*D+h<<2;j[_]=~~(.5+z);j[_+1]=~~(.5+O);
j[_+2]=~~(.5+g);j[_+3]=255-Y&j[_+3]|Y&~~(.5+t)}};R.tK.ny=function(r,j,D,N){var b=r.length,Y=new Uint8Array(b);
R.tK.nT(r,j,D,N,R.tK.dc[4],0,!0);R.tK.nT(r,Y,D,N,R.tK.dc[5],0,!0);for(var P=0;P<b;P+=4){var x=j[P],C=j[P+1],w=j[P+2],q=j[P+3],u=Y[P],h=Y[P+1],z=Y[P+2],O=Y[P+3];
j[P]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+u*u)));j[P+1]=255-Math.max(0,Math.min(255,Math.sqrt(C*C+h*h)));
j[P+2]=255-Math.max(0,Math.min(255,Math.sqrt(w*w+z*z)))}};R.tK.es=function(r,j,D,N){var b=r.length,Y=new Uint8Array(b);
R.tK.JE(r,j,D,N,R.tK.dc[4],!0);R.tK.JE(r,Y,D,N,R.tK.dc[5],!0);for(var P=0;P<b;P++){var x=j[P],C=Y[P];
j[P]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+C*C)))}};R.tK.JE=function(r,j,D,N,b,Y){j=new Uint8ClampedArray(j.buffer);
var x=[-D-1,-D,-D+1,-1,0,1,D-1,D,D+1],C=N-1,w=D-1;for(var P=1;P<C;P++)for(var q=1;q<w;q++){var u=P*D+q,h=R.tK.xj(r,u,D,b);
if(Y){if(h<0)h=-h}j[u]=~~(h+.5)}};R.tK.xj=function(r,j,D,N){return r[j-D-1]*N[0]+r[j-D]*N[1]+r[j-D+1]*N[2]+r[j-1]*N[3]+r[j]*N[4]+r[j+1]*N[5]+r[j+D-1]*N[6]+r[j+D]*N[7]+r[j+D+1]*N[8]};
R.tK.Or=function(r,j,D,N,b){var Y=[-D-1,-D,-D+1,-1,0,1,D-1,D,D+1],x=N-1,C=D-1;for(var P=1;P<x;P++)for(var w=1;
w<C;w++){var q=P*D+w;j[q]=R.tK.alS(r,q,D,b)}};R.tK.alS=function(r,j,D,N){return r[j-D-1]*N[0]+r[j-D]*N[1]+r[j-D+1]*N[2]+r[j-1]*N[3]+r[j]*N[4]+r[j+1]*N[5]+r[j+D-1]*N[6]+r[j+D]*N[7]+r[j+D+1]*N[8]};
R.ml={};R.ml.aQ=function(){function r(x,C,w,q,u,h,z){if(u==0){C.set(x);return}var O=R.O(w*q),g=R.O(w*q);
if(R.xD(x)){j(x,C,w,q,u,h,z);var t=[R.ml.hi,R.ml.rU],$=t.indexOf(h),i=$!=-1?t[1-$]:h;R.ni(x,O,3);R.ml.TO(O,g,w,q,u,i,z);
R.zQ(g,C,3)}else{for(var P=0;P<3;P++){R.ni(x,O,P);R.ml.TO(O,g,w,q,u,h,z);R.zQ(g,C,P)}}}function j(x,C,w,q,u,h,z){var O=0,g=new ArrayBuffer(512*4*3),t=[new Int32Array(g,0),new Int32Array(g,2048),new Int32Array(g,2*2048)],$=1+2*Math.round(Math.sqrt(u)),i=$>>>1,A=new Array($),H=new Array($);
for(var P=0;P<$;P++){var g=new ArrayBuffer(512*4*3);A[P]=[new Int32Array(g,0),new Int32Array(g,2048),new Int32Array(g,2*2048)];
H[P]=A[P][0]}var F=h[0],T=h[1],_=t[0];for(var V=0;V<w;V++)if(V<u||V>w-u-$-1){_.fill(0);var X=Math.max(V-u,0),o=Math.min(w,V+u+1),c=o-X;
for(var E=0;E<u;E++)N(_,x,E*w+X,E*w+o,1);for(var E=0;E<q;E++){var f=E-u-1,d=E+u;if(d<q)N(_,x,d*w+X,d*w+o,1);
if(f>=0)N(_,x,f*w+X,f*w+o,-1);var s=E*w+V<<2;O=_[300];if(O!=0)for(var P=0;P<3;P++)C[s+P]=F(t[P],x[s+P],O,z)}}else{for(var P=0;
P<$;P++)H[P].fill(0);var X=V-u+i,o=V+u+1+i;for(var E=0;E<u;E++)D(H,x,E*w+X,E*w+o,1,i);for(var E=0;E<q;
E++){var f=E-u-1,d=E+u;if(f>=0)D(H,x,f*w+X,f*w+o,-1,i);if(d<q)D(H,x,d*w+X,d*w+o,1,i);var B=A[i];O=B[0][300];
for(var P=0;P<i;P++){var a=i-1-P,U=i+1+P,M=A[a],W=A[U],n=O+M[0][300],e=O+W[0][300],Q=E*w+V+a<<2,J=E*w+V+U<<2;
if(n!=0)for(var m=0;m<3;m++)C[Q+m]=T(B[m],M[m],x[Q+m],n,z);if(e!=0)for(var m=0;m<3;m++)C[J+m]=T(B[m],W[m],x[J+m],e,z)}var s=E*w+V+i<<2;
if(O!=0)for(var m=0;m<3;m++)C[s+m]=F(B[m],x[s+m],O,z)}V+=$-1}}function D(x,C,w,q,u,h){var z=b,O=w<<2,g=q<<2;
z(x[h-1],C,w-1<<2,u);z(x[h-1],C,q-1<<2,-u);z(x[h+1],C,q<<2,u);z(x[h+1],C,w<<2,-u);for(var P=1;P<h;P++){var t=x[h-P-1],$=x[h+P+1];
for(var i=0;i<=P;i++){var A=i<<2;z(t,C,w-1-i<<2,u);z(t,C,q-1-i<<2,-u);z($,C,q+i<<2,u);z($,C,w+i<<2,-u)}}N(x[h],C,w,q,u)}function N(x,C,P,w,q){var u=P<<2,h=w<<2;
while(u<h){b(x,C,u,q);u+=4}}function b(x,C,w,q){var u=q*C[w+3];x[300]+=u;Y(x,C[w],0,u);Y(x,C[w+1],512,u);
Y(x,C[w+2],1024,u)}function Y(x,C,w,q){x[w|C]+=q;x[w|256|C>>>4]+=q}return r}();R.ml.TO=function(){function r(h,z,O,g,t,$,i){if(t==0){z.set(h);
return}if(t<=80)j(h,z,O,g,t,$,i);else Y(h,z,O,g,t,$,i)}function j(h,z,O,g,t,$,i){var A=0,H=new Int32Array(512),F=1+2*Math.round(Math.sqrt(t)),T=F>>>1,_=new Array(F);
for(var P=0;P<F;P++)_[P]=new Int32Array(512);var V=$[0],X=$[1];for(var o=0;o<O;o++)if(o<t||o>O-t-F-1){H.fill(0);
A=0;var c=Math.max(o-t,0),E=Math.min(O,o+t+1),f=E-c;for(var d=0;d<t;d++){A+=f;N(H,h,d*O+c,d*O+E,1)}for(var d=0;
d<g;d++){var s=d-t-1,B=d+t;if(s>=0){A-=f;N(H,h,s*O+c,s*O+E,-1)}if(B<g){A+=f;N(H,h,B*O+c,B*O+E,1)}var a=V(H,h[d*O+o],A,i);
z[d*O+o]=a}}else{for(var P=0;P<F;P++)_[P].fill(0);A=0;var c=o-t+T,E=o+t+1+T,f=E-c;for(var d=0;d<t;d++){A+=f;
D(_,h,d*O+c,d*O+E,1,T)}for(var d=0;d<g;d++){var s=d-t-1,B=d+t;if(s>=0){A-=f;D(_,h,s*O+c,s*O+E,-1,T)}if(B<g){A+=f;
D(_,h,B*O+c,B*O+E,1,T)}for(var P=0;P<T;P++){var U=T-1-P,M=T+1+P;z[d*O+o+U]=X(_[T],_[U],h[d*O+o+U],A,i);
z[d*O+o+M]=X(_[T],_[M],h[d*O+o+M],A,i)}z[d*O+o+T]=V(_[T],h[d*O+o+T],A,i)}o+=F-1}}function D(h,z,O,g,t,$){var i=b;
i(h[$-1],z[O-1],0,t);i(h[$-1],z[g-1],0,-t);i(h[$+1],z[g],0,t);i(h[$+1],z[O],0,-t);for(var P=1;P<$;P++){var A=h[$-P-1],H=h[$+P+1];
for(var F=0;F<=P;F++){i(A,z[O-1-F],0,t);i(A,z[g-1-F],0,-t);i(H,z[g+F],0,t);i(H,z[O+F],0,-t)}}N(h[$],z,O,g,t)}function N(h,z,P,O,g){while(P<O)b(h,z[P++],0,g)}function b(h,z,O,g){h[O|z]+=g;
h[O|256|z>>>4]+=g}function Y(h,z,O,g,t,$,i){var A=0,H=new Int32Array(512),F=new Int32Array(1*O),T=new Int32Array(512*O),_=Math.min(t,O),V=Math.min(t,g),X=$[0];
for(var o=0;o<V;o++)x(T,F,h,O,o,1);for(var o=0;o<g;o++){if(o+t<g)x(T,F,h,O,o+t,1);if(o-t-1>=0)x(T,F,h,O,o-t-1,-1);
H.fill(0);A=0;for(var c=0;c<_;c++){A+=F[c];C(H,T,c)}for(var c=0;c<O;c++){var E=c-t-1,f=c+t;if(E>=0&&F[E]!=0){A-=F[E];
w(H,T,E)}if(f<O&&F[f]!=0){A+=F[f];C(H,T,f)}var d=A==0?0:X(H,h[o*O+c],A,i);z[o*O+c]=d}}}function x(h,z,O,g,t,$){var P=t*g;
for(var i=0;i<g;i++){b(h,O[P+i],i<<9,$);z[i]+=$}}function C(h,z,O){for(var P=0;P<16;P++){var g=z[O<<9|256|P];
if(g==0)continue;h[256|P]+=g;var t=P<<4,$=O<<9|t;q(h,z,t,$);q(h,z,t+4,$+4);q(h,z,t+8,$+8);q(h,z,t+12,$+12)}}function w(h,z,O){for(var P=0;
P<16;P++){var g=z[O<<9|256|P];if(g==0)continue;h[256|P]-=g;var t=P<<4,$=O<<9|t;u(h,z,t,$);u(h,z,t+4,$+4);
u(h,z,t+8,$+8);u(h,z,t+12,$+12)}}function q(h,z,O,g){h[O]+=z[g];h[O+1]+=z[g+1];h[O+2]+=z[g+2];h[O+3]+=z[g+3]}function u(h,z,O,g){h[O]-=z[g];
h[O+1]-=z[g+1];h[O+2]-=z[g+2];h[O+3]-=z[g+3]}return r}();R.ml.rU=[function(r,j,D,N){var P=15;while(r[256|P]==0&&P>0)P--;
P=(P<<4)+15;while(r[P]==0&&P>0)P--;return P},function(r,j,D,N,b){var P=15;while(r[256|P]+j[256|P]==0&&P>0)P--;
P=(P<<4)+15;while(r[P]+j[P]==0&&P>0)P--;return P}];R.ml.hi=[function(r,j,D,N){var P=0;while(r[256|P]==0&&P<15)P++;
P=P<<4;while(r[P]==0&&P<255)P++;return P},function(r,j,D,N,b){var P=0;while(r[256|P]+j[256|P]==0&&P<15)P++;
P=P<<4;while(r[P]+j[P]==0&&P<255)P++;return P}];R.ml.H1=.5;R.ml.qr=[function(r,j,D,N){var b=~~(.5+R.ml.H1*D),Y=0,P=256;
while(Y+r[P]<=b)Y+=r[P++];P=P-256<<4;while(Y<=b)Y+=r[P++];return P-1},function(r,j,D,N,b){var Y=~~(.5+R.ml.H1*N),x=0,P=256;
while(x+r[P]+j[P]<=Y){x+=r[P]+j[P];P++}P=P-256<<4;while(x<=Y){x+=r[P]+j[P];P++}return P-1}];R.ml.h4=[function(r,j,D,N){var b=N[0],Y=0,x=0,P=Math.max(0,j-b),C=Math.min(256,j+b+1);
while(P<C){var w=r[P];Y+=P*w;x+=w;P++}return x==0?0:Y/x},function(r,j,D,N,b){var Y=b[0],x=0,C=0,P=Math.max(0,D-Y),w=Math.min(256,D+Y+1);
while(P<w){var q=r[P]+j[P];x+=P*q;C+=q;P++}return C==0?0:x/C}];R.t={};R.t.PY=function(r){var j=I.T.$i(r.Trnf),D=r.Sz.v,N=R.t.xk(j,new bf(0,0,D.Wdth.v,D.Hght.v));
return R.t.pM(N)};R.t.xk=function(r,j){var D=r[0],N=r[1],b=r[2],Y=r[3],x=r[6],C=r[7],w=r[4],q=r[5],u=0,h=0,z=1,O=0,g=0,t=1,$=1,i=1;
if(j){u=j.x;h=j.y;z=j.x+j.d;O=j.y;g=j.x;t=j.y+j.r;$=j.x+j.d;i=j.y+j.r}return R.t.Vq(r,[u,h,z,O,$,i,g,t])};
R.t.Vq=function(r,j){var D=r[0],N=r[1],b=r[2],Y=r[3],x=r[6],C=r[7],w=r[4],q=r[5],u=j[0],h=j[1],z=j[2],O=j[3],g=j[6],t=j[7],$=j[4],i=j[5],A=[[u,h,1,0,0,0,-u*D,-h*D,D],[0,0,0,u,h,1,-u*N,-h*N,N],[z,O,1,0,0,0,-z*b,-O*b,b],[0,0,0,z,O,1,-z*Y,-O*Y,Y],[g,t,1,0,0,0,-g*x,-t*x,x],[0,0,0,g,t,1,-g*C,-t*C,C],[$,i,1,0,0,0,-$*w,-i*w,w],[0,0,0,$,i,1,-$*q,-i*q,q]],H=[0,0,0,0,0,0,0,0],F=R.sW.st(A,H);
if(F!=0)H=[0,0,0,0,0,0,0,0];return H};R.t.JP=function(r){return Math.abs(r[6])<1e-10&&Math.abs(r[7])<1e-10};
R.t.pM=function(r){return new j9(r[0],r[3],r[1],r[4],r[2],r[5])};R.t.eb=function(r){return[r.kD,r.Jy,r.Db,r.M,r.oq,r.aF,0,0]};
R.t.F=function(r,j){var D=new Float64Array(2);for(var N=0;N<j.length;N+=2){var b=j[N],Y=j[N+1];R.t.VP(b,Y,r,D);
j[N]=D[0];j[N+1]=D[1]}};R.t.VP=function(r,j,D,N){var b=1/(D[6]*r+D[7]*j+1);N[0]=(D[0]*r+D[1]*j+D[2])*b;
N[1]=(D[3]*r+D[4]*j+D[5])*b};R.t.u7=function(r,j){var D=new Float64Array(2);R.t.VP(j.x,j.y,r,D);return new gJ(D[0],D[1])};
R.t.Vd=function(r,j,D,N){r=new Uint32Array(r.buffer);j=new Uint32Array(j.buffer);for(var b=0;b<N;b++){for(var Y=0;
Y<D;Y++){j[Y*N+b]=r[b*D+Y]}}};R.t.ad3=function(r,j,D,N){r=new Uint32Array(r.buffer);j=new Uint32Array(j.buffer);
for(var b=0;b<N;b++){for(var Y=0;Y<D;Y++){j[b*D+Y]=r[b*D+D-1-Y]}}};R.t.yD=function(r){return Math.abs(r[6])<1e-9&&Math.abs(r[7])<1e-9};
R.t.Qg=function(r){return Math.abs(r[0])<1e-9&&Math.abs(r[4])<1e-9||Math.abs(r[1])<1e-9&&Math.abs(r[3])<1e-9};
R.t.drawImage=function(r,j,D,N,b,Y,x,C,w){if(x==null)x=!1;if(C==null)C=!1;var q=R.t.gq(r),u=!0,h=0,z=1/Math.sqrt(Math.abs(r[0]/D*r[4]/N-r[1]/D*r[3]/N));
for(var P=0;P<8;P++){var O=Math.round(r[P]);if(P!=2&&P!=5)h+=Math.abs(O);if(Math.abs(O-r[P])>1e-9)u=!1}var g=R.t.yD(r),t=R.t.Qg(r)&&g,$=t?1:0;
if(x||u&&h==D+N&&g){R.t.arG(q,j,D,N,b,Y,C,g,w);return}var i=Y.d,A=Y.r,H=new Float64Array(2);b=new Uint32Array(b.buffer);
j=new Uint32Array(j.buffer);for(var F=0;F<A;F++)for(var T=0;T<i;T++){var _=F*i+T,V,X,o,c,p=0,L=0,S=0,eJ=0;
b[_]=0;var E=T+Y.x+.5,f=F+Y.y+.5;V=E;X=f;o=q;c=1/(o[6]*V+o[7]*X+1);var d=(o[0]*V+o[1]*X+o[2])*c,s=(o[3]*V+o[4]*X+o[5])*c,B=d*D,a=s*N,U=B<-1||B>D+1||a<-1||a>N+1;
if(C){B=Math.max(.001,Math.min(D-1,B));a=Math.max(.001,Math.min(N-1,a))}else if(U)continue;var M=z;if(!g){var W=0,n=0;
o=r;V=d+1/D;X=s;c=1/(o[6]*V+o[7]*X+1);W=(o[0]*V+o[1]*X+o[2])*c-E;n=(o[3]*V+o[4]*X+o[5])*c-f;var e=W*W+n*n;
V=d;X=s+1/N;c=1/(o[6]*V+o[7]*X+1);W=(o[0]*V+o[1]*X+o[2])*c-E;n=(o[3]*V+o[4]*X+o[5])*c-f;var Q=W*W+n*n;
M=1/Math.sqrt(Math.max(e,Q))}if(M<1.1){R.t.L5(B,a,j,D,N,b,_,$);continue}var J=Math.round(M*2.3);if(!C&&(B<.6||B>D-.6||a<.6||a>N-.6)){J=Math.max(J,5)}if(C&&U)J=1;
var m=1/J,hy=Y.x+T,v=Y.y+F;o=q;for(var P=0;P<J;P++)for(var ff=0;ff<J;ff++){V=hy+(P+.5)*m;X=v+(ff+.5)*m;
c=1/(o[6]*V+o[7]*X+1);var B=(o[0]*V+o[1]*X+o[2])*c,a=(o[3]*V+o[4]*X+o[5])*c;if(C){B=Math.max(.001,Math.min(.999,B));
a=Math.max(.001,Math.min(.999,a))}else if(B<0||B>=1||a<0||a>=1)continue;B=Math.floor(B*D);a=Math.floor(a*N);
var K=a*D+B,jo=j[K],g5=jo>>>24;p+=(jo&255)*g5;L+=(jo>>>8&255)*g5;S+=(jo>>>16&255)*g5;eJ+=g5}if(eJ!=0){var fQ=1/eJ;
p=~~(p*fQ+.5);L=~~(L*fQ+.5);S=~~(S*fQ+.5);eJ=~~(eJ*m*m+.5);b[_]=eJ<<24|S<<16|L<<8|p}}};R.t.arG=function(r,j,D,N,b,Y,x,C,w){if(C&&!x&&Y.Z()>4e6&&w){R.t.a6$(r,j,D,N,b,Y,x,C,w);
return}var q=Y.x+Y.d,u=Y.y+Y.r,h=0,z=new Uint32Array(b.buffer),O=new Uint32Array(j.buffer),g=r[0]*D,t=r[1]*D,$=r[2]*D,i=r[3]*N,A=r[4]*N,H=r[5]*N,F=r[6],T=r[7];
if(C&&!x)for(var _=Y.y+.5;_<u;_++)for(var V=Y.x+.5;V<q;V++){var X=g*V+t*_+$,o=i*V+A*_+H;if(0<X&&X<D&&0<o&&o<N){var c=~~o*D+~~X;
z[h]=O[c]}else z[h]=0;h++}else for(var _=Y.y+.5;_<u;_++)for(var V=Y.x+.5;V<q;V++){var E=1/(F*V+T*_+1),X=(g*V+t*_+$)*E,o=(i*V+A*_+H)*E;
if(x){X=Math.max(.001,Math.min(D-1,X));o=Math.max(.001,Math.min(N-1,o))}if(0<X&&X<D&&0<o&&o<N){var c=Math.floor(o)*D+Math.floor(X);
z[h]=O[c]}else z[h]=0;h++}};R.t.a6$=function(r,j,D,N,b,Y,x,C,w){var q=new Uint32Array(b.buffer),u=new Uint32Array(j.buffer),T=0;
if(w&&(Y.d&3)!=0)throw"e";var h=r[0]*D,z=r[1]*D,O=r[2]*D,g=r[3]*N,t=r[4]*N,$=r[5]*N,i=r[6],A=r[7],H=Y.d,F=Y.r,_=Y.x+.5,V=Y.y+.5,X=(H>>>2<<2)-1e-9,o=-.1+(F>>>1<<1)-1e-9,c=~~D,E=h==0?0:1/h,f=g==0?0:1/g;
for(var d=0;d<F;d++){var s=_*h+z*(d+V)+O,B=_*g+t*(d+V)+$,a=0,U=H;if(h==0){}else if(E>0){a=Math.max(a,-s*E);
U=Math.min(U,(D-s)*E)}else{U=Math.min(U,-s*E);a=Math.max(a,(D-s)*E)}if(g==0){}else if(f>0){a=Math.max(a,-B*f);
U=Math.min(U,(N-B)*f)}else{U=Math.min(U,-B*f);a=Math.max(a,(N-B)*f)}if(U<0)U=0;if(a>U)a=U;a=Math.ceil(a);
U=~~U;T=~~(d*H);for(var M=0;M<a;M++)q[T++]=0;for(var M=a;M<U;M+=4){var W=h*M+s,n=g*M+B,e=~~n*c+~~W;q[T++]=q[T++]=q[T++]=q[T++]=u[e]}for(var M=U;
M<H;M++)q[T++]=0}};R.t.gq=function(r){var j=r[4]-r[5]*r[7],D=r[2]*r[7]-r[1],N=r[1]*r[5]-r[2]*r[4],b=r[5]*r[6]-r[3],Y=r[0]-r[2]*r[6],x=r[3]*r[2]-r[0]*r[5],C=r[3]*r[7]-r[4]*r[6],w=r[1]*r[6]-r[0]*r[7],q=1/(r[0]*r[4]-r[1]*r[3]);
return[j*q,D*q,N*q,b*q,Y*q,x*q,C*q,w*q]};R.t.JF=function(r,j){var D=r[0],N=r[1],b=r[2],Y=r[3],x=r[4],C=r[5],w=r[6],q=r[7],u=j[0],h=j[1],z=j[2],O=j[3],g=j[4],i=j[5],A=j[6],H=j[7],F=[D*u+N*O+b*A,D*h+N*g+b*H,D*z+N*i+b,Y*u+x*O+C*A,Y*h+x*g+C*H,Y*z+x*i+C,w*u+q*O+A,w*h+q*g+H],T=1/(w*z+q*i+1);
for(var P=0;P<8;P++)F[P]*=T;return F};R.t.L5=function(r,j,D,N,b,Y,x,C){var w=r,q=j,z=0,O=0,g=0,t=0;r-=.499999;
j-=.499999;var u=Math.floor(r),h=Math.floor(j);if(C==0){var P=h*N+u,$=u>=0&&u<N,i=u+1>=0&&u+1<N,A=h>=0&&h<b,H=h+1>=0&&h+1<b;
if($&&A)z=D[P];if(i&&A)O=D[P+1];if($&&H)g=D[P+N];if(i&&H)t=D[P+N+1]}else if(C==1){var F=u<0?0:u>N-1?N-1:u,T=u<-1?0:u>N-2?N-1:u+1,_=h<0?0:h>b-1?b-1:h,V=h<-1?0:h>b-2?b-1:h+1;
z=D[_*N+F];O=D[_*N+T];g=D[V*N+F];t=D[V*N+T]}else{var F=(u+50*N)%N,T=(u+50*N)%N,_=(h+50*b)%b,V=(h+50*b)%b;
z=D[_*N+F];O=D[_*N+T];g=D[V*N+F];t=D[V*N+T]}var X=r-u,o=j-h,c=(1-o)*(1-X)*(z>>>24),E=(1-o)*X*(O>>>24),f=o*(1-X)*(g>>>24),d=o*X*(t>>>24),s=c+E+f+d,B=c*(z&255)+E*(O&255)+f*(g&255)+d*(t&255),a=c*(z>>>8&255)+E*(O>>>8&255)+f*(g>>>8&255)+d*(t>>>8&255),U=c*(z>>>16&255)+E*(O>>>16&255)+f*(g>>>16&255)+d*(t>>>16&255);
if(s==0)Y[x]=0;else{var M=1/s;B=~~(B*M+.5);a=~~(a*M+.5);U=~~(U*M+.5);s=~~(s+.5);Y[x]=s<<24|U<<16|a<<8|B}};
R.t.jw=function(r,j,D,N,b,Y){var x=r-.499999,C=j-.499999,w=~~x,q=~~C,u=x-w,h=C-q,z=(1-h)*(1-u),O=(1-h)*u,g=h*(1-u),t=h*u,$=q*N+w<<2,i=(q+1)*N+w<<2,A=z*D[$]+O*D[$+4]+g*D[i]+t*D[i+4],H=z*D[$+1]+O*D[$+5]+g*D[i+1]+t*D[i+5],F=z*D[$+2]+O*D[$+6]+g*D[i+2]+t*D[i+6],T=z*D[$+3]+O*D[$+7]+g*D[i+3]+t*D[i+7];
Y[0]=A;Y[1]=H;Y[2]=F;Y[3]=T};R.t.zm=function(r,j,D,N,b){r-=.499999;j-=.499999;var Y=Math.floor(r),x=Math.floor(j),C=r-Y,w=j-x,q=(1-w)*(1-C),u=(1-w)*C,h=w*(1-C),z=w*C,O=(Y+50*N)%N,g=(Y+1+50*N)%N,t=(x+50*b)%b,$=(x+1+50*b)%b,i=D[t*N+O],A=D[t*N+g],H=D[$*N+O],F=D[$*N+g];
if(i==null||F==null)throw"e";return q*i+u*A+h*H+z*F};R.t.xp=function(r,j,D,N,b,Y,x,C,w,q,u,h){var z=new Uint32Array(r.buffer),O=new Uint32Array(N.buffer),g=(1+2*q)/b,t=[],$=[];
for(var i=0;i<b;i++){var A=-.25+q-i*g;t.push(Math.cos(2*Math.PI*A)*h/u);t.push(Math.sin(2*Math.PI*A)/u)}x*=j;
C*=D;for(var H=0;H<Y;H++){var F=Math.pow(H/Y,w)*Y;for(var i=0;i<b;i++){var T=x+t[i<<1]*F,_=C+t[(i<<1)+1]*F,V=~~(.5+(T<0?0:T>j-1?j-1:T)),X=~~(.5+(_<0?0:_>D-1?D-1:_));
O[H*b+i]=z[X*j+V]}}};R.t.EG=function(r,j,D,N,b,Y,x,C,w,q,u,h){var z=new Uint32Array(r.buffer),O=new Uint32Array(N.buffer),g=1/h,t=[],$=D*4,i=1/$;
for(var A=0;A<$+10;A++)t.push(Math.pow(A*i,1/w)*D*u);x*=b;C*=Y;for(var A=0;A<Y;A++)for(var H=0;H<b;H++){var F=g*(H-x),T=A-C,_=1.75-Math.atan2(T,F)*(1/(2*Math.PI));
_=_-~~_;_=(_+q)*(1/(1+2*q));var V=Math.sqrt(F*F+T*T);V=t[~~(V*4)];R.t.L5(_*j+.5,V+.5,z,j,D,O,A*b+H,1)}};
R.t.X$=function(r,j,D,N,b){var Y=b[0],x=b[1];for(var C=0;C<x;C++)for(var w=0;w<Y;w++){var q=b[2]*w+b[3]*C+b[4],u=b[5]*w+b[6]*C+b[7],h=C*Y+w<<2,z=u*j+q<<2;
N[h]=r[z+0];N[h+1]=r[z+1];N[h+2]=r[z+2];N[h+3]=r[z+3]}};R._={ic:function(r,j){var D=~~(.499+r*j);return D<0?0:D>j?j:D},a9I:function(r,j,D,N,b,Y,x,C){var w=D[0],q=D[1],u=D[2],h=D[3],z=N.d,O=N.r,g=new Float64Array(z*4+8),t=new Float64Array(z*4+8);
for(var $=0,P=0;$<O;$++){var i=g;g=t;t=i;t.fill(0);for(var A=0;A<z;A++,P++){var H=A+b,F=$+Y,T=w*H+q*F,_=u*H+h*F,V=0,c=0;
if(C==0)V=T+.5;else if(C==1)V=2*Math.sqrt(T*T+_*_);else if(C==2)V=(Math.PI+Math.atan2(-_,-T))/(2*Math.PI);
else if(C==3)V=Math.abs(T*2);else if(C==4)V=2*(Math.abs(T)+Math.abs(_));var X=R._.ic(V,x)*4,o=A*4;for(var E=0;
E<4;E++){var f=Math.max(0,Math.min(254.999,j[X+E]+g[o+4+E])),d=Math.floor(f);if(Math.random()<f-d)d++;
var s=f-d;g[o+8+E]=s*(7/16);t[o+0+E]=s*(3/16);t[o+4+E]=s*(5/16);t[o+8+E]=s*(1/16);c|=d<<E*8}r[P]=c}}},Nl:[function(r,j,D,N,b,Y,x){var C=D[0],w=D[1],q=D[2],u=D[3],h=N.d,z=N.r;
for(var O=0,P=0;O<z;O++)for(var g=0;g<h;g++,P++){var t=g+b,$=O+Y,i=C*t+w*$,A=q*t+u*$,H=i+.5;r[P]=j[R._.ic(H,x)]}},function(r,j,D,N,b,Y,x){var C=D[0],w=D[1],q=D[2],u=D[3],h=N.d,z=N.r;
for(var O=0,P=0;O<z;O++)for(var g=0;g<h;g++,P++){var t=g+b,$=O+Y,i=C*t+w*$,A=q*t+u*$,H=2*Math.sqrt(i*i+A*A);
r[P]=j[R._.ic(H,x)]}},function(r,j,D,N,b,Y,x){var C=D[0],w=D[1],q=D[2],u=D[3],h=N.d,z=N.r;for(var O=0,P=0;
O<z;O++)for(var g=0;g<h;g++,P++){var t=g+b,$=O+Y,i=C*t+w*$,A=q*t+u*$,H=(Math.PI+Math.atan2(-A,-i))/(2*Math.PI);
r[P]=j[R._.ic(H,x)]}},function(r,j,D,N,b,Y,x){var C=D[0],w=D[1],q=D[2],u=D[3],h=N.d,z=N.r;for(var O=0,P=0;
O<z;O++)for(var g=0;g<h;g++,P++){var t=g+b,$=O+Y,i=C*t+w*$,A=q*t+u*$,H=Math.abs(i*2);r[P]=j[R._.ic(H,x)]}},function(r,j,D,N,b,Y,x){var C=D[0],w=D[1],q=D[2],u=D[3],h=N.d,z=N.r;
for(var O=0,P=0;O<z;O++)for(var g=0;g<h;g++,P++){var t=g+b,$=O+Y,i=C*t+w*$,A=q*t+u*$,H=2*(Math.abs(i)+Math.abs(A));
r[P]=j[R._.ic(H,x)]}}]};R._.a5z=function(r,j){return r+.5};R._.ace=function(r,j){return 2*Math.sqrt(r*r+j*j)};
R._.a4C=function(r,j){return(Math.PI+Math.atan2(-j,-r))/(2*Math.PI)};R._.a2E=function(r,j){return Math.abs(r*2)};
R._.aeq=function(r,j){return 2*(Math.abs(r)+Math.abs(j))};R._.Jj=function(r,j,D,N,b,Y,x,C,w,q,u,h){if(r.Clrs==null)return;
var z=new Uint32Array(j.buffer),O=1023,g=R._.Ve(r.Clrs.v,w,q);if(h){var t=R._.a5u(r,g,O+1,x);R._.a9I(z,t,N,D,D.x-b,D.y-Y,O,C);
return}var $=R._.AR(r,g,O+1,x);if(C<5){R._.Nl[C](z,$,N,D,D.x-b,D.y-Y,O)}else{var i=new Uint8Array($.buffer),A=D.d,H=D.r,F=u.a4-u.Jw,T=1/F,_=u.XF.d-D.d>>1,V=u.XF.r-D.r>>1,X=u.XF.d,o=-.6*T,c=(-.6+.4)*T,E=(-.6+2*.4)*T,f=(-.6+3*.4)*T;
for(var d=0,P=0;d<H;d++)for(var s=0;s<A;s++,P+=4){var B=0,a=0,U=0,M=0,W=(d+V)*X+s+_,n=(u.nQ[W]-u.Jw)*T,e=0;
if(n<=0||n>=1){e=(n<=0?0:O)<<2;j[P]=i[e];j[P+1]=i[e+1];j[P+2]=i[e+2];j[P+3]=i[e+3];continue}e=Math.max(0,Math.min(O-1,Math.round((n+o)*O)))<<2;
a+=i[e];U+=i[e+1];M+=i[e+2];B+=i[e+3];e=Math.max(0,Math.min(O-1,Math.round((n+c)*O)))<<2;a+=i[e];U+=i[e+1];
M+=i[e+2];B+=i[e+3];e=Math.max(0,Math.min(O-1,Math.round((n+E)*O)))<<2;a+=i[e];U+=i[e+1];M+=i[e+2];B+=i[e+3];
e=Math.max(0,Math.min(O-1,Math.round((n+f)*O)))<<2;a+=i[e];U+=i[e+1];M+=i[e+2];B+=i[e+3];j[P]=a>>>2;
j[P+1]=U>>>2;j[P+2]=M>>>2;j[P+3]=B>>>2}}};R._.Ve=function(r,j,D){var N=[];for(var P=0;P<r.length;P++){var b;
if(r[P].v.Type.v.Clry=="FrgC")b={a:j>>16&255,p:j>>8&255,M:j&255};else if(r[P].v.Type.v.Clry=="BckC")b={a:D>>16&255,p:D>>8&255,M:D&255};
else b=R._.z2(r[P].v.Clr.v);N.push(b)}return N};R._.z2=function(r){var j,D=r.classID;if(D=="RGBC"){if(r.Rd)j={a:r.Rd.v,p:r.Grn.v,M:r.Bl.v};
else j={a:r.redFloat.v*255,p:r.greenFloat.v*255,M:r.blueFloat.v*255}}else if(D=="HSBC"){j=R.uz(r.H.v.val/360,r.Strt.v/100,r.Brgh.v/100);
j.a*=255;j.p*=255;j.M*=255}else if(D=="CMYC"){var N=100-r.Cyn.v,b=100-r.Mgnt.v,Y=100-r.Ylw.v,x=100-r.Blck.v,C=255*N*x*1e-4,w=255*(.2*N+.8*b)*x*1e-4,q=255*(.2*b+.8*Y)*x*1e-4;
j={a:C,p:w,M:q}}else if(D=="Grsc")j={a:255-r.Gry.v,p:255-r.Gry.v,M:255-r.Gry.v};else if(D=="LbCl"){j=R.Cy(r.Lmnc.v,r.A.v,r.B.v)}else console.log(r);
if(isNaN(j.a))j.a=j.p=j.M=0;return j};R._.XJ=function(r){return{classID:"RGBC",Rd:{t:"doub",v:r.a},Grn:{t:"doub",v:r.p},Bl:{t:"doub",v:r.M}}};
R._.a5u=function(r,j,D,N){var b=[],Y=1/(D-0);for(var P=0;P<D;P++){var x=P*4,C=R._.Cf(r,j,(N?D-1-P:P)*Y);
b[x]=C[0];b[x+1]=C[1];b[x+2]=C[2];b[x+3]=C[3]}return b};R._.AR=function(r,j,D,N){var b=new Uint32Array(D),Y=1/(D-0);
for(var P=0;P<D;P++)b[P]=R._.tD(r,j,(N?D-1-P:P)*Y);return b};R._.Cf=function(r,j,D){var N=4096,b=1/4096,Y=r.Intr.v*b,x=r.Clrs.v,C=r.Trns.v,w=x.length-1,q=C.length-1,P=-1,u=0,h=0,z=0,O=0;
while(P<q&&C[P+1].v.Lctn.v<=D*N)P++;if(P==-1){u=C[0].v.Opct.v.val*(255/100)}else if(P==q){u=C[P].v.Opct.v.val*(255/100)}else{var g=R._.y8(C,b,P,D,Y);
u=(g*C[P].v.Opct.v.val+(1-g)*C[P+1].v.Opct.v.val)*(255/100)}P=-1;while(P<w&&x[P+1].v.Lctn.v<=D*N)P++;
if(P==-1){var t=j[0];h=t.a;z=t.p;O=t.M}else if(P==w){var t=j[P];h=t.a;z=t.p;O=t.M}else{var $=j[P],i=j[P+1],A=R._.y8(x,b,P,D,Y);
h=A*$.a+(1-A)*i.a;z=A*$.p+(1-A)*i.p;O=A*$.M+(1-A)*i.M}return[h,z,O,u]};R._.tD=function(r,j,D){var N=R._.Cf(r,j,D),b=~~(.5+N[0]),Y=~~(.5+N[1]),x=~~(.5+N[2]),C=~~(.5+N[3]);
return C<<24|x<<16|Y<<8|b};R._.y8=function(r,j,P,D,N){if(r.length==2)N*=.5;var b=r[P].v.Lctn.v*j,Y=r[P+1].v.Lctn.v*j,x=b+r[P+1].v.Mdpn.v*.01*(Y-b),C;
if(D<x)C=.5*(D-b)/(x-b);else C=.5+.5*(D-x)/(Y-x);C=.5+.5*(N*Math.cos(Math.PI*C)+(1-N)*(1-2*C));return C};
R._.Ly=function(r,j){var D=Math.PI*r.Angl.v.val/180,N=r.Scl.v.val/100,b=r.Ofst.v,Y=b.Hrzn.v.val/100,x=b.Vrtc.v.val/100,C=Math.cos(D),w=-Math.sin(D),q=.5*j.r,u=q*(C/w),h=Math.sqrt(q*q+u*u),z=.5*j.d,O=z*(w/C),g=Math.sqrt(z*z+O*O),t=Math.min(h,g)*N,$=j.x+j.d/2+Y*j.d,i=j.y+j.r/2+x*j.r;
return[new gJ($,i),new gJ($+C*t,i+w*t)]};R._.fv=function(r,j,D,N){var b=j.x-r.x,Y=-(j.y-r.y),x=Math.sqrt(b*b+Y*Y),C=Math.atan2(Y,b),w=Math.cos(C),q=-Math.sin(C),u=.5*D.r,h=u*(w/q),z=Math.sqrt(u*u+h*h),O=.5*D.d,g=O*(q/w),t=Math.sqrt(O*O+g*g),$=x/Math.min(z,t),i=(r.x-D.x-D.d/2)/D.d,A=(r.y-D.y-D.r/2)/D.r;
N.Angl.v.val=180*C/Math.PI;N.Scl.v.val=$*100;var H=N.Ofst.v;H.Hrzn.v.val=i*100;H.Vrtc.v.val=A*100};R._.NI=function(r,j){for(var P=0;
P<r.length;P++){var D=r[P],N=Math.round(D[0]*4096),b=D[1],Y=D[2],x=D[3];if(Y==null)Y=1;if(x==null)x=.5;
var C=R._.XJ({a:b[0]*255,p:b[1]*255,M:b[2]*255});j.Clrs.v[P]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:N},Mdpn:{t:"long",v:Math.round(x*100)},Clr:{t:"Objc",v:C},Type:{t:"enum",v:{Clry:"UsrS"}}}};
j.Trns.v[P]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:N},Mdpn:{t:"long",v:Math.round(x*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(Y*100)}}}}}};
R.uS={};R.uS.a2l=function(r,j,D,N,b,Y,x,C,w,q,u,h){var z,O,g,t=Date.now(),$=!1,i=x,A=q,H,F,T,_,V=Y*255,X=255-w*255,o=1+b*6,c=1+C*6,E=1+h*4,f=(E-1)/7,d=0,s=255-0,B,a,U,M,W,n,e,Q,J,m,p,L,S,eJ=0,hy=1,v,ff,K,jo,g5,fQ,iT,ac,aR,hV,cu=1+u,iy,gr=R.O(D*N),cp=R.O(D*N),gP=R.O(D*N),g7=R.O(D*N),j8=255/V,dg=255/(255-X);
for(O=0;O<N;O++){for(z=0;z<D;z++){var P=O*D+z,gR=P<<2;v=R.qO(r[gR],r[gR+1],r[gR+2]);g7[P]=v;if(v<V)gr[P]=255-v*j8;
if(v>X)cp[P]=255-(255-v)*dg}}if($)console.log("init",Date.now()-t);t=Date.now();if(b*i>0){gP.set(gr);
R.Fg.Af(gP,gr,new bf(0,0,D,N),i)}if(C*A>0){gP.set(cp);R.Fg.Af(gP,cp,new bf(0,0,D,N),A)}if($)console.log("blur",Date.now()-t);
t=Date.now();var em=R.O(256),fr=R.O(256);for(var P=0;P<256;P++){var aU=P*(1/255),bb=0;bb=(1-Math.pow(1-aU,o))*255;
em[P]=Math.max(0,Math.min(255,~~(bb+.5)));bb=Math.pow(aU,c)*255;fr[P]=Math.max(0,Math.min(255,~~(bb+.5)))}var fZ=new Uint8ClampedArray(j.buffer),h1=new Float32Array(32768);
for(var P=0;P<32768;P++){iy=Math.sqrt(P)*(1/128);if(cu>1)iy=(1-iy)*(cu-1)+1;else iy=iy*(cu-1)+1;h1[P]=iy}for(O=0;
O<N;O++){for(z=0;z<D;z++){var P=O*D+z,gR=P<<2,bb=g7[P],ar=gr[P]*(1/255),gt=cp[P]*(1/255);bb=(1-ar)*bb+ar*em[~~bb];
bb=(1-gt)*bb+gt*fr[~~bb];v=bb;var gX=r[gR],dK=r[gR+1],ay=r[gR+2];ff=-gX*.168736-dK*.331264+ay*.5;K=gX*.5-dK*.418688-ay*.081312;
iy=h1[~~(.5+ff*ff+K*K)];jo=ff*iy;fQ=K*iy;hy=1-Math.min(2-(ar+gt),1);ff=hy*ff+(1-hy)*jo;K=hy*K+(1-hy)*fQ;
ac=v+1.402*K;aR=v-.34414*ff-.71414*K;hV=v+1.772*ff;fZ[gR]=~~(.5+ac);fZ[gR+1]=~~(.5+aR);fZ[gR+2]=~~(.5+hV)}}if($)console.log("apply masks",Date.now()-t);
t=Date.now()};R.Sv={};R.Sv.pA=function(r,j,D,N,b){var Y=!1,g=1,s=0,B=0,J=0,cu=0;if(!j.Ob(b)){var x=j.zs(b),C=R.O(x.Z()*4);
R.UB(r,j,C,x);r=C;j=x}var w=R.O(j.Z());R.YO(D,b,w,j);R.round(w);b=b.su(j);var q=b.d,u=b.r,h=q*3<u?2:1,z=u*3<q?2:1;
if(b.Z()*(h*2+1)*(z*2+1)<j.Z()){var x=new bf(b.x-q*h,b.y-u*h,q*(h*2+1),u*(z*2+1)).su(j),C=R.O(x.Z()*4);
R.UB(r,j,C,x);var O=R.O(x.Z());R.YO(w,j,O,x);j=x;r=C;w=O}while((j.d+j.r)/2/g>400)g++;var t=r,$=j,i=w,A=Math.floor($.d/g),H=Math.floor($.r/g);
r=R.O(A*H*4);R.scale.Ad(t,$.d,$.r,r,A,H,1/g);w=R.O(A*H);R.scale.X$(i,$.d,$.r,w,A,H,1/g);R.round(w,1);
var F=R.FV(w,new bf(0,0,A,H));if(F.jE())return 1;var T=Math.round((F.d+F.r)/2/15),_=Date.now(),V=R.O(A*H*4);
R.alm(r,V);var X=Int16Array,o=new X(A*H*24),c=new X(64),E=new X(64),f=new X(64),d=new X(64);for(var a=3;
a<H-4;a++)for(var U=3;U<A-4;U++){var M=a*A+U;if(w[M]==255)continue;if(R.Sv.a4x(V,w,U,a,A,H,c,E,f)!=0)continue;
R.Sv.uc(c,d);o[s]=U;o[s+1]=a;R.Sv.kZ(c,o,s+4,12);s+=16;R.Sv.uc(E,d);R.Sv.kZ(E,o,s,4);s+=4;R.Sv.uc(f,d);
R.Sv.kZ(f,o,s,4);s+=4;var W=o[s-24+5],n=o[s-24+6];o[s-24+5]=o[s-24+20];o[s-24+6]=o[s-24+16];o[s-24+16]=W;
o[s-24+20]=n;B++}if(B==0)return 2;if(Y)console.log(Date.now()-_,"FWHT computed");_=Date.now();var e=[];
R.Sv.GD(0,B-1,e,o,new X(2*24));if(Y)console.log(Date.now()-_,"KD tree computed");_=Date.now();var Q=new Float32Array(A*H*4);
for(var P=0;P<B;P++){var m=P,p=R.Sv.ajv(m,o,e,T);if(p==-1)continue;var L=m*24,S=p*24,eJ=o[L],hy=o[L+1],v=o[S],jo=o[S+1];
J+=R.Sv.getError(S,L,o,1e99);var g5=v-eJ,fQ=jo-hy;Q[(H+fQ)*2*A+(A+g5)]+=1}if(Y)console.log(Date.now()-_,"NN found");
_=Date.now();var iT=[],ac=1/(2*A);for(var P=0;P<Q.length;P++){if(Q[P]>0){var a=Math.floor(P*ac),U=P-a*2*A;
iT.push({x:U-A,y:a-H,m:Q[P],pS:-1})}}iT.sort(function(gt,gX){return gX.m-gt.m});var aR=new Int32Array(A*H),hV=[];
for(var P=0;P<A*H;P++){if(w[P]==255){aR[P]=cu;hV.push(P%A,Math.floor(P/A));cu++}else if(r[(P<<2)+3]<200){aR[P]=-2}else{aR[P]=-1}}var iy=R.Sv.apV(A,H,iT,aR,hV,cu);
if(iy==null){return 3}var gr=iy.bt,top=iy.top;gr=R.Sv.arQ(gr,r,A,H,top,aR,hV,cu);if(Y)console.log(Date.now()-_,"optimal labeling found");
_=Date.now();var x=b.clone();x.Fp(1,1);x=x.su($);var cp=R.O(x.Z()*4),gP=R.O(x.Z());R.UB(t,$,cp,x);var g7=$.d,j8=$.r;
for(var a=0;a<j8;a++)for(var U=0;U<g7;U++){if(i[a*g7+U]==0)continue;var dg=Math.min(Math.floor(U/g),A-1),gR=Math.min(Math.floor(a/g),H-1),em=aR[gR*A+dg];
if(em==-1)continue;var fr=gr[em],aU=top[fr],bb=U+aU.x*g,fZ=a+aU.y*g,h1=fZ*g7+bb<<2,ar=(a-x.y+$.y)*x.d+(U-x.x+$.x)<<2;
cp[ar]=t[h1];cp[ar+1]=t[h1+1];cp[ar+2]=t[h1+2];cp[ar+3]=t[h1+3];cp[ar+3]=t[h1+3];gP[ar>>2]=fr+1}if(Y)console.log(Date.now()-_,"copied back");
_=Date.now();R.ul.pA(cp,gP,x,null,1e3);if(Y)console.log(Date.now()-_,"poisson smooth");_=Date.now();
R.UB(cp,x,N,b);return 0};R.Sv.oo=function(r,j,D,N,b,Y){return R.Sv.o3(r+b.x,j+b.y,D,N)&&Y[(j+b.y)*D+(r+b.x)]==-1?0:1e9};
R.Sv.arQ=function(r,j,D,N,top,b,Y,x){var C=Date.now(),w=[-1,0,0,-1,1,0,0,1],q=1e99,u=[],h=[],z=2*(x*2*3+x*2),O=null,g=0,t=0,$=0,i=1e99;
while(!0&&Date.now()<C+12e3){$++;var A=null,H=q;for(var F=0;F<top.length;F++){var T=top[F],_=0,V=x+2,X=0;
for(var P=0;P<x;P++){var o=Y[P*2],c=Y[P*2+1],E=top[r[P]],f=R.Sv.oo(o,c,D,N,T,b),d=r[P]==F?1e9:R.Sv.oo(o,c,D,N,E,b);
for(var eK=0;eK<4;eK++){if(eK==0&&o==0||eK==1&&c==0||eK==2&&o==D-1||eK==3&&c==N-1)continue;var s=w[2*eK],B=w[2*eK+1],a=o+s,U=c+B,M=b[U*D+a];
if(M==-2){}else if(M==-1){f+=3*R.Sv.sF(a+T.x,U+T.y,a,U,D,N,j,b);f+=2*R.Sv.sF(a+T.x+s,U+T.y+B,a+s,U+B,D,N,j,b);
d+=3*R.Sv.sF(a+E.x,U+E.y,a,U,D,N,j,b);d+=2*R.Sv.sF(a+E.x+s,U+E.y+B,a+s,U+B,D,N,j,b)}else if(eK>1){if(r[P]==r[M]){var W=0;
W+=R.Sv.sF(o+E.x,c+E.y,o+T.x,c+T.y,D,N,j,b);W+=R.Sv.sF(a+E.x,U+E.y,a+T.x,U+T.y,D,N,j,b);u[_]=P;u[_+1]=M;
h[_]=W;h[_+1]=W;_+=2}else{var n=top[r[M]],e=V,Q=0,J=0,m=0;V++;Q+=R.Sv.sF(o+E.x,c+E.y,o+T.x,c+T.y,D,N,j,b);
Q+=R.Sv.sF(a+E.x,U+E.y,a+T.x,U+T.y,D,N,j,b);J+=R.Sv.sF(o+n.x,c+n.y,o+T.x,c+T.y,D,N,j,b);J+=R.Sv.sF(a+n.x,U+n.y,a+T.x,U+T.y,D,N,j,b);
m+=R.Sv.sF(o+n.x,c+n.y,o+E.x,c+E.y,D,N,j,b);m+=R.Sv.sF(a+n.x,U+n.y,a+E.x,U+E.y,D,N,j,b);u[_]=P;u[_+1]=e;
h[_]=Q;h[_+1]=Q;_+=2;u[_]=M;u[_+1]=e;h[_]=J;h[_+1]=J;_+=2;u[_]=e;u[_+1]=x+1;h[_]=m;h[_+1]=0;_+=2}}}u[_]=x;
u[_+1]=P;h[_]=f;h[_+1]=0;_+=2;u[_]=P;u[_+1]=x+1;h[_]=d;h[_+1]=0;_+=2;X+=Math.min(f,d)}if(X>H)continue;
var p=R.vd.st(V,_,x,x+1,u,h,H);if(p.AB<H){H=p.AB;var L=r.slice(0);R.Sv.aqA(L,_,u,p.jI,F,x);A=L}}if(H*1>=q){break}q=H;
r=A;if(($&3)==0){if(H*1.03>=i)break;i=H}if(($&3)==0){var S=0*top.length;for(var P=0;P<top.length&&top.length>S;
P++){if(r.indexOf(P)!=-1)continue;top.splice(P,1);for(var M=0;M<r.length;M++)if(r[M]>P)r[M]--;P--}}}return r};
R.Sv.aqA=function(r,j,D,N,b,Y){for(var P=0;P<N.length;P++){var x=N[P]<<1,C=0,w=0;if(x<j){C=D[x];w=D[x+1]}else{w=D[x];
C=D[x+1]}if(C==Y&&r[w]!=b)r[w]=b}};R.Sv.mw=function(top,r,j,D,N,b,Y,x,C){for(var P=0;P<j.length;P++){var w=j[P],q=!0;
if(x!=null&&!(R.Sv.o3(x+w.x,C+w.y,b,Y)&&D[b*(C+w.y)+x+w.x]==-1))continue;if(w.pS==-1)w.pS=R.Sv.a1o(w,D,N,b,Y);
if(w.pS<=0)continue;for(var u=0;u<top.length;u++){var h=top[u],z=w.x-h.x,O=w.y-h.y;if(z*z+O*O<r){q=!1;
break}}if(q)return w}return null};R.Sv.a1o=function(r,j,D,N,b){var Y=0;for(var P=0;P<D.length;P+=2){var x=D[P]+r.x,C=D[P+1]+r.y;
if(R.Sv.o3(x,C,N,b)&&j[N*C+x]==-1)Y++}return Y/(D.length>>1)};R.Sv.apV=function(r,j,D,N,b,Y){var top=[];
for(var P=0;P<60;P++){var x=R.Sv.mw(top,25,D,N,b,r,j);if(x==null)break;else top.push(x)}if(top.length==0)return null;
var C=[];for(var P=0;P<Y;P++){var w=b[P*2],q=b[P*2+1],u=-1,h=0;while(!0){h++;var z=Math.random();u=Math.floor(z*.99999*top.length);
var O=top[u],g=w+O.x,t=q+O.y;if(R.Sv.o3(g,t,r,j)&&N[t*r+g]==-1)break;if(h>100){var x;x=R.Sv.mw(top,0,D,N,b,r,j,w,q);
if(x==null)return null;top.push(x);h=0}}C.push(u)}return{top:top,bt:C}};R.Sv.sF=function(r,j,D,N,b,Y,x,C){if(r==D&&j==N)return 0;
if(r<0||j<0||r>=b||j>=Y||D<0||N<0||D>=b||N>=Y||C[j*b+r]!=-1||C[N*b+D]!=-1)return 1e7;var w=j*b+r<<2,q=N*b+D<<2,u=x[w]-x[q],h=x[w+1]-x[q+1],z=x[w+2]-x[q+2];
return 1+(u*u+h*h+z*z)};R.Sv.o3=function(r,j,D,N){return r>=0&&r<D&&j>=0&&j<N};R.Sv.ajv=function(r,j,D,N){var b=24*r,Y=j[b],x=j[b+1],C=N*N,w=0,z=1e9;
while(D[w]!=99)if(j[b+D[w]]<D[w+1])w=D[w+2];else w=D[w+3];var q=D[w+1],u=D[w+2],h=-1;for(var P=q;P<=u;
P++){var w=P,O=w*24,g=j[O],t=j[O+1];if((g-Y)*(g-Y)+(t-x)*(t-x)<C)continue;var $=R.Sv.getError(O,b,j,z);
if($<z){z=$;h=w}}return h};R.Sv.getError=function(r,j,D,N){var b=0;for(var Y=4;Y<24;Y+=4){var x=D[j+Y]-D[r+Y],C=D[j+Y+1]-D[r+Y+1],w=D[j+Y+2]-D[r+Y+2],q=D[j+Y+3]-D[r+Y+3];
b+=x*x+C*C+w*w+q*q;if(b>=N)return b+1}return b};R.Sv.GD=function(r,j,D,N,b){var Y=16,z=0;if(j-r<=Y){D.push(99,r,j);
return}R.Sv.mN(r,j,N,b);var x=-1,C=-1;for(var P=4;P<24;P++){var w=b[2*P+1]-b[2*P];if(w>C){C=w;x=P}}var q=r+j>>1,u=R.Sv.aeG(q,r,j,N,x),h=-1;
for(var P=r;P<=j;P++)if(N[24*P+x]==u){if(h==-1)h=P;z=P}if(r+8<h&&h-r>j-z)q=h;else if(z+1<j-8)q=z+1;else if(j-r<64){D.push(99,r,j);
return}else q=q;var O=D.length;D.push(x,u,0,0);D[O+2]=O+4;R.Sv.GD(r,q-1,D,N,b);D[O+3]=D.length;R.Sv.GD(q,j,D,N,b)};
R.Sv.mN=function(r,j,D,N){for(var P=0;P<48;P+=4){N[P]=3e4;N[P+1]=-3e4;N[P+2]=3e4;N[P+3]=-3e4}for(var P=r;
P<=j;P++){var b=P*24;for(var Y=0;Y<24;Y++){var x=D[b+Y],C=N[Y<<1],w=N[(Y<<1)+1];if(x<C)N[Y<<1]=x;if(x>w)N[(Y<<1)+1]=x}}};
R.Sv.bm=function(r,j,D){var N=0,P=0;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;
P++;N=D[r+P];D[r+P]=D[j+P];D[j+P]=N;P++};R.Sv.PH=function(r,j,D,N){var b=D+N>>>1,Y=r[24*b+j];while(D<=N){while(r[24*D+j]<Y)D++;
while(r[24*N+j]>Y)N--;if(D<=N){if(r[24*D+j]!=r[24*N+j])R.Sv.bm(D*24,N*24,r);D++;N--}}return D};R.Sv.aeG=function(r,j,D,N,b){var Y=0;
while(j!=D){Y=R.Sv.PH(N,b,j,D);if(r<Y)D=Y-1;else j=Y}return N[r*24+b]};R.Sv.kZ=function(r,j,D,N){for(var P=0;
P<N;P++)j[D+P]=r[P]};R.Sv.a4x=function(r,j,D,N,b,Y,x,C,w){var q=(N-3)*b+(D-3),u=q<<2;for(var h=0;h<8;
h++){if(j[q]+j[q+1]+j[q+2]+j[q+3]+j[q+4]+j[q+5]+j[q+6]+j[q+7]!=0||r[u+3]<200||r[u+7]<200||r[u+11]<200||r[u+15]<200||r[u+19]<200||r[u+23]<200||r[u+27]<200||r[u+31]<200)return 1;
var P=h<<3;x[P+0]=r[u+0];C[P+0]=r[u+1];w[P+0]=r[u+2];x[P+1]=r[u+4];C[P+1]=r[u+5];w[P+1]=r[u+6];x[P+2]=r[u+8];
C[P+2]=r[u+9];w[P+2]=r[u+10];x[P+3]=r[u+12];C[P+3]=r[u+13];w[P+3]=r[u+14];x[P+4]=r[u+16];C[P+4]=r[u+17];
w[P+4]=r[u+18];x[P+5]=r[u+20];C[P+5]=r[u+21];w[P+5]=r[u+22];x[P+6]=r[u+24];C[P+6]=r[u+25];w[P+6]=r[u+26];
x[P+7]=r[u+28];C[P+7]=r[u+29];w[P+7]=r[u+30];u+=b<<2;q+=b}return 0};R.Sv.uc=function(r,j){j[0]=r[32]+r[0];
j[1]=r[33]+r[1];j[2]=r[34]+r[2];j[3]=r[35]+r[3];j[4]=r[36]+r[4];j[5]=r[37]+r[5];j[6]=r[38]+r[6];j[7]=r[39]+r[7];
j[8]=r[40]+r[8];j[9]=r[41]+r[9];j[10]=r[42]+r[10];j[11]=r[43]+r[11];j[12]=r[44]+r[12];j[13]=r[45]+r[13];
j[14]=r[46]+r[14];j[15]=r[47]+r[15];j[16]=r[48]+r[16];j[17]=r[49]+r[17];j[18]=r[50]+r[18];j[19]=r[51]+r[19];
j[20]=r[52]+r[20];j[21]=r[53]+r[21];j[22]=r[54]+r[22];j[23]=r[55]+r[23];j[24]=r[56]+r[24];j[25]=r[57]+r[25];
j[26]=r[58]+r[26];j[27]=r[59]+r[27];j[28]=r[60]+r[28];j[29]=r[61]+r[29];j[30]=r[62]+r[30];j[31]=r[63]+r[31];
j[32]=r[0]-r[32];j[33]=r[1]-r[33];j[34]=r[2]-r[34];j[35]=r[3]-r[35];j[36]=r[4]-r[36];j[37]=r[5]-r[37];
j[38]=r[6]-r[38];j[39]=r[7]-r[39];j[40]=r[8]-r[40];j[41]=r[9]-r[41];j[42]=r[10]-r[42];j[43]=r[11]-r[43];
j[44]=r[12]-r[44];j[45]=r[13]-r[45];j[46]=r[14]-r[46];j[47]=r[15]-r[47];j[48]=r[16]-r[48];j[49]=r[17]-r[49];
j[50]=r[18]-r[50];j[51]=r[19]-r[51];j[52]=r[20]-r[52];j[53]=r[21]-r[53];j[54]=r[22]-r[54];j[55]=r[23]-r[55];
j[56]=r[24]-r[56];j[57]=r[25]-r[57];j[58]=r[26]-r[58];j[59]=r[27]-r[59];j[60]=r[28]-r[60];j[61]=r[29]-r[61];
j[62]=r[30]-r[62];j[63]=r[31]-r[63];r[0]=j[16]+j[0];r[1]=j[17]+j[1];r[2]=j[18]+j[2];r[3]=j[19]+j[3];
r[4]=j[20]+j[4];r[5]=j[21]+j[5];r[6]=j[22]+j[6];r[7]=j[23]+j[7];r[8]=j[24]+j[8];r[9]=j[25]+j[9];r[10]=j[26]+j[10];
r[11]=j[27]+j[11];r[12]=j[28]+j[12];r[13]=j[29]+j[13];r[14]=j[30]+j[14];r[15]=j[31]+j[15];r[16]=j[0]-j[16];
r[17]=j[1]-j[17];r[18]=j[2]-j[18];r[19]=j[3]-j[19];r[20]=j[4]-j[20];r[21]=j[5]-j[21];r[22]=j[6]-j[22];
r[23]=j[7]-j[23];r[24]=j[8]-j[24];r[25]=j[9]-j[25];r[26]=j[10]-j[26];r[27]=j[11]-j[27];r[28]=j[12]-j[28];
r[29]=j[13]-j[29];r[30]=j[14]-j[30];r[31]=j[15]-j[31];j[0]=r[8]+r[0];j[1]=r[9]+r[1];j[2]=r[10]+r[2];
j[3]=r[11]+r[3];j[4]=r[12]+r[4];j[5]=r[13]+r[5];j[6]=r[14]+r[6];j[7]=r[15]+r[7];j[8]=r[0]-r[8];j[9]=r[1]-r[9];
j[10]=r[2]-r[10];j[11]=r[3]-r[11];j[12]=r[4]-r[12];j[13]=r[5]-r[13];j[14]=r[6]-r[14];j[15]=r[7]-r[15];
r[0]=j[4]+j[0];r[1]=j[5]+j[1];r[2]=j[6]+j[2];r[3]=j[7]+j[3];r[4]=j[0]-j[4];r[5]=j[1]-j[5];r[6]=j[2]-j[6];
r[7]=j[3]-j[7];r[8]=j[12]+j[8];r[9]=j[13]+j[9];r[10]=j[14]+j[10];r[11]=j[15]+j[11];r[12]=j[8]-j[12];
r[13]=j[9]-j[13];r[14]=j[10]-j[14];r[15]=j[11]-j[15];j[0]=r[2]+r[0];j[1]=r[3]+r[1];j[2]=r[0]-r[2];j[3]=r[1]-r[3];
j[4]=r[6]+r[4];j[5]=r[7]+r[5];j[6]=r[4]-r[6];j[7]=r[5]-r[7];j[8]=r[10]+r[8];j[9]=r[11]+r[9];j[10]=r[8]-r[10];
j[11]=r[9]-r[11];j[12]=r[14]+r[12];j[13]=r[15]+r[13];j[14]=r[12]-r[14];j[15]=r[13]-r[15];r[0]=j[1]+j[0];
r[1]=j[0]-j[1];r[2]=j[3]+j[2];r[3]=j[2]-j[3];r[4]=j[5]+j[4];r[5]=j[4]-j[5];r[6]=j[7]+j[6];r[7]=j[6]-j[7];
r[8]=j[9]+j[8];r[9]=j[8]-j[9];r[10]=j[11]+j[10];r[11]=j[10]-j[11];r[12]=j[13]+j[12];r[13]=j[12]-j[13];
r[14]=j[15]+j[14];r[15]=j[14]-j[15]};R.Sv.a7b=function(){var r="",eK=64,j="v",D="t",N="a",b=5,P,Y,x;
for(P=eK>>1;P>0;P>>=1,b--){for(Y=0;Y<eK;Y++){x=(Y>>b&1)!=0;if(x){r+=D+"["+Y+"] = "+j+"["+(-P+Y)+"] - "+j+"["+Y+"];  "}else{r+=D+"["+Y+"] = "+j+"["+(P+Y)+"] + "+j+"["+Y+"];  "}}N=j;
j=D;D=N;r+="\n"}console.log(r)};R.Sv.agh=function(eK,r,j){var D=r,N=j,b=D,Y=0,P,C,w;while(eK>>Y!=2)Y++;
var x=Y;for(P=eK>>1;P>0;P>>=1,Y--){for(C=0;C<eK;C++){w=(C>>Y&1)!=0;if(w)N[C]=D[-P+C]-D[C];else N[C]=D[P+C]+D[C]}b=D;
D=N;N=b}if((x&1)==1)for(P=0;P<eK;P++)j[P]=D[P]};R.IV={};R.IV.Ah=function(r,j,D,N,b,Y,x,C,w){var q=Date.now(),u=new Uint32Array(r.buffer),h=new Uint32Array(j.buffer),z=x/D,O=C/N,g=1/z,t=1/O,$=new Float64Array(2),i=3,A=1/i,H=1/(i*i),F=0,T=0,_=D,V=N;
if(b){F=b.x;T=b.y;_=b.d;V=b.r}for(var X=0;X<V;X++)for(var o=0;o<_;o++){var c=F+o,E=T+X,P=E*D+c,f=P<<1,d=P<<2;
R.IV.afy(Y,x,C,(c+.5)*z,(E+.5)*O,$);var s=$[0]*g,B=$[1]*t;if(s==0&&B==0)h[P]=u[P];else{R.t.L5(c+s+.5,E+B+.5,u,D,N,h,P,w)}}};
R.IV.afy=function(r,j,D,N,b,Y){N-=.499999;b-=.499999;var x=~~N,C=~~b,w=N-x,q=b-C,u=(1-q)*(1-w),h=(1-q)*w,z=q*(1-w),O=q*w,g=x<j-1?x+1:x,t=C<D-1?C+1:C,$=C*j+x<<1,i=C*j+g<<1,A=t*j+x<<1,H=t*j+g<<1;
Y[0]=u*r[$]+h*r[i]+z*r[A]+O*r[H];Y[1]=u*r[$+1]+h*r[i+1]+z*r[A+1]+O*r[H+1]};R.IV.abF=function(r,j,D,N,b){var Y=1/r,x=[-1,1,-r,r],C=N.length;
for(var w=0;w<C;w++){var P=N[w],q=P<<1,u=w<<1,h=~~(P*Y),z=P-r*h,O=D[q],g=D[q+1],t=0,$=0;if(z!=0&&z!=r-1){var i=P-1<<1,A=P+1<<1,H=D[i],F=D[A],T=D[i+1],_=D[A+1],V=O-(H+F)*.5,X=g-(T+_)*.5;
t-=V*b;$-=X*b}if(h!=0&&h!=j-1){var i=P-r<<1,A=P+r<<1,H=D[i],F=D[A],T=D[i+1],_=D[A+1],V=O-(H+F)*.5,X=g-(T+_)*.5;
t-=V*b;$-=X*b}D[q]=O+t;D[q+1]=g+$}};R.IV.a9$=function(r,j){var D=r+","+j;if(R.IV.pm==D)return R.IV.Y8;
var N=R.IV.Y8=[];R.IV.pm=D;for(var P=0;P<=1e3;P++){var b=P*.001,Y=Math.sqrt(b),x=Math.exp(-4*Y),C=.96*(1-Y*Y),w=j*((1-r)*x+r*C);
N[P]=w}return N};R.IV.pm="";R.IV.Y8=[];R.IV.aq0=function(r,j,D,N,b,Y,x,C,w,q,u,h,z){var O=Math.max(0,Math.floor(b-x-1)),g=Math.min(j,Math.ceil(b+x+1)),t=Math.max(0,Math.floor(Y-x-1)),$=Math.min(D,Math.ceil(Y+x+1)),i=2*j,A=x*x,H=1/x,F=0;
if(z&&(N==3||N==6))w=-w;var T=R.IV.a9$(C,w);for(var _=t;_<$;_++)for(var V=O;V<g;V++){var P=_*j+V,X=P<<1,o=(b-V)*H,c=(Y-_)*H,E=o*o+c*c;
if(E<1){h[F]=P;var f=T[~~(E*1e3)];if(N==1){r[X]=r[X]*(1-f*.05);r[X+1]=r[X+1]*(1-f*.05)}else{var d=0,s=0,U,M,W,n;
if(N==0){d=q*f;s=u*f}else if(N==2){}else if(N==3){d=f*c;s=-f*o}else if(N==4){d=f*o;s=f*c}else if(N==5){d=-f*o;
s=-f*c}else if(N==6){d=u*f;s=-q*f}var B=r[X],a=r[X+1];if(V==0||V!=j-1&&d<0){U=1+r[X+2]-B;W=r[X+3]-a}else{U=B-r[X-2]+1;
W=a-r[X-1]}if(_==0||_!=D-1&&s<0){M=r[X+i]-B;n=1+r[X+i+1]-a}else{M=B-r[X-i];n=a-r[X-i+1]+1}r[X]=-(U*d+M*s-B);
r[X+1]=-(W*d+n*s-a)}F++}}};R.IV.am3=function(r){var j=r[0],D=r[0],N=r[1],b=r[1];for(var P=0;P<r.length;
P+=2){var Y=r[P],x=r[P+1];if(Y<j)j=Y;else if(Y>D)D=Y;if(x<N)N=x;else if(x>b)b=x}return[j,N,D,b]};R.a2V=function(r,j,D,N,b){function Y(v,ff,K,jo){return Math.sqrt((v-K)*(v-K)+(ff-jo)*(ff-jo))}function x(v,ff){return v>=0&&v<j&&ff>=0&&ff<D}function C(v){if(v<0)return 0;
if(v>=j)return j-1;return v}function w(v){if(v<0)return 0;if(v>=D)return D-1;return v}function q(P,v){var ff=v[3]*(1/255),K=N[P]+v[0]*ff;
if(K>255)K=255;N[P]=K;K=N[P+1]+v[1]*ff;if(K>255)K=255;N[P+1]=K;K=N[P+2]+v[2]*ff;if(K>255)K=255;N[P+2]=K}function u(v,ff,K){if(!e(v,ff))return;
if(K[3]<0)K[3]=0;q((ff*j+v)*4,K)}function h(v){var ff=v.slice(0,3);ff[3]=0;return ff}var z=j/800;function O(v){return Math.round(v*z)}function g(){for(var P=0;
P<=300;P++){J[P]=t(P)}}function t(D){var v=.8,ff=.2,K=v*ff,jo=D/60%2-1,g5=K*(1-jo*jo),fQ=ff-K,iT;if(D<60){iT=[K+fQ,g5,0]}else if(D<120){iT=[g5,K,0]}else if(D<180){iT=[0,K,g5]}else if(D<240){iT=[0,g5,K]}else if(D<300){iT=[g5,0,K]}else{iT=[K,0,g5]}return[(iT[0]+fQ)*255,(iT[1]+fQ)*255,(iT[2]+fQ)*255]}function $(D){return J[~~D]}function i(v){return 1-A(v)}function A(v){return v-~~v}function H(v,ff,K,jo){W(v,ff,K,0,ff+1,1,jo)}function F(v,ff,K,jo,g5,fQ){W(v,ff,K,0,jo,1,g5,fQ)}function T(v){for(var P=0;
P<N.length;P+=4){q(P,v)}}function _(v,ff,K,jo,g5,fQ,iT,ac){V(v,ff,K,jo,g5,1,fQ,iT,ac)}function V(v,ff,K,jo,g5,fQ,iT,ac,aR){if(fQ==null)fQ=.5;
if(iT==null)iT=0;if(ac==null)ac=0;if(aR==null)aR=!1;var hV=v.x,cu=v.y,iy=K.slice(0),gr=~~(K[3]*p);jo=jo*p;
if(!aR){ff=n(ff);g5=n(g5);iT=n(iT);ac=n(ac)}var cp=C(hV-ff),gP=C(hV+ff);for(var g7=cp;g7<=gP;g7++){var j8=g7-hV,dg=Math.floor(Math.sqrt(ff*ff-j8*j8)),gR=w(cu-dg),em=w(cu);
for(var fr=gR;fr<=em;fr++){var aU=Y(g7,fr,hV,cu);if(aU>ff||aU<=ff-g5)break;var bb=(aU-ff+g5)/g5;iy[3]=gr-jo*(fQ==1?bb:Math.pow(bb,fQ));
q((fr*j+g7)*4,iy)}gR=w(cu+dg);for(var fr=gR;fr>em;fr--){var aU=Y(g7,fr,hV,cu);if(aU>ff||aU<=ff-g5)break;
var bb=(aU-ff+g5)/g5;iy[3]=gr-jo*(fQ==1?bb:Math.pow(bb,fQ));q((fr*j+g7)*4,iy)}}if(iT>0){W(v,ff+iT,iy,iy[3],iT,1,0,0,!0)}if(ac>0){W(v,ff-g5,Q(K),-K[3],ac,1,0,0,!0)}}function X(v,ff,K,jo,g5,fQ){W(v,ff,K,K[3],ff+1,1,jo,g5,fQ)}function o(v,ff,K,jo,g5){if(g5==null)g5=!1;
var fQ=v.x,iT=v.y;jo*=p;if(!g5){ff=n(ff);K=n(K)}var ac=C(fQ-ff),aR=C(fQ+ff);for(var hV=ac;hV<aR;hV++){var cu=hV-fQ,iy=~~Math.sqrt(ff*ff-cu*cu),gr=w(iT-iy),cp=w(iT);
for(var gP=gr;gP<=cp;gP++){var g7=Y(hV,gP,fQ,iT);if(g7>ff||g7<=ff-K)break;var j8=(ff-g7)/K,dg=$(300*j8);
dg[3]=jo;q((gP*j+hV)*4,dg)}gr=w(iT+iy);for(var gP=gr;gP>cp;gP--){var g7=Y(hV,gP,fQ,iT);if(g7>ff||g7<=ff-K)break;
var j8=(ff-g7)/K,dg=$(300*j8);dg[3]=jo;q((gP*j+hV)*4,dg)}}}function c(m,v){var ff=m.iE,K=m.e0,jo=v.slice(0),g5=v[3]*p,fQ=Math.abs(K.y-ff.y)>Math.abs(K.x-ff.x);
if(fQ){var iT=ff.x;ff.x=ff.y;ff.y=iT;iT=K.x;K.x=K.y;K.y=iT}if(ff.x>K.x){var iT=ff;ff=K;K=iT}var ac=K.x-ff.x,aR=K.y-ff.y,hV=ac==0?1:aR/ac,cu=Math.round(ff.x),iy=ff.y+hV*(cu-ff.x),gr=i(ff.x+.5),cp=cu,gP=~~iy;
if(fQ){jo[3]=g5*i(iy)*gr;u(gP,cp,jo);jo[3]=g5*A(iy)*gr;u(gP+1,cp,jo)}else{jo[3]=g5*i(iy)*gr;u(cp,gP,jo);
jo[3]=g5*A(iy)*gr;u(cp,gP+1,jo)}var g7=iy-hV;cu=Math.round(K.x);iy=K.y+hV*(cu-K.x);gr=A(K.x+.5);var j8=cu,dg=~~iy;
if(fQ){jo[3]=g5*i(iy)*gr;u(dg,j8,jo);jo[3]=g5*A(iy)*gr;u(dg+1,j8,jo)}else{jo[3]=g5*i(iy)*gr;u(j8,dg,jo);
jo[3]=g5*A(iy)*gr;u(j8,dg+1,jo)}if(fQ){for(var gR=cp+1;gR<=j8-1;gR++){jo[3]=g5*i(g7);u(~~g7,gR,jo);jo[3]=g5*A(g7);
u(~~g7+1,gR,jo);g7+=hV}}else{for(var gR=cp+1;gR<=j8-1;gR++){jo[3]=g5*i(g7);u(gR,~~g7,jo);jo[3]=g5*A(g7);
u(gR,~~g7+1,jo);g7+=hV}}}function E(v,ff,K,jo){for(var P=0;P<4;P++){var g5=v.YY(ff+1.3*P,K);c(g5,jo,1)}}function gJ(v,ff){this.x=Math.round(v);
this.y=Math.round(ff)}var f=Math.PI/180;gJ.prototype.YY=function(v,ff){v=v*f;var K=this.x+ff*Math.cos(v),jo=this.y+ff*Math.sin(v);
return new d(this.x,this.y,K,jo)};gJ.prototype.ama=function(v,ff){v=v*f;var K=this.Cd+ff*Math.cos(v),jo=this.aoT+ff*Math.sin(v);
return new gJ(K,jo)};function d(v,ff,K,jo){this.iE=new gJ(v,ff);this.e0=new gJ(K,jo)}d.prototype.G2=function(v){var ff=v*this.iE.x+(1-v)*this.e0.x,K=v*this.iE.y+(1-v)*this.e0.y;
return new gJ(ff,K)};var s=_,B=X,a=H,U=F,M=o,W=V,n=O,e=x,Q=h,J=[];g();for(var P=0;P<r.length;P++){N[P]=r[P]}var m=new d(j*b[2],D*b[3],j/2,D/2),p=b[1],L=[];
L[0]=function S(){var v=[80,40,15,60],K=0,jo=0;a(m.G2(1.4),260,v,10);a(m.G2(1),100,[240,50,50,30],30);
B(m.G2(1),60,[255,40,0,40]);var ff=[255,255,255,255];W(m.G2(1),70,ff,ff[3],58,.5);a(m.G2(1),12,ff);ff[3]=40;
s(m.G2(1),150,ff,ff[3],150);for(var P=0;P<40;P++){K+=Math.random()*25;jo=Math.random()*n(300)+n(100);
var g5=m.G2(1).YY(K,jo);c(m.G2(1).YY(K,jo),[110,110,110,30])}B(m.G2(1),130,[255,255,255,8]);var fQ=[170,30,23,70];
U(m.G2(1),70,fQ,1,3,3);var iT=[60,60,130,40];a(m.G2(.47),44,iT,5);a(m.G2(.43),22,iT,3);iT[3]=16;a(m.G2(.53),15,iT,2);
var ac=[138,94,42,100];a(m.G2(.2),16,ac,2);var aR=[130,255,170,180];B(m.G2(0),4,aR);B(m.G2(-.25),5,aR);
ac=[150,90,0,50];s(m.G2(-.45),55,Q(ac),-ac[3],40,2);a(m.G2(-.42),35,ac,2);a(m.G2(-.5),15,ac,2);M(m.G2(-1.28),145,11,70);
var hV=$(0);hV[3]=50;s(m.G2(-1.28),149,hV,hV[3],4);hV=$(300);hV[3]=50;s(m.G2(-1.28),155-1,Q(hV),-hV[3],3);
var cu=[130,130,10,50];U(m.G2(-1),73,cu,3,2);var iy=[40,130,70,40];s(m.G2(-1),70,Q(iy),-iy[3],35);iy=[40,170,60,50];
a(m.G2(-.7),25,iy,4);var iy=[70,110,50,60];s(m.G2(1.3),30,Q(iy),-iy[3],11,3);iT=[0,50,210,80];B(m.G2(-.72),20,iT)};
L[1]=function eJ(){B(m.G2(1),150,[240,70,70,60]);a(m.G2(1),100,[200,60,60,40],30);var v=[255,255,255,255],ff=0,K=0;
W(m.G2(1),75,v,v[3],63);a(m.G2(1),12,v);B(m.G2(1),270,[200,200,200,20],10);for(var P=0;P<10;P++){ff+=10+Math.random()*40;
K=Math.random()*n(250)+n(80);var jo=m.G2(1).YY(ff,K);c(jo,[110,110,110,35])}ff=5;K=100;for(var P=0;P<12;
P++){ff+=30;E(m.G2(1),ff,K,[90,90,90,40])}var g5=[150,40,23,100];U(m.G2(1),70,g5,1,3,3);var fQ=[30,100,60,40];
B(m.G2(-.9),180,[255,255,255,20]);a(m.G2(-.9),140,fQ,15);var iT=[170,80,25,15];U(m.G2(-.9),120,iT,1,4,4);
var ac=[110,240,190,200];B(m.G2(-.6),3,ac);ac[3]=100;B(m.G2(-.6),7,ac);var aR=[230,120,40,85];B(m.G2(-.73),9,aR);
var hV=[60,60,190,50];a(m.G2(.3),28,hV,6);hV[3]=25;a(m.G2(.34),20,hV,3)};L[2]=function hy(){var v=[255,255,255,255],K=0,jo=0;
a(m.G2(1),13,v);W(m.G2(1),150,v,v[3],137);var ff=[120,80,35,20];a(m.G2(1.4),260,ff,10);for(var P=0;P<40;
P++){K+=5+Math.random()*30;jo=Math.random()*n(300);c(m.G2(1).YY(K,jo),[110,110,110,20])}var g5=[10,30,255,30];
a(m.G2(1),70,g5,50);var fQ=[15,90,170,15];a(m.G2(1.5),60,fQ);var iT=[220,220,20,50];a(m.G2(-1.15),8,iT,2);
var v=[255,255,255,40];B(m.G2(-1.18),6,v);B(m.G2(-1.18),4,v);iT=[110,110,10,8];s(m.G2(-1.2),32,Q(iT),-iT[3],20,3);
var ac=[5,0,16,255];for(var P=0;P<4;P++){a(m.G2(-1.36),10,ac,3)}var aR=[90,200,150,20],hV=aR.slice(0);
hV[3]*=2;a(m.G2(-1.32),7,hV,3);a(m.G2(-1.36),7,hV,3);a(m.G2(-1.4),7,hV,3);var v=[230,230,230,100];B(m.G2(-1.36),2,v);
v[3]=3;a(m.G2(-.55),10,v);iT=[120,100,10,18];a(m.G2(-.55),160,iT,8);a(m.G2(-.55),80,iT,4);aR[3]=3;hV[3]=6;
s(m.G2(-.49),13,Q(hV),-hV[3],13,2);s(m.G2(-.55),13,Q(hV),-hV[3],13,2);aR[3]=20;a(m.G2(.15),25,aR,3);
iT[3]=100;B(m.G2(-.52),3,iT);iT=[200,200,50,40];a(m.G2(.27),1,iT,4);var cu=[150,40,23,30];s(m.G2(1),80,Q(cu),-cu[3],2,1)};
return L[b[0]]()};R.sW={};R.sW.Vd=function(r){var j=r.length,eK=r[0].length,D=new Array(eK);for(var P=0;
P<eK;P++)D[P]=new Array(j);for(var P=0;P<eK;P++)for(var N=0;N<j;N++)D[P][N]=r[N][P];return D};R.sW.I5=function(r,j){var D=r.length,eK=r[0].length,N=new Array(D);
for(var P=0;P<D;P++)N[P]=new Array(eK);for(var P=0;P<D;P++)for(var b=0;b<eK;b++)N[P][b]=r[P][b]-j[P][b];
return N};R.sW.add=function(r,j){var D=r.length,eK=r[0].length,N=new Array(D);for(var P=0;P<D;P++)N[P]=new Array(eK);
for(var P=0;P<D;P++)for(var b=0;b<eK;b++)N[P][b]=r[P][b]+j[P][b];return N};R.sW.multiply=function(r,j){var D=r.length,N=r[0].length,eK=j[0].length;
if(N!=j.length)throw"e";var b=new Array(D);for(var P=0;P<D;P++)b[P]=new Array(eK);if((N&1)!=0)for(var P=0;
P<D;P++){var Y=r[P],x=b[P];for(var C=0;C<eK;C++){var w=0;for(var q=0;q<N;q++)w+=Y[q]*j[q][C];x[C]=w}}else for(var P=0;
P<D;P++){var Y=r[P],x=b[P];for(var C=0;C<eK;C++){var w=0;for(var q=0;q<N;q+=2)w+=Y[q]*j[q][C]+Y[q+1]*j[q+1][C];
x[C]=w}}return b};R.sW.xf=function(r,j){var D=r.length,eK=r[0].length,N=new Array(D);for(var P=0;P<D;
P++){var b=0;for(var Y=0;Y<eK;Y++)b+=r[P][Y]*j[Y];N[P]=b}return N};R.sW.$D=function(r,j){var D=[];for(var P=0;
P<r;P++){D.push([]);for(var N=0;N<j;N++)D[P].push(0)}return D};R.sW.am0=function(r){for(var P=0;P<r.length;
P++)console.log(JSON.stringify(r[P]))};R.sW.ail=function(r){var j=[];for(var P=0;P<r.length;P++)j.push(r[P].join(","));
return"["+j.join(";")+"]"};R.sW.st=function(r,j){var D=r.length;for(var N=0;N<D;N++){var b=0,Y=Number.NEGATIVE_INFINITY;
for(var P=N;P<D;P++)if(Math.abs(r[P][N])>Y){b=P;Y=Math.abs(r[P][N])}R.sW.abg(r,N,b);for(var P=N+1;P<D;
P++){if(r[N][N]==0)return 1;var x=r[P][N]/r[N][N];for(var C=N;C<D+1;C++)r[P][C]-=r[N][C]*x}}for(var P=D-1;
P>=0;P--){if(r[P][P]==0)return 1;var w=r[P][D]/r[P][P];j[P]=w;for(var C=P-1;C>=0;C--){r[C][D]-=r[C][P]*w;
r[C][P]=0}}return 0};R.sW.abg=function(r,j,D){var N=r[j];r[j]=r[D];r[D]=N};R.sW.acr=function(r){var j=r.length,D=R.sW.$D(j,j);
for(var P=0;P<j;P++)D[P][P]=r[P];return D};R.sW.aqi=function(r){var j=r.length,D=r[0].length,N=new Array(j);
for(var P=0;P<j;P++){N[P]=0;for(var b=0;b<D;b++)N[P]+=r[P][b];N[P]/=D}return N};R.sW.i5=function(r){var j=0;
for(var P=0;P<r.length;P++)j+=r[P]*r[P];return Math.sqrt(j)};R.ft={};R.ft.GE=function(r){var j=~~(r+.5);
return j<0?0:j>255?255:j};R.ft.transform=function(r,j,D){var N=R.ft.GE,b=r.a.length;for(var P=0;P<b;
P++){var Y=r.a[P],x=r.p[P],C=r.M[P];j.a[P]=N(D[0]*Y+D[1]*x+D[2]*C+D[3]*255);j.p[P]=N(D[4]*Y+D[5]*x+D[6]*C+D[7]*255);
j.M[P]=N(D[8]*Y+D[9]*x+D[10]*C+D[11]*255)}};R.ft.v9=function(r,j,D){var N=R.ft.GE,b=r.length;for(var P=0;
P<b;P+=4){var Y=r[P],x=r[P+1],C=r[P+2];j[P]=N(D[0]*Y+D[1]*x+D[2]*C+D[3]*255);j[P+1]=N(D[4]*Y+D[5]*x+D[6]*C+D[7]*255);
j[P+2]=N(D[8]*Y+D[9]*x+D[10]*C+D[11]*255)}};R.ft.J_=function(r){var j=r[0]+r[1]+r[2],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(j==1){var N=r.indexOf(1);D[N]=D[N+4]=D[N+8]=1}else{D[0]=r[0];D[5]=r[1];D[10]=r[2]}return D};R.ft.dC=function(r,j,D){return[1,0,0,r,0,1,0,j,0,0,1,D,0,0,0,1]};
R.ft.mU=function(r,j,D){return[r,0,0,0,0,j,0,0,0,0,D,0,0,0,0,1]};R.ft.a65=function(r){return[r[0],r[1],r[2],r[4],r[5],r[6],r[8],r[9],r[10]]};
R.ft.I2=function(r){return[r[0],r[1],r[2],0,r[3],r[4],r[5],0,r[6],r[7],r[8],0,0,0,0,1]};R.ft.rg=function(r,j){return[r[0]*j[0]+r[1]*j[1]+r[2]*j[2]+r[3]*j[3],r[4]*j[0]+r[5]*j[1]+r[6]*j[2]+r[7]*j[3],r[8]*j[0]+r[9]*j[1]+r[10]*j[2]+r[11]*j[3],r[12]*j[0]+r[13]*j[1]+r[14]*j[2]+r[15]*j[3]]};
R.ft.Vd=function(r){var j=[];j[0]=r[0];j[1]=r[4];j[2]=r[8];j[3]=r[12];j[4]=r[1];j[5]=r[5];j[6]=r[9];
j[7]=r[13];j[8]=r[2];j[9]=r[6];j[10]=r[10];j[11]=r[14];j[12]=r[3];j[13]=r[7];j[14]=r[11];j[15]=r[15];
return j};R.ft.add=function(r,j){var D=r.slice(0);for(var P=0;P<16;P++)D[P]+=j[P];return D};R.ft.multiply=function(r,j){var D=[];
D[0]=r[0]*j[0]+r[1]*j[4]+r[2]*j[8]+r[3]*j[12];D[1]=r[0]*j[1]+r[1]*j[5]+r[2]*j[9]+r[3]*j[13];D[2]=r[0]*j[2]+r[1]*j[6]+r[2]*j[10]+r[3]*j[14];
D[3]=r[0]*j[3]+r[1]*j[7]+r[2]*j[11]+r[3]*j[15];D[4]=r[4]*j[0]+r[5]*j[4]+r[6]*j[8]+r[7]*j[12];D[5]=r[4]*j[1]+r[5]*j[5]+r[6]*j[9]+r[7]*j[13];
D[6]=r[4]*j[2]+r[5]*j[6]+r[6]*j[10]+r[7]*j[14];D[7]=r[4]*j[3]+r[5]*j[7]+r[6]*j[11]+r[7]*j[15];D[8]=r[8]*j[0]+r[9]*j[4]+r[10]*j[8]+r[11]*j[12];
D[9]=r[8]*j[1]+r[9]*j[5]+r[10]*j[9]+r[11]*j[13];D[10]=r[8]*j[2]+r[9]*j[6]+r[10]*j[10]+r[11]*j[14];D[11]=r[8]*j[3]+r[9]*j[7]+r[10]*j[11]+r[11]*j[15];
D[12]=r[12]*j[0]+r[13]*j[4]+r[14]*j[8]+r[15]*j[12];D[13]=r[12]*j[1]+r[13]*j[5]+r[14]*j[9]+r[15]*j[13];
D[14]=r[12]*j[2]+r[13]*j[6]+r[14]*j[10]+r[15]*j[14];D[15]=r[12]*j[3]+r[13]*j[7]+r[14]*j[11]+r[15]*j[15];
return D};R.ft.gq=function(r){var j=[];j[0]=r[5]*r[10]*r[15]-r[5]*r[14]*r[11]-r[6]*r[9]*r[15]+r[6]*r[13]*r[11]+r[7]*r[9]*r[14]-r[7]*r[13]*r[10];
j[1]=-r[1]*r[10]*r[15]+r[1]*r[14]*r[11]+r[2]*r[9]*r[15]-r[2]*r[13]*r[11]-r[3]*r[9]*r[14]+r[3]*r[13]*r[10];
j[2]=r[1]*r[6]*r[15]-r[1]*r[14]*r[7]-r[2]*r[5]*r[15]+r[2]*r[13]*r[7]+r[3]*r[5]*r[14]-r[3]*r[13]*r[6];
j[3]=-r[1]*r[6]*r[11]+r[1]*r[10]*r[7]+r[2]*r[5]*r[11]-r[2]*r[9]*r[7]-r[3]*r[5]*r[10]+r[3]*r[9]*r[6];
j[4]=-r[4]*r[10]*r[15]+r[4]*r[14]*r[11]+r[6]*r[8]*r[15]-r[6]*r[12]*r[11]-r[7]*r[8]*r[14]+r[7]*r[12]*r[10];
j[5]=r[0]*r[10]*r[15]-r[0]*r[14]*r[11]-r[2]*r[8]*r[15]+r[2]*r[12]*r[11]+r[3]*r[8]*r[14]-r[3]*r[12]*r[10];
j[6]=-r[0]*r[6]*r[15]+r[0]*r[14]*r[7]+r[2]*r[4]*r[15]-r[2]*r[12]*r[7]-r[3]*r[4]*r[14]+r[3]*r[12]*r[6];
j[7]=r[0]*r[6]*r[11]-r[0]*r[10]*r[7]-r[2]*r[4]*r[11]+r[2]*r[8]*r[7]+r[3]*r[4]*r[10]-r[3]*r[8]*r[6];j[8]=r[4]*r[9]*r[15]-r[4]*r[13]*r[11]-r[5]*r[8]*r[15]+r[5]*r[12]*r[11]+r[7]*r[8]*r[13]-r[7]*r[12]*r[9];
j[9]=-r[0]*r[9]*r[15]+r[0]*r[13]*r[11]+r[1]*r[8]*r[15]-r[1]*r[12]*r[11]-r[3]*r[8]*r[13]+r[3]*r[12]*r[9];
j[10]=r[0]*r[5]*r[15]-r[0]*r[13]*r[7]-r[1]*r[4]*r[15]+r[1]*r[12]*r[7]+r[3]*r[4]*r[13]-r[3]*r[12]*r[5];
j[11]=-r[0]*r[5]*r[11]+r[0]*r[9]*r[7]+r[1]*r[4]*r[11]-r[1]*r[8]*r[7]-r[3]*r[4]*r[9]+r[3]*r[8]*r[5];j[12]=-r[4]*r[9]*r[14]+r[4]*r[13]*r[10]+r[5]*r[8]*r[14]-r[5]*r[12]*r[10]-r[6]*r[8]*r[13]+r[6]*r[12]*r[9];
j[13]=r[0]*r[9]*r[14]-r[0]*r[13]*r[10]-r[1]*r[8]*r[14]+r[1]*r[12]*r[10]+r[2]*r[8]*r[13]-r[2]*r[12]*r[9];
j[14]=-r[0]*r[5]*r[14]+r[0]*r[13]*r[6]+r[1]*r[4]*r[14]-r[1]*r[12]*r[6]-r[2]*r[4]*r[13]+r[2]*r[12]*r[5];
j[15]=r[0]*r[5]*r[10]-r[0]*r[9]*r[6]-r[1]*r[4]*r[10]+r[1]*r[8]*r[6]+r[2]*r[4]*r[9]-r[2]*r[8]*r[5];var D=r[0]*j[0]+r[1]*j[4]+r[2]*j[8]+r[3]*j[12];
for(var P=0;P<16;P++)j[P]/=D;return j};R.ft.a3i=function(r){var j=[],D=r[5]*r[10]*r[15]-r[5]*r[14]*r[11]-r[6]*r[9]*r[15]+r[6]*r[13]*r[11]+r[7]*r[9]*r[14]-r[7]*r[13]*r[10],N=-r[4]*r[10]*r[15]+r[4]*r[14]*r[11]+r[6]*r[8]*r[15]-r[6]*r[12]*r[11]-r[7]*r[8]*r[14]+r[7]*r[12]*r[10],b=r[4]*r[9]*r[15]-r[4]*r[13]*r[11]-r[5]*r[8]*r[15]+r[5]*r[12]*r[11]+r[7]*r[8]*r[13]-r[7]*r[12]*r[9],Y=-r[4]*r[9]*r[14]+r[4]*r[13]*r[10]+r[5]*r[8]*r[14]-r[5]*r[12]*r[10]-r[6]*r[8]*r[13]+r[6]*r[12]*r[9];
return r[0]*D+r[1]*N+r[2]*b+r[3]*Y};R.ft.Gi=R.ft.I2([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
R.ft.ad$=R.ft.I2([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
R.ft.aiS=R.ft.gq(R.ft.Gi);R.vd={};R.vd.tx=new Uint32Array(1);R.vd.x_=function(r,j,D,N,b,Y){var x=new Uint32Array(r),C=0,w=R.vd.tx;
if(w.length<j*4)R.vd.tx=w=new Uint32Array(j*4);var q=new Float64Array(w.buffer);for(var P=0;P<j;P+=2){var u=b[P],h=b[P+1],z=Y[P],O=Y[P+1];
w[C]=h;q[C+2>>1]=z;w[C+1]=x[u];x[u]=C+1;C+=4;w[C]=u;q[C+2>>1]=O;w[C+1]=x[h];x[h]=C+1;C+=4}return{Y1:w,anp:q,a87:x}};
R.vd.st=function(r,j,D,N,b,Y,x){var C=1,w=R.vd.x_(r,j,D,N,b,Y),q=w.Y1,u=w.anp,h=w.a87,z=new Uint32Array(r),O=new R.vd.Vv(r),t=1,F=0;
O.push(D);O.push(N);var g=new R.vd.Vv(r),$=new Uint8Array(r),i=new Uint32Array(r);$[D]=1;$[N]=2;var A=new Uint32Array(r),H=new Uint32Array(r);
H[D]=H[N]=0;A[D]=A[N]=1;while(!0){var T=-1,f=0,a=1e30;while(!O.xw()&&T==-1){var _=O.top(),V=$[_],X=h[_]-1;
while(X!=-1){var o=q[X],c=$[o],E=X^V-1<<2;if(u[E+2>>1]!=0){if(c==0){R.vd.xN(_,X,o,$,i,H,A);O.push(o)}else if(c==V&&A[o]<=A[_]&&H[o]>H[_])R.vd.xN(_,X,o,$,i,H,A);
else if(c!=V){T=E}}X=q[X+1]-1}if(T!=-1)break;O.pop()}if(T==-1){break}t++;var d=T;while(d!=-1){z[f]=d;
f++;d=i[q[d^4]]-1}var s=f>>1;for(var P=0;P<s;P++){var B=z[P];z[P]=z[f-P-1];z[f-P-1]=B}d=i[q[T]]-1;while(d!=-1){z[f]=d^4;
f++;d=i[q[d^4]]-1}for(var P=0;P<f;P++)a=Math.min(a,u[z[P]+2>>1]);F+=a;if(F>=x)return{jI:null,AB:F};for(var P=0;
P<f;P++){var U=z[P],M=U^4,_=q[M],o=q[U];u[U+2>>1]-=a;u[M+2>>1]+=a;if(u[U+2>>1]==0&&$[_]==$[o]){if($[_]==1){i[o]=0;
g.push(o)}if($[_]==2){i[_]=0;g.push(_)}}}while(!g.xw()){var _=g.pop(),V=$[_],X=h[_]-1,W=V==1?4:0,n=0,e=0,Q=1e9;
while(X!=-1){var o=q[X],J=X^4,E=X^W;if($[o]==V&&u[E+2>>1]>0&&R.vd.a4B(o,D,N,i,q,t,A,H)+1<Q){n=o;e=J;
Q=H[o]+1}X=q[X+1]-1}if(e!=0){R.vd.xN(n,e,_,$,i,H,A);continue}X=h[_]-1;while(X!=-1){var o=q[X],E=X^W;
if($[o]==V){if(u[E+2>>1]>0){O.push(o)}if(i[o]==X+1){i[o]=0;g.push(o)}}X=q[X+1]-1}$[_]=0;O.remove(_)}}var m=[];
for(var P=0;P<j;P+=2){var _=b[P],o=b[P+1];if($[_]==1&&$[o]!=1){m.push(P>>1)}if($[o]==1&&$[_]!=1){m.push(j+P>>1)}}return{jI:m,AB:F}};
R.vd.xN=function(r,j,D,N,b,Y,x){N[D]=N[r];b[D]=j+1;Y[D]=Y[r]+1;x[D]=x[r]};R.vd.a4B=function(r,j,D,N,b,Y,x,C){var w=r,q=N[r]-1,u=0;
while(q!=-1&&x[r]!=Y){r=b[q^4];q=N[r]-1;u++}if(q==-1&&r!=j&&r!=D)return 1e9;var h=C[r]+u;u=0;q=N[w]-1;
while(w!=r){C[w]=h-u;u++;x[w]=Y;w=b[q^4];q=N[w]-1}return h};R.vd.ab4=function(r,j,D,N,b,Y){var x=R.vd.x_(r,j,D,N,b,Y),C=x.Y1,w=x.anp,q=x.a87,u=0,h=0,z=new Uint32Array(r*2),O=new R.vd.Rn(r),g=0;
while(!0){O.reset();O.push(D);for(var P=0;P<r;P++)z[P<<1]=0;while(!O.xw()){var t=O.pop(),$=q[t]-1;while($!=-1){g=C[$];
if(z[g<<1]==0&&w[$+2>>1]>0&&g!=D){z[g<<1]=t+1;z[(g<<1)+1]=$;O.push(g)}$=C[$+1]-1}if(z[N<<1]!=0){break}}if(z[N<<1]==0){break}var i=1e30;
g=N;while(!0){var A=z[g<<1]-1;if(A==-1)break;var H=z[(g<<1)+1];i=Math.min(i,w[H+2>>1]);g=A}g=N;while(!0){var A=z[g<<1]-1;
if(A==-1)break;var H=z[(g<<1)+1],F=H^4;w[H+2>>1]-=i;w[F+2>>1]+=i;g=A}u+=i}var T=[];for(var P=0;P<j;P+=2){var A=b[P],g=b[P+1];
if((z[A<<1]!=0||A==D)&&z[g<<1]==0&&g!=D){T.push(P>>1)}if((z[g<<1]!=0||g==D)&&z[A<<1]==0&&A!=D){T.push(j+P>>1)}}return{jI:T,AB:u}};
R.vd.Rn=function(r){r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;this.CM=new Uint32Array(r+1);this.FS=r;
this.pp=0;this.Z2=0};R.vd.Rn.prototype={push:function(r){var j=this.Z2;this.CM[j]=r;this.Z2=j+1&this.FS},pop:function(){var r=this.pp,j=this.CM[r];
this.pp=r+1&this.FS;return j},xw:function(){return this.pp==this.Z2},reset:function(){this.pp=0;this.Z2=0}};
R.vd.Vv=function(r){r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;this.CM=new Uint32Array(r+1);this.Gv=new Uint32Array(r+1);
this.FS=r;this.pp=0;this.Z2=0};R.vd.Vv.prototype={top:function(){return this.CM[this.pp]},aga:function(){return this.CM[this.Z2]},push:function(r){if(this.Gv[r]!=0)return;
this.Gv[r]=this.Z2+1;var j=this.Z2;this.CM[j]=r;this.Z2=j+1&this.FS},pop:function(){var r=this.pp,j=this.CM[r];
this.Gv[j]=0;this.pp=r+1&this.FS;return j},xw:function(){return this.pp==this.Z2},remove:function(r){var j=this.Gv[r]-1;
if(j==-1)return;this.Gv[r]=0;if(j==this.pp){this.pop();return}var D=this.pop();this.CM[j]=D;this.Gv[D]=j+1},As:function(P){return P+this.FS+1&this.FS}};
R.vd.nE=function(r,j,D){var N=R.vd.PH(r,j,D);if(j<N-1)R.vd.nE(r,j,N-1);if(N<D)R.vd.nE(r,N,D)};R.vd.PH=function(r,j,D){var N=r[j+D>>>1];
while(j<=D){while(r[j]<N)j++;while(r[D]>N)D--;if(j<=D){R.vd.bm(r,j,D);j++;D--}}return j};R.vd.bm=function(r,j,D){var N=r[j];
r[j]=r[D];r[D]=N};R.Bu={};R.Bu.a6B=function(r){for(var P=0;P<r.length;P++)R.Bu.LT(r,P)};R.Bu.LT=function(r,P){r[P].v.keyShapeInvalidated={t:"bool",v:!0}};
R.Bu.ara=function(r){for(var P=0;P<r.length;P++)r[P].v.keyOriginIndex.v=P};R.Bu.eH=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
R.Bu.bF=function(r){r=r.v;var j={Rctn:2,Ln:4,Elps:5},D=j[r.classID],N=r.topLeft?R.Bu.Rc(r):null,b=null,Y=0;
if(D==4){var x=r.Strt.v,C=r.End.v;b=[x.Hrzn.v.val,x.Vrtc.v.val,C.Hrzn.v.val,C.Vrtc.v.val];Y=r.Wdth.v.val}if(D==null)return null;
return R.Bu.Vl(D,D==4?null:R.Bu.Ab(r),N,b,Y)};R.Bu.FQ=function(r,j,D,N,b,Y){var x={classID:r,unitValueQuadVersion:{t:"long",v:1}};
if(j)R.Bu.w0(x,["Left","Top","Rght","Btom"],j);if(D)R.Bu.w0(x,["topLeft","topRight","bottomRight","bottomLeft"],D);
if(r=="Ln"){x.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:N[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:N[1]}}}},x.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:N[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:N[3]}}}},x.Wdth={t:"UntF",v:{type:"#Pxl",val:b}}}if(Y)x.Nm={t:"TEXT",v:Y};
return{t:"Objc",v:x}};R.Bu.Vl=function(r,j,D,N,b){var Y=R.Bu.eH(),x=Y.v;delete x.keyShapeInvalidated;
x.keyOriginType={t:"long",v:r};x.keyOriginResolution={t:"doub",v:75};if(r==4){x.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:N[0]},Vrtc:{t:"doub",v:N[1]}}};
x.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:N[2]},Vrtc:{t:"doub",v:N[3]}}};j=[Math.min(N[0],N[2]),Math.min(N[1],N[3]),Math.max(N[0],N[2]),Math.max(N[1],N[3])];
x.keyOriginLineWeight={t:"doub",v:b},x.keyOriginLineArrowSt={t:"bool",v:!1};x.keyOriginLineArrowEnd={t:"bool",v:!1};
x.keyOriginLineArrWdth={t:"doub",v:0};x.keyOriginLineArrLngth={t:"doub",v:0};x.keyOriginLineArrConc={t:"long",v:0}}var C={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
x.keyOriginShapeBBox={t:"Objc",v:C};R.Bu.yP(x,j);if(D!=null){var w={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
x.keyOriginRRectRadii={t:"Objc",v:w};R.Bu.hR(x,D)}return Y};R.Bu.F=function(r,j,D,N){var b=R.t.Qg(j),Y=R.t.yD(j),x=Math.max(Math.abs(j[0]),Math.abs(j[1])),C=Math.max(Math.abs(j[3]),Math.abs(j[4]));
for(var P=0;P<r.length;P++){var w=r[P].v,q=w.keyShapeInvalidated;if(q&&q.v||w.keyOriginType==null)continue;
if(D.length!=0&&D.indexOf(P)==-1)continue;var u=w.keyOriginType.v;if(!b||!Y||N&&u==2&&Math.abs(1-x/C)>.01){R.Bu.LT(r,P);
continue}var h=R.Bu.wb(w);R.t.F(j,h);R.Bu.yP(w,[Math.min(h[0],h[2]),Math.min(h[1],h[3]),Math.max(h[0],h[2]),Math.max(h[1],h[3])]);
if(u==2){var z=R.Bu.Ss(w),O=new j9(j[0],j[1],j[3],j[4],0,0);O.nM();if(O.kD==0){z.push(z.shift());O.rotate(Math.PI/2);
O.nM()}if(O.kD<0){var g=z[0];z[0]=z[1];z[1]=g;g=z[2];z[2]=z[3];z[3]=g}if(O.oq<0){var g=z[0];z[0]=z[3];
z[3]=g;g=z[1];z[1]=z[2];z[2]=g}if(N)for(var t=0;t<4;t++)z[t]=z[t]*x;R.Bu.hR(w,z)}if(u==4){w.keyOriginLineWeight.v*=x;
var $=R.Bu.E5(w);R.t.F(j,$);R.Bu.a6X(w,$)}}};R.Bu.uT=function(r,j){var D=j.W;for(var P=0;P<r.length;
P++){var N=r[P].v,b=N.keyShapeInvalidated,h;if(b&&b.v||N.keyOriginType==null)continue;var Y=N.keyOriginType.v,x=R.Bu.wb(N),C=x[0],w=x[1],q=x[2],u=x[3];
if(Y==1)h=R.b.Lu.Rect(C,w,q-C,u-w,0);else if(Y==2){var z=R.Bu.Ss(N);h=R.b.Lu.Rect(C,w,q-C,u-w,z)}else if(Y==4){var O=R.Bu.E5(N);
h=R.b.Lu.Q3(O[0],O[1],O[2],O[3],N.keyOriginLineWeight.v)}else if(Y==5)h=R.b.Lu.Co(C,w,q-C,u-w);var g=R.b.Kk(D,P),t=R.b.Pr(D,P);
h[2].va=D[g].va;var $=D;D=D.slice(0,g);for(var i=2;i<h.length;i++)D.push(h[i]);for(var i=g+t;i<$.length;
i++)D.push($[i])}j.W=D;j.ZI=!0};R.Bu.xk=function(r){var j=1e9,D=-j,N=1e9,b=-N,Y=null,x=r.HG(),C=x[0],w=x[1];
for(var q=0;q<w.length;q++){var u=C[w[q]],h=u.add.vogk;if(h==null)continue;var z=u.add.vmsk.R;for(var O=0;
O<h.length;O++){var g=h[O].v,t=g.keyShapeInvalidated;if(t&&t.v||g.keyOriginType==null)continue;if(w.length==1&&z.length!=0&&z.indexOf(O)==-1)continue;
var $=g.keyOriginType.v;if($!=4){var i=R.Bu.wb(g);j=Math.min(j,i[0]);N=Math.min(N,i[1]);D=Math.max(D,i[2]);
b=Math.max(b,i[3])}if($==2&&Y==null){Y=R.Bu.Ss(g)}}}return[j<D?[j,N,D,b]:null,Y]};R.Bu.aao=function(r,j,D){var N=R.Bu.xk(r)[0],b;
if(N){var Y=new j9;Y.translate(-N[0],-N[1]);Y.scale(1/(N[2]-N[0]),1/(N[3]-N[1]));Y.scale(j[2]-j[0],j[3]-j[1]);
Y.translate(j[0],j[1]);b=R.t.eb(Y)}var x=r.HG(),C=x[0],w=x[1];for(var q=0;q<w.length;q++){var u=C[w[q]],h=u.add.vogk;
if(h==null)continue;var z=u.add.vmsk.R;for(var O=0;O<h.length;O++){var g=h[O].v,t=g.keyShapeInvalidated;
if(t&&t.v||g.keyOriginType==null)continue;if(w.length==1&&z.length!=0&&z.indexOf(O)==-1)continue;var $=g.keyOriginType.v;
if($!=4&&j[0]!=null){var j=R.Bu.wb(g);R.t.F(b,j);R.Bu.yP(g,j)}if($==2&&D!=null){R.Bu.hR(g,D)}}}};R.Bu.wb=function(r){return R.Bu.Ab(r.keyOriginShapeBBox.v)};
R.Bu.Ab=function(r){var j=r.Left.v.val,D=r.Rght.v.val,N=r.Top.v.val,b=r.Btom.v.val;return[j,N,D,b]};
R.Bu.yP=function(r,j){R.Bu.w0(r.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],j)};R.Bu.Ss=function(r){return R.Bu.Rc(r.keyOriginRRectRadii.v)};
R.Bu.Rc=function(r){var j=[],D=["topLeft","topRight","bottomRight","bottomLeft"];for(var N=0;N<4;N++)j.push(r[D[N]].v.val);
return j};R.Bu.hR=function(r,j){R.Bu.w0(r.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],j)};
R.Bu.w0=function(r,j,D){for(var P=0;P<4;P++)if(D[P]!=null)r[j[P]]={t:"UntF",v:{type:"#Pxl",val:D[P]}}};
R.Bu.E5=function(r){var j=r.keyOriginLineStart.v,D=r.keyOriginLineEnd.v;return[j.Hrzn.v,j.Vrtc.v,D.Hrzn.v,D.Vrtc.v]};
R.Bu.a6X=function(r,j){var D=r.keyOriginLineStart.v,N=r.keyOriginLineEnd.v;D.Hrzn.v=j[0];D.Vrtc.v=j[1];
N.Hrzn.v=j[2];N.Vrtc.v=j[3]};R.K={};R.K.clone=function(r){return{J:r.J.slice(0),v:r.v.slice(0)}};R.K.CC=function(r){if(r.length<6)return!0;
var j=r.length-4;for(var P=0;P<j;P+=2)if(!R.K.Et(r[P],r[P+1],r[P+2],r[P+3],r[P+4],r[P+5]))return!1;if(!R.K.Et(r[j],r[j+1],r[j+2],r[j+3],r[0],r[1]))return!1;
if(!R.K.Et(r[j+2],r[j+3],r[0],r[1],r[2],r[3]))return!1;return!0};R.K.Et=function(r,j,D,N,b,Y){return(j-N)*(b-D)+(D-r)*(Y-N)>=0};
R.K.dJ=function(r){var j={},D=null,N=0,b={M:2,L:2,Q:4,C:6};for(var P=0;P<r.J.length;P++){var Y=r.J[P];
if(Y.charAt(0)=="#"){if(j[Y]==null)j[Y]={v:[],J:[]};D=j[Y]}else if(Y!="X"){D.J.push(Y);var x=b[Y];if(x==null)x=0;
for(var C=0;C<x;C++)D.v.push(r.v[N+C]);N+=x}}return j};R.K.CH=function(r,j,D){r=R.K.OC(r);var N=r.v,b=r.J,Y=0,x=[],C=null;
for(var P=0;P<b.length;P++){var w=b[P];if(w=="M"){C={$I:Y,XW:0,Vi:!1};x.push(C);Y+=2}if(w=="C"){C.XW++;
Y+=6}if(w=="Z"){C.Vi=!0}}var q=[];for(var P=0;P<x.length;P++)if(x[P].XW!=0)q.push(x[P]);x=q;for(var P=0;
P<x.length;P++){var u=x[P],h=u.$I,z=h+2+u.XW*6,g=0;u.JO=R.K.mN(N,h,z);var O=N[h]==N[z-2]&&N[h+1]==N[z-1];
for(var t=0;t<u.XW;t++){var $=h+t*6,i=$+6;g+=(N[i]-N[$])*(N[i+1]+N[$+1])}if(u.XW==2){var A=function(L,S,eJ){var hy=1-eJ;
return hy*hy*hy*L[S]+3*hy*hy*eJ*L[S+2]+3*hy*eJ*eJ*L[S+4]+eJ*eJ*eJ*L[S+6]},H=N[h],F=N[h+1],T=N[h+6],_=N[h+7],V=N[h+6],X=N[h+7],o=A(N,h,.5),c=A(N,h+1,.5),E=A(N,h+6,.5),f=A(N,h+7,.5);
g=(o-H)*(c-F)+(T-o)*(_-c)+(E-T)*(f-_)+(V-E)*(X-f)}if(!O)g+=(N[h]-N[z-2])*(N[h+1]+N[z-1]);u.YD=g<=0}for(var P=0;
P<x.length-1;P++)for(var $=P+1;$<x.length;$++){var d=x[P],s=x[$];if(s.JO.Ob(d.JO)){x[P]=s;x[$]=d}}var B=x.length==0?!0:x[0].YD,a=[{type:6},{type:8,all:0}];
for(var P=0;P<x.length;P++){var u=x[P],h=u.$I,z=h+2+u.XW*6,O=N[h]==N[z-2]&&N[h+1]==N[z-1],U=u.Vi||O?0:3,M=u.YD==B&&!j?1:0;
if(!j&&P!=0){if(x[P-1].JO.Ob(u.JO)&&x[P-1].YD!=u.YD)M=0;for(var $=0;$<x.length;$++)if($!=P&&x[$].JO.Ob(u.JO))M=0}a.push({type:U,length:u.XW+(O?0:1),va:D?1:M,fU:2});
for(var $=0;$<u.XW;$++){var Y=h+$*6,W=new gJ(N[Y],N[Y+1]),n=new gJ(N[Y+2],N[Y+3]),e;if($==0){if(O)e=new gJ(N[z-4],N[z-3]);
else e=W.clone()}else e=new gJ(N[Y-2],N[Y-1]);a.push({type:U+2,IR:e,Q:W,TU:n})}if(!O){var Q=new gJ(N[z-2],N[z-1]);
a.push({type:U+2,IR:new gJ(N[z-4],N[z-3]),Q:Q,TU:Q.clone()})}}for(var $=0;$<a.length;$++){var m=a[$];
if(m.type>5||m.type==0||m.type==3)continue;var p=m.IR.gy(m.Q)||m.TU.gy(m.TU);if(!p){var d=m.IR.x*(m.Q.y-m.TU.y)+m.Q.x*(m.TU.y-m.IR.y)+m.TU.x*(m.IR.y-m.Q.y);
if(Math.abs(d)<1e-6)p=!0}if(p)m.type--}return a};R.K.p_=function(r){var j=R.b.yo(r),D=!1;for(var P=2;
P<r.length;P++){var N=r[P].va;if(N!=null){if(N==2||N==0||N==3)D=!0}}if(D&&r.length<15e3&&j>1)r=R.b.CO(r);
var b=R.K.WM(r);return{mo:b,zw:D?1:0}};R.K.WM=function(){function r(N,b,Y,x){if(!x&&N.TU.gy(N.Q)&&b.IR.gy(b.Q)){Y.v.push(b.Q.x,b.Q.y);
Y.J.push("L")}else{Y.v.push(N.TU.x,N.TU.y,b.IR.x,b.IR.y,b.Q.x,b.Q.y);Y.J.push("C")}}function j(N,b,P,Y,x,C){var w=b[P];
N.v.push(w.Q.x,w.Q.y);N.J.push("M");for(var q=P;q<P+Y-1;q++)r(b[q],b[q+1],N,C);if(!x)r(b[q],b[P],N,C)}function D(N,b){if(b==null)b=!1;
var Y={v:[],J:[]};for(var P=0;P<N.length;P++){if(N[P].type>5)continue;var x=N[P].length;if(x==0)continue;
if(P==N.length-1)break;var C=N[P].type==3;j(Y,N,P+1,x,C,b);if(!C)Y.J.push("Z");P+=x}return Y}return D}();
R.K.acm=function(r){var j=r.v,D=[],N,b=0;for(var P=0;P<r.J.length;P++){var Y=r.J[P];if(Y=="C"){N.push(j[b++],j[b++],j[b++],j[b++],j[b++],j[b++])}else if(Y=="Z"){}else{N=[];
if(Y!="M"){N.push(Y);P++}N.push(j[b++],j[b++]);D.push(N)}}return D};R.K.O3=function(r,j,D,N){if(N==null)N=1e9;
var b=1e9,Y=0;for(var P=0;P<r.length;P+=2){var x=j-r[P],C=D-r[P+1],w=x*x+C*C;if(w<b){b=w;Y=P>>>1}}return b<N*N?Y:-1};
R.K.ov=function(r,j,D,N){for(var P=0;P<r.length;P+=2){var b=r[P],Y=r[P+1],x=j[P],C=j[P+1];D[P]=b+(x-b)*N;
D[P+1]=Y+(C-Y)*N}};R.K.F=function(r,j,D){for(var P=0;P<r.length;P+=2){var N=r[P],b=r[P+1];D[P]=N*j.kD+b*j.Jy+j.Db;
D[P+1]=N*j.M+b*j.oq+j.aF}};R.K.mN=function(r,j,D){if(j==null)j=0;if(D==null)D=r.length;var N=99999999999,b=-N,Y=99999999999,x=-Y;
for(var P=j;P<D;P+=2){var C=r[P],w=r[P+1];N=Math.min(N,C);Y=Math.min(Y,w);b=Math.max(b,C);x=Math.max(x,w)}return new bf(N,Y,b-N,x-Y)};
R.K.TR=function(r,j){var D=Math.max(j.x,Math.min(j.x+j.d,r.x)),N=Math.max(j.y,Math.min(j.y+j.r,r.y)),b=r.x-D,Y=r.y-N;
return Math.sqrt(b*b+Y*Y)};R.K.yB=function(r){if(r.jE())return new bf(Math.floor(r.x),Math.floor(r.y),Math.ceil(r.d),Math.ceil(r.r));
var j=Math.floor(r.x),D=Math.ceil(r.x+r.d),N=Math.floor(r.y),b=Math.ceil(r.y+r.r);return new bf(j,N,D-j,b-N)};
R.K.v_=function(r){return R.K.yB(R.K.mN(r))};R.K.rR=function(r){var j=r.x,D=r.y,N=r.x+r.d,b=r.y+r.r;
return{J:["M","L","L","L","Z"],v:[j,D,N,D,N,b,j,b]}};R.K.concat=function(r,j,D){if(D==null)D=new j9;
for(var P=0;P<j.v.length;P+=2){var N=j.v[P],b=j.v[P+1];r.v.push(N*D.kD+b*D.Jy+D.Db);r.v.push(N*D.M+b*D.oq+D.aF)}for(var P=0;
P<j.J.length;P++)r.J.push(j.J[P])};R.K.OC=function(r){var j=r.v,D=[],N=[],b=0,Y=0,x=0,C=0,w=0,q=0,u=0,h=0,z=0;
for(var P=0;P<r.J.length;P++){var O=r.J[P];if(O=="M"){Y=j[b];x=j[b+1];b+=2;N.push(O);D.push(Y,x)}else if(O=="C"){C=j[b];
w=j[b+1];q=j[b+2];u=j[b+3];h=j[b+4];z=j[b+5];b+=6;N.push(O);D.push(C,w,q,u,h,z);Y=h;x=z}else if(O=="Q"){C=j[b];
w=j[b+1];q=j[b+2];u=j[b+3];b+=4;var g=C-Y,t=w-x,$=q-C,i=u-w;N.push("C");D.push(Y+2/3*g,x+2/3*t,C+1/3*$,w+1/3*i,q,u);
Y=q;x=u}else if(O=="L"){C=j[b];w=j[b+1];b+=2;var A=C-Y,H=w-x;N.push("C");D.push(Y,x,C,w,C,w);Y=C;x=w}else N.push(O)}return{J:N,v:D}};
R.K.a62=function(r){var j=r.v,D=[],N=[],b=0;for(var P=0;P<r.J.length;P++){var Y=r.J[P];if(Y=="Q"){var x=j[b-2],C=j[b-1],w=j[b],q=j[b+1],u=j[b+2],h=j[b+3];
b+=4;var z=w-x,O=q-C,g=u-w,t=h-q;N.push("C");D.push(x+2/3*z,C+2/3*O,w+1/3*g,q+1/3*t,u,h)}else{var $=0;
if(Y=="M"||Y=="L")$=2;else if(Y=="C")$=6;for(var i=0;i<$;i++)D.push(j[b+i]);b+=$;N.push(Y)}}return{J:N,v:D}};
R.K.DF=function(r,j){var D=r.v,N=[],b=[],Y=0,x=0,C=0,w=0,q=0,u=0,h=0,z=0,O=0;for(var P=0;P<r.J.length;
P++){var g=r.J[P];if(g=="M"){x=D[Y];C=D[Y+1];Y+=2;b.push(g);N.push(x,C)}else if(g=="C"){w=D[Y];q=D[Y+1];
u=D[Y+2];h=D[Y+3];z=D[Y+4];O=D[Y+5];Y+=6;R.K.wD(x,C,w,q,u,h,z,O,j,b,N,0);x=z;C=O}else b.push(g)}return{J:b,v:N}};
R.K.wD=function(r,j,D,N,b,Y,x,C,w,q,u,h){var z=Math.sqrt((x-r)*(x-r)+(C-j)*(C-j)),O=Math.sqrt((x-b)*(x-b)+(C-Y)*(C-Y))+Math.sqrt((b-D)*(b-D)+(Y-N)*(Y-N))+Math.sqrt((D-r)*(D-r)+(N-j)*(N-j)),g=(z+O)/2;
if(g<=w){q.push("C");u.push(D,N,b,Y,x,C)}else{var t=0,$=0,i=0,A=0,H=0,F=0,T=0,_=0,V=0,X=0,o=0,c=0,E=0;
$=(r+D)/2;i=(j+N)/2;A=(D+b)/2;H=(N+Y)/2;F=(b+x)/2;T=(Y+C)/2;_=($+A)/2;V=(i+H)/2;X=(A+F)/2;o=(H+T)/2;
c=(_+X)/2;E=(V+o)/2;R.K.wD(r,j,$,i,_,V,c,E,w,q,u,h+1);R.K.wD(c,E,X,o,F,T,x,C,w,q,u,h+1)}};R.K.Zk=function(r,j,D,N,b){var Y=Date.now(),x=R.K.ar6(r,j,D);
if(b){console.log("trace polygons",Date.now()-Y);Y=Date.now()}var C=[];for(var P=0;P<x.length;P++){var w=x[P],q=w[0],u=["M"],h=r[q[1]*j+q[0]];
if(q.length>8)q=R.K.n7(q,N,w[1]);if(q.length<=4)continue;for(var z=2;z<q.length;z+=2)u.push("L");u.push("Z");
C.push({path:{v:q,J:u},color:h,parent:-1,JO:R.K.mN(q)})}if(b){console.log("simplify polygons",Date.now()-Y);
Y=Date.now()}for(var P=1;P<C.length;P++){var O=C[P].JO;for(var z=P-1;z>=0;z--)if(C[z].JO.Ob(O)){C[P].parent=z;
break}}if(b){console.log("checking parents",Date.now()-Y);Y=Date.now()}return C};R.K.ar6=function(r,j,D){var N=j*D,b=new Uint16Array(j*D),x=0;
for(var P=0;P<N;P++)b[P]=r[P];var Y=new Uint8Array(j*D);Y[1*j+1]=Y[(D-1)*j+1]=Y[1*j+j-1]=Y[(D-1)*j+j-1]=1;
for(var C=1;C<D;C++)for(var w=1;w<j;w++){var P=C*j+w,q=b[P-j-1],u=b[P-j],h=b[P-1],z=b[P],O=q==z&&u==h&&q!=u,g=0;
if(z<h){x=z;z=h;h=x}if(h<u){x=h;h=u;u=x}if(u<q){x=u;u=q;q=x}if(z<h){x=z;z=h;h=x}if(h<u){x=h;h=u;u=x}if(z<h){x=z;
z=h;h=x}if(q!=u)g++;if(u!=h)g++;if(h!=z)g++;if(z!=q)g++;if(g>=3||O)Y[P]=1}var t=[];for(var C=1;C<D;C++)for(var w=1;
w<j;w++){var P=C*j+w;if(b[P]!=b[P-1]){var $=R.K.a2x(b,j,D,w,C),i=[];for(var A=0;A<$.length;A+=2)if(Y[$[A+1]*j+$[A]]==1)i.push(A>>>1);
t.push([$,i]);R.K.qP(b,j,D,w,C)}}return t};R.K.qP=function(r,j,D,N,b){var Y=[b*j+N],x=r[b*j+N];r[b*j+N]=65535;
while(Y.length!=0){var P=Y.pop();r[P]=0;if(r[P+j]==x){Y.push(P+j);r[P+j]=65535}if(r[P-j]==x){Y.push(P-j);
r[P-j]=65535}if(r[P-1]==x){Y.push(P-1);r[P-1]=65535}if(r[P+1]==x){Y.push(P+1);r[P+1]=65535}}};R.K.a2x=function(r,j,D,N,b){var Y=[0,-1,1,0,0,1,-1,0],u=1;
function x(z,O,u){var P=q*j+w,g=0;if(u==0)g=P-j;else if(u==1)g=P;else if(u==2)g=P-1;else if(u==3)g=P-j-1;
return r[g]}var C=[],w=N,q=b,h=x(w,q,u);do{C.push(w,q);w+=Y[u*2];q+=Y[u*2+1];if(x(w,q,u)!=h)u=u+1&3;
else if(x(w,q,u+3&3)!=h)u=u;else if(x(w,q,u+2&3)!=h)u=u+3&3}while(w!=N||q!=b);return C};R.K.n7=function(r,j,D){var N=r.length-2;
if(D&&D.length!=0){var b=D[0]*2,Y=D[D.length-1]*2,x=b==0?N:b-2,C=r.slice(Y);for(var P=0;P<b;P++)C.push(r[P]);
if(b==Y)C.push(.9*r[b]+.1*r[x],.9*r[b+1]+.1*r[x+1]);else C.push(r[b],r[b+1]);C=R.K.gs(C,j);C.pop();C.pop();
for(var P=0;P<D.length-1;P++){var w=r.slice(D[P]*2,D[P+1]*2+2);w=R.K.gs(w,j);for(var q=0;q<w.length-2;
q++)C.push(w[q])}return C}var u=r.slice(0);u.push(.9*r[0]+.1*r[N],.9*r[1]+.1*r[N+1]);u=R.K.gs(u,j);u.pop();
u.pop();return u};R.K.gs=function(r,j){var D=r.length-2,N=r[0],b=r[1],Y=r[D],x=r[D+1],C=Y-N,w=x-b,q=1/Math.sqrt(C*C+w*w),u=Y*b-x*N,h=-1,z=-1,O=0;
for(var P=2;P<D;P+=2){var g=r[P],t=r[P+1],$=t*t*1e6+g*g,i=Math.abs(w*g-C*t+u)*q;if(i>z||i==z&&$>O){z=i;
h=P;O=$}}if(z<j)return[N,b,Y,x];var A=R.K.gs(r.slice(0,h+2),j),H=R.K.gs(r.slice(h),j);for(var P=2;P<H.length;
P++)A.push(H[P]);return A};R.K.aih=function(){var r=function(N,b,Y,x,C,w){return(b-x)*(C-Y)+(Y-N)*(w-x)>=0},j=function(N,b,Y,x,C,w,q,u){var h=q-Y,z=u-x,O=C-Y,g=w-x,t=N-Y,$=b-x,i=h*h+z*z,A=h*O+z*g,H=h*t+z*$,F=O*O+g*g,T=O*t+g*$,_=1/(i*F-A*A),V=(F*H-A*T)*_,X=(i*T-A*H)*_;
return V>=0&&X>=0&&V+X<1},D=function(N){var eK=N.length>>>1,P=0;if(eK<3)return[];var b=[],Y=[];for(var P=0;
P<eK;P++)Y.push(P);var x=eK;while(x>3){var C=Y[(P+0)%x],w=Y[(P+1)%x],q=Y[(P+2)%x],u=N[2*C],h=N[2*C+1],z=N[2*w],O=N[2*w+1],g=N[2*q],t=N[2*q+1],$=!1;
if(r(u,h,z,O,g,t)){$=!0;for(var i=0;i<x;i++){var A=Y[i];if(A==C||A==w||A==q)continue;if(j(N[2*A],N[2*A+1],u,h,z,O,g,t)){$=!1;
break}}}if($){b.push(C,w,q);Y.splice((P+1)%x,1);x--;P=0}else if(P++>3*x)break}b.push(Y[0],Y[1],Y[2]);
return b};return D}();R.K.a9X=function(r,j){var D={},N={J:[],v:[]};for(var P=0;P<j.length;P+=3){var b=j[P]*2,Y=j[P+1]*2,x=j[P+2]*2;
R.K.UK(r,b,Y,N,D);R.K.UK(r,b,x,N,D);R.K.UK(r,Y,x,N,D)}return N};R.K.UK=function(r,j,D,N,b){if(j>D){var Y=D;
D=j;j=Y}if(b[j+","+D])return;b[j+","+D]=!0;N.J.push("M","L");N.v.push(r[j],r[j+1],r[D],r[D+1])};R.K.lN=function(r,j){var D=[],N=r.length;
for(var P=0;P<N;P+=2){var b=r[P],Y=r[P+1],x=r[(P+2)%N],C=r[(P+3)%N];if(C<Y){var w=Y;Y=C;C=w}if(Y<j&&j<C){var q=(j-Y)/(C-Y);
D.push(b+q*(x-b))}}D.sort(function(u,h){return u-h});return D};R.K.arz=function(r,j){var D=j.slice(0),eK=r.length/2,N=[],b=[];
for(var P=0;P<eK;P++){var Y=(P+1)%eK,x=r[2*P]-r[2*Y],C=r[2*P+1]-r[2*Y+1];b[P]=Math.sqrt(x*x+C*C)}for(var P=0;
P<eK;P++){var w=(P-1+eK)%eK,Y=(P+1)%eK,q=j[P],u=q+j[w],h=q+j[Y];if(u!=0)D[P]=Math.min(D[P],b[w]*q/u);
if(h!=0)D[P]=Math.min(D[P],b[P]*q/h)}for(var P=0;P<eK;P++){var Y=(P+1)%eK,z=(P+2)%eK,O=D[P],g=D[Y],t=r[2*P],$=r[2*P+1],i=r[2*Y],A=r[2*Y+1],H=r[2*z],F=r[2*z+1],T=b[P],_=b[Y],V=R.K.a1C(t,$,i,A,H,F,O,g,T,_);
N.push(V[0],V[1],V[0],V[1],V[2],V[3]);N.push(V[2],V[3],V[4],V[5],V[6],V[7])}return N};R.K.a1C=function(r,j,D,N,b,Y,x,C,w,q){if(w==null)w=Math.sqrt((D-r)*(D-r)+(N-j)*(N-j));
if(q==null)q=Math.sqrt((b-D)*(b-D)+(Y-N)*(Y-N));var u=.553,h=0,z=0,O=0,g=0;if(w!=0){h=(D-r)/w;z=(N-j)/w}if(q!=0){O=(b-D)/q;
g=(Y-N)/q}var t=r+x*h,$=j+x*z,i=D-C*h,A=N-C*z;return[t,$,i,A,D-C*h*(1-u),N-C*z*(1-u),D+C*O*(1-u),N+C*g*(1-u),D+C*O,N+C*g]};
R.K.G9=function(r,j,D,N,b,Y,x){var C=r-D,w=j-N,q=b-D,u=Y-N,h=1/Math.sqrt(C*C+w*w),z=1/Math.sqrt(q*q+u*u),O=C*h,g=w*h,t=q*z,$=u*z,i=g*x,A=-O*x,H=-$*x,F=t*x,T=R.K.Un(i,A,O,g,H,F,t,$),_=i+O*T,V=A+g*T,T=R.K.Un(0,0,O,g,_,V,-g,O),X=O*T,o=g*T;
return[Math.sqrt(X*X+o*o),O,g,t,$]};R.K.GZ=function(r,j,D,N,b,Y,x){var C=R.K.G9(r,j,D,N,b,Y,x),w=C[0],q=C[1],u=C[2],h=C[3],z=C[4],O=Math.atan2(q*z-u*h,q*h+u*z);
if(O<0){O=O*-1}var g=Math.PI-O,t=4/3*Math.tan(g/4),$=D+w*q,i=N+w*u,A=D+w*h,H=N+w*z,F=$+t*x*-q,T=i+t*x*-u,_=A+t*x*-h,V=H+t*x*-z;
return[0,0,$,i,F,T,_,V,A,H]};R.K.Un=function(r,j,D,N,b,Y,x,C){var w=x*(j-Y)-C*(r-b),q=C*D-x*N;if(q==0)return 0;
return w/q};R.K.GZ(0,50,0,0,30,30,10);R.ul=function(){};R.ul.pA=function(r,j,D,N,b){var Y=D.d,x=D.r,C=Y*x,w=new Int32Array(C),eK=0;
for(var P=0;P<C;P++)if(j[P]!=0){w[P]=eK;eK++}else if(r[(P<<2)+3]<200){w[P]=-2}else w[P]=-1;if(eK==0)return;
var q=new R.MI(eK,eK),u=new Array(3*eK),h=new Array(3*eK);for(var P=0;P<h.length;P++)h[P]=u[P]=0;var z=1/255,O=[-Y,-1,1,Y],g=[],t=[];
for(var $=0;$<x;$++)for(var i=0;i<Y;i++){var A=$*Y+i,H=A<<2,P=w[A],F=P*3,T=0,_=0,V=0;if(P==-1||P==-2)continue;
for(var X=0;X<4;X++){if(X==2){_=V;g[V]=0;t[V]=P;V++}var o=A+O[X],c=o<<2,E=w[o];if(X==0&&$==0||X==1&&i==0||X==2&&i==Y-1||X==3&&$==x-1||E==-2)continue;
T++;if(E==-1){u[F+0]+=r[c+0];u[F+1]+=r[c+1];u[F+2]+=r[c+2]}else{g[V]=-1;t[V]=E;V++;if(j[A]==j[o]){u[F+0]+=r[H+0]-r[c+0];
u[F+1]+=r[H+1]-r[c+1];u[F+2]+=r[H+2]-r[c+2]}}}g[_]=T;q.pn(g,t,V)}for(var P=0;P<C;P++)if(w[P]!=-1){var f=P<<2,d=w[P],s=d*3;
h[s]=r[f+0];h[s+1]=r[f+1];h[s+2]=r[f+2]}var B=Date.now();q.aet(h,u,N,b);console.log(Date.now()-B);for(var P=0;
P<C;P++){var d=w[P],a=d*3,f=P<<2;if(d==-1||r[f+3]!=255)continue;r[f+0]=~~(.5+Math.max(0,Math.min(255,h[a+0])));
r[f+1]=~~(.5+Math.max(0,Math.min(255,h[a+1])));r[f+2]=~~(.5+Math.max(0,Math.min(255,h[a+2])))}};R.rect={};
R.rect.VV=function(r,j){var D=[r],N=[];for(var P=0;P<j.length;P++){var b=j[P],Y=!1;for(var x=P+1;x<j.length;
x++){var C=j[x];if(C[0]<=b[0]&&C[1]<=b[1]&&b[2]<=C[2]&&b[3]<=C[3]){Y=!0;break}}if(!Y)N.push(b)}j=N;for(var P=0;
P<j.length;P++){var b=j[P];for(var x=0;x<D.length;x++){var C=D[x],w=Math.max(b[0],C[0]),q=Math.min(b[2],C[2]),u=Math.max(b[1],C[1]),h=Math.min(b[3],C[3]);
if(w<q&&u<h){var z=[];if(C[1]<b[1]){var O=C.slice(0);O[3]=b[1];z.push(O)}if(C[0]<b[0]){var g=C.slice(0);
g[1]=u;g[2]=b[0];z.push(g)}if(b[2]<C[2]){var t=C.slice(0);t[1]=u;t[0]=b[2];z.push(t)}if(b[3]<C[3]){var $=[w,h,q,C[3]];
z.push($)}if(z.length!=0){D[x]=z[0];for(var i=1;i<z.length;i++)D.push(z[i])}}}D.push(b);D=R.rect.a4G(D)}D.sort(function(b,C){return b[1]!=C[1]?b[1]-C[1]:b[0]-C[0]});
for(var P=1;P<D.length;P++){var b=D[P-1],C=D[P];if(b[0]==C[0]&&b[1]==C[1]&&b[2]==C[2]&&b[3]==C[3]){D.splice(b[4]==null?P-1:P,1);
P--}}return D};R.rect.a4G=function(r){r=r.slice(0);for(var P=0;P<r.length;P++){var j=r[P],D=null;if(j[4]!=null)continue;
for(var N=0;N<r.length;N++){var b=r[N];if(P==N||b[4]!=null)continue;var Y=j[0]==b[0],x=j[1]==b[1],C=j[2]==b[2],w=j[3]==b[3];
if(x&&w&&(j[2]==b[0]||j[0]==b[2])){D=[Math.min(j[0],b[0]),j[1],Math.max(j[2],b[2]),j[3]]}if(Y&&C&&(j[3]==b[1]||j[1]==b[3])){D=[j[0],Math.min(j[1],b[1]),j[2],Math.max(j[3],b[3])]}if(D){r[P]=D;
r.splice(N,1);break}}if(D){P--}}return r};R.rect.co=function(r){var j=new bf;for(var P=0;P<r.length;
P++)j=j.zs(r[P]);return j};R.rect.a8a=function(r,j){var D=R.rect.co,N=new UnionFind(r.length),_=1e3,V=1e3;
for(var P=0;P<r.length;P++)for(var b=P+1;b<r.length;b++){if(!j)continue;var Y=r[P],x=r[b],h=1e9,z=1e9;
if(Y.CI(x)){N.link(P,b);continue}var C=Y.x+Y.d,w=Y.y+Y.r,q=x.x+x.d,u=x.y+x.r;if((C<x.x||q<Y.x)&&(w<x.y||u<Y.y))continue;
if(!(w<x.y||u<Y.y))h=Math.min(Math.abs(C-x.x),Math.abs(Y.x-q));if(!(C<x.x||q<Y.x))z=Math.min(Math.abs(w-x.y),Math.abs(Y.y-u));
var O=Math.min(h,z),g=Math.min(Y.d,Y.r,x.d,x.r);if(O<.3*g)N.link(P,b)}var t=[],$={};for(var P=0;P<r.length;
P++){var i=N.find(P),A=r[P];if($[i]==null){$[i]=t.length;t.push([])}t[$[i]].push(A)}var H=[],F=[];for(var P=0;
P<t.length;P++){H.push(D(t[P]));var T=D(t[P]);T.As=P;F.push(T)}F.sort(function(U,M){return Math.max(M.r,M.d)-Math.max(U.r,U.d)});
var X=new NETXUS.RectanglePacker(_,V);while(!0){var o=!1;X.reset(_,V);for(var P=0;P<F.length;P++){var c=X.findCoords(F[P].d,F[P].r);
if(c){F[P].x=c.x;F[P].y=c.y}else{_=Math.floor(_*1.1);V=Math.floor(V*1.1);o=!0;break}}if(o)continue;break}for(var P=0;
P<t.length;P++){var E=F[P],f=E.As,d=H[f],s=t[f],B=E.x-d.x,a=E.y-d.y;for(var b=0;b<s.length;b++)s[b].offset(B,a)}};
R.DA=function(){};R.DA.pt=Math.floor(16*window.devicePixelRatio);R.DA.AU={};R.DA.So=0;R.DA.Z4=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
R.DA.a1g=["px","in","cm","mm","%"];R.DA.bL=function(r,j,D,N){var b=[1,j,j/2.54,j/25.4,D/100][N];return r*b};
R.DA.afT=function(r,j,D,N){var b=[1,j,j/2.54,j/25.4,D/100][N];return r/b};R.DA.m2=function(r,j,D,N,b){var Y=D.Ar.Q5,x=[1,j,j/2.54,j/25.4,N/100][Y],C=[2,3,2,1,2][Y];
r=r/x;var w=Math.round(r),q=Y==0&&Math.abs(r-w)<1e-6?w+"":r.toFixed(C);if(b)q+=" "+R.DA.a1g[Y];return q};
R.DA.af9=function(r,j,D,N){var b=D.Ar.Q5,Y=[1,j,j/2.54,j/25.4,N/100][b];r=parseFloat(r)*Y;return r};
R.DA.a9r=function(r,j){var D=r+","+j;if(R.DA.AU.clr==D)return;var N=Math.round(R.DA.pt*.5);R.DA.So=N;
var b=document.createElement("canvas");b.width=b.height=N;var Y=b.getContext("2d");Y.font=N*1.5+"px monospace";
var x="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var P=0;P<x.length;P++){Y.fillStyle="#"+R.Za(j);Y.fillRect(0,0,N,N);
Y.fillStyle="#"+R.Za(r);Y.fillText(x[P],0,N);R.DA.AU[x[P]]=Y.getImageData(0,0,N,N).data}R.DA.AU.clr=D};
R.DA.a7i=function(r,j,D){var N=0,b=0,Y=4*R.DA.pt;for(var P=9;P>=0;P--){var x=Math.pow(10,P);if(5*x*r<=Y){N=5*x;
b=10;break}if(2*x*r<=Y){N=2*x;b=4;break}if(1*x*r<=Y){N=1*x;b=10;break}}if(N==0){N=1;b=10}var C=Math.ceil(N*r),w=R.O(C*R.DA.pt*4);
R.mh(w,4278190080|D);for(var P=0;P<R.DA.pt;P++)R.DA.Fy(w,4*P*C,j);for(var P=0;P<C;P++)R.DA.Fy(w,4*((R.DA.pt-1)*C+P),j);
if(N==2)b=2;if(N==5)b=5;if(N>1||N==1&&C>20)for(var P=1;P<b;P++)R.DA.adN(w,P*(C/b),C,(P&1)==1?.8:.7,j);
return{eC:w,step:N}};R.DA.adN=function(r,j,D,N,b){var j=Math.round(j);for(var Y=Math.round(R.DA.pt*N);
Y<R.DA.pt-1;Y++)R.DA.Fy(r,4*(Y*D+j),b)};R.DA.Fy=function(r,j,D){r[j+0]=D>>16&255;r[j+1]=D>>8&255;r[j+2]=D&255};
R.DA.aaZ=function(r,j,D,N,b,Y,x){var C=r.lk.d,w=r.lk.r,q=R.DA.pt,u=j&255,h=j>>8&255,z=j>>16&255;j=Math.round(u*.6)<<16|Math.round(h*.6)<<8|Math.round(z*.6);
R.DA.a9r(Math.round(u*.8)<<16|Math.round(h*.8)<<8|Math.round(z*.8),D);var O=r.S,g=r.u,t=r.yS;for(var $=0;
$<2;$++){var i=$==0?Y:x;r.S=i[0];r.u=i[1];r.yS=0;var A=this.a7i(r.S,j,D),H=r.K$(0,0),F=r.K$(C,w),T=Math.floor(H.x/A.step)*A.step,_=Math.ceil(F.x/A.step)*A.step,V=Math.floor(H.y/A.step)*A.step,X=Math.ceil(F.y/A.step)*A.step,o=r.lY(T,V),c=r.lY(_,V),E=A.step*r.S,f=Math.ceil(E);
if($==1){var d=A.eC;A.eC=R.O(d.length*4);R.t.Vd(d,A.eC,f,q)}var s=$==0?r._y.data:r.We.data,B=new bf(0,0,[C,q][$],[q,w][$]),a=new bf(0,0,[f,q][$],[q,f][$]),U=new bf([0,Math.round(q*.2)][$],[Math.round(q*.08),0][$],R.DA.So,R.DA.So),M=($==0?_-T:X-V)/A.step;
for(var P=0;P<M;P++){if($==0)a.x=Math.round(o.x+P*E);else a.y=Math.round(o.y+P*E);R.UB(A.eC,a,s,B,a);
var W=($==0?T+P*A.step:Math.abs(V+P*A.step)).toString(10);for(var n=0;n<W.length;n++){if($==0)U.x=a.x+3+n*Math.round(R.DA.So*.8);
else U.y=a.y+3+n*Math.round(R.DA.So*1.15);var e=R.DA.AU[W[n]];R.UB(e,U,s,B,U)}}}r.S=O;r.u=g;r.yS=t;var Q=Math.floor(q*.6),J=new Uint32Array(r._y.data.buffer),m=new Uint32Array(r.We.data.buffer),p=u<128?4278190080:4294967295;
if(0<N&&N<C)for(var P=0;P<Q;P++)J[P*C+N]=p;if(0<b&&b<w)for(var P=0;P<Q;P++)m[b*q+P]=p};R.scale={};R.scale.s=document.createElement("canvas");
R.scale.AF=R.scale.s.getContext("2d");R.scale.iy=document.createElement("canvas");R.scale.MD=R.scale.iy.getContext("2d");
R.scale.ab=function(r,j,D){var N=R.scale.s,b=R.scale.AF;N.width=j;N.height=D;var Y=new ImageData(new Uint8ClampedArray(r.buffer),j,D);
b.putImageData(Y,0,0);return b.createPattern(N,"repeat")};R.scale.a5D=function(r,j,D,N,b,Y,x,C){var w=R.scale.MX(r,D,N,b,Y,x,C);
R.wJ(w.data,j)};R.scale.B_=function(r,j,D,N,b,Y,x,C){var w=R.scale.MX(r,D,N,b,Y,x,C).data;if(j)R.kZ(w,j);
return new Uint8Array(w.buffer)};R.scale.MX=function(r,j,D,N,b,Y,x){var C=R.scale.s,w=R.scale.AF;C.width=j;
C.height=D;w.rect(0,0,j,D);w.translate(Y,x);w.scale(N,b);w.fillStyle=r;w.fill();return w.getImageData(0,0,j,D)};
R.scale.F=function(r,j,D,N,b){var Y=D.clone();Y.gq();var x=b.d,C=b.r,w=R.K.rR(j).v;R.K.F(w,Y,w);var q=R.K.v_(w).su(b),u=q.x,h=q.y,z=u+q.d,O=h+q.r,g=~~j.x,t=~~j.y,$=~~j.d,i=~~j.r;
for(var A=h;A<O;A++)for(var H=u;H<z;H++){var F=H+.5,T=A+.5,_=D.kD*F+D.Jy*T+D.Db-g,V=D.M*F+D.oq*T+D.aF-t;
if(0<=_&&0<=V&&_<$&&V<i)N[A*x+H]=r[~~V*$+~~_]}};R.scale.i$=function(r,j,D,N,b){var Y=new Uint32Array(r.buffer),x=new Uint32Array(N.buffer),C=D.clone();
C.gq();var w=b.d,q=b.r,u=R.K.rR(j).v;R.K.F(u,C,u);var h=R.K.v_(u).su(b),z=h.x,O=h.y,g=z+h.d,t=O+h.r,$=~~j.x,i=~~j.y,A=~~j.d,H=~~j.r;
for(var F=O;F<t;F++)for(var T=z;T<g;T++){var _=T+.5,V=F+.5,X=D.kD*_+D.Jy*V+D.Db-$,o=D.M*_+D.oq*V+D.aF-i;
if(0<=X&&0<=o&&X<A&&o<H)x[F*w+T]=Y[~~o*A+~~X]}};R.scale.X$=function(r,j,D,N,b,Y,x){if(x<1)R.scale.a5T(r,j,D,N,b,Y,Math.round(1/x));
else R.scale.a97(r,j,D,N,b,Y,x)};R.scale.Ad=function(r,j,D,N,b,Y,x,C){if(C)C=C.su(new bf(0,0,j,D));r=new Uint32Array(r.buffer);
N=new Uint32Array(N.buffer);if(x<1)R.scale.arf(r,j,D,N,b,Y,Math.round(1/x),C);else R.scale.agA(r,j,D,N,b,Y,x)};
R.scale.a97=function(r,j,D,N,b,Y,x){for(var C=0;C<D;C++)for(var w=0;w<j;w++){var q=r[C*j+w],u=Math.min(x,b-w*x),h=Math.min(x,Y-C*x);
for(var P=0;P<h;P++)for(var z=0;z<u;z++)N[(x*C+P)*b+x*w+z]=q}};R.scale.a5T=function(r,j,D,N,b,Y,x){for(var C=0;
C<Y;C++)for(var w=0;w<b;w++){var q=0,u=Math.min(x,j-w*x),h=Math.min(x,D-C*x);for(var P=0;P<h;P++)for(var z=0;
z<u;z++)q+=r[(x*C+P)*j+(x*w+z)];N[C*b+w]=Math.round(q/(u*h))}};R.scale.agA=function(r,j,D,N,b,Y,x){for(var C=0;
C<D;C++)for(var w=0;w<j;w++){var q=r[C*j+w],u=Math.min(x,b-w*x),h=Math.min(x,Y-C*x);for(var P=0;P<h;
P++)for(var z=0;z<u;z++)N[(x*C+P)*b+x*w+z]=q}};R.scale.arf=function(r,j,D,N,b,Y,x,C){var w=0,q=b,u=0,h=Y;
if(C){w=Math.floor(C.x/x);q=Math.ceil((C.x+C.d)/x);u=Math.floor(C.y/x);h=Math.ceil((C.y+C.r)/x)}for(var z=u;
z<h;z++)for(var O=w;O<q;O++){var g=0,t=0,$=0,i=0,A=Math.min(x,j-O*x),H=Math.min(x,D-z*x);for(var P=0;
P<H;P++)for(var F=0;F<A;F++){var T=r[(x*z+P)*j+x*O+F],_=T>>>24;g+=_;t+=_*(T>>>16&255);$+=_*(T>>>8&255);
i+=_*(T&255)}if(g!=0){var V=1/g;N[z*b+O]=g/(A*H)<<24|t*V<<16|$*V<<8|i*V}else N[z*b+O]=0}};R.c={};R.c.acc=function(r,j,D){var N=128,P=0,b=D.d,Y=D.r;
for(var x=0;x<Y;x++)for(var C=0;C<b;C++){if(r[P]>=N&&(C==0||r[P-1]<N||(C==b-1||r[P+1]<N)||(x==0||r[P-b]<N)||(x==Y-1||r[P+b]<N)))j[P]=255;
P++}};R.c.a5W=function(r,j,D,N){var b=new Uint32Array([4278190080,4294967295]),Y=D.d,x=D.r,C=0,w=0,q=Y,u=x;
if(N){C=N.x-D.x;w=N.y-D.y;q=C+N.d;u=w+N.r}var h=new Uint8Array(j.buffer),z=new Uint32Array(j.buffer);
for(var O=w;O<u;O++)for(var g=C;g<q;g++){var P=O*Y+g;if((r[P]&128)!=0&&(O==0||(r[P-Y]&128)==0||g==0||(r[P-1]&128)==0||g==Y-1||(r[P+1]&128)==0||O==x-1||(r[P+Y]&128)==0)){z[P]=b[(g+O&4)>>>2]}}};
R.c.aqF=function(r,j,D,N,b,Y){var x=D.d,C=D.r,w=0,q=0,u=x,h=C;if(N){w=N.x-D.x;q=N.y-D.y;u=w+N.d;h=q+N.r}var z=new Uint8Array(j.buffer),O=new Uint32Array(j.buffer);
for(var g=q;g<h;g++)for(var t=w;t<u;t++){var P=g*x+t,$=r[P];if(b==1)O[P]=255-$>>>1<<24|255;else O[P]=255<<24|($<<16|$<<8|$)}};
R._1={};R._1.na=function(r,j,D){var N,b;if(D==0){N=r.rect.clone();b=R._1.ahE}if(D==1){N=r.rect.zs(j.rect);
b=R._1.zs}if(D==2){N=j.rect.clone();b=R._1.a8s}if(D==3){N=r.rect.su(j.rect);b=R._1.su}if(D==4){N=r.rect.zs(j.rect);
b=R._1.a9G}if(N.jE())return null;var Y=R.O(N.Z());R.YO(j.channel,j.rect,Y,N);var x=R.O(N.Z());R.YO(r.channel,r.rect,x,N);
b(x,Y,Y);var C=R.FV(Y,N);if(C.jE())return null;if(!C.gy(N)){var w=R.O(C.Z());R.YO(Y,N,w,C);Y=w;N=C}return{channel:Y,rect:N}};
R._1.ahE=function(r,j,D){for(var P=0;P<r.length;P++)D[P]=r[P]};R._1.zs=function(r,j,D){for(var P=0;P<r.length;
P++)D[P]=Math.min(r[P]+j[P],255)};R._1.a8s=function(r,j,D){for(var P=0;P<r.length;P++)D[P]=Math.max(j[P]-r[P],0)};
R._1.su=function(r,j,D){var N=1/255;for(var P=0;P<r.length;P++)D[P]=r[P]*j[P]*N};R._1.a9G=function(r,j,D){var N=1/255;
for(var P=0;P<r.length;P++)D[P]=Math.min(r[P]+j[P],255)-r[P]*j[P]*N};R.MI=function(r,j){this.G=[];this.EX=[0];
this.GC=[];this.r2=[];this.GH=[0];this.zv=[];this.vO=[];this.rows=r;this.cols=j};R.MI.prototype.clone=function(){var r=this,j=r.rows,D=r.cols,N=new R.MI(j,D);
N.G=r.G.slice(0);N.EX=r.EX.slice(0);N.GC=r.GC.slice(0);N.r2=r.r2.slice(0);N.GH=r.GH.slice(0);N.zv=r.zv.slice(0);
N.vO=r.vO.slice(0);return N};R.MI.prototype.pn=function(r,j,D){var N=this.EX.length-1;for(var P=0;P<D;
P++){var b=r[P],Y=j[P];this.G.push(b);this.GC.push(Y);if(Y==N){this.vO.push(b==0?0:1/b)}else{this.r2.push(b);
this.zv.push(Y)}}this.EX.push(this.G.length);this.GH.push(this.r2.length)};R.MI.prototype.xf=function(r,j){var D=this,N=D.rows,b=D.G,Y=D.GC;
if(j==null)j=new Array(N);for(var P=0;P<N;P++){var x=D.EX[P],C=D.EX[P+1],w=0;while((C-x&3)!=0){w+=b[x]*r[Y[x]];
x++}for(var q=x;q<C;q+=4)w+=b[q]*r[Y[q]]+b[q+1]*r[Y[q+1]]+b[q+2]*r[Y[q+2]]+b[q+3]*r[Y[q+3]];j[P]=w}return j};
R.MI.prototype.multiply=function(r){return this.Kj(r.Vd())};R.MI.prototype.Kj=function(r){var j=this,D=j.rows,N=j.cols,b=r.rows,Y=new R.MI(D,b),x=j.GC,C=r.GC;
for(var P=0;P<D;P++){var w=[],q=[],u=j.EX[P],h=j.EX[P+1];for(var z=0;z<b;z++){var O=r.EX[z],g=r.EX[z+1],t=0,$=u,i=O;
while($<h&&i<g){var A=Math.max(x[$],C[i]);while($<h&&x[$]<A)$++;while(i<g&&C[i]<A)i++;if($<h&&i<g&&x[$]==C[i])t+=j.G[$++]*r.G[i++]}if(t!=0){w.push(t);
q.push(z)}}Y.pn(w,q,w.length)}return Y};R.MI.prototype.Vd=function(){var r=this.rows,j=this.cols,D=[];
for(var P=0;P<j;P++)D.push([[],[]]);var N=this.G,b=this.EX,Y=this.GC;for(var P=0;P<r;P++){var x=b[P],C=b[P+1];
for(var w=x;w<C;w++){var q=D[Y[w]];q[0].push(N[w]);q[1].push(P)}}var u=new R.MI(j,r);for(var P=0;P<j;
P++)u.pn(D[P][0],D[P][1],D[P][1].length);return u};R.MI.prototype.TJ=function(){var r=this.rows,j=this.cols,D=new Array(r),N=this.G,b=this.EX,Y=this.GC;
for(var P=0;P<r;P++){var x=D[P]=new Array(j);for(var C=0;C<j;C++)x[C]=0;var w=b[P],q=b[P+1];for(var u=w;
u<q;u++)x[Y[u]]=N[u]}return D};R.MI.prototype.iu=function(r,j,D,N,b){function Y(V,j,X,o){var c=V.length;
for(var P=0;P<c;P++)o[P]=V[P]-j[P]*X}function x(V,j,X,o){var c=V.length,E=0;while((c-E&3)!=0){o[E]=V[E]+j[E]*X;
E++}for(var P=E;P<c;P+=4){o[P]=V[P]+j[P]*X;o[P+1]=V[P+1]+j[P+1]*X;o[P+2]=V[P+2]+j[P+2]*X;o[P+3]=V[P+3]+j[P+3]*X}}function C(V,j,X){var o=V.length;
for(var P=0;P<o;P++)X[P]=V[P]*j[P]}function w(V,j){var X=V.length,o=0,c=0;while((X-o&3)!=0){c+=V[o]*j[o];
o++}for(var P=o;P<X;P+=4)c+=V[P]*j[P]+V[P+1]*j[P+1]+V[P+2]*j[P+2]+V[P+3]*j[P+3];return c}var q=N!=null?2:1,u=Date.now(),h=0,z=this,O=r.slice(0),g=r.slice(0);
z.xf(r,g);Y(j,g,1,O);var t=this.vO;if(q==0){t=O.slice(0);t.fill(1)}var $=O.slice(0);C(t,O,$);var i=$.slice(0),A=w(O,$);
while(!0){z.xf(i,g);var H=A/w(i,g);x(r,i,H,r);Y(O,g,H,O);if((h&7)==0&&Math.sqrt(w(O,O))<D)break;if(q<=1)C(t,O,$);
else{var F=O.slice(0);N.aq7(F,O);b.a4q($,F)}var T=w(O,$),_=T/A;x($,i,_,i);A=T;h++}};R.MI.prototype.a7c=function(r,j,D,N){var b=Date.now(),Y=1.96,C=0;
if(D==null)D=5e-6;if(N==null)N=1e9;var x=1-Y,eK=this.rows,w=this.r2,q=this.GH,u=this.zv,h=this.vO;while(!0){var z=0;
for(var P=0;P<eK;P++){var O=j[P],g=q[P],t=q[P+1];if(t-g==4)O-=w[g]*r[u[g]]+w[g+1]*r[u[g+1]]+w[g+2]*r[u[g+2]]+w[g+3]*r[u[g+3]];
else for(var $=g;$<t;$++)O-=w[$]*r[u[$]];var i=r[P]*x+h[P]*O*Y,A=i-r[P];z+=A*A;r[P]=i}if(z/eK<D||Date.now()>b+N)break}};
R.MI.prototype.aet=function(r,j,D,N){var b=Date.now(),Y=1.96,C=0;if(D==null)D=5e-5;if(N==null)N=1e9;
var x=1-Y,eK=this.rows,w=this.r2,q=this.GH,u=this.zv,h=this.vO;while(!0){var z=0;for(var P=0;P<eK;P++){var O=P*3,g=j[O],t=j[O+1],$=j[O+2],i=q[P],A=q[P+1];
for(var H=i;H<A;H++){var F=w[H],T=u[H]*3;g-=F*r[T+0];t-=F*r[T+1];$-=F*r[T+2]}var _=h[P]*Y,V=r[O+0]*x+g*_,X=r[O+1]*x+t*_,o=r[O+2]*x+$*_,c=V-r[O+0],E=X-r[O+1],f=o-r[O+2];
z+=.4*c*c+.5*E*E+.1*f*f;r[O+0]=V;r[O+1]=X;r[O+2]=o}if(z/eK<D||Date.now()>b+N)break}};R.I7={};R.I7.wV=function(r,j,D){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:r},Vrtc:{t:"doub",v:j},Cnty:{t:"bool",v:D}}}};
R.I7.F=function(r,j){for(var P=0;P<r.length;P++){var D=r[P].v,N=j.OT(new gJ(D.Hrzn.v,D.Vrtc.v));D.Hrzn.v=Math.round(N.x);
D.Vrtc.v=Math.round(N.y)}};R.I7.Sx=function(r,j,D){var eK=r.length-1,N=R.sW.$D(eK+1,eK+2);for(var P=1;
P<eK;P++){N[P][P-1]=1/(r[P]-r[P-1]);N[P][P]=2*(1/(r[P]-r[P-1])+1/(r[P+1]-r[P]));N[P][P+1]=1/(r[P+1]-r[P]);
N[P][eK+1]=3*((j[P]-j[P-1])/((r[P]-r[P-1])*(r[P]-r[P-1]))+(j[P+1]-j[P])/((r[P+1]-r[P])*(r[P+1]-r[P])))}N[0][0]=2/(r[1]-r[0]);
N[0][1]=1/(r[1]-r[0]);N[0][eK+1]=3*(j[1]-j[0])/((r[1]-r[0])*(r[1]-r[0]));N[eK][eK-1]=1/(r[eK]-r[eK-1]);
N[eK][eK]=2/(r[eK]-r[eK-1]);N[eK][eK+1]=3*(j[eK]-j[eK-1])/((r[eK]-r[eK-1])*(r[eK]-r[eK-1]));R.sW.st(N,D)};
R.I7.akE=function(r,j,D,N){if(r<=j[0])return D[0];if(r>=j[j.length-1])return D[j.length-1];var P=1;while(j[P]<r)P++;
var b=j[P],Y=j[P-1],x=D[P],C=D[P-1],w=(r-Y)/(b-Y),q=N[P-1]*(b-Y)-(x-C),u=-N[P]*(b-Y)+(x-C),h=(1-w)*C+w*x+w*(1-w)*(q*(1-w)+u*w);
return h};R.I7.AO=function(r,j,D,N){var b={yW:[r[0]],Kc:[j[0]],zS:[]};N[0]=b;for(var P=1;P<r.length-1;
P++){b.yW.push(r[P]);b.Kc.push(j[P]);if(D[P]==!1){R.I7.Sx(b.yW,b.Kc,b.zS);b={yW:[r[P]],Kc:[j[P]],zS:[]}}N[P]=b}b.yW.push(r[P]);
b.Kc.push(j[P]);R.I7.Sx(b.yW,b.Kc,b.zS);N[P]=b};R.I7.cR=function(r,j,D,N){if(r<=j[0])return D[0];if(r>=j[j.length-1])return D[j.length-1];
var P=1;while(j[P]<r)P++;var b=N[P-1];return R.I7.akE(r,b.yW,b.Kc,b.zS)};R.I7.mA=function(r){var j={yW:[],Kc:[],IP:[]};
for(var P=0;P<r.length;P++){j.yW[P]=r[P].v.Hrzn.v;j.Kc[P]=r[P].v.Vrtc.v;j.IP[P]=r[P].v.Cnty?r[P].v.Cnty.v:!0}return j};
R.I7.OG=function(r,eK,j){var D=0,N=255;if(j){D=-1e9;N=1e9}var b=R.I7.mA(r),Y=[];R.I7.AO(b.yW,b.Kc,b.IP,Y);
var x=[];for(var P=0;P<eK;P++)x[P]=1/255*Math.max(D,Math.min(N,R.I7.cR(P*(255/(eK-1)),b.yW,b.Kc,Y)));
return x};R.I7.amM=function(r,eK,j){var D=Math.round(r.length/20),N=eK-r.length,b=j?(r[D]-r[0])/D:0,Y=j?r[0]-N*b:r[r.length-1],x=[];
for(var P=0;P<N;P++)x.push(Y+P*b);return j?x.concat(r):r.concat(x)};R.I7.Is=function(r,eK,j){var D=R.I7.mA(r),N=[];
R.I7.AO(D.yW,D.Kc,D.IP,N);var b=new Uint8Array(eK),Y=eK/256;for(var P=0;P<eK;P++)b[P]=Math.max(0,Math.min(eK-1,R.I7.cR(P*Y,D.yW,D.Kc,N)));
if(j){b[0]=0;if(b[1]>100)b[1]=.4*b[1];if(b[2]>150)b[1]=.7*b[2]}return b};R.I7.De=function(r,j){var D=new Uint8Array(r.length);
for(var P=0;P<r.length;P++)D[P]=j[r[P]];return D};R.I7.af=function(r,j,D){var N=y.C("canvas","");N.width=j;
N.height=D;var b=N.getContext("2d"),Y=R.I7.Is(r,256);b.scale(j/255,D/255);b.fillStyle="#fff";b.fillRect(0,0,255,255);
b.fillStyle="#333";b.beginPath();b.moveTo(0,255);for(var P=0;P<Y.length;P++)b.lineTo(P,255-Y[P]);b.lineTo(255,255);
b.closePath();b.fill();return N.toDataURL()};R.style={};R.style.stroke=function(r,j,D,N){var b=D.d,Y=D.r,x=new Float64Array(b*Y);
R.style.jo(r,x,b,Y);R.style.FF(j,D,x,D,N)};R.style.FF=function(r,j,D,N,b){var Y=j.su(N),x=Y.d,C=Y.r;
b+=.5;var w=Y.x-j.x,q=Y.y-j.y,u=j.d,h=Y.x-N.x,z=Y.y-N.y,O=N.d;for(var g=0;g<C;g++){var t=(g+z)*O+h,$=(g+q)*u+w;
for(var i=0;i<x;i++){var A=Math.max(0,Math.min(1,b-D[t+i]));r[$+i]=Math.round(A*255)}}};R.style.adL=function(r,j,D,N){for(var b=0;
b<D;b++)for(var Y=0;Y<j;Y++){var x=b*j+Y,C=0,w=0,q=r[x];if(Y==0||b==0){C=r[x+1]-q;w=r[x+j]-q}else if(Y==D-1||b==j-1){C=q-r[x-1];
w=q-r[x-j]}else{C=r[x+1]-r[x-1];w=r[x+j]-r[x-j]}if(C!=0||w!=0){var u=1/Math.sqrt(C*C+w*w);C*=u;w*=u}N[x+x]=C;
N[x+x+1]=w}};R.style.jo=function(r,j,D,N){var b=0,Y=D*N;for(var P=0;P<Y;P++)b|=r[P];if(b==0){j.fill(1e9);
return}var x=R.style.VM(r,D,N);for(var C=0;C<N;C++)for(var w=0;w<D;w++){var P=C*D+w,q=x[P*2],u=x[P*2+1],h=(C+u)*D+w+q;
if(q==0&&u==0){j[P]=0;continue}var z=Math.sqrt(q*q+u*u),O=r[h]*(1/255),g=1/z,t=Math.abs(q)*g,$=Math.abs(u)*g;
if($>t){var i=$;$=t;t=i}j[P]=z+R.style.a6n(t,$,O)}};R.style.a6n=function(r,j,D){return(.5-D)*r};R.style.VM=function(r,j,D,N){var b=new Int16Array(j*D*2);
R.style.afb(r,b,j,D,128);return b};R.style.apo=function(r,j,D,N){var b=D*N;for(var P=0;P<b;P++)if(r[P]==0){j[P*2]=16383;
j[P*2+1]=16383}for(var Y=1;Y<=N-1;Y++){var P=Y*D;for(var x=0;x<=D-1;x++)R.style.CV(j,r,D,P+x<<1,-1);
for(var x=1;x<=D-1;x++)R.style.vD(j,r,D,P+x<<1,-1);for(var x=D-2;x>=0;x--)R.style.vD(j,r,D,P+x<<1,1)}for(var Y=N-2;
Y>=0;Y--){var P=Y*D;for(var x=0;x<=D-1;x++)R.style.CV(j,r,D,P+x<<1,1);for(var x=1;x<=D-1;x++)R.style.vD(j,r,D,P+x<<1,-1);
for(var x=D-2;x>=0;x--)R.style.vD(j,r,D,P+x<<1,1)}};R.style.vD=function(r,j,D,N,b){var Y=(N>>>1)+b<<1,x=r[N],C=r[N+1],w=r[Y]+b,q=r[Y+1],u=w*w+q*q,h=x*x+C*C;
if(q!=16383&&(x==16383||Math.sqrt(u)+(.5-j[(N>>>1)+q*D+w]*(1/255))<Math.sqrt(h)+(.5-j[(N>>>1)+C*D+x]*(1/255)))){r[N]=w;
r[N+1]=q}};R.style.CV=function(r,j,D,N,b){var Y=(N>>>1)+b*D<<1,x=r[N],C=r[N+1],w=r[Y],q=r[Y+1]+b,u=w*w+q*q,h=x*x+C*C;
if(w!=16383&&(x==16383||Math.sqrt(u)+(.5-j[(N>>>1)+q*D+w]*(1/255))<Math.sqrt(h)+(.5-j[(N>>>1)+C*D+x]*(1/255)))){r[N]=w;
r[N+1]=q}};R.style.am7=function(r,j,D,N){var b=D*N;for(var P=0;P<b;P++)if(r[P]==0){j[P*2]=16383;j[P*2+1]=16383}for(var Y=1;
Y<=N-1;Y++){var P=Y*D;for(var x=0;x<=D-1;x++)R.style.R8(j,r,D,P+x<<1,-1);for(var x=1;x<=D-1;x++)R.style.SJ(j,r,D,P+x<<1,-1);
for(var x=D-2;x>=0;x--)R.style.SJ(j,r,D,P+x<<1,1)}for(var Y=N-2;Y>=0;Y--){var P=Y*D;for(var x=0;x<=D-1;
x++)R.style.R8(j,r,D,P+x<<1,1);for(var x=1;x<=D-1;x++)R.style.SJ(j,r,D,P+x<<1,-1);for(var x=D-2;x>=0;
x--)R.style.SJ(j,r,D,P+x<<1,1)}};R.style.SJ=function(r,j,D,N,b){var Y=(N>>>1)+b<<1,x=r[N],C=r[N+1],w=r[Y]+b,q=r[Y+1],u=w*w+q*q,h=x*x+C*C;
if(q!=16383&&(x==16383||u<h)){r[N]=w;r[N+1]=q}};R.style.R8=function(r,j,D,N,b){var Y=(N>>>1)+b*D<<1,x=r[N],C=r[N+1],w=r[Y],q=r[Y+1]+b,u=w*w+q*q,h=x*x+C*C;
if(w!=16383&&(x==16383||u<h)){r[N]=w;r[N+1]=q}};R.style.apI=function(r,j,D,N,b){var Y=D*N,x=(D+N+1)*1.01;
for(var P=0;P<Y;P++)if(r[P]<=b)j[P]=x;for(var C=1;C<D;C++)j[C]=Math.min(j[C],j[C-1]);for(var w=1;w<N;
w++){var P=w*D;j[P]=Math.min(j[P],Math.min(j[P-D]+1,j[P-D+1]+Math.SQRT2));for(var C=1;C<D-1;C++){var q=j[++P],u=Math.min(j[P-1]+1,Math.min(j[P-D-1]+Math.SQRT2,Math.min(j[P-D]+1,j[P-D+1]+Math.SQRT2)));
if(u<q)j[P]=u}P++;j[P]=Math.min(j[P],Math.min(j[P-1]+1,Math.min(j[P-D-1]+Math.SQRT2,j[P-D]+1)))}for(var C=D-2;
C>=0;C--)j[C+Y-D]=Math.min(j[C+Y-D],j[C+Y-D+1]);for(var w=N-2;w>=0;w--){var P=w*D+D-1;j[P]=Math.min(j[P],Math.min(j[P+D]+1,j[P+D-1]+Math.SQRT2));
for(var C=D-2;C>=1;C--){var q=j[--P],u=Math.min(j[P+1]+1,Math.min(j[P+D-1]+Math.SQRT2,Math.min(j[P+D]+1,j[P+D+1]+Math.SQRT2)));
if(u<q)j[P]=u}P--;j[P]=Math.min(j[P],Math.min(j[P+1]+1,Math.min(j[P+D]+1,j[P+D+1]+Math.SQRT2)))}};R.style.afb=function(r,j,D,N,b){var Y=new Int32Array(D*N);
R.style.a8z(r,Y,D,N,b);R.style.afo(Y,j,D,N)};R.style.a8z=function(r,j,D,N,b){var Y=new Int32Array(N);
for(var x=0;x<D;x++){var C=D+N;for(var w=N-1;w>=0;w--){if(r[w*D+x]>b)C=0;else C++;Y[w]=C}C=D+N;for(var w=0;
w<N;w++){if(r[w*D+x]>b)C=0;else C++;j[w*D+x]=C<Y[w]?-C:Y[w]}}};R.style.afo=function(r,j,D,N){var b=(D+N)*(D+N),Y=new Float64Array(D),x=new Uint16Array(D);
for(var C=0;C<N;C++){var w=C*D,q=0;x[0]=0;Y[0]=-b;Y[1]=+b;for(var u=1;u<D;u++){var h=r[u+w]*r[u+w]+u*u,z=(h-(r[x[q]+w]*r[x[q]+w]+x[q]*x[q]))/(2*u-2*x[q]);
while(z<=Y[q]){q--;z=(h-(r[x[q]+w]*r[x[q]+w]+x[q]*x[q]))/(2*u-2*x[q])}q++;x[q]=u;Y[q]=z;Y[q+1]=b}q=0;
for(var u=0;u<D;u++){while(Y[q+1]<u)q++;var O=x[q]-u,g=r[x[q]+w],P=C*D+u<<1;j[P]=O;j[P+1]=g}}};R.style.tH=function(r,j,D){if(D)for(var P=0;
P<r.length;P++){var N=r[P];if(N>0)r[P]=Math.max(0,Math.min(255,N+j*2*(R.style.pf(P)-128)))}else for(var P=0;
P<r.length;P++){var N=r[P];if(N>0)r[P]=Math.max(0,Math.min(255,N+Math.min(N*3,j*2*(R.style.pf(P)-128))))}};
R.style.pf=function(r){r=r^61^r>>16;r=r+(r<<3);r=r^r>>4;r=r*668265261;r=r^r>>15;return r&255};R.Jx={};
R.Jx.KV=function(r,j,D){var N=r.canvas,b=y.f(),Y=Math.floor;if(N.width!=Y(j*b)||N.height!=Y(D*b))y.z_(N,j,D,r)};
R.Jx.Al=function(r,j,D,N,b,Y){R.Jx.KV(r,j,D);if(Y==null)Y=!1;var x=b.channel,C=b.rect,w=!b.isEnabled;
j=Math.floor(j*y.f());D=Math.floor(D*y.f());if(j*D==0)return;var q=r.createImageData(j,D),u=q.data,h=1/j,z=1/D;
for(var P=0;P<D;P++)for(var O=0;O<j;O++){var g=P*j+O,t=g*4,$=Math.round(N.x+O*h*N.d),i=Math.round(N.y+P*z*N.r),A=0;
if($<C.x||$>=C.x+C.d||i<C.y||i>=C.y+C.r)A=b.color;else A=x[(i-C.y)*C.d+($-C.x)];A=255*(255-b.jO)+A*b.jO>>>8;
if(Y)A=170+Math.round(.4*(A-170));u[t]=A;u[t+1]=A;u[t+2]=A;u[t+3]=255}r.putImageData(q,0,0);if(w)R.Jx.KI(r,j,D)};
R.Jx._Q=[];R.Jx.aj6=function(r,j,D,N){var b,Y,x,C=y.f();j=Math.floor(C*j);D=Math.floor(C*D);b=Math.ceil(Math.max(j,D)*.35);
Y=j-b;x=D-b;var w=R.Jx._Q[b];if(w==null){var q=y.C("canvas"),u=q.getContext("2d");q.width=q.height=b;
u.fillStyle="#eeeeee";u.fillRect(0,0,b,b);var h=Math.round(b*.27),z=u.lineWidth=Math.max(1,Math.round(b*.12)),O=z/2;
u.strokeRect(1+O,1+O,b-z-2,b-z-2);u.strokeRect(h+O,h+O,b-h-h-z,b-h-h-z);w=R.Jx._Q[b]=u.getImageData(0,0,b,b)}r.putImageData(w,Y,x)};
R.Jx.r6=[];R.Jx.aqp=function(r,j,D){var N,b,Y,x=y.f();j=Math.floor(x*j);D=Math.floor(x*D);N=Math.ceil(Math.max(j,D)*.35);
b=j-N;Y=D-N;var C=R.Jx.r6[N];if(C==null){var w=y.C("canvas"),q=w.getContext("2d");w.width=w.height=N;
q.fillStyle="#eeeeee";q.fillRect(0,0,N,N);q.lineWidth=1;q.strokeRect(2.5,2.5,N-5,N-5);var u=q.createImageData(3,3);
R.mh(u.data,4278190080);u.data[4*4]=u.data[4*4+1]=u.data[4*4+2]=238;q.putImageData(u,1,1);q.putImageData(u,N-4,1);
q.putImageData(u,1,N-4);q.putImageData(u,N-4,N-4);C=R.Jx.r6[N]=q.getImageData(0,0,N,N)}r.putImageData(C,b,Y)};
R.Jx.ajA=function(r,j,D,N,b){R.Jx.KV(r,j,D);j=Math.floor(j*y.f());D=Math.floor(D*y.f());var Y=j/N.d;
if(j*D==0)return;r.fillStyle="#999999";r.setTransform(1,0,0,1,0,0);r.clearRect(0,0,j,D);var x=R.Jx.CB;
if(x==null){x=R.Jx.CB=JSON.parse(JSON.stringify(hz._O.default));x.strokeEnabled.v=!0}x.strokeStyleLineWidth.v.val=1*y.f()/Y;
r.fillStyle="#ffffff";r.scale(Y,Y);R.b.N0(b.W,r,0,0);R.b.N0(b.W,r,0,0,x)};R.Jx.XQ=null;R.Jx.Am=function(r,j,D,N,b,Y,x,C){R.Jx.KV(r,j,D);
j=Math.floor(j*y.f());D=Math.floor(D*y.f());if(j*D==0)return;var w=Math.max(j,D),q=R.Jx.XQ;if(q==null||q.width<w||q.height<w){R.Jx.XQ=q=r.createImageData(w,w)}w=q.width;
var u=q.data,h=N.d/j,z=N.r/D,O=Y.x,g=Y.x+Y.d,t=Y.y,$=Y.y+Y.r;for(var P=0;P<D;P++)for(var i=0;i<j;i++){var A=P*w+i,H=A*4,F=~~(N.x+i*h),T=~~(N.y+P*z),_=R.nA(P,i,2);
if(F<O||F>=g||T<t||T>=$){u[H]=_;u[H+1]=_;u[H+2]=_;u[H+3]=255}else{var V=(T-Y.y)*Y.d+(F-Y.x)<<2,X=b[V+3]*(1/255);
u[H]=b[V+0]*X+_*(1-X);u[H+1]=b[V+1]*X+_*(1-X);u[H+2]=b[V+2]*X+_*(1-X);u[H+3]=255}}if(C!=null)for(var P=0;
P<u.length;P+=4)u[P]=u[P+1]=u[P+2]=u[P+C];r.putImageData(q,0,0);if(x)R.Jx.KI(r,j,D)};R.Jx.aoM=function(r,j,D,N){R.Jx.KV(r,j,D);
r.fillStyle=R.Jx.z2(N.Clr.v);r.fillRect(0,0,j,D);R.Jx.ry(r,j,D)};R.Jx.Me=null;R.Jx.agw=function(r,j,D,N){R.Jx.KV(r,j,D);
var b=r.canvas.width,Y=r.canvas.height,x=R.Jx.Me;if(x==null||x.width!=b||x.height!=Y){r.fillStyle="#ffffff";
r.fillRect(0,0,j,D);r.fillStyle="#000000";r.font=""+D*.7+"px serif";r.fillText("T",(j-D*.43)/2,D*.75);
r.fillText("T",(j-D*.43)/2,D*.75);R.Jx.Me=r.getImageData(0,0,b,Y)}else r.putImageData(x,0,0)};R.Jx.aa3=function(r,j,D){R.Jx.KV(r,j,D);
r.clearRect(0,0,j,D);r.font=D*.7+"px serif";r.fillText(":(",(j-D*.43)/2,D*.7)};R.Jx.alA=function(r,j,D,N){R.Jx.KV(r,j,D);
var b=cz.get(N),Y=r.canvas.width,x=R.Jx.np[Y+b];if(x==null){var C=PIMG["adj/"+b],w=aP._H(C),q=UPNG.decode(w.buffer),u=new Uint8Array(UPNG.toRGBA8(q)[0]),h=new bf(0,0,160,160),z=0,O=Y-z*2,g=I.T.Kn([u,h],new j9(O/160,0,0,O/160,0,0)),t=new bf(0,0,Y,Y),$=R.O(t.Z()*4);
R.U.tI("norm",g.buffer,g.rect,$,t,g.rect,1);x=R.Jx.np[Y+b]=new ImageData(new Uint8ClampedArray($.buffer),Y,Y)}y.ui(r.canvas,"gsicon");
r.canvas.style.border="none";r.putImageData(x,0,0)};R.Jx.np={};R.Jx.aeS=function(r,j,D,N){R.Jx.KV(r,j,D);
var b=r.canvas.width,Y=r.canvas.height,x=r.getImageData(0,0,b,Y);R._.Jj(N.Grad.v,new Uint8Array(x.data.buffer),new bf(0,0,b,Y),[1/b,0,0,1/Y],b/2,Y/2,!1,0,16711680,65280);
r.putImageData(x,0,0);R.Jx.ry(r,j,D)};R.Jx.aqu=function(r,j,D,N,b){R.Jx.KV(r,j,D);var Y=r,x=fx.T5(N.Ptrn.v,b.add.Patt);
if(x==null)return;var C=x.PT[1];R.Jx.Am(r,j,D,C,x.PT[0],C,!1);R.Jx.ry(Y,j,D)};R.Jx.KI=function(r,j,D){j/=y.f();
D/=y.f();r.strokeStyle="#bb0000";r.lineWidth=3;r.beginPath();r.moveTo(j*.15,D*.15);r.lineTo(j*.85,D*.85);
r.moveTo(j*.85,D*.15);r.lineTo(j*.15,D*.85);r.closePath();r.stroke()};R.Jx.ry=function(r,j,D){r.fillStyle="#eeeeee";
r.fillRect(0,D*.75,j,D*.25);r.beginPath();r.moveTo(0,D*.75);r.lineTo(j,D*.75);r.moveTo(j*.1,D*.875);
r.lineTo(j*.9,D*.875);r.moveTo(j*.65,D*.825);r.lineTo(j*.65,D*.95);r.closePath();r.stroke()};R.Jx.z2=function(r){var j=R._.z2(r),D=Math.round(j.a)<<16|Math.round(j.p)<<8|Math.round(j.M);
return"#"+R.Za(D)};R.b={};R.b.W_=function(r,j,D){var N=[],b=-1;for(var P=0;P<r.length;P++){var Y=r[P];
if((Y.type==0||Y.type==3)&&Y.va!=-1)b++;if(Y.type>5||Y.type==0||Y.type==3)continue;if(j!=null&&j.indexOf(b)==-1)continue;
if(D!=null&&D.indexOf(P)==-1)continue;N.push(Y.IR.x);N.push(Y.IR.y);N.push(Y.Q.x);N.push(Y.Q.y);N.push(Y.TU.x);
N.push(Y.TU.y)}return N};R.b.TV=function(r,j,D,N){var b=0,Y=-1;for(var P=0;P<j.length;P++){var x=j[P];
if((x.type==0||x.type==3)&&x.va!=-1)Y++;if(x.type>5||x.type==0||x.type==3)continue;if(D!=null&&D.indexOf(Y)==-1)continue;
if(N!=null&&N.indexOf(P)==-1)continue;x.IR.Ho(r[b],r[b+1]);x.Q.Ho(r[b+2],r[b+3]);x.TU.Ho(r[b+4],r[b+5]);
b+=6}};R.b.ho=function(r,j,D,N){var b=R.b.W_(r,D,N);R.K.F(b,j,b);R.b.TV(b,r,D,N)};R.b.a2L=function(r,j,D,N){var b=R.b.W_(r,D,N);
R.t.F(j,b);R.b.TV(b,r,D,N)};R.b.akC=function(r,j,D,N){if(D==null&&N==null){var b=R.b.abG(r,40);for(var P=0;
P<b.length;P++)r[P]=b[P]}var Y=R.b.W_(r,D,N);R.rX.F(j,Y,R.K.mN(Y));R.b.TV(Y,r,D,N)};R.b.abG=function(r,j){var D=[];
for(var P=0;P<r.length;P++){var N=r[P];if(N.type>5){D.push(JSON.parse(JSON.stringify(N)));continue}var b=R.b.acG(r,P+1,N.length);
b=R.K.DF(b,j);var Y=R.b.abX(b);P+=N.length;N=JSON.parse(JSON.stringify(N));N.length=Y.length;D.push(N);
for(var x=0;x<Y.length;x++)D.push(Y[x])}return D};R.b.acG=function(r,j,D){var N={J:["M"],v:[]},b=r[j],Y=r[j+D-1];
N.v.push(b.Q.x,b.Q.y);for(var P=1;P<D;P++){var x=r[j+P-1],C=r[j+P];N.J.push("C");N.v.push(x.TU.x,x.TU.y,C.IR.x,C.IR.y,C.Q.x,C.Q.y)}N.J.push("C");
N.v.push(Y.TU.x,Y.TU.y,b.IR.x,b.IR.y,b.Q.x,b.Q.y);return N};R.b.abX=function(r){var j=[],D=r.J,N=r.v,b=0,eK=N.length;
j.push({type:2,IR:new gJ(N[eK-4],N[eK-3]),Q:new gJ(N[0],N[1]),TU:new gJ(N[2],N[3])});for(var P=0;P<D.length-2;
P++){var Y=P*6+4;j.push({type:2,IR:new gJ(N[Y],N[Y+1]),Q:new gJ(N[Y+2],N[Y+3]),TU:new gJ(N[Y+4],N[Y+5])})}return j};
R.b.al_=function(r){for(var P=0;P<r.length;P++){if(r[P].type>5)continue;var j=r[P].length;if(!(j==4||j==6||j==8)){P+=j;
continue}for(var D=0;D<j;D++){var N=r[P+1+D],b=r[P+1+(D+1)%j],Y=Math.min(N.Q.x,b.Q.x),x=Math.min(N.Q.y,b.Q.y),C=0,w=0;
if(N.Q.x<b.Q.x){C=N.Q.y-x;w=C-(b.Q.x-Y)}else{C=b.Q.y-x;w=C-(N.Q.x-Y)}if(Math.abs(w)<.2*C)return C}}return-1};
R.b.sl=function(r,j,D){function N(z,O){var g=Math.min(z.x,O.x),t=Math.min(z.y,O.y),$=Math.max(z.x+z.d,O.x+O.d),i=Math.max(z.y+z.r,O.y+O.r);
return new bf(g,t,$-g,i-t)}var b=null,Y=-1,x=!R.b.di(r);for(var P=0;P<r.length;P++){var C=r[P];if(C.type>5)continue;
if((C.type==0||C.type==3)&&C.va!=-1)Y++;if(j!=null&&j.indexOf(Y)==-1)continue;if(P==r.length-1)break;
var w=C.type==3,q=C.length,u=C.va,h=R.b.aoK(r,P+1,q,w);if(b==null)b=h;else if(D)b=N(b,h);else if(x){if(j!=null||u==0||u==-1||u==2)b=N(b,h);
else if(u==1)b=b;else if(u==3){b=h;x=!1}}else{if(j!=null||u==0||u==-1||u==1)b=N(b,h);else if(u==2)b=b;
else if(u==3)b=b.su(h)}P+=q}if(b==null||b.d<0||b.r<0)b=new bf(0,0,0,0);return b};R.b.alU=new Float64Array(4);
R.b.aoK=function(r,P,j,D){var N=R.b.alU;N[0]=1e30;N[1]=1e30;N[2]=-1e30;N[3]=-1e30;var b=r[P+j-1];if(!D)R.b.V8(b.Q.x,b.Q.y,b.TU.x,b.TU.y,r[P].IR.x,r[P].IR.y,r[P].Q.x,r[P].Q.y,N);
for(var Y=P;Y<P+j-1;Y++){var x=r[Y],C=r[Y+1];R.b.V8(x.Q.x,x.Q.y,x.TU.x,x.TU.y,C.IR.x,C.IR.y,C.Q.x,C.Q.y,N)}return new bf(N[0],N[1],N[2]-N[0],N[3]-N[1])};
R.b.V8=function(r,j,D,N,b,Y,x,C,w){if(r==D&&j==N&&b==x&&Y==C){w[0]=Math.min(w[0],Math.min(r,x));w[1]=Math.min(w[1],Math.min(j,C));
w[2]=Math.max(w[2],Math.max(r,x));w[3]=Math.max(w[3],Math.max(j,C));return}var q=r,u=j,h=r,z=j,O=40,g=1/(O-1);
for(var t=0;t<O;t++){var $=t*g,i=1-$,A=i*i*i,H=3*i*i*$,F=3*i*$*$,T=$*$*$,_=A*r+H*D+F*b+T*x,V=A*j+H*N+F*Y+T*C;
if(_<q)q=_;else if(_>h)h=_;if(V<u)u=V;else if(V>z)z=V}if(q<w[0])w[0]=q;if(u<w[1])w[1]=u;if(h>w[2])w[2]=h;
if(z>w[3])w[3]=z};R.b.jL=function(r,j){var D=r.length-3,N=j%D,b=Math.floor(N);if(j<0||b>=D)return null;
var Y=r[3+b],x=r[3+(b+1)%D],C=Y.Q,w=Y.TU,q=x.IR,u=x.Q,h=N-b,z=1-h,O=z*z*z*C.x+3*z*z*h*w.x+3*z*h*h*q.x+h*h*h*u.x,g=z*z*z*C.y+3*z*z*h*w.y+3*z*h*h*q.y+h*h*h*u.y;
return new gJ(O,g)};R.b.Lb=function(r){var j=R.K.p_(r),D=j.mo;j.mo=Typr.U.pathToSVG({crds:D.v,cmds:D.J},2);
return j};R.b.CO=function(r){R.b.OK();var j,D=R.b.Om(r),N=[];for(var P=0;P<D.length;P++){var b=D[P][0],Y=D[P][1];
if(Math.abs(b.area)<1e-5)N.push(b);else if(j==null)j=b;else{if(!b.closed)b.closed=!0;j=j[Y](b);j.remove()}}if(j==null)j=new paper.CompoundPath(N);
else{if(j.segments)j=new paper.CompoundPath(j);for(var P=0;P<N.length;P++){j.addChild(N[P])}}var x=r.slice(0,2);
x=x.concat(R.b.BK(j));if(x[2])x[2].va=1;for(var P=3;P<x.length;P++)if(x[P].va!=null)x[P].va=-1;return x};
R.b.OK=function(){if(R.b.ajr==null){var r=y.C("canvas");paper.setup(r);R.b.ajr=!0}};R.b.agl=function(r,j){R.b.OK();
var D=[],N=R.b.Om(r),b=new paper.Path.Rectangle(new paper.Rectangle(j.x,j.y,j.d,j.r));b.remove();b.fillColor=new paper.Color(1,0,0);
for(var P=0;P<N.length;P++){if(b.intersects(N[P][0])||b.contains(N[P][0].children[0].segments[0].point))D.push(P)}return D};
R.b.U2=function(r,j,D,N){R.b.OK();var b=D?{curves:!0,tolerance:N}:null,Y=new paper.Point(j.x,j.y),x=R.b.Om(r);
for(var P=x.length-1;P>=0;P--){var C=x[P][0],w=C.hitTest(Y,b);if(w!=null)return{wd:P,ox:D?w.location.index:null}}return{wd:-1}};
R.b.bj=function(r,j,D){var N=[[],[],[]];for(var P=0;P<r.length;P++){var b=r[P];if(b.type>5||b.type==0||b.type==3)continue;
var Y=D==null?!0:D.indexOf(P)!=-1;if(j.yZ(b.Q))N[0].push(P);if(j.yZ(b.IR)&&Y)N[1].push(P);if(j.yZ(b.TU)&&Y)N[2].push(P)}return N};
R.b.a4E=function(r,j,D){var N=D.slice(0),b=[null,null],Y=-1,C=null;for(var P=2;P<r.length;P++){if((r[P].type==0||r[P].type==3)&&r[P].va!=-1)Y++;
b[P]=D[Y]}D=b;var x=r.slice(0,2);b=D.slice(0,2);for(var P=2;P<r.length;P++){if(r[P].type==0||r[P].type==3){C=r[P];
x.push(C);b.push(D[P])}else{if(j.indexOf(P)==-1){x.push(r[P]);b.push(D[P])}else{C.length--;R.Bu.LT(D,P)}}}for(var P=2;
P<x.length;P++){var w=x[P];if(w.type!=0&&w.type!=3)continue;if(w.length==0){if(x[P+1]&&x[P+1].va==-1){x[P+1].va=w.va}b.splice(P,1);
x.splice(P,1);P--}}for(var P=0;P<N.length;P++)if(b.indexOf(N[P])==-1){N.splice(P,1);P--}return x};R.b.aoL=function(r,j){var D=r.slice(0,2),N=-1;
for(var P=2;P<r.length;P++){if((r[P].type==0||r[P].type==3)&&r[P].va!=-1)N++;if(j.indexOf(N)==-1)D.push(r[P])}return D};
R.b.a6z=function(r,j){var D=r.slice(0,2),N=-1;for(var P=2;P<r.length;P++){if((r[P].type==0||r[P].type==3)&&r[P].va!=-1)N++;
if(j.indexOf(N)!=-1)D.push(r[P])}return D};R.b.apr=function(r){var j=0;for(var P=0;P<r.length;P++)if(r[P].type==0||r[P].type==3)j=P;
return r[j]};R.b.yo=function(r){var j=-1;for(var P=0;P<r.length;P++)if((r[P].type==0||r[P].type==3)&&r[P].va!=-1)j++;
return j+1};R.b.Kk=function(r,j,D){var N=-1;for(var P=0;P<r.length;P++)if((r[P].type==0||r[P].type==3)&&(D||r[P].va!=-1)){N++;
if(N==j)return P}return-1};R.b.qY=function(r,j,D){var N=-1;for(var P=0;P<r.length;P++)if((r[P].type==0||r[P].type==3)&&(D||r[P].va!=-1)){if(P>=j)return N;
N++}return N};R.b.Pr=function(r,j){var D=-1,N=0;for(var P=0;P<r.length;P++){if((r[P].type==0||r[P].type==3)&&r[P].va!=-1)D++;
if(D==j)N++}return N};R.b.alO=function(r){var j=180;for(var P=0;P<r.length;P++){if(r[P].type!=0&&r[P].type!=3)continue;
var D=r[P].length;if(D<3)continue;for(var N=0;N<D;N++){var b=r[P+1+(N-1+D)%D],Y=r[P+1+N],x=r[P+1+(N+1)%D],C=Y.Q,w=Y.IR.gy(C)?b.TU:Y.IR,q=Y.TU.gy(C)?x.IR:Y.TU;
if(C.gy(w)||C.gy(q))continue;var u=w.x-C.x,h=w.y-C.y,z=q.x-C.x,O=q.y-C.y,w=Math.atan2(w.y-C.y,w.x-C.x)*180/Math.PI,q=Math.atan2(q.y-C.y,q.x-C.x)*180/Math.PI,g=Math.abs(q-w)%360,t=g>180?360-g:g;
if(t<j)j=t}}return j*Math.PI/180};R.b.BK=function(r){var j=r.segments?[r]:r.children,D=[];for(var P=0;
P<j.length;P++){var N=j[P],b=N.segments,Y=N.closed?0:3,x=D.length,C=null;if(b.length<=1)continue;D.push({type:Y,length:b.length,va:0,fU:2});
for(var w=0;w<b.length;w++){var q=b[w],u=new gJ(q.handleIn.x,q.handleIn.y),h=new gJ(q.handleOut.x,q.handleOut.y),z=new gJ(q.point.x,q.point.y),O={type:Y+1,IR:z.add(u),Q:z,TU:z.add(h)};
if(C==null)C=O;D.push(O);if(w+1==b.length&&gJ.tA(C.Q,O.Q)<1e-5){D.pop();D[x].length--;C.IR=O.IR;if(Y==3)for(var g=x;
g<D.length;g++)D[g].type-=3}}}return D};R.b.Om=function(r){R.b.OK();var j=[],D,N=new paper.Color(1,0,0);
function b(O,C){O.remove();O.closed=!C;O.fillRule="evenodd"}for(var P=0;P<r.length;P++){if(r[P].type>5)continue;
var Y=r[P].length,x;if(P==r.length-1)break;var C=r[P].type==3;if(P==2){if(!R.b.h2(r))x="subtract";else x="unite"}else{if(r[P].va==0)x="exclude";
if(r[P].va==1)x="unite";if(r[P].va==2)x="subtract";if(r[P].va==3)x="intersect"}if(r[P].va!=-1){D=new paper.CompoundPath;
j.push([D,x]);D.fillRule="evenodd";D.fillColor=N}var w=[];for(var q=0;q<Y;q++){var u=r[P+1+q],h=u.IR.I5(u.Q),z=u.TU.I5(u.Q);
w.push([[u.Q.x,u.Q.y],[h.x,h.y],[z.x,z.y]])}var O=new paper.Path(w);b(O,C);D.addChild(O);P+=Y}return j};
R.b.dL=function(r){for(var P=0;P<r.length;P++){var j=r[P];if(j.Q==null)continue;if(!j.Q.gy(j.IR)||!j.Q.gy(j.TU))return!1}return!0};
R.b.a4g=function(r){if(r.length<=5)return 0;var j=0,D=r.length-3-1;for(var P=0;P<D;P++){var N=r[3+P],b=r[3+P+1];
if(N.type==0||b.type==0)return 0;j+=(b.Q.x-N.Q.x)*(N.Q.y+b.Q.y)}j+=(r[3].Q.x-r[3+D].Q.x)*(r[3+D].Q.y+r[3+1].Q.y);
return-j*.5};R.b.di=function(r){var j=r[2],D=!1;if(r.length==2)D=r[1].all==0;else if(r[1].all==1){if(j.va==1||j.va==3)D=!0;
else D=!1}else{if(j.va==1||j.va==3||j.va==0)D=!0;else D=!1}return D};R.b.h2=function(r){var j=R.b.di(r);
for(var P=3;P<r.length;P++)if(r[P].va==3)j=!0;return j};R.b.a4J=0;R.b.YH=0;R.b.a1h=0;R.b.aoV=function(r,j,D,N){if(D.jE())return;
var b=D.Z(),i=16384;R.b.a4J+=b;if(b>R.b.YH){R.b.YH=b}var Y=D.d,x=D.r;if(N==null&&R.b.dL(r)){var C=!0;
for(var P=2;P<r.length;)if(r[P].length==2)P+=3;else{C=!1;break}if(C){return}if(R.b.eY(r)){j.fill(255);
var w=R.b.sl(r);if(w.Z()!=b){var q=1-(w.x-D.x),u=1-(w.y-D.y),h=1-(D.x+D.d-(w.x+w.d)),z=1-(D.x+D.r-(w.x+w.r)),O=~~(q*255),g=~~(h*255),t=~~(u*255),$=~~(z*255);
j.fill(t,0,Y);j[0]=~~(q*u*255);j[Y-1]=~~(h*u*255);for(var P=Y;P<b;P+=Y){j[P]=O;j[P+Y-1]=g}j.fill($,(x-1)*Y,x*Y);
j[b-Y]=~~(q*z*255);j[b-1]=~~(h*z*255)}return}}var A=Math.ceil(Y/i),H=Math.ceil(x/i),F=Math.ceil(Y/A),T=Math.ceil(x/H),_=Date.now();
for(var V=0;V<H;V++)for(var X=0;X<A;X++){var o=X*F,c=V*T,E=F,f=T,d=R.NH(E,f);if(!R.b.di(r))d.fillRect(0,0,E,f);
R.b.N0(r,d,-D.x-o,-D.y-c,N);var s=new Uint8Array(d.getImageData(0,0,E,f).data.buffer);if(E==Y&&f==x)R.ni(s,j,3);
else R.Wv(s,new bf(o,c,E,f),j,new bf(0,0,Y,x))}};R.b.N0=function(r,j,D,N,b){if(b!=null){var Y=!1,x=!1,C=0,w=!1;
for(var P=0;P<r.length;P++){var q=r[P].va;if(q!=null){C++;if(q==-1)Y=!0;if(q>0)x=!0;if(r[P].type==0)w=!0}}if(!Y&&C<20&&(b==null||w))r=R.b.CO(r)}for(var P=0;
P<r.length;P++){if(r[P].type>5)continue;var u=r[P].length;if(u==0)continue;if(P==r.length-1)break;var h=r[P].type==3,q=r[P].va;
if(q!=-1&&b==null){var z=["xor","source-over","destination-out","source-in"][q];j.globalCompositeOperation=z}if(r[P].va!=-1){j.beginPath();
if(b){var O=b.strokeStyleLineWidth.v.val,g=b.strokeStyleLineAlignment.v.strokeStyleLineAlignment,t=b.strokeStyleLineCapType.v.strokeStyleLineCapType,$=b.strokeStyleLineJoinType.v.strokeStyleLineJoinType,i=b.strokeStyleMiterLimit.v,A=[],H=b.strokeStyleLineDashSet.v;
for(var F=0;F<H.length;F++)A.push(H[F].v.val*O);j.setLineDash(A);j.lineCap=["butt","round","square"][hz._O.DD.indexOf(t)];
j.lineJoin=["miter","round","bevel"][hz._O.join.indexOf($)];j.lineWidth=hz._O.io.indexOf(g)==1?O:O*=2;
j.miterLimit=i}}R.b.a9O(j,r,P+1,u,D,N,h);if(h){}else j.closePath();if(r[P+1+u]==null||r[P+1+u].va!=-1){if(b)j.stroke();
else j.fill("evenodd")}P+=u}j.globalCompositeOperation="source-over"};R.b.a9O=function(r,j,P,D,N,b,Y){var x=j[P],C=null;
r.moveTo(x.Q.x+N,x.Q.y+b);for(var w=P;w<P+D-1;w++){x=j[w];C=j[w+1];r.bezierCurveTo(x.TU.x+N,x.TU.y+b,C.IR.x+N,C.IR.y+b,C.Q.x+N,C.Q.y+b)}if(!Y){x=j[w];
C=j[P];r.bezierCurveTo(x.TU.x+N,x.TU.y+b,C.IR.x+N,C.IR.y+b,C.Q.x+N,C.Q.y+b)}};R.b.r1=function(r,j,D){var N=[],b=D?4:1,Y=!1;
if(j!=null)for(var P=0;P<j.length;P++)if(j[P]!=0){Y=!0;break}if(j!=null&&Y){var x=R.K.arz(r,j),C=x.length/6;
for(var P=0;P<C;P++){var w=P*6,q=(P-1+C)%C*6,u=x[w],h=x[w+1],z=x[w+2],O=x[w+3],g=x[q+4],t=x[q+5];N.push({type:b,IR:new gJ(g,t),Q:new gJ(u,h),TU:new gJ(z,O)})}}else{for(var P=0;
P<r.length;P+=2){var $=new gJ(r[P],r[P+1]);N.push({type:b,IR:$.clone(),Q:$.clone(),TU:$.clone()})}}return N};
R.b.kU=function(r,j){R.b.OK();var D=new paper.Path;D.remove();var N=r.length-1,b=Math.sqrt((r[N-1]-r[0])*(r[N-1]-r[0])+(r[N]-r[1])*(r[N]-r[1]))<3;
D.closed=b;for(var P=0;P<r.length;P+=2)D.add(new paper.Point(r[P],r[P+1]));D.simplify(j);var Y=[{type:6},{type:8,all:0}];
Y=Y.concat(R.b.BK(D));return Y};R.b.Pl=function(r,j,D){var N=r[j].length,b=r[j].type,Y=0,x=r.slice(j+1,j+1+N);
for(var P=0;P<N;P++){var C=D[(P-1+N)%N],w=D[(P+1+N)%N],q=D[P];if(q!=0){var u=x[(P-1+N)%N].Q,h=x[(P+0+N)%N].Q,z=x[(P+1+N)%N].Q,O=gJ.tA(h,u),g=gJ.tA(h,z),t=R.K.G9(u.x,u.y,h.x,h.y,z.x,z.y,q)[0],$=Math.min(t,C==0?O:O/2,w==0?g:g/2);
q*=$/t;var i=R.K.GZ(u.x,u.y,h.x,h.y,z.x,z.y,q),A={type:b+1,IR:new gJ(i[2],i[3]),Q:new gJ(i[2],i[3]),TU:new gJ(i[4],i[5])},H={type:b+1,IR:new gJ(i[6],i[7]),Q:new gJ(i[8],i[9]),TU:new gJ(i[8],i[9])};
r.splice(j+Y+1,1,A,H);Y++;r[j].length++}Y++}};R.b.dL=function(r){for(var P=0;P<r.length;P++){var j=r[P],D=j.type;
if(D==1||D==2||D==4||D==5)if(!j.Q.gy(j.IR)||!j.Q.gy(j.TU))return!1}return!0};R.b.eY=function(r){if(r.length!=7||!R.b.dL(r))return!1;
for(var P=0;P<4;P++){var j=!0;for(var D=0;D<4;D++){var N=r[3+(P+D&3)],b=r[3+(P+D+1&3)];if(N.Q.x!=b.Q.x&&N.Q.y!=b.Q.y)j=!1}if(j)return!0}return!1};
R.b.Lu={};R.b.Lu.xo=function(r,j,D){var N=[{type:6},{type:8,all:0}],b=null;N.push({type:D?3:0,va:1,length:0,J8:0,wB:0,fU:1});
if(j==0)b==null;else if(j instanceof Array)b=j;else{b=[];for(var P=0;P<r.length;P+=2)b.push(j)}N=N.concat(R.b.r1(r,b,D));
N[2].length=N.length-3;return N};R.b.Lu.a0V=function(r,j,D,N,b){var Y=[],x=[],C=.553,w=1,q=-1;Y.push({type:1,IR:new gJ(0,C),Q:new gJ(0,0),TU:new gJ(0,-C)});
b+=2;for(var P=0;P<b;P++){var u={type:1};if(P==0){u.Q=new gJ(1,-1);u.IR=new gJ(1-C,-1);u.TU=new gJ(1+C,-1)}else{var h=-(P+2)*Math.PI/2,z=1+((P&1)==1?P-1:P),O=Math.sin(h),g=Math.cos(h);
w+=z*(O-g);q+=z*(g+O);u.Q=new gJ(w,q);u.IR=new gJ(w+z*g*C,q-z*O*C);if((P&1)==1)z+=2;u.TU=new gJ(w-z*g*C,q+z*O*C)}var t={type:1,IR:new gJ(-u.TU.x,-u.TU.y),Q:new gJ(-u.Q.x,-u.Q.y),TU:new gJ(-u.IR.x,-u.IR.y)};
Y.push(u);if(P<b-2)x.push(t)}x.reverse();Y=Y.concat(x);var $=[{type:6},{type:8,all:0}];$.push({type:0,va:1,length:Y.length,J8:0,wB:0,fU:1});
$=$.concat(Y);var i=new j9(D/b,0,0,D/b,0,0);i.rotate(N);i.translate(r,j);R.b.ho($,i);return $};R.b.Lu.Rect=function(r,j,D,N,b){var Y=[r,j,r+D,j,r+D,j+N,r,j+N];
return R.b.Lu.xo(Y,b)};R.b.Lu.Y5=function(r,j,D,N,b,Y){var x=[],C=2*Math.PI/b;for(var P=0;P<b;P++)x.push(Math.cos(P*C),Math.sin(P*C));
var w=new j9(D,0,0,D,0,0);w.rotate(N);w.translate(r,j);R.K.F(x,w,x);return R.b.Lu.xo(x,Y)};R.b.Lu.$b=function(r,j,D,N,b,Y,x){var C=[],w=Math.PI/b;
for(var P=0;P<b*2;P++){var q=(P&1)==0?1:x;C.push(q*Math.cos(P*w),q*Math.sin(P*w))}var u=new j9(D,0,0,D,0,0);
u.rotate(N);u.translate(r,j);R.K.F(C,u,C);return R.b.Lu.xo(C,Y)};R.b.Lu.Q3=function(r,j,D,N,b){return R.b.Lu.Mj(0,r,j,D,N,b)};
R.b.Lu.ahZ=function(r,j,D,N,b,Y){return R.b.Lu.Mj(1,r,j,D,N,b,Y)};R.b.Lu.Mj=function(r,j,D,N,b,Y,x){var C=Math.sqrt((N-j)*(N-j)+(b-D)*(b-D)),w;
Y/=2;if(r==0)w=[-Y,0,Y,0,Y,C,-Y,C];else{var q=Y*2*x*1.3/1.5,u=Y*x;w=[-Y,0,Y,0,Y,C-q,u,C-q,0,C,-u,C-q,-Y,C-q]}var h=new j9(1,0,0,1,0,0);
h.rotate(Math.atan2(-b+D,N-j)+Math.PI/2);h.translate(j,D);R.K.F(w,h,w);return R.b.Lu.xo(w,0)};R.b.Lu.Co=function(r,j,D,N){var b=[{type:6},{type:8,all:0}],h=.553;
b.push({type:0,va:1,length:4,J8:0,wB:0,fU:1});var Y=r,x=j,C=r+D,w=j+N,r=(Y+C)/2,j=(x+w)/2,q=(Y-C)/2,u=(x-w)/2;
b.push({type:1,IR:new gJ(r-h*q,j-u),Q:new gJ(r,j-u),TU:new gJ(r+h*q,j-u)});b.push({type:1,IR:new gJ(r+q,j-h*u),Q:new gJ(r+q,j),TU:new gJ(r+q,j+h*u)});
b.push({type:1,IR:new gJ(r+h*q,j+u),Q:new gJ(r,j+u),TU:new gJ(r-h*q,j+u)});b.push({type:1,IR:new gJ(r-q,j+h*u),Q:new gJ(r-q,j),TU:new gJ(r-q,j-h*u)});
return b};R.b.Lu.afv=function(r,j,D,N,b){var Y=[{type:6},{type:8,all:0}];Y.push({type:3,va:1,length:5,J8:0,wB:0,fU:1});
var x=(b-N)/4;for(var P=0;P<5;P++){var C=P*x,w=Math.cos(C),q=Math.sin(C),u=.553*(x/(Math.PI/2)),h=q*u,z=-w*u,O=new gJ(w,q);
Y.push({type:4,IR:P==0?O.clone():new gJ(w+h,q+z),Q:O,TU:P==4?O.clone():new gJ(w-h,q-z)})}var g=new j9;
g.rotate(-N);g.scale(D,D);g.translate(r,j);R.b.ho(Y,g);return Y};R.s_={};R.s_.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
R.s_.JM=function(r){var j=r.warpStyle.v.warpStyle;if(j=="warpNone")return!0;else if(j=="warpCustom"){var D=!1,N=r.customEnvelopeWarp.v.meshPoints.v.arr,b=N[0].arr,Y=N[1].arr;
for(var P=0;P<4;P++)for(var x=0;x<4;x++){if(Math.abs(b[P]-b[x*4+P])>1||Math.abs(Y[P*4]-Y[P*4+x])>1)D=!0}return!D}else return r.warpValue.v==0&&r.warpPerspective.v==0&&r.warpPerspectiveOther.v==0};
R.s_.O=function(r){var j={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(r){j.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:r.y}},Left:{t:"UntF",v:{type:"#Pxl",val:r.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:r.y+r.r}},Rght:{t:"UntF",v:{type:"#Pxl",val:r.x+r.d}}}};
j.uOrder={t:"long",v:4};j.vOrder={t:"long",v:4}}return j};R.s_.anO=function(r,j,D,N){for(var P=0;P<r.length;
P+=2){var b=r[P],Y=r[P+1],x=(b-j.x)/j.d,C=(Y-j.y)/j.r,w=(1-D)/2,q=1-w,u=w+x*(q-w);C=.5+(C-.5)*u*2;var h=(1-N)/2,z=1-h,O=h+C*(z-h);
x=.5+(x-.5)*O*2;b=j.x+x*j.d;Y=j.y+C*j.r;r[P]=b;r[P+1]=Y}};R.s_.g9=function(r,j){var D=[],N=[];for(var P=0;
P<r.length;P+=2){D.push(r[P]);N.push(r[P+1])}var b=[];b.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:D});
b.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:N});j.warpStyle.v.warpStyle="warpCustom";j.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:b}}}}};
R.s_.MM=function(r,j){if(j==null){var D=r.bounds.v,N=D.Left.v.val,b=D.Rght.v.val,Y=D.Top.v.val,x=D.Btom.v.val;
j=new bf(N,Y,b-N,x-Y)}if(j.jE())j.d=j.r=1;var C=[],w=r.warpStyle.v.warpStyle;if(w=="warpCustom"){var q=r.customEnvelopeWarp.v.meshPoints.v.arr,u=q[0].arr,h=q[1].arr;
for(var P=0;P<16;P++)C.push(u[P],h[P])}else C=R.s_.s_(j,w,r.warpRotate.v.Ornt=="Hrzn",r.warpValue.v/100,r.warpPerspective.v/100,r.warpPerspectiveOther.v/100);
return C};R.s_.s_=function(r,j,D,N,b,Y){var x=R.rX.O(r.x,r.y,r.d,r.r);if(j=="warpNone")return x;var C=JSON.parse(JSON.stringify(r)),w=new j9;
if(!D){w.translate(-r.x,-r.y);w.rotate(-Math.PI/2);w.translate(r.r,0);R.K.F(x,w,x);r=new bf(0,0,r.r,r.d);
x=R.rX.l8(x,!1)}R.s_.a7r(x,r,j,N,b,Y);if(!D){x=R.rX.l8(x,!0);r=C;w.gq();R.K.F(x,w,x)}if(N==0)R.s_.anO(x,r,b,Y);
else{var w=new j9(1/r.d,0,0,1/r.r,-r.x,-r.y);w.translate(-.5,-.5);R.K.F(x,w,x);R.s_.a5t(x,Y,b);w.gq();
R.K.F(x,w,x)}return x};R.s_.a7r=function(r,j,D,N,b,Y){for(var P=0;P<4;P++){for(var x=0;x<4;x++){var C=2*(4*P+x),w=r[C]-j.x,q=r[C+1]-j.y,u=w,h=q;
if(N!=0){var z=j.d/2,O=j.r/2;u-=z;h-=O;var g=u,t=u,$=-O,i=O,A=Math.abs(N),H=Math.tan((1-A)*Math.PI/2),F=Math.sqrt(H*H+1),T=Math.atan2(1,H),_=u/z*T,V=z*F,X=z*F+j.r,o=Math.cos(T),c=Math.sin(T),E=R.s_.a2S(o,c),f=R.s_.alu(o,c),d=-H*z+E*V;
if(D=="warpArc"){g=Math.sin(_)*X;$=H*z-Math.cos(T)*X+O;t=Math.sin(_)*V;i=H*z-Math.cos(T)*V+O;if(x==1||x==2){g=x==1?-f*X:f*X;
t=x==1?-f*V:f*V;$=H*z+O-E*X;i=H*z+O-E*V}if(N<0){var s=g;g=t;t=s;s=$;$=-i;i=-s}}if(D=="warpArcLower"){if(x==1||x==2){t=x==1?-f*V:f*V;
i=N<0?O-d:O+d}}if(D=="warpArcUpper"||D=="warpArch"||D=="warpBulge"){if(x==1||x==2){g=x==1?-f*V:f*V;$=N<0?-O+d:-O-d}if(D=="warpArch"){t=g;
i=$+2*O}if(D=="warpBulge"){t=g;i=-$}}if(D=="warpFish"||D=="warpFlag"||D=="warpWave"){if(x==1){$-=N*4*O;
i+=N*4*O}if(x==2){$+=N*4*O;i-=N*4*O}if(D=="warpFlag"||D=="warpWave")$=i-2*O}if(D=="warpRise"){if(x<2)$=-O+N*O*4;
i=$+2*O}var B=(h+O)/j.r;u=g+B*(t-g);h=$+B*(i-$);if(D=="warpWave"){if(P==0)h=-O;if(P==3)h=O;if(P==1||P==2)h=2*O*(P/3-.5)*(1/3)+h*(2/3)}if(D=="warpFisheye"){if((P==1||P==2)&&(x==1||x==2)){u=u+4*u*N;
h=h+4*h*N}}if(D=="warpInflate"){var a=2/3;if((P==1||P==2)&&(x==1||x==2)){u=u+.5*u*N;h=h+.5*h*N}else if(P==1||P==2)u=u+a*u*N;
else if(x==1||x==2)h=h+a*h*N}if(D=="warpSqueeze"){var a=2/3;if((P==1||P==2)&&(x==1||x==2)){if(N>0)u=u-a*u*N;
else h=h+a*h*N}else if(P==1||P==2)u=u-a*u*N;else if(x==1||x==2)h=h+a*h*N}if(D=="warpTwist"){if((P==1||P==2)&&(x==1||x==2)){var U=N*Math.PI/2,F=1+Math.abs(N)*2,M=u*Math.cos(U)-h*Math.sin(U),W=u*Math.sin(U)+h*Math.cos(U);
u=M*F;h=W*F}}if(D=="warpShellLower"||D=="warpShellUpper"){if(D=="warpShellUpper"){P=3-P;h=-h}if(P>2||P==2&&(x==0||x==3)){if(N>0){var n=V+P/3*2*O;
u=Math.sin(_)*n;h=-H*z-O+Math.cos(_)*n;if(x==1||x==2){u=x==1?-f*n:f*n;h=-H*z-O+E*n}}else{if((x==1||x==2)&&P==3){u=x==1?-f*V:f*V;
h=H*z-E*V+O}else if(P==2){h=O-O*(2/3)*Math.cos(_);u=u+O*(2/3)*Math.sin(_)}}}if(D=="warpShellUpper"){P=3-P;
h=-h}}u+=z;h+=O}w=u,q=h;r[C]=w+j.x;r[C+1]=q+j.y}}};R.s_.a5t=function(r,j,D){var N=[];for(var b=0;b<4;
b++)N.push(1-D+b/3*2*D);var Y=[];for(var b=0;b<4;b++)Y.push(1-j+b/3*2*j);var x=[0,0,0,0],C=[0,0,0,0];
for(var P=0;P<4;P++)for(var b=0;b<4;b++){var w=2*(4*P+b),q=r[w],u=r[w+1];x[b]+=q/4;C[b]+=u/4}for(var P=0;
P<4;P++)for(var b=0;b<4;b++){var h=N[b],w=2*(4*P+b),q=r[w],u=r[w+1],z=x[b],O=C[b];r[w]=z+h*(q-z);r[w+1]=O+h*(u-O)}var g=r.slice(0);
for(var P=0;P<4;P++)for(var b=1;b<3;b++){var w=2*(4*P+b),q=r[w],u=r[w+1],t=w+(b==1?-2:2),$=r[t],i=r[t+1];
r[w]=q-$;r[w+1]=u-i}var A=r[0],H=r[1],F=r[8],T=r[9],_=r[16],V=r[17],X=r[24],o=r[25],c=r[6],E=r[7],f=r[14],d=r[15],s=r[22],B=r[23],a=r[30],U=r[31],M=c-A,W=E-H,n=f-F,e=d-T,Q=s-_,J=B-V,m=a-X,p=U-o;
for(var P=0;P<4;P++){var L=2*P*4,S=0,eJ=0,hy=P==1?.33:.66,v=1-hy;if(P==0){S=M;eJ=W}if(P==1){S=v*M+hy*-m;
eJ=v*W+hy*-p}if(P==2){S=v*M+hy*-m;eJ=v*W+hy*-p}if(P==3){S=-m;eJ=-p}r[L]=r[L]+S/2;r[L+1]=r[L+1]+eJ/2;
r[L+6]=r[L+6]-S/2;r[L+7]=r[L+7]-eJ/2}for(var P=0;P<4;P++)for(var b=1;b<3;b++){var w=2*(4*P+b),q=r[w],u=r[w+1],t=w+(b==1?-2:2),$=r[t],i=r[t+1],h=2*P/3;
r[w]=$+h*q;r[w+1]=i+h*u}for(var P=1;P<3;P++)for(var b=1;b<3;b++){var w=2*(4*P+b),q=r[w],u=r[w+1],ff=P==1?-8:-16,K=P==1?16:8,jo=r[w+ff],g5=r[w+ff+1],fQ=r[w+K],iT=r[w+K+1],h=P/3;
q=(1-h)*jo+h*fQ;u=(1-h)*g5+h*iT;r[w]=q;r[w+1]=u}R.K.ov(g,r,r,j)};R.s_.a2S=function(r,j){return(4-r)*(1/3)};
R.s_.alu=function(r,j){return(1-r)*(3-r)/(3*j)};R.FL={};R.FL.alZ=function(r,j,D,N,b,Y,x,C,w,q){for(var u=0;
u<C;u++)for(var h=0;h<x;h++){var z=3*(u*x+h),O=u+Y,g=h+b,t=r[O*j+g];N[z]=t;N[z+1]=t;N[z+2]=t}};R.FL.X$=function(r,j,D,N,b,Y,x,C,w,q){var u=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],h=1/w,z=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],O=new Uint32Array(6);
for(var g=0;g<C;g++){for(var t=0;t<x;t++){var $=3*(g*x+t),i=g+Y,A=t+b;O[0]=0;O[1]=0;O[2]=0;O[3]=0;O[4]=0;
O[5]=0;for(var P=0;P<16;P+=2){var H=A+z[P],F=i+z[P+1],T=H-w*~~(H*h),_=F-w*~~(F*h),V=q[_*w+T];O[V]+=r[F*j+H];
O[V+3]++}var H=A,F=i,T=H-w*~~(H*h),_=F-w*~~(F*h),V=q[_*w+T];O[V]=r[i*j+A];O[V+3]=1;N[$]=O[0]*u[O[3]];
N[$+1]=O[1]*u[O[4]];N[$+2]=O[2]*u[O[5]]}}};R.FL.S0=function(r,j,D){for(var P=0;P<D;P+=2)r[j+P]=r[j+P+1];
j=j+D;for(var P=0;P<D;P+=2)r[j+P+1]=r[j+P]};R.FL.A4=function(r,j,D,N){for(var P=0;P<N;P+=2){var b=j+P*D;
r[b]=r[b+D];r[b+D+1]=r[b+1]}};R.FL.dn=function(r,j,D,N,b,Y){var x=N[b],C=N[b+1],w=N[Y],q=N[Y+1],u=C+w>>>1;
r[j]=r[j+3]=r[D]=r[D+3]=x;r[j+1]=u;r[j+4]=C;r[D+1]=w;r[D+4]=u;r[j+2]=r[j+5]=r[D+2]=r[D+5]=q};R.FL.a3q=function(r,j,D,N,b,Y){var x=Y*3;
for(var P=0;P<Y;P+=2){var C=j+P,w=b+P*3;R.FL.dn(N,w,w+x,r,C,C+D)}};R.FL.a9Q=function(r,j,D,N,b,Y,x){var C=Y*3;
for(var P=0;P<x;P+=2){var w=j+P*D,q=b+P*Y*3;R.FL.dn(N,q,q+C,r,w,w+D)}};R.FL.nC=function(r,P,j){var D=r[P-j-j],N=r[P-j],b=r[P-2],Y=r[P-1],x=r[P],C=r[P+1],w=r[P+2],q=r[P+j],u=r[P+j+j],h=Math.abs(N-q),z=Math.abs(Y-C),O=Math.abs(x-D)*2+h,g=Math.abs(x-w)*2+z,t=Math.abs(x-b)*2+z,$=Math.abs(x-u)*2+h,i=Math.min(O,Math.min(g,Math.min(t,$)));
if(i==O)return N*3+q+x-D>>2;if(i==g)return C*3+Y+x-w>>2;if(i==t)return Y*3+C+x-b>>2;return q*3+N+x-u>>2};
R.FL.wE=function(r,j,D,N,b){if(r<j&&j<D||r>j&&j>D)return~~(.5+N+(b-N)*(j-r)/(D-r));else return(N+b>>1)+(j+j-r-D>>2)};
R.FL.jZ=function(r,j,P,D){var N=j[P-D-1],b=j[P-D+1],Y=j[P],x=j[P+D-1],C=j[P+D+1],w=r[P-D-1],q=r[P-D+1],u=r[P],h=r[P+D-1],z=r[P+D+1],O=Math.abs(q-h)+Math.abs(r[P-D-D+2]-u)+Math.abs(u-r[P+D+D-2])+Math.abs(b-Y)+Math.abs(Y-x),g=Math.abs(w-z)+Math.abs(r[P-D-D-2]-u)+Math.abs(u-r[P+D+D+2])+Math.abs(N-Y)+Math.abs(Y-C);
if(O<g)return R.FL.wE(b,Y,x,q,h);else return R.FL.wE(N,Y,C,w,z)};R.FL.MW=function(r,j,D,N,b,Y){r[j+0]=D[b];
r[j+1]=N[b];r[j+2]=R.FL.jZ(D,N,b,Y)};R.FL.n8=function(r,j,D,N,b,Y){var x=N[b];r[j+0]=R.FL.wE(N[b-1],x,N[b+1],D[b-1],D[b+1]);
r[j+1]=x;r[j+2]=R.FL.wE(N[b-Y],x,N[b+Y],D[b-Y],D[b+Y])};R.FL.aM=function(r,j,D,N,b,Y){var x=N[b];r[j+0]=R.FL.wE(N[b-Y],x,N[b+Y],D[b-Y],D[b+Y]);
r[j+1]=x;r[j+2]=R.FL.wE(N[b-1],x,N[b+1],D[b-1],D[b+1])};R.FL.aW=function(r,j,D,N,b,Y){r[j+0]=R.FL.jZ(D,N,b,Y);
r[j+1]=N[b];r[j+2]=D[b]};R.FL.arU=function(r,j,D,N,b,Y,x,C,w){var q=Date.now(),u=2,h=j-2,z=2;if((b&1)==1){u++;
h--}var O=D-2;if((Y&1)==1){z++;O--}if(w==1||w==3){u++;h--}var g=r.slice(0);R.FL.S0(g,0,j);R.FL.A4(g,0,j,D);
R.FL.A4(g,j-2,j,D);R.FL.S0(g,(D-2)*j,j);for(var t=z;t<O;t+=2)for(var $=u;$<h;$+=2){var P=t*j+$,i=R.FL.nC(g,P,j),A=R.FL.nC(g,P+j+1,j);
g[P]=Math.max(0,i);g[P+j+1]=Math.max(0,A)}var H=x,F=C;if(Y+C==D){F-=2;R.FL.a3q(r,(D-2)*j+b,j,N,(C-2)*x*3,x)}if(b+x==j){H-=2;
R.FL.a9Q(r,Y*j+b+x-2,j,N,(x-2)*3,x,C)}if(w==0)for(var t=0;t<F;t+=2)for(var $=0;$<H;$+=2){var T=(t+Y)*j+$+b,_=(t*x+$)*3;
R.FL.MW(N,_,r,g,T,j);R.FL.n8(N,_+3,r,g,T+1,j);T+=j;_+=3*x;R.FL.aM(N,_,r,g,T,j);R.FL.aW(N,_+3,r,g,T+1,j)}else if(w==1)for(var t=0;
t<F;t+=2)for(var $=0;$<H;$+=2){var T=(t+Y)*j+$+b,_=(t*x+$)*3;R.FL.n8(N,_,r,g,T,j);R.FL.MW(N,_+3,r,g,T+1,j);
T+=j;_+=3*x;R.FL.aW(N,_,r,g,T,j);R.FL.aM(N,_+3,r,g,T+1,j)}else if(w==2)for(var t=0;t<F;t+=2)for(var $=0;
$<H;$+=2){var T=(t+Y)*j+$+b,_=(t*x+$)*3;R.FL.aW(N,_,r,g,T,j);R.FL.aM(N,_+3,r,g,T+1,j);T+=j;_+=3*x;R.FL.n8(N,_,r,g,T,j);
R.FL.MW(N,_+3,r,g,T+1,j)}else if(w==3)for(var t=0;t<F;t+=2)for(var $=0;$<H;$+=2){var T=(t+Y)*j+$+b,_=(t*x+$)*3;
R.FL.aM(N,_,r,g,T,j);R.FL.aW(N,_+3,r,g,T+1,j);T+=j;_+=3*x;R.FL.MW(N,_,r,g,T,j);R.FL.n8(N,_+3,r,g,T+1,j)}};
R.raw={};R.raw.aqd=function(r){var j=Date.now(),D=r.width,N=r.height,b=0,Y=0,x=D,C=N;if(r.t50829){var w=r.t50829;
b=w[1];Y=w[0];x=w[3];C=w[2]}if(r.t50719){var q=r.t50719;b+=q[0]>>1<<1;Y+=q[1]>>1<<1}if(r.t50720){var u=r.t50720;
x=b+u[0];C=Y+u[1]}var h=x-b,z=C-Y,O=R.raw.as8(r),g=r.t33422,t=r.t33421;if(t){var u=t[0],$=g.slice(0);
for(var i=0;i<u;i++)for(var A=0;A<u;A++){var H=(A+(b&1))%u,F=(i+(Y&1))%u;$[i*u+A]=g[F*u+H]}g=$}if(r.t277[0]==1)R.raw.ae1(O,D,N,r,g);
R.raw.zx(2,r,O,D,N);var T=new Float32Array(h*z*3);if(r.t277[0]==1){if(t==null){R.FL.alZ(O,D,N,T,b,Y,h,z)}else if(t.length!=2||t[0]!=2||t[1]!=2){console.log("Unknown CFA pattern size",t);
R.FL.X$(O,D,N,T,b,Y,h,z,t[0],g)}else{var _=r.t33422.join(","),V=0;if(_=="0,1,1,2")V=0;else if(_=="1,0,2,1")V=1;
else if(_=="2,1,1,0")V=2;else if(_=="1,2,0,1")V=3;else throw"Unknown CFA pattern "+_;if((h&1)!=0||(z&1)!=0)throw"e";
R.FL.arU(O,D,N,T,b,Y,h,z,V)}}else{for(var i=0;i<z;i++)for(var A=0;A<h;A++){var X=((i+Y)*D+A+b)*3,o=(i*h+A)*3;
T[o+0]=O[X+0];T[o+1]=O[X+1];T[o+2]=O[X+2]}}var c=T,E=T.length,f=R.raw.xy(r),d=1/f;for(var P=0;P<E;P+=3){T[P]=c[P]*d;
T[P+1]=c[P+1]*d;T[P+2]=c[P+2]*d}R.raw.zx(3,r,T,h,z);var s=r._M,B=h,a=z;if(s==1||s==9){}else{var U=R.raw.t7(s,h,z),o=0;
B=U[0];a=U[1];var M=T.slice(0);for(var i=0;i<a;i++)for(var A=0;A<B;A++){var W=U[2]*A+U[3]*i+U[4],n=U[5]*A+U[6]*i+U[7],X=(n*h+W)*3;
T[o]=M[X];T[o+1]=M[X+1];T[o+2]=M[X+2];o+=3}}return{Iz:T,Nm:B,gS:a}};R.raw.t7=function(r,j,D){var N=j,b=D;
if(!1){}else if(r==2)return[j,D,-1,0,j-1,0,1,0];else if(r==3)return[j,D,-1,0,j-1,0,-1,D-1];else if(r==4)return[j,D,1,0,0,0,-1,D-1];
else if(r==5)return[D,j,0,1,0,1,0,0];else if(r==6)return[D,j,0,1,0,-1,0,D-1];else if(r==7)return[D,j,0,-1,j-1,-1,0,D-1];
else if(r==8)return[D,j,0,-1,j-1,1,0,0];else throw"unknown orientation "+r};R.raw.ae1=function(r,j,D,N,b){var Y=Date.now(),d=0,a=0;
if(R.raw.xy(N)>4e4){for(var P=0;P<r.length;P++)r[P]>>=1;var x=["t50714","t50715","t50712","t50717"];
for(var P=0;P<x.length;P++){var C=N[x[P]];if(C)for(var w=0;w<C.length;w++)C[w]>>>=1}console.log("remapping to lower bit depth")}var q=~~Math.sqrt(b.length),u=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],h=[];
for(var z=0;z<q;z++)for(var O=0;O<q;O++){var P=z*q+O,g=b[P],t=4,$=4,i=8,A=0,H=0;for(var w=0;w<18;w+=2){var F=(q+O+u[w])%q,T=(q+z+u[w+1])%q,_=b[T*q+F];
if(_==g){}else if(t==4){t=_;A=w}else if($==4&&_!=t){$=_;H=w;break}}if($<t){var V=$;$=t;t=V;V=H;H=A;A=V}if(t<g){var V=t;
t=g;g=V;V=A;A=i;i=V}if($<t){var V=$;$=t;t=V;V=H;H=A;A=V}h[P*3]=u[i+1]*j+u[i];h[P*3+1]=u[A+1]*j+u[A];
h[P*3+2]=u[H+1]*j+u[H]}var X=~~(.996*R.raw.xy(N)),o=~~(.992*R.raw.xy(N)),c=N.t50728,E=[],f=[0,0,0];for(var z=1;
z<D-1;z++)for(var O=1;O<j-1;O++){var P=z*j+O,s=z%q*q+O%q,g=r[P+h[s*3+0]],t=r[P+h[s*3+1]],$=r[P+h[s*3+2]],B=Math.max(g,t,$);
if(B>X)E.push(P);else if(B>o){f[0]+=g;f[1]+=t;f[2]+=$;d++}}if(E.length==0)return;if(d/(j*D)<1e-5){console.log("not enough semi-saturated pixels",d);
f=c}if(f[1]<f[a])a=1;if(f[2]<f[a])a=2;var U=[f[0]/f[a],f[1]/f[a],f[2]/f[a]],M=r.slice(0);for(var W=0;
W<E.length;W++){var P=E[W],z=~~(P/j),O=P-z*j,s=z%q*q+O%q,n=Math.min(65535,~~(r[P+h[s*3+a]]*U[b[s]]));
if(n>M[P])M[P]=n}r.set(M)};R.raw.n3=function(r,j,D,N){var b=r.Iz,Y=Math.round(b.length/3),x=b.slice(0);
R.raw.d8(b,x,D,N);var C=Math.pow(2,N[2]),w=new Uint8Array(4e3);for(var P=0;P<4e3;P++){var q=P*(1/1e3);
q=R.hY(q);q*=C;q=R.Ef(q);q=Math.max(0,Math.min(1,q));q=R.raw.gQ.a8P(q,N[3]/100);w[P]=~~(.5+255*q)}for(var P=0;
P<Y;P++){var u=P<<2,h=u-P;j[u]=w[~~(x[h]*1e3)];j[u+1]=w[~~(x[h+1]*1e3)];j[u+2]=w[~~(x[h+2]*1e3)]}};R.raw.d8=function(r,j,D,N){var b=Math.round(r.length/3),Y=gk.a4e(N[0],N[1]),x=R.raw.as6(D,Y),C=R.ft.multiply(R.ft.Gi,x),w=Math.pow(2,D.t50730?D.t50730[0]:0);
C=R.ft.multiply(C,R.ft.mU(w,w,w));var q=R.raw.d8.agd;if(q==null){q=R.raw.d8.agd=new Float64Array(8e3);
for(var P=0;P<8e3;P++)q[P]=R.Ef(P*(1/1e3))}for(var P=0;P<b;P++){var u=P<<2,h=u-P,z=r[h],O=r[h+1],g=r[h+2],t=C[0]*z+C[1]*O+C[2]*g,$=C[4]*z+C[5]*O+C[6]*g,i=C[8]*z+C[9]*O+C[10]*g;
if(t<0)t=0;if($<0)$=0;if(i<0)i=0;j[h]=q[~~(t*1e3)];j[h+1]=q[~~($*1e3)];j[h+2]=q[~~(i*1e3)]}};R.raw.gQ={a8P:function(r,j){var D=.5-.5*Math.cos(r*3.2),N=0;
if(j>0){var b=r*.2;N=b*r+(1-b)*D}else{var Y=Math.pow(r,.33);N=(1-Y)*Y+Y*(r+(r-D)*.63)}var x=Math.abs(j);
return x*N+(1-x)*r},afj:function(r,j){var D=0;if(j>0){var N=r*1.47,b=Math.pow(r,2.4);D=Math.min(1,b*r+(1-b)*N)}else{var N=r*.68,b=Math.pow(r,3);
D=b*r*.5+(1-b)*N}var Y=Math.abs(j);return Y*D+(1-Y)*r},a30:function(r,j){var D=0;if(j>0){var N=Math.pow(r,.3),b=r;
D=(1-r)*N+r*b}else{var N=Math.pow(r,2.5),Y=r,b=r;D=Math.min(1,(1-Y)*N+Y*b)}var x=Math.abs(j);return x*D+(1-x)*r}};
R.raw.as8=function(r){var j=r.width,D=r.height,N=j*D*r.t277,b=new Uint16Array(N),Y=null,x=0;R.raw.agg(r,b);
R.raw.zx(1,r,b,j,D);if(r.t50712){Y=r.t50712;x=Y.length-1;if(Y[x]>65535)throw"too big values"}var C=R.raw.Nk(r),w=R.raw.lQ(r);
if(Y==null)for(var P=0;P<N;P++)b[P]=Math.max(0,b[P]-C);else for(var P=0;P<N;P++){var q=b[P];if(q>x)q=x;
q=Y[q];b[P]=Math.max(0,q-C)}return b};R.raw.Nk=function(r){var j=r.t50714,D=j?j[0]:0,N=r.t50715,b=r.t50716;
if(N)D+=N[0][0]/N[0][1];if(b)D+=b[0][0]/b[0][1];return Math.round(D)};R.raw.lQ=function(r){var j=null,D=0;
if(r.t50712){j=r.t50712;D=j.length-1}var N=r.t50717?r.t50717[0]:(1<<r.t258[0])-1;if(j)N=Math.min(N,j[D]);
return N};R.raw.xy=function(r){var j=R.raw.Nk(r),D=R.raw.lQ(r);return D-j};R.raw.agg=function(r,j){var D=j.length,N=r.data,b=r.t258[0];
if(b!=16&&b!=14&&b!=12&&b!=10&&b!=8)throw"Unsupported Bits Per Sample:"+b;b=Math.round(N.length*8/D);
if(b==16&&r.isLE){R.kZ(N,j);return}for(var P=0;P<D;P+=2){var Y=0,x=0,C=0;if(b==16){Y=P<<1;x=N[Y]<<8|N[Y+1];
C=N[Y+2]<<8|N[Y+3]}else if(b==14){var w=P*14,q=w>>>3,u=N[q]<<24|N[q+1]<<16|N[q+2]<<8|N[q+3];if((w&7)==0){x=u>>>18;
C=u>>>4&16383}else{x=u>>>14&16383;C=u&16383}}else if(b==12){Y=P+(P>>>1);x=N[Y]<<4|N[Y+1]>>4;C=(N[Y+1]&15)<<8|N[Y+2]}else if(b==10){var w=P*10,q=w>>>3;
if((w&7)==0){x=(N[q]<<2|N[q+1]>>6)&1023;C=(N[q+1]<<4|N[q+2]>>4)&1023}else{x=(N[q]<<6|N[q+1]>>2)&1023;
C=(N[q+1]<<8|N[q+2]>>0)&1023}}else if(b==8){Y=P;x=N[Y];C=N[Y+1]}j[P]=x;j[P+1]=C}};R.raw.zx=function(r,j,D,N,b){var Y=j["t"+[51008,51009,51022][r-1]],u=0;
if(Y==null)return;var x=N*b,C=l.q,w=l.wT,q=new Uint8Array(Y),hG=l.q(q,u);u+=4;for(var h=0;h<hG;h++){var z=C(q,u);
u+=4;var O=C(q,u);u+=4;var g=C(q,u);u+=4;var t=C(q,u);u+=4;if(!1){}else if(z==1&&r==3){var $=u,i=C(q,$);
$+=4;var A=w(q,$);$+=8;var H=w(q,$);$+=8;var F=w(q,$);$+=8;var T=w(q,$);$+=8;var _=w(q,$);$+=8;var V=w(q,$);
$+=8;$+=(i-1)*8*6;var X=w(q,$);$+=8;var o=w(q,$);$+=8;var c=X*N,E=o*b,f=Math.max(c,N-c),d=Math.max(E,b-E),s=Math.sqrt(f*f+d*d),B=1/s,a=D.slice(0);
for(var U=0;U<b;U++)for(var M=0;M<N;M++){var W=(M+.5-c)*B,n=(U+.5-E)*B,e=W*W+n*n,Q=A+H*e+F*(e*e)+T*(e*e)*e,J=_*(2*W*n)+V*(e+2*W*W),m=V*(2*W*n)+_*(e+2*n*n),p=~~(c+s*(Q*W+J)),L=~~(E+s*(Q*n+m)),S=(L*N+p)*3,eJ=(U*N+M)*3;
D[eJ]=a[S];D[eJ+1]=a[S+1];D[eJ+2]=a[S+2]}}else if(z==3&&r==3){var $=u,hy=w(q,$);$+=8;var v=w(q,$);$+=8;
var ff=w(q,$);$+=8;var K=w(q,$);$+=8;var jo=w(q,$);$+=8;var X=w(q,$);$+=8;var o=w(q,$);$+=8;var c=X*N,E=o*b,f=Math.max(c,N-c),d=Math.max(E,b-E),s=Math.sqrt(f*f+d*d),B=1/s;
for(var U=0;U<b;U++)for(var M=0;M<N;M++){var W=(M+.5-c)*B,n=(U+.5-E)*B,e=W*W+n*n,g5=1+(hy+(v+(ff+(K+jo*e)*e)*e)*e)*e,eJ=(U*N+M)*3;
D[eJ]=g5*D[eJ];D[eJ+1]=g5*D[eJ+1];D[eJ+2]=g5*D[eJ+2]}}else if(z==4&&r==1){var $=u,fQ=C(q,$);$+=4;var iT=C(q,$);
$+=4;for(var P=0;P<x;P++)if(D[P]==fQ)D[P]=D[P-2]+D[P+2]>>1}else if(z==5&&r==1){var $=u,ac=C(q,$);$+=4;
var aR=C(q,$);$+=4;var hV=C(q,$);$+=4;for(var P=0;P<aR;P++){var cu=C(q,$);$+=4;var iy=C(q,$);$+=4;var P=cu*N+iy;
D[P]=D[P-2]+D[P+2]>>1}}else if(z==7&&r==1){var $=u,gr=l.M7(q,$);$+=16;var cp=C(q,$);$+=4;var gP=C(q,$);
$+=4;var g7=C(q,$),j8=C(q,$+4);$+=8;var dg=C(q,$);$+=4;var gR=new Uint16Array(dg);for(var P=0;P<dg;P++)gR[P]=l.h$(q,$+2*P);
var em=gr.d,fr=gr.r;for(var U=0;U<fr;U+=g7)for(var M=0;M<em;M+=j8){var P=(gr.y+U)*N+(gr.x+M);D[P]=gR[D[P]]}}else if(z==9&&r==2){var $=u,gr=l.M7(q,$),b7=!0;
$+=16;var cp=C(q,$);$+=4;var gP=C(q,$);$+=4;var g7=C(q,$),j8=C(q,$+4);$+=8;var aU=C(q,$),bb=C(q,$+4);
$+=8;var fZ=w(q,$),h1=w(q,$+8);$+=16;var ar=w(q,$),gt=w(q,$+8);$+=16;var gX=C(q,$);$+=4;if(gX!=1)throw"more than one map plane";
var dK=aU*bb,ay=new Float32Array(dK);for(var hh=0;hh<dK;hh++)ay[hh]=l.Ej(q,$+hh*4);for(var hh=0;hh<dK;
hh++)if(ay[hh]!=1)b7=!1;if(!b7){var em=gr.d,fr=gr.r,cV=.9999*(bb-1)/em,bj=.9999*(aU-1)/fr;for(var U=0;
U<fr;U+=g7)for(var M=0;M<em;M+=j8){var P=(gr.y+U)*N+(gr.x+M),bW=M*cV,bu=U*bj,da=Math.floor(bW),dj=Math.floor(bu),e_=bW-da,de=bu-dj,eJ=dj*bb+da,aM=ay[eJ]*(1-e_)+ay[eJ+1]*e_,g2=ay[eJ+bb]*(1-e_)+ay[eJ+1+bb]*e_,g9=aM*(1-de)+g2*de;
D[P]=Math.max(0,Math.min(65535,~~(D[P]*g9+.5)))}}}else console.log("Unknown opcode "+z+" in OpcodeList"+r+". Length: "+t);
u+=t}};R.raw.as6=function(r,j){var D=gk.Yu(j),N=R.raw.V7(r,j),b=R.ft.gq(N),Y=gk.agF(D,gk.Yu(gk.abq)),x=R.ft.multiply(Y,b);
return x};R.raw.ary=function(r){var j=(r.t50728?r.t50728:[1,1,1]).slice(0),N=1;j.push(0);var D={x:.34567,y:.3585};
do{var b=R.ft.gq(R.raw.V7(r,D)),Y=R.ft.rg(b,j),x=gk.ajp(Y);N=Math.abs(D.x-x.x)+Math.abs(D.y-x.y);D=x}while(N>1e-7);
return D};R.raw.V7=function(r,j){var D=gk.hS(j),N=R.raw.a0l,b=r.t50778?r.t50778[0]:0,Y=r.t50779?r.t50779[0]:0,x=N(r.t50721,r.t50722,b,Y,D.Zb),C=N(r.t50723,r.t50724,b,Y,D.Zb);
x=x||[1,0,0,0,1,0,0,0,1];C=C||[1,0,0,0,1,0,0,0,1];var w=r.t50727?[r.t50727[0],0,0,0,r.t50727[1],0,0,0,r.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return R.ft.multiply(R.ft.I2(w),R.ft.multiply(R.ft.I2(C),R.ft.I2(x)))};R.raw.a0l=function(r,j,D,N,b){if(!r&&!j){return null}else if(r&&!j){return r}else if(b<D){return r}else if(b>N){return j}else{var Y=(1/b-1/N)/(1/D-1/N),x=1-Y,C=[];
for(var P=0;P<9;P++)C[P]=r[P]*Y+j[P]*x;return C}};var gk={};gk.abq={x:.34567,y:.3585};gk.qh=[{a:0,M4:.18006,sr:.26352,cK:-.24341},{a:10,M4:.18066,sr:.26589,cK:-.25479},{a:20,M4:.18133,sr:.26846,cK:-.26876},{a:30,M4:.18208,sr:.27119,cK:-.28539},{a:40,M4:.18293,sr:.27407,cK:-.3047},{a:50,M4:.18388,sr:.27709,cK:-.32675},{a:60,M4:.18494,sr:.28021,cK:-.35156},{a:70,M4:.18611,sr:.28342,cK:-.37915},{a:80,M4:.1874,sr:.28668,cK:-.40955},{a:90,M4:.1888,sr:.28997,cK:-.44278},{a:100,M4:.19032,sr:.29326,cK:-.47888},{a:125,M4:.19462,sr:.30141,cK:-.58204},{a:150,M4:.19962,sr:.30921,cK:-.70471},{a:175,M4:.20525,sr:.31647,cK:-.84901},{a:200,M4:.21142,sr:.32312,cK:-1.0182},{a:225,M4:.21807,sr:.32909,cK:-1.2168},{a:250,M4:.22511,sr:.33439,cK:-1.4512},{a:275,M4:.23247,sr:.33904,cK:-1.7298},{a:300,M4:.2401,sr:.34308,cK:-2.0637},{a:325,M4:.24792,sr:.34655,cK:-2.4681},{a:350,M4:.25591,sr:.34951,cK:-2.9641},{a:375,M4:.264,sr:.352,cK:-3.5814},{a:400,M4:.27218,sr:.35407,cK:-4.3633},{a:425,M4:.28039,sr:.35577,cK:-5.3762},{a:450,M4:.28863,sr:.35714,cK:-6.7262},{a:475,M4:.29685,sr:.35823,cK:-8.5955},{a:500,M4:.30505,sr:.35907,cK:-11.324},{a:525,M4:.3132,sr:.35968,cK:-15.628},{a:550,M4:.32129,sr:.36011,cK:-23.325},{a:575,M4:.32931,sr:.36038,cK:-40.77},{a:600,M4:.33724,sr:.36051,cK:-116.45}];
gk.hS=function(r){var j=gk.qh,D=2*r.x/(1.5-r.x+6*r.y),N=3*r.y/(1.5-r.x+6*r.y),b=0,Y=0,x=0;for(;x<31;
x++){b=N-j[x].sr-j[x].cK*(D-j[x].M4);if(x>0&&b<0){break}Y=b}while(x>=j.length)x--;b/=Math.sqrt(1+j[x].cK*j[x].cK);
Y/=Math.sqrt(1+j[x-1].cK*j[x-1].cK);var C=Y/(Y-b),w=1e6/((j[x].a-j[x-1].a)*C+j[x-1].a),q=D-((j[x].M4-j[x-1].M4)*C+j[x-1].M4),u=N-((j[x].sr-j[x-1].sr)*C+j[x-1].sr),h=Math.sqrt(1+j[x].cK*j[x].cK),z=1/h,O=j[x].cK/h,g=Math.sqrt(1+j[x-1].cK*j[x-1].cK),t=1/g,$=j[x-1].cK/g,i=(z-t)*C+t,A=(O-$)*C+$,H=Math.sqrt(i*i+A*A);
i/=H;A/=H;var F=(q*i+u*A)*-3e3;return{Zb:w,Jh:F}};gk.a4e=function(r,j){var D=gk.qh,N=1e6/r,b=1;for(;
b<31;b++){if(N<D[b].a){break}}var Y=(D[b].a-N)/(D[b].a-D[b-1].a),x=(D[b-1].M4-D[b].M4)*Y+D[b].M4,C=(D[b-1].sr-D[b].sr)*Y+D[b].sr,w=Math.sqrt(1+D[b].cK*D[b].cK),q=1/w,u=D[b].cK/w,h=Math.sqrt(1+D[b-1].cK*D[b-1].cK),z=1/h,O=D[b-1].cK/h,g=(z-q)*Y+q,t=(O-u)*Y+u,$=Math.sqrt(g*g+t*t);
g/=$;t/=$;x+=g*j/-3e3;C+=t*j/-3e3;return{x:1.5*x/(x-4*C+2),y:C/(x-4*C+2)}};gk.ajp=function(r){var j=r[0]+r[1]+r[2];
return{x:r[0]/j,y:r[1]/j}};gk.Yu=function(r){return{x:r.x/r.y,y:1,Fu:(1-r.x-r.y)/r.y}};gk.agF=function(r,j){var D=R.ft.I2([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),N=[r.x,r.y,r.Fu,0],b=[j.x,j.y,j.Fu,0];
N=R.ft.rg(D,N);b=R.ft.rg(D,b);var Y=b[0]/N[0],x=b[1]/N[1],C=b[2]/N[2],w=R.ft.I2([Y,0,0,0,x,0,0,0,C]),q=R.ft.gq(D);
return R.ft.multiply(R.ft.multiply(q,w),D)};R.raw.i5={};R.raw.mW=function(r){r*=8;var j=[8,10,12,14,16];
for(var D in CAMS){var N=CAMS[D];if(N.length==4)continue;var b=N[4],Y=N[5];for(var P=0;P<j.length;P++)if(b*Y*j[P]==r)return[D,j[P]]}var x=[[4e3,3e3]];
for(var P=0;P<x.length;P++){var N=x[P],b=N[0],Y=N[1];for(var P=0;P<j.length;P++)if(b*Y*j[P]==r)return[N,j[P]]}return null};
R.raw.arW=function(r){var r=new Uint8Array(r);for(var P=0;P<r.length;P+=2){var j=r[P];r[P]=r[P+1];r[P+1]=j}var D=R.raw.mW(r.length),N=CAMS[D[0]];
if(N==null)N=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,D[0][0],D[0][1]];var b=N[4],Y=N[5],x=Math.max(N[2],116),C={data:r,_M:1,width:b,height:Y,t256:[b],t257:[Y],t258:[D[1]],t277:[1],t33421:[2,2],t33422:R.raw.PX[N[1]],t50706:[1,2,0,0],t50714:[x,x,x,x],t50717:[N[3]],t50721:N[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var P=0;P<9;P++)C.t50721[P]/=1e4;return C};R.raw.yC=function(r){if(r==null||r.length==0||typeof r[0]=="number")return r;
var j=[];for(var P=0;P<r.length;P++)j[P]=r[P][1]==0?0:r[P][0]/r[P][1];return j};R.raw.PX=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
R.raw.normalize=function(r,j){if(r.t50706!=null||r.t271[0].startsWith("Hasselblad")){var D=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var P=0;P<D.length;P++)if(r["t"+D[P]]!=null)r["t"+D[P]]=R.raw.yC(r["t"+D[P]]);if(r.t271&&r.t271[0].startsWith("Hasselblad")){r.t50706=[1,2,0,0];
r.t33422=R.raw.PX[1];r.t50723=[1,0,0,0,1,0,0,0,1];r.t50778=[17];if(!r.isLE)for(var P=0;P<r.data.length;
P+=2){var N=r.data[P];r.data[P]=r.data[P+1];r.data[P+1]=N}}return}var b=r.t258[0],Y=r.exifIFD,j=new Uint8Array(j);
r.t50706=[1,2,0,0];var x=r.t272[0].trim();if(x.indexOf(" ")==-1)x=r.t271[0].trim()+" "+x;if(r.t50708==null)r.t50708=[x];
var C=x.toLowerCase(),w=CAMS,q=w[C];if(q==null)for(var u in w)if(C.startsWith(u))q=w[u];if(q==null)alert("Unknown camera:"+x);
else{var h=q[2];r.t50714=[h,h,h,h];r.t50717=[q[3]];r.t50721=q[0].slice(0);for(var P=0;P<9;P++)r.t50721[P]=r.t50721[P]*(1/1e4)}r.t50723=[1,0,0,0,1,0,0,0,1];
if(r.t50728==null)r.t50728=[.35,1,.6];r.t50778=[17];if(r.t271[0].startsWith("SONY")){var z=UTIF["_bin"+(r.isLE?"LE":"BE")],O=r.t28688,F;
if(JSON.stringify(O)!="[8000,10400,12900,14100]")console.log(O);if(O){var g=[0,0,0,0,0,4095],t=new Uint16Array(16385);
for(var P=0;P<4;P++){var $=O[P]>>>2;g[P+1]=$;if($>4095)throw"e"}for(var P=0;P<16385;P++)t[P]=P;for(var P=0;
P<5;P++)for(var i=g[P]+1;i<=g[P+1];i++)t[i]=t[i-1]+(1<<P);var A=j.length*8<r.width*r.height*b;if(A)r.t50712=t}else console.log("no curve");
var H=r.dngPrvt;if(H){var T=H.t29184[0],_=H.t29185[0],V=(r.isLE?l.gW:l.q)(H.t29217,0),X=new Uint32Array(j.slice(T,T+(_&4294967292)).buffer),o=new Uint32Array(_>>>2);
R.raw.alc(X,o,_>>>2,V);var c=new Uint8Array(T+_);c.set(new Uint8Array(o.buffer),T);var E=[];UTIF._readIFD(z,c,T,E,0,!1);
var f=E.pop(),d=f.t29458;r.t50728=[d[1]/d[0],1,d[1]/d[3]];r.t50730=[.5];var s=f.t29891;r.t50829=[s[1],s[0],s[3],s[2]]}else if(Y.makerNote&&Y.makerNote.t8208){var F=Y.makerNote,B=F.t8208,a=B.length,U=0,M=new Uint8Array(256);
for(var P=249;P<256;P++)M[P]=P;for(var P=0;P<249;P++)M[P*P*P%249]=P;for(var P=0;P<a;P++)B[P]=M[B[P]];
if(a==6604)U=612;else throw"e";var d=[];for(var P=0;P<3;P++)d.push(l.iP(B,U+P*2));console.log(d);r.t50728=[d[1]/d[0],1,d[1]/d[2]]}else console.log("no white balance");
if(r.width*r.height*1.5==r.t279[0]){h=h>>>2;r.t50714=[h,h,h,h];r.t50717=[q[3]>>>2]}}else if(r.t271[0].startsWith("Canon")){var j=r.data,W=j.slice(0),n=r.t50752,e=[],J=0;
if(n==null||n[0]==0&&n[1]==0)e.push(r.width);else{for(var P=0;P<n[0];P++)e.push(n[1]);e.push(n[2])}var Q=r.width*2;
for(var m=0;m<e.length;m++){var p=e[m],L=2*J,S=2*p;for(var eJ=0;eJ<r.height;eJ+=2){var hy=eJ*Q+L,v=r.height*L+(eJ>>1)*S*2;
for(var P=0;P<S;P++){j[hy+P]=W[v+P];j[hy+P+Q]=W[v+P+S]}}J+=p}var F=Y.makerNote;if(F.t16385){var ff=F.t224,g5=0;
if(ff){r.t50719=[ff[5],ff[6]];r.t50720=[ff[7]+1-ff[5],ff[8]+1-ff[6]]}var K=F.t16385,jo=K.length;if(jo==582)g5=1;
else if(jo==653)g5=2;else if(jo==796)g5=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(jo)!=-1)g5=4;
else if(jo==5120){g5=5;K=new Int16Array(K.slice(0).buffer)}else if(jo==1273||jo==1275)g5=6;else if([1312,1313,1316,1506].indexOf(jo)!=-1)g5=7;
else if([1560,1592,1353,1602].indexOf(jo)!=-1)g5=8;else throw"e"+jo;var fQ=K[0],iT=[null,[25,166],[34,286],[63,196],[63],[71,fQ==-4?333:264],[63,251],[63,fQ==10?504:728],[63,326]],U=iT[g5][0],ac=iT[g5][1];
if(g5==4){if(K[0]==2)ac=231;else if(K[0]==3)ac=231;else if(K[0]==4)ac=231;else if(K[0]==5)ac=231;else if(K[0]==6)ac=231;
else if(K[0]==7)ac=231;else if(K[0]==9)ac=231;else throw"e"}r.t50728=[K[U+1]/K[U],1,K[U+1]/K[U+3]];var h=ac==null?1024:K[ac];
if(g5!=4)r.t50714=[h,h,h,h]}else{r.t50728=[.4,1,.6]}}else if(r.t271[0].startsWith("NIKON")){var F=Y.makerNote,aR=r.isLE?l.iP:l.oB,gP=0,g7=0,em,gt=0;
if(F.t61){var hV=F.t61,cu=[];for(var P=0;P<4;P++)cu[P]=hV[P]/Math.pow(2,14-b);r.t50714=cu}if(F.t3585){var iy=F.t3585,P=0,T=22;
while(T<iy.length&&P!=-4){var gr=l.gW(iy,T);T+=4;T+=14;P=l.gW(iy,T)-4;T+=4;if(gr==1990472198){if(iy[T]!=0)throw"Flip"}if(gr==1990472199){var cp=l.iP(iy,T);
if(cp==0)r._M=1;else if(cp==270)r._M=8;else throw"e "+cp}T+=P}}if(F.t183){var j8=F.t183,dg=[];for(var P=0;
P<6;P++)dg.push(aR(j8,16+P*2));gP=dg[0];g7=dg[1]}if(F.t3614){var gR=F.t3614;gP=l.gW(gR,8);g7=l.gW(gR,12)}if(gP!=0){if(gP<g7){var N=gP;
gP=g7;g7=N}var J=r.width-gP>>>1,eJ=r.height-g7>>>1;r.t50829=[eJ,J,eJ+g7,J+gP]}if(F.t12){var fr=R.raw.yC(F.t12);
em=[1/fr[0],1,1/fr[1]]}else if(F.t151){var aU=R.raw.agb(F,151),bb=aU[0],aS=aU[1],fZ=aU[2];if(bb=="0100"&&aS>=80)throw"e";
else if(bb=="0102"){var h1=[];for(var P=0;P<4;P++)h1.push(aR(fZ,6+P*2));em=[h1[1]/h1[0],1,h1[1]/h1[3]]}else if(bb=="0103"&&aS>=26){var h1=[];
for(var P=0;P<4;P++)h1.push(aR(fZ,16+P*2));em=[h1[1]/h1[0],1,h1[3]/h1[2]]}else if(bb=="0204"&&aS>=564||bb=="0205"&&aS>=284){var T=bb=="0204"?6:14,h1=[];
for(var P=0;P<4;P++)h1.push(aR(fZ,T+P*2));em=[h1[1]/h1[0],1,h1[1]/h1[3]]}else throw"e"}else console.log("no white balance info");
if(x=="NIKON D1")em=[1,1,1];if(em)r.t50728=em;var ar=F.t150?F.t150:F.t140;if(ar){var gX=ar[gt++],dK=ar[gt++],b7;
if(gX==73||dK==88)gt+=2110;gt+=8;var ay=1<<b&32767,hh=aR(ar,gt);gt+=2;var t=[];if(hh>1)b7=Math.floor(ay/(hh-1));
if(gX==68&&dK==32&&b7>0){for(P=0;P<hh;P++){t[P*b7]=aR(ar,gt);gt+=2}for(P=0;P<ay;P++)t[P]=Math.floor((t[P-P%b7]*(b7-P%b7)+t[P-P%b7+b7]*(P%b7))/b7)}else if(gX!=70&&hh<=16385){ay=hh;
for(var P=0;P<hh;P++)t[P]=aR(ar,gt+2*P);gt+=2*hh}if(t.length!=0)r.t50712=new Uint16Array(t);else if(r.t272[0]=="NIKON D750")r.t50717[0]*=4}}else if(x.startsWith("FujiFilm")){}else alert("Unknown camera "+x)};
R.raw.alc=function(r,j,D,N){if(0==D)return;var b=new Uint32Array(128),Y=new Uint8Array(b.buffer),x=127,C=0,w=0;
for(var x=0;x<4;x++)b[x]=N=(N*15625>>>0)*3125+1>>>0;b[3]=b[3]<<1|(b[0]^b[2])>>>31;for(var x=4;x<127;
x++)b[x]=(b[x-4]^b[x-2])<<1|(b[x-3]^b[x-1])>>>31;for(var x=0;x<127;x++)b[x]=l.q(Y,x*4);for(;D>0;D--){b[x&127]=b[x+1&127]^b[x+1+64&127];
var q=b[x&127],u=r[C];u^=q;j[w]=u;C++;w++;x++}};R.raw.akR=function(r,j){var D=l.Km(j,0,4),N=R.raw.ajc;
for(var P=0;P<N.length;P++)if(N[P][0]==r&&D.startsWith(N[P][1])&&(N[P][2]==0||N[P][2]==j.length))return N[P];
throw"e"};R.raw.aiV=function(r){if(r.t29==null)return[];var j=R.raw.ajt,D=R.raw.anX,N=r.t29[0],b=0,x=0;
for(var P=0;P<N.length;P++){var Y=N.charCodeAt(P);b=b*10+(48<=Y&&Y<=57?Y-48:Y%10)}var aS=r.t167[0];for(var P=0;
P<4;P++)x^=aS>>>(P<<3)&255;var C=j[b&255],w=D[x&255];return[C,w,96]};R.raw.agb=function(r,j){var D=r["t"+j],aS=D.length,N=R.raw.akR(j,D),b=l.Km(D,0,4),Y,x=N[4];
if(x==null)Y=D.slice(4);else{Y=new Uint8Array(aS-x);var C=R.raw.aiV(r),w=C[0],q=C[1],u=C[2];for(var P=0;
P<Y.length;P++){q=q+w*u++&255;Y[P]=D[x++]^q}}return[b,aS,Y]};R.raw.ajc=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
R.raw.ajt=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
R.raw.anX=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
R.vj={};R.vj.vj=function(r,j,D,N,b){if(N==null)N=3;if(b==null)b=!0;var Y=r.d,x=r.r,C=1/Y,w=Y*x,q=Date.now(),u=!1,h=R.vj.k4(D,Y,x,255,128),z=R.vj.k4(D,Y,x,0,128),hy=0;
if(u)console.log("extract contours",Date.now()-q);q=Date.now();var O=function(ay,hh){var b7=ay<<2,bW=hh<<2;
return j[b7]+j[b7+1]+j[b7+2]-(j[bW]+j[bW+1]+j[bW+2])};h.sort(O);z.sort(O);var g=R.O(w),t=R.O(w),$=[],i=new Uint32Array(Y*x);
i.fill(4294967295);for(var P=0;P<w;P++)if(D[P]==0)t[P]=255;else if(D[P]==255)g[P]=255;else{i[P]=$.length;
$.push(P)}var A=h.length,H=z.length,F=$.length;function T(ay,hh,b7,bW){var bu=ay.length,da=new Array(bu*2);
for(var P=0;P<bu;P++){var U=ay[P],M=~~(U*bW),W=U-M*b7,gt=U<<2;da[P*2]=W<<16|M;da[P*2+1]=hh[gt]<<16|hh[gt+1]<<8|hh[gt+2]}return da}var _=T(h,j,Y,C),V=T(z,j,Y,C),X=T($,j,Y,C);
if(u)console.log("Itemize",Date.now()-q,"Unknown:",F,A,H);q=Date.now();var o=R.style.VM(g,Y,x,!0),c=R.style.VM(t,Y,x,!0),E=new Array(F),f=new Array(F),d=new Array(F),s=new Array(F),B=new Array(F);
if(u)console.log("Dist transform",Date.now()-q);q=Date.now();var a=R.vj.AB;for(var P=0;P<F;P++){var U=$[P],M=~~(U*C),W=U-M*Y,n=o[U<<1],e=o[(U<<1)+1],Q=Math.sqrt(n*n+e*e),J=c[U<<1],m=c[(U<<1)+1],p=Math.sqrt(J*J+m*m);
E[P]=1/Q;f[P]=1/p;var L=Math.floor(R.U.pf(U*17)*A),S=Math.floor(R.U.pf(U*19)*H);d[P]=L;s[P]=S;B[P]=a(X[P*2],X[P*2+1],_[L*2],_[L*2+1],V[S*2],V[S*2+1],E[P],f[P],1e9)}var eJ=[-Y-1,-Y,-Y+1,-1,1,Y-1,Y,Y+1];
while(Math.floor(Math.max(A,H)*Math.pow(.5,hy))>1)hy++;for(var v=0;v<N;v++){var ff=0;for(var P=0;P<F;
P++){var U=$[P],M=~~(U*C),W=U-M*Y,K=E[P],jo=f[P],g5=X[P*2],fQ=X[P*2+1],iT=B[P],L=d[P],S=s[P],gr=1;if(M!=0&&W!=0&&W!=Y-1&&M!=x-1)for(var ac=0;
ac<8;ac++){var aR=i[U+eJ[ac]];if(aR==4294967295)continue;var hV=d[aR],cu=s[aR];if(hV==L&&cu==S)continue;
var iy=a(g5,fQ,_[hV*2],_[hV*2+1],V[cu*2],V[cu*2+1],K,jo,iT);if(iy<iT){iT=iy;L=hV;S=cu}}for(var cp=0;
cp<hy;cp++){var gP=~~(A*gr),g7=~~(H*gr);gr*=.5;var j8=R.U.pf(U+v*17+cp*31),dg=R.U.pf(U+v*29+cp*63),gR=Math.max(0,L-gP),em=Math.min(L+gP,A-1),fr=Math.max(0,S-g7),aU=Math.min(S+g7,H-1),hV=gR+~~(j8*(em-gR)),cu=fr+~~(dg*(aU-fr)),iy=a(g5,fQ,_[hV*2],_[hV*2+1],V[cu*2],V[cu*2+1],K,jo,iT);
if(iy<iT){iT=iy;L=hV;S=cu}}B[P]=iT;d[P]=L;s[P]=S;ff+=iT}}if(u)console.log(ff);if(u)console.log("iterations",Date.now()-q);
q=Date.now();var bb=D.slice(0);for(var P=0;P<F;P++){var fZ=R.vj.alpha(X[P*2+1],_[d[P]*2+1],V[s[P]*2+1]);
bb[$[P]]=~~(.5+255*fZ)}bb=R.lr.aq4(bb,j,new bf(0,0,Y,x),16,.01*.01);if(u)console.log("guided filter",Date.now()-q);
q=Date.now();if(b)for(var P=0;P<w;P++)if(D[P]==255||D[P]==0)bb[P]=D[P];var h1=j.slice(0);for(var P=0;
P<F;P++){var ar=$[P],L=h[d[P]],iT=B[P],gt=ar<<2,gX=bb[ar],dK=(gX>=250?ar:L)<<2;h1[gt]=j[dK];h1[gt+1]=j[dK+1];
h1[gt+2]=j[dK+2]}R.zQ(bb,h1,3);if(u)console.log(Date.now()-q);q=Date.now();return h1};R.vj.AB=function(r,j,D,N,b,Y,x,C,w){var q=r>>>16,u=r&65535,h=q-(D>>>16),z=u-(D&65535),O=q-(b>>>16),g=u-(b&65535),t=Math.sqrt(h*h+z*z)*x,$=Math.sqrt(O*O+g*g)*C;
if(t+$>=w)return 1e9;var i=R.vj.afm(j,N,Y);return i+t+$};R.vj.afm=function(r,j,D){var N=r>>>16,b=r>>>8&255,Y=r&255,x=j>>>16,C=j>>>8&255,w=j&255,q=D>>>16,u=D>>>8&255,h=D&255,z=R.vj.alpha(r,j,D),O=N-(z*x+(1-z)*q),g=b-(z*C+(1-z)*u),t=Y-(z*w+(1-z)*h);
return Math.sqrt(O*O+g*g+t*t)};R.vj.alpha=function(r,j,D){var N=r>>>16,b=r>>>8&255,Y=r&255,x=j>>>16,C=j>>>8&255,w=j&255,q=D>>>16,u=D>>>8&255,h=D&255,z=x-q,O=C-u,g=w-h,t=N-q,$=b-u,i=Y-h,A=z*z+O*O+g*g,H=A==0?.5:(t*z+$*O+i*g)/A;
return Math.max(0,Math.min(1,H))};R.vj.a7X=function(r){};R.vj.k4=function(r,j,D,N,b){var Y=[],x=j-1,C=D-1;
for(var w=1;w<C;w++)for(var q=1;q<x;q++){var P=w*j+q;if(r[P]==N&&(r[P-j-1]==b||r[P-j]==b||r[P-j+1]==b||(r[P-1]==b||r[P+1]==b)||(r[P+j-1]==b||r[P+j]==b||r[P+j+1]==b)))Y.push(P)}return Y};
R.lr={};R.lr.ai8=function(r,j,D,N,b){var Y=D.d,x=D.r,C=Y*x,w=R.lr.bq,q=R.O(C*4),u;R.mh(q,4294967295);
var h=D,z=r,O=j,g=N;R.zQ(r,q,0);u=R.lR(q,D);u=R.lR(u.Iz,u.rect);h=u.rect;g=N>>>2;console.log(h,g);z=R.O(h.Z());
R.ni(u.Iz,z,0);R.zQ(j,q,0);u=R.lR(q,D);u=R.lR(u.Iz,u.rect);O=R.O(h.Z());R.ni(u.Iz,O,0);var t=R.lr.ag3(z,O,h,g,b),$=t[0],i=t[1],A=new bf(0,0,h.d*2,h.r*2);
$=w($,h,A,!0);$=w($,A,D,!0);i=w(i,h,A,!0);i=w(i,A,D,!0);var H=R.O(C);for(var P=0;P<C;P++)H[P]=Math.max(0,Math.min(255,Math.floor(.5+($[P]*j[P]+255*i[P]))));
return H};R.lr.bq=function(r,j,D,N){var b=D.d,Y=D.r,x=j.d,C=j.r,w=R.lr.L5,q=new Float32Array(b*Y);for(var u=0;
u<C;u++){var h=(u+u)*b;for(var z=0;z<x;z++){if(!0||z==0||u==0||z==x-1||u==C-1)q[h]=q[h+1]=q[h+b]=q[h+b+1]=r[u*x+z];
else{q[h]=w(z+.25,u+.25,r,x,C);q[h+1]=w(z+.75,u+.25,r,x,C);q[h+b]=w(z+.25,u+.75,r,x,C);q[h+b+1]=w(z+.75,u+.75,r,x,C)}h+=2}}return q};
R.lr.L5=function(r,j,D,N,b){r-=.499999;j-=.499999;var Y=Math.floor(r),x=Math.floor(j),C=x*N+Y,w=r-Y,q=j-x,u=(1-q)*(1-w),h=(1-q)*w,z=q*(1-w),O=q*w;
if(D[C]==null||D[C+N+1]==null){console.log(r,j,N,b);throw"e"}return u*D[C+0]+h*D[C+1]+z*D[C+N+0]+O*D[C+N+1]};
R.lr.ag3=function(r,j,D,N,b){var Y=D.d,x=D.r,C=Y*x,w=R.lr.Gr,q=R.lr.O,u=R.Fg.Uq,h=R.lr.Zd,j=w(j),r=w(r),z=q(C);
u(j,z,D,N);var O=q(C);u(r,O,D,N);var g=q(C);h(j,j,g);u(g,g,D,N);var t=q(C);h(j,r,t);u(t,t,D,N);var $=q(C),i=q(C);
for(var P=0;P<C;P++){var A=z[P],H=O[P],F=g[P]-A*A,T=t[P]-A*H,_=T/(F+b),V=H-_*A;$[P]=_;i[P]=V}var X=q(C);
u($,X,D,N);var o=q(C);u(i,o,D,N);return[X,o]};R.lr.aq4=function(r,j,D,N,b){var Y=D.d,x=D.r,C=Y*x,w=R.lr.bq,q=Date.now(),u=!1,h=D,z=r,O=j,g=N;
h=new bf(0,0,Y>>>2,x>>>2);g=N>>>2;z=R.lr.a3I(r,Y,x);O=R.lr.abl(j,Y,x);if(u)console.log(Date.now()-q);
q=Date.now();var t=R.lr.a7P(z,O,h,g,b),$=t[0],i=t[1],A=t[2],H=t[3];if(u)console.log(Date.now()-q);q=Date.now();
var F=R.O(C);for(var T=0;T<x;T++)for(var _=0;_<Y;_++){var P=T*Y+_,V=(T>>>2)*(Y>>>2)+(_>>>2),X=P<<2,o=$[V]*j[X]+i[V]*j[X+1]+A[V]*j[X+2]+H[V]*255;
F[P]=Math.max(0,Math.min(255,~~(.5+o)))}if(u)console.log(Date.now()-q);q=Date.now();return F};R.lr.a3I=function(r,j,D){var N=j>>>2,b=D>>>2,Y=R.O(j*D);
for(var x=0;x<b;x++)for(var C=0;C<N;C++)Y[x*N+C]=r[x*j+C<<2];return Y};R.lr.abl=function(r,j,D){var N=j>>>2,b=D>>>2,Y=R.O(j*D*4);
for(var x=0;x<b;x++)for(var C=0;C<N;C++){var w=x*N+C<<2,q=x*j+C<<4;Y[w]=r[q];Y[w+1]=r[q+1];Y[w+2]=r[q+2];
Y[w+3]=r[q+3]}return Y};R.lr.a7P=function(r,j,D,N,b){var Y=D.d,x=D.r,C=Y*x,w=R.lr.Gr,q=R.lr.O,u=R.Fg.Uq,h=R.lr.Zd,r=w(r),z=new R.oj(Y*x);
R.wJ(j,z);var j=[w(z.a),w(z.p),w(z.M)],O=R.lr.aoi(r,j,D,N,b),g=q(C);u(r,g,D,N);var t=q(C);h(j[0],r,t);
u(t,t,D,N);var $=q(C);h(j[1],r,$);u($,$,D,N);var i=q(C);h(j[2],r,i);u(i,i,D,N);var A=q(C),H=q(C),F=q(C),T=q(C);
for(var P=0;P<C;P++){var _=g[P],V=O.Fn[P],X=O.Vk[P],o=O.u5[P],c=t[P]-V*_,E=$[P]-X*_,f=i[P]-o*_;A[P]=O.apM[P]*c+O.VH[P]*E+O.$u[P]*f;
H[P]=O.VH[P]*c+O.amc[P]*E+O.u$[P]*f;F[P]=O.$u[P]*c+O.u$[P]*E+O.alK[P]*f;T[P]=_-A[P]*V-H[P]*X-F[P]*o}u(A,A,D,N);
u(H,H,D,N);u(F,F,D,N);u(T,T,D,N);return[A,H,F,T]};R.lr.aoi=function(r,j,D,N,b){var Y=D.d,x=D.r,C=Y*x,w=R.lr.O,q=R.Fg.Uq,u=R.lr.Zd,h={};
h.Fn=w(C);q(j[0],h.Fn,D,N);h.Vk=w(C);q(j[1],h.Vk,D,N);h.u5=w(C);q(j[2],h.u5,D,N);var z=w(C);u(j[0],j[0],z);
q(z,z,D,N);var O=w(C);u(j[0],j[1],O);q(O,O,D,N);var g=w(C);u(j[0],j[2],g);q(g,g,D,N);var t=w(C);u(j[1],j[1],t);
q(t,t,D,N);var $=w(C);u(j[1],j[2],$);q($,$,D,N);var i=w(C);u(j[2],j[2],i);q(i,i,D,N);h.apM=z;h.VH=O;
h.$u=g;h.amc=t;h.u$=$;h.alK=i;for(var P=0;P<C;P++){var A=h.Fn[P],H=h.Vk[P],F=h.u5[P],T=z[P]-A*A+b,_=O[P]-A*H,V=g[P]-A*F,X=t[P]-H*H+b,o=$[P]-H*F,c=i[P]-F*F+b,E=X*c-o*o,f=o*V-_*c,d=_*o-X*V,s=T*c-V*V,B=V*_-T*o,a=T*X-_*_,U=E*T+f*_+d*V,M=1/U;
h.apM[P]=E*M;h.VH[P]=f*M;h.$u[P]=d*M;h.amc[P]=s*M;h.u$[P]=B*M;h.alK[P]=a*M}return h};R.lr.O=function(r){return new Float32Array(r)};
R.lr.Gr=function(r){var j=r.length,D=new Float32Array(j);for(var P=0;P<j;P++)D[P]=r[P]*(1/255);return D};
R.lr.Zd=function(r,j,D){for(var P=0;P<r.length;P++)D[P]=r[P]*j[P]};R.lm={};R.lm.eo=function(r,j,D,N){var b=r[j]-D[N],Y=r[j+1]-D[N+1],x=r[j+2]-D[N+2];
return Math.sqrt(b*b+Y*Y+x*x)*(1/441.7)};R.lm.getSelection=function(r,j,D){var N=j*D,b=R.O(N),Y=!1,x=Math.round(D*.7),C=1,w=new Uint32Array(12),q=R.O(12);
for(var u=0;u<x;u++)for(var h=0;h<j;h++){if(h<C||u<C||h>j-C-1||u>D-C-1){var P=u*j+h,z=P<<2,O=0;if(u<C)O=4;
else if(h>j-C-1)O=8;w[O]+=r[z];w[O+1]+=r[z+1];w[O+2]+=r[z+2];w[O+3]++;b[P]=255}}for(var P=0;P<12;P+=4)for(var g=0;
g<3;g++)q[P+g]=w[P+g]/w[P+3];var t=new Float32Array(N);for(var P=0;P<N;P++){var z=P*4,$=R.lm.eo(r,z,q,0),i=R.lm.eo(r,z,q,4),A=R.lm.eo(r,z,q,8),H=Math.max($,Math.max(i,A));
t[P]=$+i+A-H}R.lm.f9(t);var F=Date.now(),T=new Float32Array(N),_=[],V=R.O(N);for(var P=0;P<3;P++){R.ni(r,V,P);
var X=new Uint16Array(N);_.push(X);R.lm.a1k(V,b,j,D,X)}if(Y)console.log("MBD",Date.now()-F);F=Date.now();
for(var P=0;P<N;P++)T[P]=_[0][P]+_[1][P]+_[2][P];R.lm.f9(T);for(var P=0;P<N;P++)T[P]+=.4*t[P];var o=j>>>1,x=D>>>1,c=1/Math.sqrt(o*o+x*x);
for(var u=0;u<D;u++)for(var h=0;h<j;h++){var E=h-o,f=u-x,d=1-Math.sqrt(E*E+f*f)*c;T[u*j+h]*=d}if(Y)console.log("Centeredness",Date.now()-F);
F=Date.now();for(var P=0;P<N;P++)b[P]=T[P]*255;var s=Math.round(j/120),B=Math.round(s*.8);if(Y)console.log(s,B);
R.ml.TO(b,V,j,D,s,R.ml.hi,[]);b.set(V);if(Y)console.log("erosion",Date.now()-F);F=Date.now();for(var P=0;
P<N;P++)T[P]=b[P];R.lm.f9(T);var a=R.O(256);for(var P=0;P<256;P++)a[P]=256/(1+Math.exp(-20*(P/255-.5)));
for(var P=0;P<N;P++){var U=~~(T[P]*255+.5);b[P]=a[U]}if(Y)console.log("Simoid",Date.now()-F);F=Date.now();
return b};R.lm.f9=function(r){var j=r.length,D=0;for(var P=0;P<j;P++)D=Math.max(D,r[P]);var N=1/D;for(var P=0;
P<j;P++)r[P]=r[P]*N};R.lm.a1k=function(r,j,D,N,b){var Y=D*N,x=r.slice(0),C=r.slice(0);for(var P=0;P<Y;
P++)b[P]=j[P]==255?0:65535;R.lm.h8(r,C,x,b,D,N);R.lm.ew(r,C,x,b,D,N);R.lm.h8(r,C,x,b,D,N);R.lm.ew(r,C,x,b,D,N);
return b};R.lm.h8=function(r,j,D,N,b,Y){for(var x=1;x<b;x++)R.lm.Zp(x,-1,r,j,D,N);for(var C=1;C<Y;C++){R.lm.Zp(C*b,-b,r,j,D,N);
for(var x=1;x<b;x++){var P=C*b+x;R.lm.Zp(P,-1,r,j,D,N);R.lm.Zp(P,-b,r,j,D,N)}}};R.lm.ew=function(r,j,D,N,b,Y){for(var x=b-2;
x>=0;x--)R.lm.Zp(b*Y-b+x,1,r,j,D,N);for(var C=Y-2;C>=0;C--){R.lm.Zp(C*b+b-1,b,r,j,D,N);for(var x=b-2;
x>=0;x--){var P=C*b+x;R.lm.Zp(P,1,r,j,D,N);R.lm.Zp(P,b,r,j,D,N)}}};R.lm.Zp=function(P,r,j,D,N,b){var Y=P+r,x=j[P],C=D[Y],w=N[Y];
if(C<x)C=x;else if(x<w)w=x;var q=C-w;if(b[Y]!=65535&&q<b[P]){b[P]=q;D[P]=C;N[P]=w}};R.ML={};R.ML.filter=function(r,j,D,N){var b=j.d,Y=j.r,x=b*Y,C=N[0],w=N[1],q=N[2],u=N[3],h=N[4],z=N[5],O=N[6],g=Date.now(),t=new Float32Array(b*Y*4);
R.ML.ack(r,b,Y,t);var $=Math.ceil(C*Math.sqrt(-2*Math.log(.1))),i=new ArrayBuffer(x*4),A=new Float32Array(i),H=new Float32Array(x),F=new Float32Array(x);
for(var P=0;P<x;P++){var T=P*4;A[P]=t[T];H[P]=t[T+1];F[P]=t[T+2]}R.Fg.LK(A,A,j,$*1/2.4,2);R.Fg.LK(H,H,j,$*1/2.4,2);
R.Fg.LK(F,F,j,$*1/2.4,2);for(var P=0;P<x;P++){var T=P*4;t[T]=A[P];t[T+1]=H[P];t[T+2]=F[P]}var _=new Uint8Array(i);
for(var P=0;P<x;P++){var T=P*4,V=P*4,A=t[T],H=t[T+1],F=t[T+2],X=Math.sqrt((A-F)*(A-F)+4*H*H),o=(A+F+X)*.5,c=(A+F-X)*.5,E=c-F,f=H,d=E*E+f*f;
if(d!=0){var s=Math.sqrt(d),B=1/s;E*=B;f*=B}_[V]=128+127*E;_[V+1]=128+127*f}var a=1.3*w+2,U=u*(2/10),M=r.slice();
if(Z.DB){var W=new Float32Array([1/b,1/Y]),n=Z.tf(0,b,Y);n.set(M);var e=Z.tf(1,b,Y);e.set(_);Z.Wq(n,j);
if(h){n.l3(j);Z.filter.j$({type:Z.filter.alo,vR:W,aoj:1/q,a5c:U},n.aH)}n.l3(j);Z.filter.j$({type:Z.filter.LO,M1:e.q2,vR:W,app:a,aeh:2},n.aH);
if(h){n.l3(j);Z.filter.j$({type:Z.filter.a6j,vR:W,a3v:new Float32Array(O),atg:z},n.aH)}n.get(D)}else{if(h)R.ML.tH(1/q,U,M,b,Y);
R.ML.LO(M,D,_,b,Y,a);if(h)R.ML.aqg(b,Y,D,O,z)}var Q=x*4;for(var P=3;P<Q;P+=4)D[P]=r[P]};R.ML.LO=function(r,j,D,N,b,Y){var x=Math.ceil(2*Y),C=-1/(2*Y*Y),w=[],q=1;
for(var P=0;P<x+20;P++)w[P]=Math.exp(P*P*C);var u=[0,0,0,0];for(var h=0;h<b;h++){for(var z=0;z<N;z++){var O=h*N+z,g=O*4,t=1,$=r[g],i=r[g+1],A=r[g+2],H=r[g+3],F=(D[g]-128)*(1/127),T=(D[g+1]-128)*(1/127),_=F,V=T,X=z==0?.51:.49,o=h==0?.51:.49;
for(var P=0;P<2;P++){var c=z+X,E=h+o,f=0;while(f<x){if(c<.5||N-.5<c||E<.5||b-.5<E)break;var d=~~c,s=~~E,B=s*N+d,a=B*4,U=(D[a]-128)*(1/127),M=(D[a+1]-128)*(1/127);
if(U*_+M*V<0){U=-U;M=-M}_=U;V=M;c+=q*U;E+=q*M;if(c<.5||N-.5<c||E<.5||b-.5<E)break;var W=~~c,n=~~E,e=n*N+W<<2;
f+=q;var Q=w[~~f];R.t.jw(c,E,r,N,b,u);$+=u[0]*Q;i+=u[1]*Q;A+=u[2]*Q;H+=u[3]*Q;t+=Q}_=-F;V=-T}var J=1/t;
j[g]=~~(.5+$*J);j[g+1]=~~(.5+i*J);j[g+2]=~~(.5+A*J);j[g+3]=~~(.5+H*J)}}};R.ML.aqg=function(r,j,D,N,b){for(var Y=0;
Y<j;Y++)for(var x=0;x<r;x++){var C=Y*r+x<<2,w=1+R.ML.aqw(x,Y,D,r,j,N)*b;D[C]=Math.max(0,Math.min(255,D[C]*w));
D[C+1]=Math.max(0,Math.min(255,D[C+1]*w));D[C+2]=Math.max(0,Math.min(255,D[C+2]*w))}};R.ML.aqw=function(r,j,D,N,b,Y){var x=D[(j*N+Math.max(0,r-1))*4+3],C=D[(j*N+Math.min(N-1,r+1))*4+3],w=D[(Math.max(0,j-1)*N+r)*4+3],q=D[(Math.min(b-1,j+1)*N+r)*4+3],u=.7,h=(C-x)*(1/255),z=.7,O=(q-w)*(1/255),g=-h*z,t=-u*O,$=u*z,i=Math.sqrt(g*g+t*t+$*$),A=1/i,H=g*A,F=t*A,T=$*A,_=Y[0]*H+Y[1]*F+Y[2]*T;
return _};R.ML.tH=function(r,j,D,N,b){function Y(C,q,u){return Math.max(q,Math.min(u,C))}for(var x=0;
x<b;x++)for(var C=0;C<N;C++){var w=R.ML.acR(C+.5,x+.5,r,j);D[(x*N+C)*4+3]=Math.max(0,Math.min(255,w*255))}};
R.ML.acR=function(r,j,D,N){function b(V,X,o){return(1-o)*V+o*X}var Y=(r+613)*D,x=(j+117)*D,C=~~Y,w=~~x,q=Y-C,u=x-w,h=Math.sin(11),z=Math.cos(C)*h,O=Math.cos(C+1)*h,g=Math.cos(w)*h,t=Math.cos(w+1)*h,eK=R.ML.hash(z,g),$=R.ML.hash(O,g),i=R.ML.hash(z,t),A=R.ML.hash(O,t),H=b(eK,$,q),F=b(i,A,q),T=b(H,F,u);
T=T<.5?0:1;var _=T+N*R.ML.hash(Math.cos(Y)*h,Math.cos(x)*h);return _*(1/3)};R.ML.hash=function(r,j){var D=Math.sin(r*11.697096+j*73.32456)*12157.47691;
return D-Math.floor(D)};R.ML.ack=function(r,j,D,N){var b=[-1,0,1,-2,0,2,-1,0,1],Y=[-1,-2,-1,0,0,0,1,2,1],x=j-1,C=D-1,w=j*4;
for(var q=1;q<C;q++)for(var u=1;u<x;u++){var P=q*j+u,h=P*4,z=R.ML.xj(r,h,w,b),O=R.ML.xj(r,h,w,Y),g=R.ML.xj(r,h+1,w,b),t=R.ML.xj(r,h+1,w,Y),$=R.ML.xj(r,h+2,w,b),i=R.ML.xj(r,h+2,w,Y);
N[h]=z*z+g*g+$*$;N[h+1]=z*O+g*t+$*i;N[h+2]=O*O+t*t+i*i}R.ML.a6v(N,j,D)};R.ML.xj=function(r,j,D,N){return r[j-D-4]*N[0]+r[j-D]*N[1]+r[j-D+4]*N[2]+r[j-4]*N[3]+r[j]*N[4]+r[j+4]*N[5]+r[j+D-4]*N[6]+r[j+D]*N[7]+r[j+D+4]*N[8]};
R.ML.a6v=function(r,j,D){function N(w,P,q){var u=P*4,h=q*4;w[h]=w[u];w[h+1]=w[u+1];w[h+2]=w[u+2]}var b=j-1,Y=D-1;
N(r,j+1,0);N(r,2*j-2,j-1);for(var x=1;x<b;x++)N(r,j+x,x);for(var C=1;C<Y;C++){N(r,C*j+1,C*j);N(r,C*j+j-2,C*j+j-1)}for(var x=1;
x<b;x++)N(r,(D-2)*j+x,(D-1)*j+x);N(r,(C-2)*j+1,(C-1)*j);N(r,(C-1)*j-2,C*j-1)};R.H$={};R.H$._B=function(r,j,D,N){var b=r[j*2],Y=r[j*2+1],x=r[D*2],C=r[D*2+1],w=r[N*2],q=r[N*2+1];
return b*C+x*q+w*Y-w*C-x*Y-b*q};R.H$.ia=function(r,j){var D=[],N=[],b=[],Y={};for(var P=0;P<j.length;
P+=3){var x=~~(P*(1/3)),C=j[P+0],w=j[P+1],q=j[P+2],u=R.H$._B(r,C,w,q);if(u>0){var h=w;w=q;q=h}var z=Y[q+"-"+w],O=Y[w+"-"+C],g=Y[C+"-"+q],t=[q,z,x,null],$=[w,O,x,t],i=[C,g,x,$];
t[3]=i;if(z)z[1]=t;if(O)O[1]=$;if(g)g[1]=i;Y[q+"-"+C]=i;Y[C+"-"+w]=$;Y[w+"-"+q]=t;D[C]=$;b[P]=$;D[w]=t;
b[P+1]=t;D[q]=i;b[P+2]=i;N[x]=$}return{G7:D,f5:N,VS:b}};R.H$.a3t=function(r){var j=[],D=r.f5;for(var P=0;
P<D.length;P++){var N=D[P];j.push(N[0]);N=N[3];j.push(N[0]);N=N[3];j.push(N[0])}return j};R.H$.abP=function(r,j,D,N){var b=r[j*2],Y=r[j*2+1],x=r[D*2],C=r[D*2+1],w=r[N*2],q=r[N*2+1],u=x-b,h=C-Y,z=w-b,O=q-Y,g=u*(b+x)+h*(Y+C),t=z*(b+w)+O*(Y+q),$=2*(u*(q-C)-h*(w-x));
if(Math.abs($)<1e-5){var i=Math.min(b,x,w),A=Math.min(Y,C,q),H=(Math.max(b,x,w)-i)*.5,F=(Math.max(Y,C,q)-A)*.5;
return[i+H,A+F,H*H+F*F,1]}var T=(O*g-h*t)/$,_=(u*t-z*g)/$,H=T-b,F=_-Y;return[T,_,H*H+F*F,0]};R.H$.a2m=function(r,j,D){var N=D[1],b=D[3],Y=b[3],x=N[3],C=x[3],w=D[2],q=N[2],u=D[0],h=N[0],z=b[0],O=x[0],g=R.H$.abP(r,h,O,z),t=r[u*2]-g[0],$=r[u*2+1]-g[1],i=t*t+$*$>g[2]&&g[3]==0&&R.H$._B(r,O,u,z)<0&&R.H$._B(r,z,h,O)<0;
if(i){D[0]=z;N[0]=O;D[3]=Y;Y[3]=x;x[3]=D;N[3]=C;C[3]=b;b[3]=N;b[2]=q;x[2]=w;j.f5[q]=C;j.f5[w]=Y;j.G7[h]=x;
j.G7[u]=b}return i};R.H$.afE=function(r,j,D){var N=r[j*2]-r[D*2],b=r[j*2+1]-r[D*2+1];return Math.sqrt(N*N+b*b)};
R.H$.ahH=function(r,j,D){var N=D[1],b=D[3],Y=b[3],x,C,w=D[2],q,u=D[0],h=Y[0],z=b[0],O;if(N){x=N[3];C=x[3];
q=N[2];O=x[0]}var g=r.length>>>1;r[2*g]=(r[2*h]+r[2*u])*.5;r[2*g+1]=(r[2*h+1]+r[2*u+1])*.5;if(!0){var t=w,$=D,i=j.f5.length,A=[g,null,t,$],H=[z,A,i,Y];
A[1]=H;var F=[g,null,i,H];b[3]=A;Y[3]=F;Y[2]=i;j.f5[t]=b;j.f5[i]=F;j.G7[u]=b;j.G7[z]=Y;j.VS.push(A,H,F)}if(N){var T=q,_=N,V=i+1;
F[1]=_,_[1]=F;var X=[g,null,T,_],o=[O,X,V,C];X[1]=o;var c=[g,$,V,o];$[1]=c;x[3]=X;C[3]=c;C[2]=V;j.f5[T]=x;
j.f5[V]=C;j.G7[h]=x;j.G7[O]=C;j.VS.push(X,o,c)}j.G7[g]=$};R.H$.R2=function(r,j){var D=0;while(!0){var N=D;
for(var P=0;P<j.VS.length;P++){var b=j.VS[P];if(b[1]==null)continue;var Y=R.H$.a2m(r,j,b);if(Y){D++;
break}}if(N==D)break}return D!=0};R.H$.aon=function(r,j,D,N){var b=0;for(var P=0;P<N;P++){var Y=null,x=0;
for(var C=0;C<j.VS.length;C++){var w=j.VS[C],q=R.H$.afE(r,w[0],w[3][3][0])*(w[1]?1:2);if(q>x){Y=w;x=q}}if(x>D){R.H$.ahH(r,j,Y);
b++}}return b!=0};R.H$.a5H=function(r,j){var D=[],z=0;for(var P=0;P<r.length;P++)D.push(0);for(var P=0;
P<j.VS.length;P++){var N=j.VS[P],b=N[0],Y=N[3][3][0],x=r[b*2],C=r[b*2+1],w=r[Y*2],q=r[Y*2+1],u=x-w,h=C-q;
D[b*2]+=-u;D[b*2+1]+=-h;D[Y*2]+=u;D[Y*2+1]+=h}for(var P=0;P<r.length;P+=2){var O=P>>>1,g=j.G7[O],N=g,t=!0;
do{if(N[1]==null){t=!1;break}N=N[1][3]}while(N!=g);if(t){var $=.02;r[P]+=$*D[P];r[P+1]+=$*D[P+1];z+=$*(D[P]*D[P]+D[P+1]*D[P+1])}}return z};
R.H$.apd=function(r,j,D){var N=R.K.mN(r),b=R.H$.ia(r,j);R.H$.R2(r,b);for(var Y=0;Y<300;Y++){var x=!1,C=!1;
x=R.H$.aon(r,b,D,5);if(x)C=R.H$.R2(r,b);var w=R.H$.a5H(r,b);if(!x&&!C&&w<1e-4){break}}return R.H$.a3t(b)};
R.hJ={};R.hJ.UA=function(r){var j=r.Nw,D=r.Tg,N=r.BX,b=r.yU,Y=r.GK,x=r.zO,C=r.Tf,w=R.sW.xf,A,H,F=0;function q(eK){var jo=new Array(eK);
for(var P=0;P<eK;P++)jo[P]=0;return jo}var u=D.length>>>1,h=q(j.Cn*2),z=q(j.Cn),O=q(j.Cn),g=Date.now();
for(var P=0;P<r.Wy.length;P++){var t=j.alp+P,$=j.oW*(x[P*2]+C[P*2]),i=j.oW*(x[P*2+1]+C[P*2+1]);h[t*2]=$;
h[t*2+1]=i;z[t]=$;O[t]=i}j.a5_.iu(b,j.aqJ.xf(h),.01,A,H);for(var P=0;P<j.a1R.VS.length;P++){var T=j.a1R.VS[P],_=T[3][3][0],V=T[0],X=T[3][0],o=T[1]?T[1][3][0]:X;
if(T[1]&&_>V)continue;var c=D[_*2],f=D[_*2+1],d=D[V*2],s=D[V*2+1],B=b[_*2],U=b[_*2+1],M=b[V*2],W=b[V*2+1],n=b[X*2],e=b[X*2+1],Q=b[o*2],J=b[o*2+1],m=[B,U,M,W,n,e];
if(T[1])m.push(Q,J);var p=w(j.apb[F],m),L=p[0],S=p[1],eJ=1/Math.sqrt(L*L+S*S);L*=eJ;S*=eJ;var hy=d-c,v=s-f;
z[F]=L*hy+S*v;O[F]=-S*hy+L*v;F++}var ff=new Array(u),K=new Array(u);for(var P=0;P<u;P++){ff[P]=Y[P*2];
K[P]=Y[P*2+1]}j.a01.iu(ff,j.a8i.xf(z),.5);j.a01.iu(K,j.a8i.xf(O),.5);for(var P=0;P<u;P++){Y[P*2]=ff[P];
Y[P*2+1]=K[P]}};R.hJ.PG=function(r){var j=r.Tg,D=r.BX,N=r.Wy,b=R.sW.multiply,Y=Date.now(),x=R.H$.ia(j,D),C=j.length>>>1,w=0,g=0,S=1e3;
for(var P=0;P<x.VS.length;P++)w+=x.VS[P][1]?.5:1;var q=w+N.length,u=[],h=new R.MI(q*2,C*2),z=new R.MI(q,C),O=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],t=[],$=[];
for(var P=0;P<x.VS.length;P++){var i=x.VS[P],A=i[3][3][0],H=i[0],F=i[3][0],T=i[1]?i[1][3][0]:F;if(i[1]&&A>H)continue;
var _=j[A*2],V=j[A*2+1],X=j[H*2],o=j[H*2+1],c=j[F*2],f=j[F*2+1],d=j[T*2],s=j[T*2+1],B=[[_,V,1,0],[V,-_,0,1],[X,o,1,0],[o,-X,0,1],[c,f,1,0],[f,-c,0,1]];
if(i[1])B.push([d,s,1,0],[s,-d,0,1]);var U=R.sW.Vd(B),M=b(linear.invert(b(U,B)),U);M.pop();M.pop();u.push(M);
var W=X-_,n=o-V,e=O[i[1]?1:0];e=R.sW.I5(e,b([[W,n],[n,-W]],M));var Q=[A*2,A*2+1,H*2,H*2+1,F*2,F*2+1,T*2,T*2+1],J=i[1]?8:6,m=[];
for(var p=0;p<J;p++)m.push([Q[p],e[0][p],e[1][p]]);m.sort(function(jo,g5){return jo[0]-g5[0]});for(var L=0;
L<2;L++){for(var p=0;p<J;p++){t[p]=m[p][0];$[p]=m[p][1+L]}h.pn($,t,J)}if(A<H)z.pn([-1,1],[A,H],2);else z.pn([1,-1],[H,A],2);
g++}for(var P=0;P<N.length;P++){var eJ=N[P];h.pn([S],[eJ*2],1);h.pn([S],[eJ*2+1],1);z.pn([S],[eJ],1)}var hy=h.Vd(),v=hy.Kj(hy),ff=z.Vd(),K=ff.Kj(ff);
return{alp:w,Cn:q,aqJ:hy,a5_:v,a8i:ff,a01:K,a1R:x,apb:u,oW:S}};R.hJ.abc=function(r,j,D,N,b){var Y=new bf(0,0,j,D),x=R.O(Y.Z());
R.ni(r,x,3);R.round(x,70);var C=R.FV(x,Y),w=[.1,.065,.035][N]*Math.max(C.d,C.r),q=b+1,u=j+q*2,h=D+q*2,z=new bf(-q,-q,u,h),O=R.O(z.Z());
R.YO(x,Y,O,z);var g=O.slice(0);for(var t=0;t<b;t++){for(var $=1;$<h-1;$++){for(var i=1;i<u-1;i++){var P=$*u+i;
g[P]=O[P-u]|O[P-1]|O[P]|O[P+1]|O[P+u]}}var A=g;g=O;O=A}var H=j2.r7(O,u,h,Math.round(C.Z()*5e-4)),F=j2.HG(H),T=new j9(1,0,0,1,-q,-q);
for(var P=0;P<F.length;P++){var _=F[P];R.K.F(_.path.v,T,_.path.v);_.Tg=R.hJ.abb(_.path);_.BX=R.K.aih(_.Tg);
_.BX=R.H$.apd(_.Tg,_.BX,w)}return F};R.hJ.abb=function(r){var j=[],D=r.v,N=r.J.length-1,b=0,Y=0;for(var x=0;
x<N;x++){var P=x*6,C=D[P+6]-D[P+0],w=D[P+7]-D[P+1],q=Math.ceil(Math.sqrt(C*C+w*w));for(var u=0;u<q;u++){var h=u/q,z=1-h,O=z*z*z*D[P+0]+3*z*z*h*D[P+2]+3*z*h*h*D[P+4]+h*h*h*D[P+6],g=z*z*z*D[P+1]+3*z*z*h*D[P+3]+3*z*h*h*D[P+5]+h*h*h*D[P+7];
j.push(O,g);b=O;Y=g}}j=R.K.n7(j,1);var t=[],$=j.length;for(var P=0;P<$;P+=2){var g=j.pop(),O=j.pop();
t.push(O,g)}return t};R.hJ.aeA=function(r,j,D,N){function b(X,o,c,E,f){var d=f[X*2]-f[o*2],s=f[X*2+1]-f[o*2+1],B=Math.sqrt(d*d+s*s);
if(c[X].indexOf(o)==-1){c[X].push(o);E[X].push(B)}if(c[o].indexOf(X)==-1){c[o].push(X);E[o].push(B)}}var Y=r.length>>>1,x=new Array(Y);
if(D.length==0){x.fill(0);return x}var C=new Array(Y),w=new Array(Y);for(var P=0;P<Y;P++){C[P]=[];w[P]=[]}for(var P=0;
P<j.length;P+=3){b(j[P],j[P+1],C,w,r);b(j[P],j[P+2],C,w,r);b(j[P+1],j[P+2],C,w,r)}var q=new Float64Array(Y*2),u=new Uint32Array(Y*2);
q.fill(1e9);var h=new Uint8Array(Y);for(var z=0;z<D.length;z++){h.fill(0);var O=["---",[0,D[z]]];while(O.length!=1){var g=R.be.ac7(O),t=g[0],$=g[1];
if(h[$]==1)continue;var i=$<<1;if(t<q[i]){q[i+1]=q[i];u[i+1]=u[i];q[i]=t;u[i]=z}else if(t<q[i+1]){q[i+1]=t;
u[i+1]=z}h[$]=1;var A=C[$],H=w[$];for(var P=0;P<A.length;P++){var F=A[P];if(h[F]!=1){R.be.a73(O,[t+H[P],F])}}}}for(var P=0;
P<Y;P++){var i=P<<1,T=q[i],_=q[i+1],V=1/(T+_);x[P]=(1-T*V)*N[u[i]]+(1-_*V)*N[u[i+1]]}return x};R.hJ.a1G=function(r){var j={J:[],v:[]},D=[r];
while(D.length!=0){var N=D.pop(),b=N.JO;if(N.aph instanceof Array||N.adS instanceof Array){j.J.push("M","L","L","L","Z");
j.v.push(b[0],b[1],b[2],b[1],b[2],b[3],b[0],b[3])}else D.push(N.aph,N.adS)}return j};R.hJ.hA=function(r,j,D,N,b,Y,x,C,w,q){var u=Math.round(q.length/3),h=new Array(u);
for(var P=0;P<u;P++)h[P]=P;h.sort(function(O,g){return w[q[O*3]]-w[q[g*3]]});for(var P=0;P<u;P++){var z=h[P]*3;
R.hJ.arN(q[z]*2,q[z+1]*2,q[z+2]*2,x,C,r,j,D,N,b,Y)}};R.hJ.arN=function(r,j,D,N,b,Y,x,C,w,q,u){var h=R.hJ.En,z=[r,j,D,1.2,1.2,1.2,0],O=[0,0,0,0],g=b[r],t=b[r+1],$=b[j],i=b[j+1],A=b[D],H=b[D+1],F=Math.max(0,Math.min(x-1,N[r])),T=Math.max(0,Math.min(x-1,N[j])),_=Math.max(0,Math.min(x-1,N[D])),V=Math.max(0,Math.min(C-1,N[r+1])),X=Math.max(0,Math.min(C-1,N[j+1])),o=Math.max(0,Math.min(C-1,N[D+1])),c=$-g,E=i-t,f=A-g,d=H-t,s=1/(c*d-f*E+1e-9),B=Math.max(0,Math.floor(Math.min(g,$,A))),a=Math.min(q,Math.ceil(Math.max(g,$,A))),U=Math.max(0,Math.floor(Math.min(t,i,H))),M=Math.min(u,Math.ceil(Math.max(t,i,H)));
for(var W=U;W<M;W++)for(var n=B;n<a;n++){var e=n+.5-g,Q=W+.5-t,J=(e*d-f*Q)*s,m=(c*Q-e*E)*s;if(J>=0&&m>=0&&J+m<=1){var p=1-J-m,L=F*p+T*J+_*m,S=V*p+X*J+o*m;
R.t.jw(L,S,Y,x,C,O);R.hJ.ahx(O,w,W*q+n<<2)}}};R.hJ.ahx=function(r,j,D){var N=j[D],b=j[D+1],Y=j[D+2],x=j[D+3],C=1-r[3]*(1/255);
j[D]=~~(.5+r[0]+N*C);j[D+1]=~~(.5+r[1]+b*C);j[D+2]=~~(.5+r[2]+Y*C);j[D+3]=~~(.5+r[3]+x*C)};R.hJ.En=function(){var r=function(D,N,b,Y){var x=Y[0],C=Y[1],w=Y[2],q=D[x+0],u=D[x+1],h=D[C+0],z=D[C+1],O=D[w+0],g=D[w+1],t=h-q,$=z-u,i=O-q,A=g-u,H=N-q,F=b-u,T=t*A-i*$,_=1/(T+1e-9),V=(H*A-i*F)*_,X=(t*F-H*$)*_;
if(V>=0&&X>=0&&V+X<=1){Y[3]=1-V-X;Y[4]=V;Y[5]=X;return 1}return 0},j=function(D,N,b,Y){var x=[0,0,0,0,0,0];
for(var P=0;P<N.length;P+=3){x[0]=N[P]*2;x[1]=N[P+1]*2;x[2]=N[P+2]*2;if(r(D,b,Y,x)==1)return!0}return!1};
return{ajJ:r,a2B:j}}();R.Xh={};R.Xh.akd=function(r,j,D){var N=R.O(j*D*4),b=!1;R.t.X$(r,j,D,N,[D,j,0,1,0,1,0,0]);
return[R.Xh.uw(r,j,D,b),R.Xh.uw(N,D,j,b)]};R.Xh.F=function(r,j){var D=!1,N=r[0],b=r[1],Y=N[1],x=N[2],C=N[3],w=j.d,q=j.r;
if(x==w&&C==q)Y=Y.slice(0);else if(C!=q){var u=R.O(x*q*4);R.Xh.Zt(b,q,u,D);Y=R.O(x*q*4);R.t.X$(u,q,x,Y,[x,q,0,1,0,1,0,0]);
if(x!=w){N=R.Xh.uw(Y,x,q,D);Y=R.O(w*q*4);R.Xh.Zt(N,w,Y,D)}}else if(x!=w){Y=R.O(w*C*4);R.Xh.Zt(N,w,Y,D)}return Y};
R.Xh.uw=function(r,j,D,N){var b=Date.now(),Y=new Uint16Array(j*D),x=1;R.Xh.a4z(r,j,D,Y);var C=Math.ceil(j/x),w=new Uint32Array(x),q=new Uint32Array(x),C=Math.floor(j/x);
for(var u=0;u<x;u++)q[u]=u<x-1?C:j-(x-1)*C;for(var h=0;h<D;h++){var P=h*j;for(var u=0;u<x;u++){var C=q[u];
for(var z=0;z<C;z++)w[u]+=Y[P+z];P+=C}}if(N){console.log(Date.now()-b,"cost");b=Date.now()}var O=new Uint32Array(j),g=new Uint32Array(j),t=new Uint32Array(j*D);
for(var z=0;z<j;z++){t[(D-1)*j+z]=Y[(D-1)*j+z]}for(var h=D-2;h>=0;h--){var $=h*j;for(var u=0;u<x;u++){var C=q[u];
t[$]=Y[$]+Math.min(t[$+j],t[$+j+1]);for(var z=1;z<C-1;z++){var P=$+z;t[P]=Y[P]+Math.min(t[P+j-1],Math.min(t[P+j],t[P+j+1]))}$+=C-1;
t[$]=Y[$]+Math.min(t[$+j-1],t[$+j]);$++}}if(N){console.log(Date.now()-b,"Building M");b=Date.now()}function i(E,f){return E<f?E:f}function A(P,E){var f=g[P],d=t[E],s=~~(f*d*1e-4);
return s}var H=new Uint8Array(j*D),F=new Uint32Array(j);for(var P=0;P<j;P++){O[P]=P;g[P]=Y[P]}for(var h=1;
h<D;h++){var T=0,$=h*j;for(var u=0;u<x;u++){var C=q[u],P=$;F[T]=A(T,P);var _=F[T]+A(T+1,P+1),V=A(T,P+1)+A(T+1,P);
F[T+1]=i(_,V);for(var z=2;z<C;z++){var P=$+z,X=F[T+z-1]+A(T+z-1,P-1),o=F[T+z-2]+A(T+z-1,P-2)+A(T+z-2,P-1);
F[T+z]=i(X,o)}var z=C-1;while(z>=2){var P=$+z,X=F[T+z-1]+A(T+z-1,P-1),o=F[T+z-2]+A(T+z-1,P-2)+A(T+z-2,P-1);
if(F[T+z]==X){H[P-j]=1;z-=1}else{H[P-j]=0;H[P-j-1]=2;z-=2}}var P=$;if(z==0){H[P-j]=1}else{if(F[T+1]==_){H[P+1-j]=1;
H[P-j]=1}else{H[P+1-j]=0;H[P-j]=2}}$+=C;T+=C}R.Xh.age(h,j,H,Y,O,g,!0,b)}if(N){console.log(Date.now()-b,"Matching");
b=Date.now()}var c=Y;return[UZIP.adler(r,0,r.length),r,j,D,x,q,w,O,g,H,c]};R.Xh.Zt=function(r,j,D,N){var b=r.slice(0),Y=b.shift(),x=b.shift(),C=b.shift(),w=b.shift(),q=b.shift(),u=b.shift(),h=b.shift(),z=b.shift(),O=b.shift().slice(0),g=b.shift(),t=b.shift(),$=Date.now(),i=Math.abs(C-j),A=Math.floor(i/q),H=new Uint32Array(q),T=0,_=1e9,X=0,o=0,c=0;
for(var F=0;F<q;F++)H[F]=F<q-1?A:i-(q-1)*A;t.fill(0);for(var V=0;V<C;V++){T=Math.max(T,O[V]);_=Math.min(_,O[V])}for(var F=0;
F<q;F++){var E=u[F],A=H[F];for(var f=0;f<A;f++){var d=0,s=1e9;for(var V=0;V<E;V++)if(O[o+V]<s){s=O[o+V];
d=o+V}if(j<C)O[d]=1e9;else O[d]*=1.2;if(c<C/3)X+=s;var B=z[d],a=t[B],U=a<65280?65280:a+1;if(U<65280)throw"e";
for(var M=0;M<w;M++){var P=M*C+B;t[P]=U;B+=g[P]-1}c++}o+=E}if(N){console.log(Date.now()-$,"Removing best seams");
$=Date.now()}function W(P,e){var Q=P<<2,J=e<<2;D[Q]=x[J];D[Q+1]=x[J+1];D[Q+2]=x[J+2];D[Q+3]=x[J+3]}for(var M=0;
M<w;M++){var n=0,P=M*C;for(var V=0;V<j;V++,n++){if(j<C){while(t[P+n]==65280)n++;W(M*j+V,M*C+n)}else{W(M*j+V,M*C+n);
while(t[P+n]>=65280){t[P+n]--;V++;W(M*j+V,M*C+n)}}}}if(N){console.log(Date.now()-$,"Shifting image pixels");
$=Date.now()}};R.Xh.age=function(r,j,D,N,b,Y){var x=0,P=r*j;while(x<j){if(D[P-j]==1){Y[x]=Y[x]+N[P];
x++;P++}else{var C=b[x];b[x]=b[x+1];b[x+1]=C;var w=Y[x];Y[x]=Y[x+1]+N[P];Y[x+1]=w+N[P+1];x+=2;P+=2}}};
R.Xh.a4z=function(r,j,D,N){function b(r,P,w){var h=P<<2,z=w<<2,O=r[h]-r[z],g=r[h+1]-r[z+1],t=r[h+2]-r[z+2];
return Math.abs(O)+Math.abs(g)+Math.abs(t)}for(var Y=1;Y<j;Y++){var x=b(r,Y,Y-1);N[Y-1]+=x;N[Y]+=x}for(var C=1;
C<D;C++){var w=C*j,x=b(r,w,w-j);N[w]+=x;N[w-j]+=x;for(var Y=1;Y<j;Y++){var P=C*j+Y,q=b(r,P,P-1),u=b(r,P,P-j);
N[P-j]+=u;N[P-1]+=q;N[P]+=u+q}}for(var C=0;C<D;C++){N[C*j]*=2;N[C*j+j-1]*=2}for(var P=0;P<N.length;P++)if(N[P]==0)N[P]=1};
R.SK=function(){var r=0,j=0,N=15,Y=256;function D(u,h,z,O,g,t){var $=(g-1)*h,i=t*h;return u[i+O]-u[i+z-1]-u[$+O]+u[$+z-1]}var b=Math.round(N/8),x=[];
function C(u,h){for(var z=0;z<h.length;z++){var O=h[z],g=0,t=0,$=u[O.Ol],i=$.RB,A=$.oW,H=$.qg;for(var F=-N;
F<=N;F++)for(var T=-N;T<=N;T++){var _=T+O.ao2,V=F+O.acS;if(T*T+F*F>N*N||_<0||V<0||_>=A||V>=A)continue;
var X=i[V*A+_];g+=T*X;t+=F*X}O.Ir=Math.atan2(t,g)}}function w(u,h,z,O,g){var t=~~(u+.5),$=~~(h+.5);return D(z,O,t-b,t+b,$-b,$+b)}function q(u,h,z,O,g){r=O;
j=g;if(x.length==0){var t=new R.U.iv(16200817),H=8,F=0;function $(ff){var c=ff[0]-ff[2],E=ff[1]-ff[3];
return c*c+E*E}function i(){var ff=0,K=0;while(ff===0)ff=t.get();while(K===0)K=t.get();return Math.sqrt(-2*Math.log(ff))*Math.cos(2*Math.PI*K)}var A=i,T=[];
while(F!=Y){var _=Math.max(-N,Math.min(N,A()*H)),V=Math.max(-N,Math.min(N,A()*H)),X=Math.max(-N,Math.min(N,A()*H)),o=Math.max(-N,Math.min(N,A()*H)),c=_-X,E=V-o,f=Math.sqrt(c*c+E*E);
if(f<3||f>12)continue;x.push(_,V,X,o);F++}}var d=20;for(var s=0;s<h.length;s++){var B=h[s],a=u[B.Ol],U=a.Ud,z=a.RB,O=a.oW,g=a.qg,M=B.ao2,W=B.acS,n=B.Ir,e=Math.cos(n),Q=Math.sin(n),J=new Uint8Array(Y>>>3);
B.Q4=J;for(var P=0;P<Y;P++){var m=P*4,_=x[m+0],V=x[m+1],X=x[m+2],o=x[m+3],p=e*_-Q*V,L=Q*_+e*V,S=e*X-Q*o,eJ=Q*X+e*o,hy=w(M+p,W+L,U,O,g),v=w(M+S,W+eJ,U,O,g);
J[P>>>3]|=(hy<v?0:1)<<(P&7)}}}return{aqh:C,ala:q}}();R.ads=function(){var r=0,j=0;function D(Y,x,C,w,q,u){var h=(q-1)*x,z=u*x;
return Y[z+w]-Y[z+C-1]-Y[h+w]+Y[h+C-1]}function N(Y,x,C){var w=new Uint32Array(x*C);w[0]=Y[0];for(var q=1;
q<x;q++)w[q]=w[q-1]+Y[q];for(var u=1;u<C;u++){var P=u*x;w[P]=w[P-x]+Y[P];for(var q=1;q<x;q++)w[P+q]=Y[P+q]+w[P+q-1]+w[P+q-x]-w[P+q-x-1]}return w}function b(Y,x){var C=[[9]],w=Date.now(),q=[];
for(var u=0;u<Y.length;u++){var h=Y[u],z=h.Ud,O=r=h.oW,g=j=h.qg,i=9,V=1,W=24;if(z==null)continue;var t=new Float32Array(O*g),$=new Uint8Array(O*g),A=i>>>1,H=A>>>1,F=Math.round(i/3);
if(F!=i/3)throw"e";var T=1/(i*i),_=1.2*(i/9);for(var X=A+1;X<g-A;X+=V)for(var o=A+1;o<O-A;o+=V){var c=D(z,O,o-H,o+H,X-A,X+A)-3*D(z,O,o-H,o+H,X-A+F,X+A-F),E=D(z,O,o-A,o+A,X-H,X+H)-3*D(z,O,o-A+F,o+A-F,X-H,X+H),f=o-A+1,d=o+A-1,s=X-A+1,B=X+A-1,a=D(z,O,f,o-1,s,X-1)+D(z,O,o+1,d,X+1,B)-D(z,O,o+1,d,s,X-1)-D(z,O,f,o-1,X+1,B),U=(E*c-.9*a*(.9*a))*(T*T);
t[X*O+o]=Math.abs(U);$[X*O+o]=U<0?0:1}var M=O*V;for(var X=W;X<g-W;X+=V)for(var o=W;o<O-W;o+=V){var P=X*O+o,n=t[P];
if(n<16)continue;if(t[P-V]>=n||t[P+V]>=n)continue;if(t[P-M-V]>=n||t[P-M]>=n||t[P-M+V]>=n)continue;if(t[P+M-V]>=n||t[P+M]>=n||t[P+M+V]>=n)continue;
q.push({x:~~(o*h.Pq+.5),y:~~(X*h.Pq+.5),ao2:o,acS:X,Ol:u,m:n,aqy:$[P],z1:_})}}if(x!=null){q.sort(function(eJ,hy){return hy.m-eJ.m});
q=q.slice(0,x)}return q;var e=[];for(var P=0;P<q.length;P++){var Q=!0,J=q[P];for(var m=0;m<q.length;
m++){var p=q[m];if(m!=P&&p.m>J.m&&(p.Ol==J.Ol+1||p.Ol==J.Ol-1)){var L=J.x-p.x,S=J.y-p.y;if(L*L+S*S<5){Q=!1;
break}}}if(Q)e.push(J)}console.log(q.length,e.length);return e}return{aq$:b}}();R.On={};R.On.agj=function(r){var j=r.length,D=R.On.po(r,!1),b=0,Y=1;
throw"e";var N=[];for(var P=0;P<j;P++)N[P]=R.On.lB(D[P]);var x=r[0][1],C=R.On.match(D[b],D[Y],N[Y]);
console.log(C.length);var w=Math.max(Math.min(C.length,40),C.length*.54);w=Math.min(w,200);var q=C.slice(0,w),u=R.P6.agu(D[b],D[Y],q,x.d,x.r),h=R.P6.a6V(u,[0,0,0],1),z=x.d/2,O=x.r/2,g=1/Math.max(z,O);
for(var P=0;P<1;P++){var t=q[P],$=D[b][t[0]],i=D[Y][t[1]],A=R.P6.al4(h,g*($.x-z),g*($.y-O),g*(i.x-z),g*(i.y-O))}var H=R.P6.amI(u,x),F=[];
for(var P=0;P<2;P++){var T=H[P],_=[T[0][0],T[0][1],T[0][2],T[1][0],T[1][1],T[1][2],T[2][0],T[2][1]],V=I.T.zH(r[P],null,_);
F.push([V.buffer,V.rect])}return[R.On.a71(F[0],F[1],D[b],D[Y],q,u,H,x)]};R.On.gK=function(r,j){var D=r.length,N=!1,b=Date.now(),Y=R.On.po(r,!1,1e4);
if(N)console.log("Descriptors ready",Date.now()-b);b=Date.now();for(var P=0;P<D;P++){var x=r[P][1];for(var C=0;
C<Y[P].length;C++){Y[P][C].x+=x.x;Y[P][C].y+=x.y}}if(N)console.log("shifted",Date.now()-b);b=Date.now();
var w=[];for(var P=0;P<D;P++)w[P]=R.On.lB(Y[P]);if(N)console.log("trees built",Date.now()-b);b=Date.now();
var q=[];for(var P=0;P<D-1;P++)for(var C=P+1;C<D;C++){var u=R.On.match(Y[P],Y[C],w[C]);if(N)console.log("Matches found",P,C,u.length);
u=u.slice(0,u.length>>>1);if(u.length<10)return null;var h=R.On.ae6(Y[P],Y[C],u,2);q.push([P,C,u,h])}q.sort(function(o,c){return c[2].length-o[2].length});
if(N)console.log("Matches found",Date.now()-b);b=Date.now();var z=[],O=new UnionFind(D);for(var P=0;
P<q.length;P++){var g=q[P],t=O.find(g[0]),$=O.find(g[1]);if(t!=$){z.push(g);O.link(t,$)}}var i=[];for(var P=0;
P<D;P++)i[P]=[1,0,0,0,1,0,0,0];var A=[0],H=new Uint8Array(D);H[A[0]]=1;while(A.length!=0){var $=A.pop(),h=i[$],F=[];
for(var P=0;P<z.length;P++){var g=z[P],T=g[0],_=g[1];if(T==$&&H[_]==0){i[_]=R.t.JF(h,g[3]);A.push(_);
H[_]=1}if(_==$&&H[T]==0){i[T]=R.t.JF(h,R.t.gq(g[3]));A.push(T);H[T]=1}}}if(j==null){var V=[];for(var P=0;
P<D;P++)V.push([i[P][2],P]);V.sort(function(o,c){return o[0]-c[0]});j=V[V.length>>>1][1]}var X=R.t.gq(i[j]);
for(var P=0;P<D;P++)i[P]=R.t.JF(i[P],X);if(N)console.log("Transforms reordered",Date.now()-b);b=Date.now();
return i};R.On.po=function(r,j,D){var N=[],b=!1;for(var P=0;P<r.length;P++){var Y=r[P][0],x=r[P][1],C=x.d,w=x.r,q=R.O(x.Z());
R.$d(Y,q);var u=Date.now(),h=R.On.afk(q,x,!0);if(b)console.log("Pyramid built ---------------",Date.now()-u);
u=Date.now();var z=R.ads.aq$(h,D);if(b)console.log("SURF Generation",Date.now()-u);u=Date.now();if(!j){R.SK.aqh(h,z);
if(b)console.log("ORB Orientations",Date.now()-u);u=Date.now();R.SK.ala(h,z,q,C,w);if(b)console.log("ORB Descriptors",Date.now()-u);
u=Date.now()}N.push(z)}return N};R.On.afk=function(r,j,D){function N(q,h,z){var g=new Uint32Array(h*z);
g[0]=q[0];for(var t=1;t<h;t++)g[t]=g[t-1]+q[t];for(var $=1;$<z;$++){var P=$*h;g[P]=g[P-h]+q[P];for(var t=1;
t<h;t++)g[P+t]=q[P+t]+g[P+t-1]+g[P+t-h]-g[P+t-h-1]}return g}var b=[],Y=[r,j];R.IX(Y);if(D){var x=R.uu(r,j),C=x.rect,w=[x.Iz,C];
R.IX(w)}for(var P=0;P<Y.length;P++){var q=Y[2*P],u=Y[2*P+1],h=u.d,z=u.r,O=Math.min(h,z);if(O<30)break;
if(O<1600)b.push({RB:q,oW:h,qg:z,Pq:1<<P,Ud:N(q,h,z)});if(!D)continue;var q=w[2*P],u=w[2*P+1],h=u.d,z=u.r,O=Math.min(h,z);
if(O<30)break;if(O<1600)b.push({RB:q,oW:h,qg:z,Pq:(1<<P)*3/2,Ud:N(q,h,z)})}return b};R.On.ae6=function(r,j,D,N){var b=Date.now(),Y,x=0,C=0,w=D.length,q=new Float64Array(2);
for(var u=0;u<3e3;u++){var h=~~(Math.random()*w),z=~~(Math.random()*w),O=~~(Math.random()*w),g=~~(Math.random()*w),s=0,B=0;
if(h==z||h==O||h==g||z==O||z==g||O==g)continue;var t=D[h],$=D[z],i=D[O],A=D[g],H=r[t[0]],F=j[t[1]],T=r[$[0]],_=j[$[1]],V=r[i[0]],X=j[i[1]],o=r[A[0]],c=j[A[1]],E=[H.x,H.y,T.x,T.y,V.x,V.y,o.x,o.y],f=[F.x,F.y,_.x,_.y,X.x,X.y,c.x,c.y],d=R.t.Vq(E,f);
if(d[0]==0&&d[1]==0&&d[3]==0&&d[4]==0)continue;var a=w-x+2;for(var P=0;P<w&&P-s<a;P++){var U=r[D[P][0]],M=j[D[P][1]];
R.t.VP(M.x,M.y,d,q);var W=q[0]-U.x,n=q[1]-U.y,e=W*W+n*n;if(e<N){s++;B+=e}}if(s>x||s==x&&B<C){Y=d;x=s;
C=B}}return Y};var hG=new Uint8Array(256);for(var P=0;P<256;P++){var aS=0,eK=P;while(eK!=0){eK=eK&eK-1;
aS++}hG[P]=aS}R.On.apy=function(r,j,D){var N=0,b=r.length;for(var P=0;P<b&&N<D;P++)N+=hG[r[P]^j[P]];
return N};R.On.aim=function(r,j,D,top,N){if(N[D]==1)return;var b=R.On.apy(r.Q4,j.Q4,top[0]);if(b<top[0]){if(b<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=b;top[3]=D}else{top[0]=b;top[1]=D}}N[D]=1};R.On.lB=function(r){var j=[],D=[],N=[[],[]],b=4;
for(var P=0;P<r.length;P++)(r[P].aqy==0?j:D).push(P);for(var Y=0;Y<2;Y++){var x=new Array(b),C=[],w=Y==0?j:D,q=w.length/256,u=[];
for(var h=0;h<32;h++){var z=new Array(256),t=0;for(var O=0;O<256;O++)z[O]=[];for(var O=0;O<w.length;
O++){var g=w[O];z[r[g].Q4[h]].push(g)}for(var O=0;O<256;O++)t+=Math.abs(z[O].length-q);u.push([t,h,z])}u.sort(function($,i){return $[0]-i[0]});
var C=[],x=[];N[Y]=[C,x];for(var P=0;P<b;P++){C.push(u[P][1]);x.push(u[P][2])}}return N};R.On.match=function(r,j,D){var N=[],b=new Uint16Array(j.length);
b.fill(65535);var Y=new Uint8Array(j.length),top=new Uint32Array(4),x=[];for(var C=0;C<r.length;C++){var w=r[C],q=w.Q4;
top.fill(1e6);Y.fill(0);var u=D[w.aqy];for(var h=0;h<u[1].length;h++){var z=u[1][h][q[u[0][h]]];for(var O=0;
O<z.length;O++){var g=z[O];R.On.aim(w,j[g],g,top,Y)}}if(top[2]<50&&top[2]<top[0]*.5){var t=b[top[3]];
if(t==65535){b[top[3]]=N.length;N.push([C,top[3],top[2]])}else if(top[2]<N[t][2]){N[t]=[C,top[3],top[2]]}}}N.sort(function($,i){return $[2]-i[2]});
return N};R.On.aqE=function(r){var j=new bf;for(var P=0;P<r.length;P++)j=j.zs(r[P][1]);var D=R.O(j.Z()*4);
for(var P=0;P<r.length;P++)R.U.tI("norm",r[P][0],r[P][1],D,j,j,1);return[D,j]};R.On.a71=function(r,j,D,N,b,Y,x,C){var w=r[1].clone(),q=w.clone();
w.x=w.y=0;var u=j[1].clone(),h=u.clone();u.x=u.y=0;u.x=w.d;var z=w.zs(u),O=h.y-q.y,g=R.O(z.Z()*4);R.UB(r[0],w,g,z);
R.UB(j[0],new bf(u.x,u.y+O,u.d,u.r),g,z);var t=document.createElement("canvas");t.width=z.d;t.height=z.r;
var $=t.getContext("2d");$.lineWidth=.5;$.putImageData(new ImageData(new Uint8ClampedArray(g.buffer),z.d,z.r),0,0);
if(Y){var i=Y[0],A=R.sW.Vd(i),H=w.d,F=C.d;for(var P=0;P<b.length;P++){var T=b[P],r=D[T[0]],j=N[T[1]];
$.strokeStyle="#"+"ff0000";$.beginPath();var _=R.P6.ahU(A,x[0],j,0,F),V=R.P6.ahU(i,x[1],r,0,F);$.moveTo(-q.x+_[0],-q.y+_[1]);
$.lineTo(-q.x+_[2],-q.y+_[3]);$.moveTo(H-h.x+V[0],-h.y+O+V[1]);$.lineTo(H-h.x+V[2],-h.y+O+V[3]);$.stroke()}}if(b){var X=b.length;
for(var P=0;P<X;P++){var T=b[P],r=D[T[0]],j=N[T[1]];$.strokeStyle="#"+"ffff00"}}var o=new Uint8Array($.getImageData(0,0,z.d,z.r).data.buffer);
if(!1){for(var c=0;c<2;c++){var E=c==0?D:N,f=c*w.d;for(var P=0;P<E.length;P++){var d=E[P],s=~~d.x,B=~~d.y,a=(B*z.d+s+f)*4;
o[a+1]=o[a+2]=d.a3S*60;o[a+0]=0;o[a+3]=255}}}return[o,z]};R.stack={};R.stack.stack=function(r,j,D){var N=r.length,b=j.length;
if(N==1){j.set(r[0]);return}if(D=="avrg"||D=="stdv"||D=="summ"||D=="vari"){var Y=1/N;for(var P=0;P<b;
P++){var x=0;for(var C=0;C<N;C++)x+=r[C][P];var w=~~(x*Y+.5);if(D=="avrg"||(P&3)==3)j[P]=w;else if(D=="summ")j[P]=255*Math.pow(Math.min(255,x)*(1/255),1/2.4);
else{var q=0;for(var C=0;C<N;C++){var u=r[C][P]-w;q+=u*u}var h=Math.sqrt(q*Y)*(1/255);if(D=="stdv")j[P]=255*Math.pow(h,1/2.4);
else j[P]=255*Math.pow(h*h,1/2.4)}}}else if(D=="maxx"){for(var P=0;P<b;P++){var z=0;for(var C=0;C<N;
C++)z=Math.max(z,r[C][P]);j[P]=z}}else if(D=="minn"){for(var P=0;P<b;P++){var z=255;for(var C=0;C<N;
C++)z=Math.min(z,r[C][P]);j[P]=z}}else if(D=="medn"||D=="rang"){var O=function(i,A){return i-A},g=new Array(N),t=0,$=0;
if(N%1==0){$=N>>>1;t=$-1}else{t=$=N>>>1}for(var P=0;P<b;P++){for(var C=0;C<N;C++)g[C]=r[C][P];g.sort(O);
if(D=="medn")j[P]=g[t]+g[$]>>>1;else j[P]=(P&3)==3?g[N-1]:g[N-1]-g[0]}}else console.log(D)};R.Dh={};
R.Dh.hq=function(r,j,D,N){var b=Date.now(),Y=new Uint32Array(j*D),x=new Uint8Array(j*D),C=[],O=0;for(var w=0;
w<D;w++){for(var q=0;q<j;q++){var P=w*j+q;if(x[P]==0){var u=C.length,h=R.Dh.qP(r,j,D,q,w,x,Y,u);C.push([u,q,w,h[0],h[1],r[P]])}}}x.fill(0);
var z=[];for(var P=0;P<C.length;P++)if(C[P][3]<=N)z.push(C[P]);z.sort(function(X,o){return X[3]-o[3]});
for(var P=0;P<z.length;P++){var h=z[P],g=h[4],t=0,$=0;if(h[3]>N)continue;for(var i=0;i<g.length;i+=2){var A=g[i],H=g[i+1],F=H*j+A,T=Y[F],_=C[T][3],V=C[T][5];
if(_>$){t=T;$=_}}if($==0)throw"e";R.Dh.akf(r,j,D,h,C[t],x,Y);O++}};R.Dh.akf=function(r,j,D,N,b,Y,x){R.Dh.ag4(r,j,D,N[1],N[2],b[5],Y,x,b[0]);
b[3]+=N[3];N[3]=0;var C=N[4],w=b[4];for(var q=0;q<C.length;q++)w.push(C[q]);R.Dh.afr(Y,j,D,N[1],N[2])};
R.Dh.afr=function(r,j,D,N,b){var Y=[N,b];r[b*j+N]=2;while(Y.length!=0){var x=Y.pop(),C=Y.pop(),P=x*j+C;
r[P]=0;if(x!=D-1&&r[P+j]==1){Y.push(C,x+1);r[P+j]=2}if(x!=0&&r[P-j]==1){Y.push(C,x-1);r[P-j]=2}if(x!=j-1&&r[P+1]==1){Y.push(C+1,x);
r[P+1]=2}if(x!=0&&r[P-1]==1){Y.push(C-1,x);r[P-1]=2}}};R.Dh.ag4=function(r,j,D,N,b,Y,x,C,w){var q=[N,b],u=r[b*j+N],h=C[b*j+N];
x[b*j+N]=1;while(q.length!=0){var z=q.pop(),O=q.pop(),P=z*j+O;r[P]=Y;C[P]=w;if(z!=D-1&&x[P+j]==0&&C[P+j]==h){q.push(O,z+1);
x[P+j]=1}if(z!=0&&x[P-j]==0&&C[P-j]==h){q.push(O,z-1);x[P-j]=1}if(z!=j-1&&x[P+1]==0&&C[P+1]==h){q.push(O+1,z);
x[P+1]=1}if(z!=0&&x[P-1]==0&&C[P-1]==h){q.push(O-1,z);x[P-1]=1}}};R.Dh.qP=function(r,j,D,N,b,Y,x,C){var w=[N,b],q=r[b*j+N],u=0,h=[];
Y[b*j+N]=1;while(w.length!=0){var z=w.pop(),O=w.pop(),P=z*j+O;x[P]=C;u++;if(z!=D-1)if(r[P+j]==q){if(Y[P+j]==0){w.push(O,z+1);
Y[P+j]=1}}else h.push(O,z+1);if(z!=0)if(r[P-j]==q){if(Y[P-j]==0){w.push(O,z-1);Y[P-j]=1}}else h.push(O,z-1);
if(O!=j-1)if(r[P+1]==q){if(Y[P+1]==0){w.push(O+1,z);Y[P+1]=1}}else h.push(O+1,z);if(O!=0)if(r[P-1]==q){if(Y[P-1]==0){w.push(O-1,z);
Y[P-1]=1}}else h.push(O-1,z)}return[u,h]};R.Dh.anB=function(r,j,D,N,b){var Y=R.Dh.s4(r.buffer,j,D).KS,x=Date.now(),C=[];
for(var P=0;P<Y.length;P++){var w=Y[P],q=1;for(var u=0;u<q;u++)C.push(w.Jy)}var h=new Uint32Array(C),z=UPNG.quantize.getKDtree(new Uint8Array(h.buffer),N),O=[j,1,-j,-1,j+1,-j+1,-j-1,j-1,j+j,2,-j-j,-2,j+j-1,j+j+1,j+2,-j+2,-j-j+1,-j-j-1,-j-2,j-2,j+j+2,-j-j+2-j-j-2,j+j-2],g=new Uint8Array(j*D),t=r;
for(var $=0;$<D;$++)for(var i=0;i<j;i++){var P=$*j+i<<2,A=t[P]*(1/255),H=t[P+1]*(1/255),F=t[P+2]*(1/255),T=t[P+3]*(1/255),_=R.Dh.GP(z,A,H,F,T,b);
if(_==null){var V=[],X=0;while(X<20){var o=$*j+i+O[X]<<2,c=t[o]*(1/255),E=t[o+1]*(1/255),f=t[o+2]*(1/255),d=t[o+3]*(1/255),s=R.Dh.GP(z,c,E,f,d,.005);
if(s!=null){if(V.indexOf(s)==-1){V.push(s);s.n1=1}else s.n1++}X++}V.sort(function(T,F){return F.n1-T.n1});
while(V.length!=0&&V[V.length-1].n1<3)V.pop();if(V.length==0)_=R.Dh.GP(z,A,H,F,T,100);else if(V.length==1)_=V[0];
else if(V.length==2){var B=V[0],a=V[1],U=B.est.q,M=a.est.q,W=M[0]-U[0],n=M[1]-U[1],e=M[2]-U[2],Q=M[3]-U[3],J=A-U[0],m=H-U[1],p=F-U[2],L=T-U[3],S=W*W+n*n+e*e+Q*Q,eJ=J*J+m*m+p*p+L*L,hy=(J*W+m*n+p*e+L*Q)/S,v=eJ-hy*hy*S;
if(v<.5)_=hy<.5?B:a;else{_=R.Dh.GP(z,A,H,F,T,100)}}else{var B=V[0],a=V[1],ff=V[2],U=B.est.q,M=a.est.q,K=ff.est.q,jo=U[0]-K[0],g5=U[1]-K[1],fQ=U[2]-K[2],iT=U[3]-K[3],ac=M[0]-K[0],aR=M[1]-K[1],hV=M[2]-K[2],cu=M[3]-K[3],iy=K[0]-A,gr=K[1]-H,cp=K[2]-F,gP=K[3]-T,g7=jo*jo+g5*g5+fQ*fQ+iT*iT,j8=jo*ac+g5*aR+fQ*hV+iT*cu,dg=iy*jo+gr*g5+cp*fQ+gP*iT,gR=jo*ac+g5*aR+fQ*hV+iT*cu,em=ac*ac+aR*aR+hV*hV+cu*cu,fr=iy*ac+gr*aR+cp*hV+gP*cu,aU=1/(j8*gR-g7*em),hy=(em*dg-fr*j8)*aU,bb=(fr*g7-dg*gR)*aU,fZ=1-hy-bb,h1=Math.max(hy,bb,fZ);
if(h1==hy)_=B;else if(h1==bb)_=a;else _=ff}}g[P>>2]=_.ind}return{BX:g,KS:z[1]}};R.Dh.s4=function(r,j,D){var N=[],b={},Y=j-1,x=D-1,C=0,w=new Uint32Array(r),q=[-j-1,-j,-j+1,-1,1,j-1,j,j+1,j+j,2,-j-j,-2,j+j-1,j+j+1,j+2,-j+2,-j-j+1,-j-j-1,-j-2,j-2,j+j+2,-j-j+2-j-j-2,j+j-2];
for(var u=1;u<x;u++)for(var h=1;h<Y;h++){var z=u*j+h,O=w[z],g=!0;for(var P=0;P<8;P++)g=g&&w[z+q[P]]==O;
if(g){C++;var t=b[O];if(t==null){b[O]=N.length;N.push({Jy:O,vM:1})}else N[t].vM++}}return{KS:N,a2C:C}};
R.Dh.GP=function(r,j,D,N,b,Y){var x=UPNG.quantize.getNearest(r[0],j,D,N,b);return R.Dh.a39(x,j,D,N,b)<Y?x:null};
R.Dh.a39=function(r,j,D,N,b){var Y=r.est.q,x=j-Y[0],C=D-Y[1],w=N-Y[2],q=b-Y[3];return x*x+C*C+w*w+q*q};
R.Dh.fu=function(){function r(i,A,H,F,T,_){var V=[],X=_,o=_,c=_>>>2;for(var E=0;E<T;E++)for(var f=0;
f<F;f++){var d=~~((f+.5)*X),s=~~((E+.5)*o),B=1e9,a=Math.max(0,d-c),U=Math.min(A,d+c+1),M=Math.max(0,s-c),W=Math.min(H,s+c+1);
for(var n=M;n<W;n++)for(var e=a;e<U;e++){var Q=j(i,A,e,n);if(Q<B){d=e;s=n;B=Q}}var J=(s*A+d)*4;V.push(d,s)}return V}function j(i,A,H,F){var T=(F*A+H)*4,_=A*4,V=D(i,T-4,T)+D(i,T,T+4),X=D(i,T-_,T)+D(i,T,T+_);
return V+X}function D(i,A,H){var F=i[A]-i[H],T=i[A+1]-i[H+1],_=i[A+2]-i[H+2];return F*F+T*T+_*_}var N=0,b=0;
function Y(i,A,H,F){b++;if(F<N)N=F;i[F].push(A,H)}function x(i){b--;while(i[N].length==0)N++}function C(i,A,H,F,T){N=0;
b=0;var _=A*H,V=Math.round(Math.min(A,H)/(F?F:50)),a=0,U=16;if(V==0)V=1;var X=(T?T:30)/V,o=Math.floor(A/V),c=Math.floor(H/V),E=new Uint16Array(_);
for(var P=0;P<_;P++)E[P]=65535;var f=r(i,A,H,o,c,V),d=f.length>>>1;if(d>65535)throw d;var s=[];for(var P=0;
P<1e3+H;P++)s.push([]);var B=[0,1,0,-1,-1,0,1,0],M=Math.min(c,5),W=new Uint32Array(d*6);for(var n=0;
n<c;n+=M){var e=Math.min(n+M+1,c);for(var Q=n;Q<e;Q++)for(var J=0;J<o;J++){var P=Q*o+J,m=P*2,p=f[m+1]<<16|f[m];
Y(s,p,P,f[m+1]>>>U)}var L=Math.min(H,e*V);if(n+M>=c)L=H;while(b!=0){x(s);var S=s[N].pop(),eJ=s[N].pop(),hy=eJ>>>16,v=eJ&65535,P=hy*A+v;
if(E[P]==65535){var ff=S*6,K=P<<2;E[P]=S;W[ff]+=i[K];W[ff+1]+=i[K+1];W[ff+2]+=i[K+2];W[ff+3]+=v;W[ff+4]+=hy;
W[ff+5]++;var jo=hy>>>U;if(hy!=L-1&&E[P+A]==65535)Y(s,hy+1<<16|v,S,w(i,A,X,v,hy+1,W,ff)+jo);if(hy!=0&&E[P-A]==65535)Y(s,hy-1<<16|v,S,w(i,A,X,v,hy-1,W,ff)+jo);
if(v!=0&&E[P-1]==65535)Y(s,hy<<16|v-1,S,w(i,A,X,v-1,hy,W,ff)+jo);if(v!=A-1&&E[P+1]==65535)Y(s,hy<<16|v+1,S,w(i,A,X,v+1,hy,W,ff)+jo)}}if(L!=hy){var g5=(n+M)*o;
W.fill(0,g5*6,(g5+o)*6);for(var hy=(n+M-2)*V;hy<L;hy++)for(var v=0;v<A;v++){var P=hy*A+v;if(E[P]>=g5){E[P]=65535}}}}return{BX:E,YM:d,hI:W}}R.Dh.kU=function(i,A,H,F,T){var _=i.YM,V=A*H,X=i.hI,o=i.BX,c=O(F,o,_,V),E=new UnionFind(_),U=0;
for(var f=1;f<H;f++)for(var d=1;d<A;d++){var P=f*A+d,s=o[P],B=0;if((B=o[P-1])!=s&&c[B]==c[s]&&q(X,0,s*6,B*6)<T)E.link(s,B);
if((B=o[P-A])!=s&&c[B]==c[s]&&q(X,0,s*6,B*6)<T)E.link(s,B)}var a=new Uint16Array(_);a.fill(65535);var M=new Uint16Array(_);
for(var P=0;P<_;P++){var W=E.find(P);if(a[W]==65535)a[W]=U++;M[P]=a[W]}var n=new Uint16Array(V);for(var P=0;
P<V;P++)n[P]=M[o[P]];return{BX:n,YM:U}};R.Dh.adU=function(i,A,H,F){var T=R.O(H),_=A.length,V=0;for(var P=0;
P<_&&V!=3;P++){var X=F[P];if(X==0||X==255){var o=A[P],c=2-(X>>>7);T[o]=V=T[o]|c}}return V!=3};function w(i,A,H,F,T,_,V){var X=(T*A+F)*4,o=_[V+5],c=1/o,E=i[X]*o-_[V],f=i[X+1]*o-_[V+1],d=i[X+2]*o-_[V+2],s=F*o-_[V+3],B=T*o-_[V+4],a=Math.sqrt(E*E+f*f+d*d),U=Math.sqrt(s*s+B*B);
return~~((a+H*U)*c+.5)}function q(i,A,H,F){var T=1/i[H+5],_=1/i[F+5],V=i[H]*T-i[F]*_,X=i[H+1]*T-i[F+1]*_,o=i[H+2]*T-i[F+2]*_,c=i[H+3]*T-i[F+3]*_,E=i[H+4]*T-i[F+4]*_,f=Math.sqrt(V*V+X*X+o*o),d=Math.sqrt(c*c+E*E);
return~~(f+A*d+.5)}function u(i,A,H){var F=R.Y6(i,new bf(0,0,A,H)),T=F.rect.d,_=F.rect.r,V=C(F.Iz,T,_),X=V.BX,o=Date.now(),c=new Uint16Array(A*H);
c.fill(65535);for(var E=0;E<_;E++){for(var f=0;f<T;f++){var d=E*T+f,P=(E<<1)*A+(f<<1),s=X[d];if(X[d-T]!=s||X[d-1]!=s||X[d+1]!=s||X[d+T]!=s)s=65535;
c[P]=s;c[P+1]=s;c[P+A]=s;c[P+A+1]=s}}V.BX=c;return V}function h(i,A){var P=0,H=i.length;while(P!=H&&i[P]!=A)P+=2;
return P==H?-1:P}function z(i,P){if(P==i.length-2){i.pop();i.pop()}else{i[P+1]=i.pop();i[P]=i.pop()}}R.Dh.a0w=function(i,A,H,F,T){var _=new Uint32Array(T*4400),j=[];
for(var P=0;P<T;P++)j.push([]);for(var V=0;V<H;V++)for(var X=0;X<A;X++){var P=V*A+X,o=P<<2,c=F[P],E=0,f=i[o]>>>4,d=i[o+1]>>>4,s=i[o+2]>>>4;
_[c*4400+(f<<8|d<<4|s)]++;_[c*4400+4096]++;_[c*4400+4100+(f<<4|d)]++;_[c*4400+4360+f]++;if(X!=0&&(E=F[P-1])!=c&&h(j[c],E)==-1){j[c].push(E,0);
j[E].push(c,0)}if(V!=0&&(E=F[P-A])!=c&&h(j[c],E)==-1){j[c].push(E,0);j[E].push(c,0)}}for(var P=0;P<T;
P++){var s=j[P];for(var B=0;B<s.length;B+=2)s[B+1]=$(_,P,s[B])}return[_,j]};function O(i,A,H,F){var T=R.O(H);
for(var P=0;P<F;P++){var _=i[P];if(_==0||_==255)T[A[P]]=2-(_>>>7)}return T}R.Dh.a8X=function(i,A,H,F,T,_,V){var X=A*H,o=V[0],j=V[1],c=new UnionFind(F),E=O(T,i,F,X),f=-1,d=!0,s=0;
for(var P=0;P<F;P++)if(E[P]==1){if(f==-1)f=P;else c.link(P,f)}if(f==-1){for(var P=0;P<X;P++)_[P]=T[P]==255?255:0;
return}while(d){while(d){d=!1;for(var P=0;P<F;P++){if(E[P]==0){var B=g(j[P]);if(E[B]==1){E[P]=E[B];d=!0;
c.link(P,B)}}}}d=!0;s=0;while(d){d=!1;for(var P=0;P<F;P++){if(E[P]==0){var B=g(j[P]);if(E[B]==0){var a=P*4400,U=B*4400;
for(var M=0;M<4400;M+=2){o[a+M]+=o[U+M];o[a+M+1]+=o[U+M+1]}t(j,o,P,B);s++;E[B]=3;d=!0;c.link(P,B)}}}}d=s!=0}var W=c.find(f);
for(var P=0;P<F;P++)E[P]=c.find(P)==W?255:0;for(var P=0;P<X;P++){_[P]=E[i[P]]}for(var P=0;P<X;P++){var B=T[P];
if(B==0||B==255)_[P]=B}};function g(i){var A=0,H=0,F=i.length;for(var T=0;T<F;T+=2){var _=i[T+1];if(_>H){H=_;
A=T}}return i[A]}function t(j,i,A,H){var F=j[A],T=j[H];z(F,h(F,H));z(T,h(T,A));for(var P=0;P<T.length;
P+=2){var _=T[P],V=j[_];z(V,h(V,H));if(h(V,A)==-1){V.push(A,0);F.push(_,0)}}for(var P=0;P<F.length;P+=2){var _=F[P],V=j[_],X=$(i,A,_);
F[P+1]=X;V[h(V,A)+1]=X}}function $(i,A,H){var F=0,T=4096,_=A*4400,V=H*4400;for(var X=0;X<16;X++){if(i[_+4360+X]==0||i[V+4360+X]==0)continue;
for(var o=0;o<16;o++){var c=X<<4|o;if(i[_+4100+c]==0||i[V+4100+c]==0)continue;var E=_+(c<<4),f=V+(c<<4);
for(var P=0;P<16;P++)F+=Math.sqrt(i[E+P]*i[f+P])}}var d=F/Math.sqrt(i[_+T]*i[V+T]);return~~(999.99999*d)}return C}();
var j2=function(){function r(){this.Z=0;this.XW=0;this.iN={};this.T4=[];this.pF=1e5;this.In=1e5;this.Dy=-1;
this.V0=-1;this.color=0}function j(eK){this.Kq=eK;this.fJ=new Array(eK);this.Jy=new Array(eK*6);this.agW=0;
this.cY=new Array(eK*2);this.alpha=new Array(eK);this.t_=new Array(eK);this.yA=new Array(eK)}function D(b,Y,x,C){function w($,i,b,Y){return b[Y*i+$]}function q(P){var V=b.length;
while(P<V&&b[P]==0)P++;return P<V?P:-1}function u($,i,V){for(var P=2;P<5;P++){var X=0;for(var o=-P+1;
o<=P-1;o++){X+=w($+o,i+P-1,b,Y)==V?1:-1;X+=w($+P-1,i+o-1,b,Y)==V?1:-1;X+=w($+o-1,i-P,b,Y)==V?1:-1;X+=w($-P,i+o,b,Y)==V?1:-1}if(X>0)return 1;
else if(X<0)return 0}return 0}function h(V,g){var t=new r,$=V,i=g,X=0,o=1,c;t.color=b[g*Y+V];t.sign=w(V,g,b,Y)==t.color?"+":"-";
while(1){t.T4.push($,i);if($>t.Dy)t.Dy=$;if($<t.pF)t.pF=$;if(i>t.V0)t.V0=i;if(i<t.In)t.In=i;t.XW++;$+=X;
i+=o;t.Z-=$*o;if($==V&&i==g)break;var E=w($+(X+o-1>>1),i+(o-X-1>>1),b,Y)==t.color,f=w($+(X-o-1>>1),i+(o+X-1>>1),b,Y)==t.color;
if(f&&!E){if(C.m3=="right"||C.m3=="black"&&t.sign=="+"||C.m3=="white"&&t.sign=="-"||C.m3=="majority"&&u($,i,t.color)||C.m3=="minority"&&!u($,i,t.color)){c=X;
X=-o;o=c}else{c=X;X=o;o=-c}}else if(f){c=X;X=-o;o=c}else if(!E){c=X;X=o;o=-c}}return t}var z=0,O=[];
while(!0){var z=q(z);if(z==-1)break;var g=Math.floor(z/Y),t=h(z-g*Y,g);for(var P=0;P<t.T4.length-2;P+=2){var $=t.T4[P],i=t.T4[P+1],A=i*Y+$;
if($==t.T4[P+2]&&i+1==t.T4[P+3]&&b[A]!=0)j2.fill(A,b,Y,0)}if(t.Z>C.ahj)O.push(t)}for(var P=0;P<O.length;
P++)O[P].parent=-1;var H=Date.now();for(var P=1;P<O.length;P++){var F=O[P];for(var T=P-1;T>=0;T--){var _=O[T];
if(F.pF<_.pF||F.Dy>_.Dy||F.In<_.In||F.V0>_.V0)continue;if(!j2.a3C(_.T4,F.T4[0]+.5,F.T4[1]+.5))continue;
F.parent=T;break}}return O}function N(b,Y){function x(X,o,c,E,f){this.x=X;this.y=o;this.zU=c;this.sa=E;
this.R7=f}function C(X,eK){return(eK+X)%eK}function w(X,o,c,E){return X*E-c*o}function q(X,o,c,E){return X*c+o*E}function u(X,o,c){if(X<=c)return X<=o&&o<c;
else return X<=o||o<c}function h(X,o,c){var E=0;E+=o*X[0]*o;E+=o*X[1]*c;E+=o*X[2];E+=c*X[3]*o;E+=c*X[4]*c;
E+=c*X[5];E+=X[6]*o;E+=X[7]*c;E+=X[8];return E}function z(X,o,c){return o+X*(c-o)}function O(X,o,c,E){var f=Math.sign(c-X),d=-Math.sign(E-o);
return f*(c-X)-d*(E-o)}function g(X,o){return Math.sqrt(X*X+o*o)}function t(X,o,c,E,f){var d=1-X;return d*d*d*o+3*(d*d*X)*c+3*(X*X*d)*E+X*X*X*f}function $(X,o,c,E,f,d,s,B){var a=w(X,o,s,B),U=w(c,E,s,B),M=w(f,d,s,B),W=a-2*U+M,n=-2*a+2*U,e=a,Q=n*n-4*W*e;
if(W==0||Q<0)return-1;var J=Math.sqrt(Q),m=(-n+J)/(2*W),p=(-n-J)/(2*W);if(m>=0&&m<=1)return m;else if(p>=0&&p<=1)return p;
else return-1}function i(V){var P,X,o;V.LX=V.T4[0];V.a1D=V.T4[1];V.Eb=[];var c=V.Eb;c.push(new x(0,0,0,0,0));
for(P=0;P<V.XW;P++){X=V.T4[P<<1]-V.LX;o=V.T4[(P<<1)+1]-V.a1D;c.push(new x(c[P].x+X,c[P].y+o,c[P].zU+X*o,c[P].sa+X*X,c[P].R7+o*o))}}function A(V){var eK=V.XW,X=V.T4,o,c=new Array(eK),E=new Array(eK),f=new Array(4),d,s,B,a,U,M,W,n,e,Q,J,P,m,p,L,S,eJ,hy,v=0;
V.ie=new Array(eK);for(P=eK-1;P>=0;P--){if(X[P<<1]!=X[v<<1]&&X[(P<<1)+1]!=X[(v<<1)+1])v=P+1;E[P]=v}for(P=eK-1;
P>=0;P--){var ff=C(P+1,eK)<<1;f[0]=f[1]=f[2]=f[3]=0;o=(3+3*(X[ff]-X[P<<1])+(X[ff+1]-X[(P<<1)+1]))/2;
f[o]++;d=0;s=0;B=0;a=0;v=E[P];p=P;while(1){J=0;o=(3+3*Math.sign(X[v*2]-X[p*2])+Math.sign(X[v*2+1]-X[p*2+1]))/2;
f[o]++;if(f[0]&&f[1]&&f[2]&&f[3]){c[P]=p;J=1;break}e=X[v*2]-X[P*2];Q=X[v*2+1]-X[P*2+1];if(w(d,s,e,Q)<0||w(B,a,e,Q)>0){break}if(Math.abs(e)<=1&&Math.abs(Q)<=1){}else{U=e+(Q>=0&&(Q>0||e<0)?1:-1);
M=Q+(e<=0&&(e<0||Q<0)?1:-1);if(w(d,s,U,M)>=0){d=U;s=M}U=e+(Q<=0&&(Q<0||e<0)?1:-1);M=Q+(e>=0&&(e>0||Q<0)?1:-1);
if(w(B,a,U,M)<=0){B=U;a=M}}p=v;v=E[p];if(!u(v,P,p)){break}}if(J==0){W=Math.sign(X[v*2]-X[p*2]);n=Math.sign(X[v*2+1]-X[p*2+1]);
e=X[p*2]-X[P*2];Q=X[p*2+1]-X[P*2+1];L=w(d,s,e,Q);S=w(d,s,W,n);eJ=w(B,a,e,Q);hy=w(B,a,W,n);m=1e7;if(S<0){m=Math.floor(L/-S)}if(hy>0){m=Math.min(m,Math.floor(-eJ/hy))}c[P]=C(p+m,eK)}}m=c[eK-1];
V.ie[eK-1]=m;for(P=eK-2;P>=0;P--){if(u(P+1,c[P],m)){m=c[P]}V.ie[P]=m}for(P=eK-1;u(C(P+1,eK),m,V.ie[P]);
P--){V.ie[P]=m}}function H(V){function X(V,P,o){var eK=V.XW,e=V.T4,Q=V.Eb,J,m,p,L,S,E,eJ,hy,n,v,ff,K,jo,g5,fQ=0;
if(o>=eK){o-=eK;fQ=1}if(fQ==0){J=Q[o+1].x-Q[P].x;m=Q[o+1].y-Q[P].y;L=Q[o+1].sa-Q[P].sa;p=Q[o+1].zU-Q[P].zU;
S=Q[o+1].R7-Q[P].R7;E=o+1-P}else{J=Q[o+1].x-Q[P].x+Q[eK].x;m=Q[o+1].y-Q[P].y+Q[eK].y;L=Q[o+1].sa-Q[P].sa+Q[eK].sa;
p=Q[o+1].zU-Q[P].zU+Q[eK].zU;S=Q[o+1].R7-Q[P].R7+Q[eK].R7;E=o+1-P+eK}ff=(e[P<<1]+e[o<<1])/2-e[0];K=(e[(P<<1)+1]+e[(o<<1)+1])/2-e[1];
g5=e[o<<1]-e[P<<1];jo=-(e[(o<<1)+1]-e[(P<<1)+1]);eJ=(L-2*J*ff)/E+ff*ff;hy=(p-J*K-m*ff)/E+ff*K;n=(S-2*m*K)/E+K*K;
v=jo*jo*eJ+2*jo*g5*hy+g5*g5*n;return Math.sqrt(v)}var P,o,c,E,eK=V.XW,f=new Array(eK+1),d=new Array(eK+1),s=new Array(eK),B=new Array(eK+1),a=new Array(eK+1),U=new Array(eK+1),M,W,n;
for(P=0;P<eK;P++){n=C(V.ie[C(P-1,eK)]-1,eK);if(n==P){n=C(P+1,eK)}if(n<P){s[P]=eK}else{s[P]=n}}o=1;for(P=0;
P<eK;P++){while(o<=s[P]){B[o]=P;o++}}P=0;for(o=0;P<eK;o++){a[o]=P;P=s[P]}a[o]=eK;c=o;P=eK;for(o=c;o>0;
o--){U[o]=P;P=B[P]}U[0]=0;f[0]=0;for(o=1;o<=c;o++){for(P=U[o];P<=a[o];P++){W=-1;for(E=a[o-1];E>=B[P];
E--){M=X(V,E,P)+f[E];if(W<0||M<W){d[P]=E;W=M}}f[P]=W}}V.CQ=c;V.aj9=new Array(c);for(P=eK,o=c-1;P>0;o--){P=d[P];
V.aj9[o]=P}}function F(V){function X(V,P,M,s,B,iT){var eK=V.XW,ac=V.Eb,aR=0,n;while(M>=eK){M-=eK;aR+=1}while(P>=eK){P-=eK;
aR-=1}while(M<0){M+=eK;aR-=1}while(P<0){P+=eK;aR+=1}var hV=ac[M+1].x-ac[P].x+aR*ac[eK].x,cu=ac[M+1].y-ac[P].y+aR*ac[eK].y,iy=ac[M+1].sa-ac[P].sa+aR*ac[eK].sa,gr=ac[M+1].zU-ac[P].zU+aR*ac[eK].zU,cp=ac[M+1].R7-ac[P].R7+aR*ac[eK].R7,W=M+1-P+aR*eK;
s[iT]=hV/W;s[iT+1]=cu/W;var gP=(iy-hV*hV/W)/W,g7=(gr-hV*cu/W)/W,j8=(cp-cu*cu/W)/W,dg=(gP+j8+Math.sqrt((gP-j8)*(gP-j8)+4*g7*g7))/2;
gP-=dg;j8-=dg;if(Math.abs(gP)>=Math.abs(j8)){n=Math.sqrt(gP*gP+g7*g7);if(n!=0){B[iT]=-g7/n;B[iT+1]=gP/n}}else{n=Math.sqrt(j8*j8+g7*g7);
if(n!=0){B[iT]=-j8/n;B[iT+1]=g7/n}}if(n==0){B[iT]=B[iT+1]=0}}var o=V.CQ,c=V.aj9,eK=V.XW,E=V.T4,f=V.LX,d=V.a1D,s=new Array(o*2),B=new Array(o*2),a=new Array(o),U=new Array(3),P,M,W,n,m,p,L,S,eJ,hy,v;
V.iN=new j(o);for(P=0;P<o;P++){M=c[C(P+1,o)];M=C(M-c[P],eK)+c[P];s[P<<1]=0;s[(P<<1)+1]=0;B[P<<1]=0;B[(P<<1)+1]=0;
X(V,c[P],M,s,B,P<<1)}for(P=0;P<o;P++){a[P]=[0,0,0,0,0,0,0,0,0];var e=B[P<<1]*B[P<<1]+B[(P<<1)+1]*B[(P<<1)+1],Q=1/e;
if(e!=0){U[0]=B[(P<<1)+1];U[1]=-B[P<<1];U[2]=-U[1]*s[(P<<1)+1]-U[0]*s[P<<1];for(n=0;n<3;n++){a[P][n*3+0]=U[n]*U[0]*Q;
a[P][n*3+1]=U[n]*U[1]*Q;a[P][n*3+2]=U[n]*U[2]*Q}}}var J=[0,0,0,0,0,0,0,0,0];for(P=0;P<o;P++){J[0]=J[1]=J[2]=J[3]=J[4]=J[5]=J[6]=J[7]=J[8]=J[9]=0;
var ff=E[c[P]<<1]-f,K=E[(c[P]<<1)+1]-d,jo=0,g5=0;M=C(P-1,o);for(n=0;n<9;n+=3){J[n+0]=a[M][n+0]+a[P][n+0];
J[n+1]=a[M][n+1]+a[P][n+1];J[n+2]=a[M][n+2]+a[P][n+2]}while(1){var fQ=J[0]*J[4]-J[1]*J[3];if(fQ!=0){jo=(-J[2]*J[4]+J[5]*J[0])/fQ;
g5=(J[2]*J[3]-J[5]*J[0])/fQ;break}if(J[0]>J[4]){U[0]=-J[1];U[1]=J[0]}else if(J[4]){U[0]=-J[4];U[1]=J[3]}else{U[0]=1;
U[1]=0}var e=U[0]*U[0]+U[1]*U[1],Q=1/e;U[2]=-U[1]*K-U[0]*ff;for(n=0;n<3;n++){J[n*3+0]+=U[n]*U[0]*Q;J[n*3+1]+=U[n]*U[1]*Q;
J[n*3+2]+=U[n]*U[2]*Q}}m=Math.abs(jo-ff);p=Math.abs(g5-K);if(m<=.5&&p<=.5){V.iN.cY[P<<1]=jo+f;V.iN.cY[(P<<1)+1]=g5+d;
continue}L=h(J,ff,K);eJ=ff;hy=K;if(J[0]!=0){for(v=0;v<2;v++){g5=K-.5+v;jo=-(J[1]*g5+J[2])/J[0];m=Math.abs(jo-ff);
S=h(J,jo,g5);if(m<=.5&&S<L){L=S;eJ=jo;hy=g5}}}if(J[4]!=0){for(v=0;v<2;v++){jo=ff-.5+v;g5=-(J[3]*jo+J[5])/J[4];
p=Math.abs(g5-K);S=h(J,jo,g5);if(p<=.5&&S<L){L=S;eJ=jo;hy=g5}}}for(n=0;n<2;n++){for(W=0;W<2;W++){jo=ff-.5+n;
g5=K-.5+W;S=h(J,jo,g5);if(S<L){L=S;eJ=jo;hy=g5}}}V.iN.cY[P<<1]=eJ+f;V.iN.cY[(P<<1)+1]=hy+d}}function T(V){var X=V.iN.Kq,o=V.iN,P,c,E,f,d,s,B,a,U;
for(P=0;P<X;P++){c=C(P+1,X);E=C(P+2,X);var M=o.cY[P<<1],W=o.cY[(P<<1)+1],n=o.cY[E<<1],e=o.cY[(E<<1)+1],Q=o.cY[c<<1],J=o.cY[(c<<1)+1],m=z(.5,n,Q),p=z(.5,e,J);
d=O(M,W,n,e);if(d!=0){f=w(Q-M,J-W,n-M,e-W)/d;f=Math.abs(f);s=f>1?1-1/f:0;s=s*(1/.75)}else{s=4/3}o.t_[c]=s;
var L=3*c<<1;if(s>=Y.a6m){o.fJ[c]=0;o.Jy[L+0]=o.Jy[L+1]=0;o.Jy[L+2]=Q;o.Jy[L+3]=J;o.Jy[L+4]=m;o.Jy[L+5]=p}else{if(s<.55){s=.55}else if(s>1){s=1}var S=.5+.5*s;
o.fJ[c]=1;o.Jy[L]=z(S,M,Q);o.Jy[L+1]=z(S,W,J);o.Jy[L+2]=z(S,n,Q);o.Jy[L+3]=z(S,e,J);o.Jy[L+4]=m;o.Jy[L+5]=p}o.alpha[c]=s;
o.yA[c]=.5}o.a6D=1}function _(V){function X(){this.wz=0;this.Bw=0;this.N_=0;this.pR=0;this.kM=0;this.cK=0;
this.z1=0;this.alpha=0}function o(V,P,M,em,fr,eJ,hy){var E=V.iN.Kq,aU=V.iN.Jy,bb=V.iN.cY;if(P==M)return 1;
var fZ=P,Q=C(P+1,E),h1=C(fZ+1,E),gr=bb[P<<1],cp=bb[(P<<1)+1],ar=bb[Q<<1],gt=bb[(Q<<1)+1],gX=eJ[h1];if(gX==0)return 1;
var dK=g(gr-ar,cp-gt);for(fZ=h1;fZ!=M;fZ=h1){var h1=C(fZ+1,E),ay=C(fZ+2,E),hh=bb[h1<<1],b7=bb[(h1<<1)+1],cV=bb[ay<<1],bj=bb[(ay<<1)+1];
if(eJ[h1]!=gX)return 1;if(Math.sign(w(ar-gr,gt-cp,cV-hh,bj-b7))!=gX)return 1;if(q(ar-gr,gt-cp,cV-hh,bj-b7)<dK*g(hh-cV,b7-bj)*-.999847695156)return 1}var bW=C(P,E)*3+2<<1,bu=C(P+1,E)<<1,da=C(M,E)<<1,dj=C(M,E)*3+2<<1,iT=aU[bW],ac=aU[bW+1],e_=bb[bu],de=bb[bu+1],aM=bb[da],g2=bb[da+1],g9=aU[dj],hr=aU[dj+1],v=bb[0],ff=bb[1];
bW=M*3+2<<1;var bD=aU[bW],iG=aU[bW+1],J=hy[M]-hy[P];J-=w(bD-v,iG-ff,bD-v,iG-ff)/2;if(P>=M){J+=hy[E]}var iF=e_-iT,i3=de-ac,bI=aM-iT,fE=g2-ac,ih=g9-iT,dD=hr-ac,aQ=w(iF,i3,bI,fE),dn=w(iF,i3,ih,dD),df=w(bI,fE,ih,dD),ba=aQ+df-dn;
if(dn==aQ)return 1;var S=df/(df-ba),L=dn/(dn-aQ),h8=dn*S/2;if(h8==0)return 1;var eS=J/h8,m=2-Math.sqrt(4-eS/.3);
em.Bw=z(S*m,iT,e_);em.N_=z(S*m,ac,de);em.pR=z(L*m,g9,aM);em.kM=z(L*m,hr,g2);em.alpha=m;em.cK=S;em.z1=L;
e_=em.Bw;de=em.N_;aM=em.pR;g2=em.kM;em.wz=0;for(fZ=C(P+1,E);fZ!=M;fZ=h1){h1=C(fZ+1,E);var ek=bb[fZ<<1],c9=bb[(fZ<<1)+1],hh=bb[h1<<1],b7=bb[(h1<<1)+1];
S=$(e_-iT,de-ac,aM-e_,g2-de,g9-aM,hr-g2,hh-ek,b7-c9);if(S<-.5)return 1;var dB=t(S,iT,e_,aM,g9),gd=t(S,ac,de,g2,hr),dK=g(hh-ek,b7-c9);
if(dK==0)return 1;var bU=w(hh-ek,b7-c9,dB-ek,gd-c9)/dK;if(Math.abs(bU)>fr)return 1;if(q(hh-ek,b7-c9,dB-ek,gd-c9)<0||q(ek-hh,c9-b7,dB-hh,gd-b7)<0){return 1}em.wz+=bU*bU}for(fZ=P;
fZ!=M;fZ=h1){h1=C(fZ+1,E);var bW=fZ*3+2<<1,bu=h1*3+2<<1,fp=aU[bW],i7=aU[bW+1],h7=aU[bu],h_=aU[bu+1];
S=$(e_-iT,de-ac,aM-e_,g2-de,g9-aM,hr-g2,h7-fp,h_-i7);if(S<-.5)return 1;var dB=t(S,iT,e_,aM,g9),gd=t(S,ac,de,g2,hr),dK=g(h7-fp,h_-i7);
if(dK==0)return 1;var bU=w(h7-fp,h_-i7,dB-fp,gd-i7)/dK,jy=w(h7-fp,h_-i7,bb[h1<<1]-fp,bb[(h1<<1)+1]-i7)/dK;
jy*=.75*V.iN.alpha[h1];if(jy<0){bU=-bU;jy=-jy}if(bU<jy-fr)return 1;if(bU<jy){em.wz+=(bU-jy)*(bU-jy)}}return 0}var c=V.iN,E=c.Kq,f=c.cY,d=new Array(E+1),s=new Array(E+1),B=new Array(E+1),a=new Array(E+1),U,P,M,W,n=new X,e,Q,J,m,p,L,S,eJ=new Array(E),hy=new Array(E+1);
for(P=0;P<E;P++){if(c.fJ[P]=="CURVE"){var v=f[C(P-1,E)<<1],ff=f[(C(P-1,E)<<1)+1],K=f[P<<1],jo=f[(P<<1)+1],g5=f[C(P+1,E)<<1],fQ=f[(C(P+1,E)<<1)+1];
eJ[P]=Math.sign(w(K-v,jo-ff,g5-K,fQ-jo))}else{eJ[P]=0}}J=0;hy[0]=0;var iT=c.cY[0],ac=c.cY[1];for(P=0;
P<E;P++){Q=C(P+1,E);if(c.fJ[Q]=="CURVE"){m=c.alpha[Q];var aR=P*3+2<<1,hV=Q*3+2<<1,cu=c.Jy[aR],iy=c.Jy[aR+1],gr=f[Q<<1],cp=f[(Q<<1)+1],gP=c.Jy[hV],g7=c.Jy[hV+1];
J+=.3*m*(4-m)*w(gr-cu,cp-iy,gP-cu,g7-iy)/2;J+=w(cu-iT,iy-ac,gP-iT,g7-ac)/2}hy[P+1]=J}d[0]=-1;s[0]=0;
B[0]=0;for(M=1;M<=E;M++){d[M]=M-1;s[M]=s[M-1];B[M]=B[M-1]+1;for(P=M-2;P>=0;P--){W=o(V,P,C(M,E),n,Y.aiL,eJ,hy);
if(W){break}if(B[M]>B[P]+1||B[M]==B[P]+1&&s[M]>s[P]+n.wz){d[M]=P;s[M]=s[P]+n.wz;B[M]=B[P]+1;a[M]=n;n=new X}}}U=B[E];
p=new j(U);L=new Array(U);S=new Array(U);M=E;for(P=U-1;P>=0;P--){var j8=C(M,E),dg=P*3+0<<1,gR=j8*3+0<<1;
if(d[M]==M-1){p.fJ[P]=c.fJ[j8];p.Jy[dg]=c.Jy[gR];p.Jy[dg+1]=c.Jy[gR+1];p.Jy[dg+2]=c.Jy[gR+2];p.Jy[dg+3]=c.Jy[gR+3];
p.Jy[dg+4]=c.Jy[gR+4];p.Jy[dg+5]=c.Jy[gR+5];p.cY[P<<1]=c.cY[j8<<1];p.cY[(P<<1)+1]=c.cY[(j8<<1)+1];p.alpha[P]=c.alpha[j8];
p.t_[P]=c.t_[j8];p.yA[P]=c.yA[j8];L[P]=S[P]=1}else{p.fJ[P]="CURVE";p.Jy[dg]=a[M].Bw;p.Jy[dg+1]=a[M].N_;
p.Jy[dg+2]=a[M].pR;p.Jy[dg+3]=a[M].kM;p.Jy[dg+4]=c.Jy[gR+4];p.Jy[dg+5]=c.Jy[gR+5];p.cY[P<<1]=z(a[M].z1,c.Jy[gR+4],f[j8<<1]);
p.cY[(P<<1)+1]=z(a[M].z1,c.Jy[gR+5],f[(j8<<1)+1]);p.alpha[P]=a[M].alpha;p.t_[P]=a[M].alpha;L[P]=a[M].z1;
S[P]=a[M].cK}M=d[M]}for(P=0;P<U;P++){Q=C(P+1,U);p.yA[P]=L[P]/(L[P]+S[Q])}p.a6D=1;V.iN=p}for(var P=0;
P<b.length;P++){var V=b[P];i(V);A(V);H(V);F(V);T(V);if(Y.akj)_(V)}}return{afP:D,a0_:N}}();j2.r7=function(r,j,D,N){var b={m3:"minority",ahj:N,akj:!0,a6m:1,aiL:.2},Y=j2.afP(r,j,D,b);
j2.a0_(Y,b);return Y};j2.HG=function(r){var j=[];for(var P=0;P<r.length;P++){var D=r[P],N=D.iN,b=["M"],Y=[N.Jy[(N.Kq-1)*6+4],N.Jy[(N.Kq-1)*6+5]];
for(var x=0;x<N.Kq;x++){var C=x*6;if(N.fJ[x]==1){b.push("C");for(var w=0;w<6;w++)Y.push(N.Jy[C+w])}else if(N.fJ[x]==0){b.push("L");
for(var w=2;w<4;w++)Y.push(N.Jy[C+w])}}b.push("Z");j.push({parent:D.parent,color:D.color,path:{v:Y,J:b}})}return j};
j2.aa9=function(r,j,D,N,b){function Y(g){function t(P){var O="C "+(g.Jy[P*3+0<<1]*j).toFixed(1)+" "+(g.Jy[(P*3+0<<1)+1]*j).toFixed(1)+",";
O+=(g.Jy[P*3+1<<1]*j).toFixed(1)+" "+(g.Jy[(P*3+1<<1)+1]*j).toFixed(1)+",";O+=(g.Jy[P*3+2<<1]*j).toFixed(1)+" "+(g.Jy[(P*3+2<<1)+1]*j).toFixed(1)+" ";
return O}function $(P){var A="L "+(g.Jy[P*3+1<<1]*j).toFixed(1)+" "+(g.Jy[(P*3+1<<1)+1]*j).toFixed(1)+" ";
A+=(g.Jy[P*3+2<<1]*j).toFixed(1)+" "+(g.Jy[(P*3+2<<1)+1]*j).toFixed(1)+" ";return A}var eK=g.Kq,P,i="M"+(g.Jy[(eK-1)*3+2<<1]*j).toFixed(1)+" "+(g.Jy[((eK-1)*3+2<<1)+1]*j).toFixed(1)+" ";
for(P=0;P<eK;P++){if(g.fJ[P]==1){i+=t(P)}else if(g.fJ[P]==0){i+=$(P)}}return i}var D=D*j,N=N*j,x=r.length,C=[];
for(var P=0;P<256;P++)C.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var w="<svg id=\"svg\" version=\"1.1\" width=\""+D+"\" height=\""+N+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var P=0;P<x;P++){var q=b[r[P].color-1].arl.zf;if((q>>>24&255)==0)continue;w+="<path d=\"";var u=r[P].iN;
w+=Y(u);var h=q>>0&255,z=q>>8&255,O=q>>16&255,q="rgb("+h+","+z+","+O+")";w+="\" fill=\""+q+"\" fill-rule=\"evenodd\"/>"}w+="</svg>";
return w};j2.a3C=function(r,j,D){var eK=r.length>>1,N,b=r[2*eK-3]-D,Y=r[2*eK-2]-j,x=r[2*eK-1]-D,C=x>b,w=0;
for(var P=0;P<eK;P++){N=Y;b=x;Y=r[2*P]-j;x=r[2*P+1]-D;if(b==x)continue;C=x>b}for(var P=0;P<eK;P++){N=Y;
b=x;Y=r[2*P]-j;x=r[2*P+1]-D;if(b<0&&x<0)continue;if(b>0&&x>0)continue;if(N<0&&Y<0)continue;if(b==x&&Math.min(N,Y)<=0)return!0;
if(b==x)continue;var q=N+(Y-N)*-b/(x-b);if(q==0)return!0;if(q>0)w++;if(b==0&&C&&x>b)w--;if(b==0&&!C&&x<b)w--;
C=x>b}return(w&1)==1};j2.fill=function(r,j,D,N){var b=j[r],Y=[r],x=0;while(x<Y.length){var C=Y[x];x++;
j[C]=N;if(j[C-D]==b){Y.push(C-D);j[C-D]=254}if(j[C-1]==b){Y.push(C-1);j[C-1]=254}if(j[C+1]==b){Y.push(C+1);
j[C+1]=254}if(j[C+D]==b){Y.push(C+D);j[C+D]=254}}};var Z={};Z.DB=!1;Z.Fo=!1;Z.mO=!1;Z.s=document.createElement("canvas");
Z.AF=null;Z.Xu=null;Z.vq=0;(function(){var r={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},j;
if(!j)j=Z.s.getContext("webgl",r);if(!j)j=Z.s.getContext("experimental-webgl",r);if(j){Z.DB=!0;Z.Fo=!0;
Z.AF=j;Z.Xu=j.createFramebuffer();j.bindFramebuffer(j.FRAMEBUFFER,Z.Xu);j.disable(j.BLEND);j.disable(j.DEPTH_TEST);
var D=j.createBuffer();j.bindBuffer(j.ARRAY_BUFFER,D);j.bufferData(j.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),j.STATIC_DRAW);
j.enableVertexAttribArray(0);j.vertexAttribPointer(0,2,j.FLOAT,!1,0,0)}}());Z.a68=function(r){r=r.replace(/\s\s+/g," ");
r=r.replace(/; /g,";");r=r.replace(/} /g,"}");r=r.replace(/ }/g,"}");r=r.replace(/{ /g,"{");r=r.replace(/ {/g,"{");
r=r.replace(/= /g,"=");r=r.replace(/ =/g,"=");r=r.replace(/\| /g,"|");r=r.replace(/ \|/g,"|");return r};
Z.a1c=function(r){var j=Z.AF;if(r>j.getParameter(j.MAX_TEXTURE_SIZE)){Z.DB=!1;alert("Disabling WebGL")}};
Z.tj=function(r,j){return new Float32Array([(r.x-j.x)/j.d,(r.y-j.y)/j.r,r.d/j.d,r.r/j.r])};Z.NH=function(){return this.s};
Z.Wq=function(r,j){var D=Z.AF;D.bindFramebuffer(D.FRAMEBUFFER,Z.Xu);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,r.q2,0);
D.viewport(0,0,r.d,r.r);if(j){D.enable(D.SCISSOR_TEST);D.scissor(j.x,j.y,j.d,j.r)}else D.disable(D.SCISSOR_TEST)};
Z.JH=function(r,j,D){if(D)throw"error";var N=Z.AF;N.disable(N.SCISSOR_TEST);N.bindFramebuffer(N.FRAMEBUFFER,null);
N.viewport(0,0,r,j);if(D){N.enable(N.SCISSOR_TEST);N.scissor(D.x,D.y,Math.round(D.d),Math.round(D.r))}else N.disable(N.SCISSOR_TEST)};
Z.clear=function(){var r=Z.AF;r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT)};Z.a9=function(r,j){if(j==null)j=0;
var D=(j>>>0&255)==0,N=(j>>>8&255)==0,b=(j>>>16&255)==0,Y=(j>>>24&255)==0,x=(r>>>0&255)*(1/255),C=(r>>>8&255)*(1/255),w=(r>>>16&255)*(1/255),q=(r>>>24&255)*(1/255),u=Z.AF;
u.colorMask(D,N,b,Y);u.clearColor(x,C,w,q);u.clear(u.COLOR_BUFFER_BIT);u.colorMask(!0,!0,!0,!0)};Z.WL=function(r,j,D,N,b){var Y=j.su(N);
if(b)Y=Y.su(b);if(Y.jE())return;var x=Z.AF;Z.Wq(r);x.bindTexture(x.TEXTURE_2D,D.q2);x.copyTexSubImage2D(x.TEXTURE_2D,0,Y.x-N.x,Y.y-N.y,Y.x-j.x,Y.y-j.y,Y.d,Y.r)};
Z.tf=function(P,r,j){var D=Z.i2[P];if(D==null||D.d!=r||D.r!=j){if(D)D.delete();D=new Z.oj(r,j)}Z.i2[P]=D;
return D};Z.i2=[];Z.UQ=function(){this.nR=null;this._J=null};Z.UQ.Yj=null;Z.UQ.prototype.Ch=function(r){if(this._J)return;
this._J={};var j=Z.AF,D=this.nR,N=this._J;for(var P=0;P<r.length;P++){var b=r[P];N[b]=j.getUniformLocation(D,b)}};
Z.UQ.prototype.PU=function(){};Z.UQ.prototype.$F=function(r){var j=Z.AF;for(var P=0;P<r.length;P+=2){j.uniform1i(r[P],P>>>1);
j.activeTexture(j["TEXTURE"+(P>>>1)]);j.bindTexture(j.TEXTURE_2D,r[P+1])}j.activeTexture(j.TEXTURE0)};
Z.UQ.prototype.J1=function(r,j){var D=Z.AF,N=D.createShader(D.FRAGMENT_SHADER);D.shaderSource(N,r);D.compileShader(N);
if(!D.getShaderParameter(N,D.COMPILE_STATUS))console.log(D.getShaderInfoLog(N));var b=D.createShader(D.VERTEX_SHADER);
D.shaderSource(b,j);D.compileShader(b);if(!D.getShaderParameter(b,D.COMPILE_STATUS))console.log(D.getShaderInfoLog(b));
var Y=D.createProgram();D.attachShader(Y,b);D.attachShader(Y,N);D.linkProgram(Y);if(!D.getProgramParameter(Y,D.LINK_STATUS))console.log("Could not initialise shaders");
this.nR=Y};Z.UQ.prototype.Gg=function(){if(Z.UQ.Yj!=this){Z.AF.useProgram(this.nR);Z.UQ.Yj=this}};Z.$T=function(r,j){Z.Op++;
Z.vq+=r*j;if(Z.mO)console.log("GL.Channels instances: "+Z.Op+", memory: "+Z.vq);var D=Z.AF;this.d=r;
this.r=j;this.q2=D.createTexture();this.aH=null;this.PJ(this.q2,r,j)};Z.$T.prototype.PJ=function(r,j,D){var N=Z.AF;
N.bindTexture(N.TEXTURE_2D,r);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE);
N.texImage2D(N.TEXTURE_2D,0,N.ALPHA,j,D,0,N.ALPHA,N.UNSIGNED_BYTE,null)};Z.$T.prototype.set=function(r){var j=Z.AF;
j.bindTexture(j.TEXTURE_2D,this.q2);j.pixelStorei(j.UNPACK_ALIGNMENT,1);j.texImage2D(j.TEXTURE_2D,0,j.ALPHA,this.d,this.r,0,j.ALPHA,j.UNSIGNED_BYTE,r);
j.pixelStorei(j.UNPACK_ALIGNMENT,4)};Z.$T.prototype.delete=function(){var r=Z.AF;if(this.q2){r.deleteTexture(this.q2);
Z.Op--;Z.vq-=this.d*this.r}if(Z.mO)if(Z.mO)console.log("GL.Channels instances: "+Z.Op+", memory: "+Z.vq*4)};
Z.Op=0;Z.oj=function(r,j,D){if(D==null)D=!1;Z.Op++;Z.vq+=r*j*4;if(Z.mO)console.log("GL.Channels instances: "+Z.Op+", memory: "+Z.vq);
var N=Z.AF;this.asu=D;this.d=r;this.r=j;this.q2=N.createTexture();this.aH=null;this.PJ(this.q2,r,j)};
Z.oj.prototype.set=function(r,j){var D=Z.AF;D.disable(D.SCISSOR_TEST);D.bindTexture(D.TEXTURE_2D,this.q2);
if(r==null||r instanceof Uint8Array){var N=this.d*this.r;if(j==null||j.Z()*10>N)D.texImage2D(D.TEXTURE_2D,0,D.RGBA,this.d,this.r,0,D.RGBA,D.UNSIGNED_BYTE,r);
else{var b=R.O(j.Z()*4);R.UB(r,new bf(0,0,this.d,this.r),b,j);D.texSubImage2D(D.TEXTURE_2D,0,j.x,j.y,j.d,j.r,D.RGBA,D.UNSIGNED_BYTE,b)}}else D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,r)};
Z.oj.prototype.get=function(r){var j=Z.AF;Z.Wq(this);j.readPixels(0,0,this.d,this.r,j.RGBA,j.UNSIGNED_BYTE,r)};
Z.oj.prototype.l3=function(r){if(r.jE())return;var j=Z.AF;if(this.aH==null){this.aH=j.createTexture();
this.PJ(this.aH,this.d,this.r);Z.Op++;Z.vq+=this.d*this.r*4}j.bindFramebuffer(j.FRAMEBUFFER,Z.Xu);j.bindTexture(j.TEXTURE_2D,this.aH);
if(r){var D=Math.max(r.x,0),N=Math.max(r.y,0);j.copyTexSubImage2D(j.TEXTURE_2D,0,D,N,D,N,r.d,r.r)}else j.copyTexImage2D(j.TEXTURE_2D,0,j.RGBA,0,0,this.d,this.r,0)};
Z.oj.prototype.PJ=function(r,j,D){var N=Z.AF;N.bindTexture(N.TEXTURE_2D,r);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,this.asu?N.LINEAR:N.NEAREST);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST);N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE);
N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE);N.texImage2D(N.TEXTURE_2D,0,N.RGBA,j,D,0,N.RGBA,N.UNSIGNED_BYTE,null)};
Z.oj.prototype.delete=function(){var r=Z.AF;if(this.q2){r.deleteTexture(this.q2);Z.Op--;Z.vq-=this.d*this.r*4}if(this.aH){r.deleteTexture(this.aH);
Z.Op--;Z.vq-=this.d*this.r*4}if(Z.mO)if(Z.mO)console.log("GL.Channels instances: "+Z.Op+", memory: "+Z.vq)};
Z.oj.prototype.clone=function(){var r=Z.AF,j=new Z.oj(this.d,this.r);Z.Wq(this);r.bindTexture(r.TEXTURE_2D,j.q2);
r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,this.d,this.r,0);return j};Z.hx={a40:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aat:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",cc:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",u6:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",n0:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",K2:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",le:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",lU:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",ad0:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",wX:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aa$:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",ci:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Bd:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",zy:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Xa:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",ws:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",d$:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",uz:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",WS:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",er:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
Z.Ep={Hs:{},jV:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
Z.Ep.j$=function(r,j){var D=cz.um,N=[D.Yp,D.Ih,D.uO,D.nX,D.T_,D.Hl,D.pd,D.R4].indexOf(r.type),b=Z.Ep.Hs[r.type];
if(b==null)b=Z.Ep.Hs[r.type]=new Z.Hs[N];b.Gg();b.PU(j,r);Z.AF.drawArrays(Z.AF.TRIANGLES,0,6)};Z.Hs=[];
Z.Hs[0]=function(){Z.UQ.call(this);this.g6={};var r="\t\t\tprecision mediump float;\t\t\t"+Z.hx.le+"\t\t\t"+Z.hx.cc+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[0].prototype=new Z.UQ;Z.Hs[0].prototype.PU=function(r,j){var D={a:j.Uk,p:j.Vc,M:j.cm,kD:R.O(j.Uk.length)},N=D.a.length;
if(this.g6["m"+N]==null){this.g6["m"+N]={an0:new Z.oj(N,1),Iz:R.O(N*4)}}var b=this.g6["m"+N];R.Ke(D,b.Iz,0);
var Y=b.an0;Y.set(b.Iz);this.Ch(["source","map","toGray","presLum"]);var x=Z.AF,C=this._J;x.uniform1f(C.toGray,j.Fk?1:0);
x.uniform1f(C.presLum,j.Oz?1:0);this.$F([C.source,r,C.map,Y.q2])};Z.Hs[1]=function(){Z.UQ.call(this);
this.afq=new Z.oj(256,1);this.aqN=R.O(256*4);var r="\t\t\t\tprecision mediump float;\t\t\t\t"+Z.hx.ws+"\t\t\t\t"+Z.hx.zy+"\t\t\t\t"+Z.hx.Xa+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[1].prototype=new Z.UQ;Z.Hs[1].prototype.PU=function(r,j){R.Ke({a:j.aiC,p:j.IP,M:j.a6J,kD:R.O(256)},this.aqN);
this.afq.set(this.aqN);this.Ch(["source","map","cfa","cfb","colorize"]);var D=Z.AF,N=this._J;D.uniform1f(N.cfa,j.asv);
D.uniform1f(N.cfb,j._S);D.uniform1i(N.colorize,j.aeb);this.$F([N.source,r,N.map,this.afq.q2])};Z.Hs[2]=function(){Z.UQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+Z.hx.ws+"\t\t\t"+Z.hx.d$+"\t\t\t"+Z.hx.uz+"\t\t\t"+Z.hx.zy+"\t\t\t"+Z.hx.Xa+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[2].prototype=new Z.UQ;Z.Hs[2].prototype.PU=function(r,j){this.Ch(["source","vib","sat"]);
var D=Z.AF,N=this._J;D.uniform1f(N.vib,j.Ek[0]/100);D.uniform1f(N.sat,j.Ek[1]/100);this.$F([N.source,r])};
Z.Hs[3]=function(){Z.UQ.call(this);var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[3].prototype=new Z.UQ;Z.Hs[3].prototype.PU=function(r,j){this.Ch(["source","trf"]);
var D=Z.AF,N=this._J;D.uniformMatrix4fv(N.trf,!1,new Float32Array(R.ft.Vd(j.sW)));this.$F([N.source,r])};
Z.Hs[4]=function(){Z.UQ.call(this);var r="\t\t\tprecision mediump float; \t\t\t"+Z.hx.WS+"\t\t\t"+Z.hx.ws+"\t\t\t"+Z.hx.Xa+"\t\t\t"+Z.hx.zy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[4].prototype=new Z.UQ;Z.Hs[4].prototype.PU=function(r,j){this.Ch(["source","mnm","mxm","shift","lim"]);
var D=Z.AF,N=this._J;D.uniform3fv(N.mnm,new Float32Array(j.LS));D.uniform3fv(N.mxm,new Float32Array(j.hZ));
D.uniform3fv(N.shift,new Float32Array(j.shift));D.uniform1f(N.lim,j.BM);this.$F([N.source,r])};Z.Hs[5]=function(){Z.UQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+Z.hx.cc+"\t\t\t"+Z.hx.u6+"\t\t\t"+Z.hx.n0+"\t\t\t"+Z.hx.zy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[5].prototype=new Z.UQ;Z.Hs[5].prototype.PU=function(r,j){this.Ch(["source","cfs"]);
var D=Z.AF,N=this._J;D.uniform3fv(N.cfs,j.anM);this.$F([N.source,r])};Z.Hs[6]=function(){Z.UQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+Z.hx.ws+"\t\t\t"+Z.hx.u6+"\t\t\t"+Z.hx.n0+"\t\t\t"+Z.hx.zy+"\t\t\t"+Z.hx.Xa+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[6].prototype=new Z.UQ;Z.Hs[6].prototype.PU=function(r,j){this.Ch(["source","wght","prms"]);
var D=Z.AF,N=this._J,b=[j.Jh,j.acI,j.le,j.alI,j.LX,j.adt];D.uniform1fv(N.wght,new Float32Array(j.afF));
D.uniform1fv(N.prms,new Float32Array(b));this.$F([N.source,r])};Z.Hs[7]=function(){Z.UQ.call(this);this.BJ={};
var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.J1(r,Z.Ep.jV)};Z.Hs[7].prototype=new Z.UQ;Z.Hs[7].prototype.PU=function(r,j){this.Ch(["source","lut","N"]);
var D=Z.AF,N=this._J,b=j.vM,Y=j.ix;if(this.BJ["m"+b]==null)this.BJ["m"+b]=new Z.oj(b,b*b);var x=this.BJ["m"+b];
x.set(Y);D.uniform1f(N.N,b);this.$F([N.source,r,N.lut,x.q2]);D.activeTexture(D.TEXTURE1);var C=D.LINEAR;
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,C);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,C);
D.activeTexture(D.TEXTURE0)};Z.filter={hM:{},jV:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a6j:0,alo:1,LO:2,asp:3,AK:4};
Z.filter.j$=function(r,j){var D=Z.filter,N;if(r.type==Z.filter.AK){var b=Z.hM[r.type];if(b==0)b=Z.hM[r.type]={};
var Y=r.EE.join(",");N=b[Y];if(N==null)N=b[Y]=new(Z.filter.asW(r.EE))}else{N=Z.filter.hM[r.type];if(N==null)N=Z.filter.hM[r.type]=new Z.hM[r.type]}N.Gg();
N.PU(j,r);Z.AF.drawArrays(Z.AF.TRIANGLES,0,6)};Z.hM=[0,0,0,0,0,0,0,0,0,0,0,0];Z.filter.asW=function(r){console.log(r);
var j=r[0],D=r[1],N=function(){Z.UQ.call(this);var b="\t\t\t\tprecision highp float;\t\t\t\tuniform sampler2D source;\t\t\t\tuniform vec2 iwh;\t\t\t\tuniform float rrad;\t\t\t\tuniform float tr;\t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\tconst float PRC="+r[2]+".0; \t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\t\tfloat rad = rrad; \t\t\t\t\tif(rad!=0.0) {\t\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][D]+"); vec4 cnt = vec4(0.0);\t\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][j]+") continue; \t\t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][D]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\tsclr = "+(D==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t\t}\t\t\t\t\tgl_FragColor=sclr; \t\t\t\t}";
this.J1(b,Z.Ep.jV)};N.prototype=new Z.UQ;N.prototype.PU=function(b,Y){this.Ch(["source","iwh","rrad","tr"]);
var x=Z.AF,C=this._J;x.uniform2fv(C.iwh,Y.vR);x.uniform1f(C.rrad,Y.O2);x.uniform1f(C.tr,Y.aaI);this.$F([C.source,b]);
var w=x.LINEAR;w=x.NEAREST;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,w);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,w);x.activeTexture(x.TEXTURE0)};return N};Z.hM[3]=function(){Z.UQ.call(this);
var r="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.J1(y.Yo(r),y.Yo(Z.filter.jV))};Z.hM[3].prototype=new Z.UQ;Z.hM[3].prototype.PU=function(r,j){this.Ch("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var D=Z.AF,N=this._J;D.uniform2fv(N.iwh,j.vR);D.uniform1f(N.tdep,j.a85);D.uniform1f(N.rrad,j.O2);D.uniform2fv(N.spec,j.amz);
D.uniform3fv(N.nois,j.a3$);D.uniformMatrix4fv(N.poly0,!1,j.a0X);D.uniformMatrix4fv(N.poly1,!1,j.alj);
this.$F([N.source,r]);var b=D.LINEAR;D.activeTexture(D.TEXTURE0);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,b);
D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,b);D.activeTexture(D.TEXTURE0)};Z.hM[0]=function(){Z.UQ.call(this);
var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.J1(y.Yo(r),y.Yo(Z.filter.jV))};Z.hM[0].prototype=new Z.UQ;Z.hM[0].prototype.PU=function(r,j){this.Ch(["source","iwh","ld","shine"]);
var D=Z.AF,N=this._J;D.uniform2fv(N.iwh,j.vR);D.uniform3fv(N.ld,j.a3v);D.uniform1f(N.shine,j.atg);this.$F([N.source,r,N.tang,j.M1])};
Z.hM[1]=function(){Z.UQ.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.J1(y.Yo(r),y.Yo(Z.filter.jV))};Z.hM[1].prototype=new Z.UQ;Z.hM[1].prototype.PU=function(r,j){this.Ch(["source","iwh","isc","bristle"]);
var D=Z.AF,N=this._J;D.uniform2fv(N.iwh,j.vR);D.uniform1f(N.isc,j.aoj);D.uniform1f(N.bristle,j.a5c);
this.$F([N.source,r])};Z.hM[2]=function(){Z.UQ.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.J1(y.Yo(r),y.Yo(Z.filter.jV))};Z.hM[2].prototype=new Z.UQ;Z.hM[2].prototype.PU=function(r,j){this.Ch(["source","tang","iwh","sigma","expo"]);
var D=Z.AF,N=this._J;D.uniform2fv(N.iwh,j.vR);D.uniform1f(N.sigma,j.app);D.uniform1f(N.expo,j.aeh);this.$F([N.source,r,N.tang,j.M1]);
var b=D.LINEAR;D.activeTexture(D.TEXTURE0);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,b);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,b);
D.activeTexture(D.TEXTURE0)};Z.U={};Z.U.xl={};Z.U.Xw=null;Z.U.Ru=null;Z.U.lA=null;Z.U._$=function(r,j,D,N,b,Y,x,C){if(C==null)C=fx.Lo();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(r)==-1){x=x*C.fill;C.fill=1;C.style=!1}var w=r+(C.hT?"1":"");
if(Z.U.xl[w]==null)Z.U.xl[w]=new Z.U.$h(r,C.hT!=null);var q=Z.U.xl[w],u=D.su(b).su(Y);u.offset(-b.x,-b.y);
if(u.jE())return;var h=Z.AF;Z.Wq(N,u);N.l3(u);q.Gg();q.PU(j.q2,N.aH,Z.tj(D,b),x,C.fill,C.style?1:0,C.IB?1:0,C.hT?new Float32Array(C.hT):null);
h.drawArrays(h.TRIANGLES,0,6)};Z.U.Ay=function(r,j,D,N,b,Y,x,C,w,q,u){if(Z.U.Xw==null)Z.U.Xw=new Z.U.Pa(!0,!0);
if(Z.U.Ru==null)Z.U.Ru=new Z.U.Pa(!0,!1);if(Z.U.lA==null)Z.U.lA=new Z.U.Pa(!1,!0);var h=q?1:0,z=r?b?Z.U.Xw:Z.U.Ru:Z.U.lA,O=new Float32Array(u?[u[0],u[1],u[2],1]:[1,1,1,1]),g=j?j.su(N).su(C):N.su(C);
if(g.jE())return;g.offset(-N.x,-N.y);var t=Z.AF;Z.Wq(D,g);D.l3(g);z.Gg();if(r==null)z.PU(null,D.aH,b.q2,Z.tj(N,N),Z.tj(Y,N),x/255,w,h,O);
else if(b)z.PU(r.q2,D.aH,b.q2,Z.tj(j,N),Z.tj(Y,N),x/255,w,h,O);else z.PU(r.q2,D.aH,null,Z.tj(j,N),null,x/255,w,h,O);
t.drawArrays(t.TRIANGLES,0,6)};Z.U.ao5=function(r,j,D){if(Z.U.ahq==null)Z.U.ahq=new Z.U.hz;var N=Z.U.ahq,b=new bf(0,0,r.d,r.r),Y=Z.AF;
Z.Wq(j);j.l3(b);N.Gg();N.PU(b,r.q2,j.aH,D.q2);Y.drawArrays(Y.TRIANGLES,0,6)};Z.U.gQ={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
Z.U.$h=function(r,j){Z.UQ.call(this);var D="\t\t\tprecision mediump float;\t\t\t"+Z.hx.cc+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(j?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+Z.hx.K2+"\t\t\t"+Z.hx.le+"\t\t\t"+Z.hx.lU+"\t\t\t"+Z.hx.a40+"\t\t\t"+Z.hx.aat+"\t\t\t"+Z.hx.ad0+"\t\t\t"+Z.hx.wX+"\t\t\t"+Z.hx.aa$+"\t\t\t"+Z.hx.ci+"\t\t\t"+Z.hx.hash+"\t\t\t"+(j?Z.hx.er:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+Z.U.gQ[r]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",N="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(r=="diss")D+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else D+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(j?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.J1(D,N)};Z.U.$h.prototype=new Z.UQ;Z.U.$h.prototype.PU=function(r,j,D,N,b,Y,x,C){this.Ch("srct alpha source target fill style keepBGA blIf".split(" "));
var w=Z.AF,q=this._J;w.uniform4fv(q.srct,D);w.uniform1f(q.alpha,N);w.uniform1f(q.fill,b);w.uniform1f(q.style,Y);
w.uniform1f(q.keepBGA,x);if(C)w.uniform4fv(q.blIf,C);this.$F([q.source,r,q.target,j])};Z.U.Pa=function(r,j){Z.UQ.call(this);
this.a2$=r;this.mD=j;var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+Z.hx.Bd+"\t\t\t"+Z.hx.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(r?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(j?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(r?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(j?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.J1(D,N)};Z.U.Pa.prototype=new Z.UQ;Z.U.Pa.prototype.PU=function(r,j,D,N,b,Y,x,C,w){if(this.mD)this.Ch("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.Ch("srct awg dissv source target cswitch".split(" "));var q=Z.AF,u=this._J;q.uniform4fv(u.srct,N);
if(this.mD){q.uniform4fv(u.wrct,b);q.uniform1f(u.wcolor,Y)}else{q.uniform4fv(u.cswitch,w)}q.uniform1f(u.awg,x);
q.uniform1f(u.dissv,C);var h=[u.source,r,u.target,j];if(this.mD)h.push(u.weight,D);this.$F(h)};Z.U.hz=function(){Z.UQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",j="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.J1(r,j)};Z.U.hz.prototype=new Z.UQ;Z.U.hz.prototype.PU=function(r,j,D,N){this.Ch(["rct","prev","next","alpha"]);
var b=Z.AF,Y=this._J;b.uniform4fv(Y.rct,[0,0,1,1]);this.$F([Y.prev,j,Y.next,D,Y.alpha,N])};var I={};
I.d5=function(r,j,D){this.name=r;this.id=j;this.tZ=null;if(D!=null)this.Zj=D};I.d5.prototype.k_=function(r,j,D,N,b){};
I.d5.prototype.enable=function(r,j,D,N,b,Y){var x=new iu(y.E.V,!0);x.data={e:y.G.C9,EA:"default"};j.g(x)};
I.d5.prototype.disable=function(r,j,D,N,b){};I.d5.prototype.DC=function(r,j,D,N,b){return!1};I.d5.prototype.xR=function(r,j,D,N,b){};
I.d5.prototype.f7=function(r,j,D,N,b){};I.d5.prototype.Vt=function(r,j,D,N,b){};I.d5.prototype.rE=function(r,j,D,N,b,Y){};
I.d5.prototype.Ig=function(r,j,D,N,b){};I.d5.prototype.Uc=function(r,j,D,N){};I.d5.prototype.Qq=function(r,j,D,N){};
I.d5.prototype.Gf=function(r,j){};I.d5.prototype.B$=function(r,j){};I.d5.prototype.cZ=function(r,j,D,N,b){};
I.d5.prototype.Wf=function(r,j){};I.d5.prototype.IT=function(r,j){return!1};I.d5.prototype.Mo=function(r,j){return!1};
I.d5.prototype.Oj=function(){return!1};I.d5.prototype.j4=function(r,j){return!0};I.d5.prototype.kB=function(){return null};
I.d5.prototype.vT=function(r,j,D){};I.d5.prototype.xd=function(){return!1};I.d5.prototype.u3=function(r,j,D,N){};
I.d5.prototype.track=function(r){var j=new iu(y.E.PN,!0);j.data=r;r.Vo=!0;this.tZ.g(j)};I.d5.Mh=function(r,j,D,N,b){I.d5.hv(r,j,[e9.get([12,41]).charAt(0)+": "+R.DA.m2(D.d,N.TB,b,N.d,!0),e9.get([12,42]).charAt(0)+": "+R.DA.m2(D.r,N.TB,b,N.r,!0)],N)};
I.d5.hv=function(r,j,D,N){var b=14,Y=130,x=D.length*17+8,C=new bf(r,j-x,Y,x),w=I.d5.I_;if(w==null)w=I.d5.I_=document.createElement("canvas");
w.width=Y;w.height=x;var q=w.getContext("2d");q.fillStyle="rgba(0,0,1,1)";q.fillRect(0,0,Y,x);q.font=b+"px monospace";
q.fillStyle="rgba(255,255,255,1)";for(var P=0;P<D.length;P++)q.fillText(D[P],6,(P+1)*17);var u=[q.getImageData(0,0,Y,x).data,C.clone()];
if(N)N.I.Js=[u];return u};I.d5.I_=null;I.t3="0";I.E_="0.5";I.Fx="1";I.a28="2";I.a9g="3";I.Sl="5";I.a2n="6";
I.a4m="7";I.lf="8";I.eD="9";I.a1="10";I.PD="11";I.TX="12";I.kP="13";I.r$="14";I.XI="16";I.Fw="18";I.p8="19";
I.hK="20";I.JV="21";I.mM="22";I.cL="23";I.wh="24";I.sY="25";I.cJ="27";I.SH="31";I.apF="32";I.ac1="34";
I.a1q="35";I.dq="36";I.Oe="37";I._Y="38";I.JT="39";I.Y_="40";I.dK="41";I.Sc="42";I.q9="43";I.pP="47";
I.Pv="48";I.Ml="51";I.Ro="52";I.Ew="54";I.Wn="55";I.ZB="56";I.XH="57";I.bK="58";I.Sz="59";I.arm="60";
I._h="61";I.YW="100";I.od="101";I.YF="102";I.BH="103";I.Ia="120";I.tJ="230";I.aqz="231";I.cu="232";I.C5="233";
I.i3="234";I.MK="235";I.qL="236";I.zr=function(r){var j=I.Ft,D=null;for(var N in j)if(j[N][1].indexOf(r[1].classID)!=-1)D=N;
return D};I.Ft={};I.Ft[I.cL]=["tools/brush",["PbTl"]];I.Ft[I.wh]=["tools/pencil",["PcTl"]];I.Ft[I.SH]=["tools/eraser",["ErTl"]];
I.oi=function(r,j,D){I.d5.call(this,r,j,D);this.mz={brush:r?eb.g4():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.xY=null;this.ZY=null;this.aZ=null;this.eJ=null;this.jv=null;this.kl=null;this.TN=null;this.mt=null;
this.i6=null;this.zC=null;this.se=null;this.$X=null;this.Ni=null;this.uE=1;this.de=!1;this.Qp=null;this.caller=null};
I.oi.prototype=new I.d5;I.oi.prototype.Mo=function(r,j){return r.XS&&j.o(e4.$P)};I.oi.prototype.f7=function(r,j,D,N,b){if(N.o(e4.YV)){this.kl=new gJ(b.x,b.y);
var Y=this.mz.brush.Brsh.v,x=Y.Dmtr.v.val,C=Y.Hrdn!=null?Y.Hrdn.v.val:-1;this.TN=[x,C,!0,JSON.parse(JSON.stringify(this.mz.brush)),b];
this.ar(D)}};I.oi.prototype.rf=function(r,j,D){var N=this.TN,b=r.z.S,Y=D.x-N[4].x,x=D.y-N[4].y,C=N[0],w=N[1],q=Math.abs(Y)>Math.abs(x);
if(q&&N[2]){var u=Math.round(2*Y/b);C+=u;D.x-=Y-.5*u*b}if(!q&&!N[2]&&w!=-1){var u=Math.round(.25*x);
w+=u;D.y-=x-4*u}C=Math.max(1,C);w=N[1]==-1?-1:Math.max(0,Math.min(100,w));var h=N[3];h.Brsh.v.Dmtr.v.val=C;
if(w!=-1)h.Brsh.v.Hrdn.v.val=w;this.TN=[C,w,q,h,D];var z=gU.eT(h,j.j_.fB,b),O=z[1];O.x=Math.round(this.kl.x-O.d/2);
O.y=Math.round(this.kl.y-O.r/2);r.I.lL=[z];var g=r.z.K$(this.kl.x,this.kl.y);r.I.xu={X_:[],MS:[g.x-C/2,g.y,g.x+C/2,g.y]};
if(w!=-1)r.I.xu.MS.push(g.x+50/b,g.y-w/2,g.x+50/b,g.y+w/2);r.yn=!0};I.oi.prototype.Ig=function(r,j,D,N,b){if(this.id==I.hK||this.id==I.JV)return;
if(this.kl){this.kl=null;this.l7(JSON.parse(JSON.stringify(this.TN[3])));r.I.lL=[];r.I.xu=null;r.yn=!0;
return}var Y=new iu(y.E.V,!0);Y.data={e:y.G.X9,k:this.id,a9J:"showBrushOpts",uB:new gJ(b.tu+4,b.rW)};
j.g(Y)};I.oi.prototype.l7=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.VD,Ek:e5.KY,ER:r};this.caller.g(j)};
I.oi._e=function(r,j,D,N,b,Y){if(r==null)r="FrgC";if(j==null)j="norm";if(D==null)D=1;if(b==null)b=!1;
var x={classID:"Fl",Usng:{t:"enum",v:{FlCn:r}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(D*100)}},PrsT:{t:"bool",v:b},Md:{t:"enum",v:{BlnM:by.B9(j)}}};
if(r=="Clr")x.Clr={t:"Objc",v:N};if(r=="contentAware")x.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(r=="Ptrn")x.Ptrn={t:"Objc",v:Y};return{sv:"fill",Q4:x}};I.oi.prototype.k_=function(r,j,D,N,b){this.tZ=j;
var Y=D.cz.length;if(Y==0&&!D.Kf())return;var x=Y!=0?-1-D.cz[0]:D.R[0],C=D.j[x];if(r.e=="fromAction"){var w=r.Rf,q=w.Q4;
if(w.sv=="fill"){var u=q.PrsT?q.PrsT.v:!1,h=C.add.lspf,t;if(u){C.add.lspf=h==null?1:h|1}var z=(q.Opct?q.Opct.v.val:100)/100,O=q.Md?by.fG(q.Md.v.BlnM):"norm",g=q.Usng.v.FlCn;
if(g=="contentAware"){if(D.c==null){alert("Select an area to heal first.");return}if(!D.Kf())return;
this.zL(D);this.c2(D,0);var $=D.c,i=R.O($.rect.Z()*4);R.zQ($.channel,i,3);this.rZ(D,"sheal",i,$.rect,$.rect);
this.P(D,$.rect);this.finish(D,$.rect)}else if(g=="Ptrn"){var A=b.o$,H=D.c?D.c.rect.clone():new bf(0,0,D.d,D.r),F=R.O(H.Z()*4);
fx.ab(q,F,H,A,new gJ(0,0));this.xB(D,C,D.c,F,"norm",[6,48,0,2])}else{if(g=="FrgC")t=b.xg;else if(g=="BckC")t=b.mL;
else if(g=="Blck")t=0;else if(g=="Wht")t=16777215;else if(g=="Gry")t=8421504;else if(g=="Clr"){var T=R._.z2(q.Clr.v);
t=T.a<<16|T.p<<8|T.M}var _=t>>16&255,V=t>>8&255,X=t>>0&255;this.q0(D,C,D.c,_,V,X,Math.round(255*z),O,[2,3])}if(u){C.add.lspf=h==null?0:h}}else if(w.sv=="delete"){var o=x<0?1:C.Cz,$=D.c,d;
if($==null)return;var c=x<0?D.c9[-x-1]:o<=0?null:o==1?C.BG():C.dw(D).B,H=o<=0?C.rect:c.rect,E=o<=0?$.rect.su(H):$.rect.clone();
if(E.jE())return;var f=E.Z();if(o<=0){d=R.O(f*4);R.UB(C.buffer,C.rect,d,E)}else{d=R.O(f);c.extend(E);
R.YO(c.channel,c.rect,d,E)}if(0<=x&&C.QZ(D,$)){if(o<=0){R.mh(d,0);R.UB(C.Ye.JO,C.Ye.nt,d,E)}else{d.fill(255);
R.YO(C.Ye.JO,C.Ye.nt,d,E)}}else{if(o<=0){var s=R.O(d.length>>2);R.ni(d,s,3);R.U.RP(R.eH($.rect.Z()),$.rect,s,E,$.channel,E,1);
R.zQ(s,d,3)}else{var B=R.O($.rect.Z()),_=b.mL>>>16&255,V=b.mL>>8&255,X=b.mL>>0&255;B.fill(Math.round(R.qO(_,V,X)));
R.U.RP(B,$.rect,d,E,$.channel,E,1)}}this.EC(D,!0,[2,2],x,o,E,d)}}if(r.e=="stroke"){var a=r.a06,$=D.c;
if($==null){$={rect:C.rect.clone(),channel:R.O(C.rect.Z())};R.ni(C.buffer,$.channel,3)}var U=fx.mP(a),M=I.Vm.e4($,Math.ceil(U[0]),Math.ceil(U[1])),t=R._.z2(a.Clr.v),_=Math.round(t.a),V=Math.round(t.p),X=Math.round(t.M);
this.q0(D,C,M,_,V,X,Math.round(255*a.Opct.v.val/100),by.fG(a.Md.v.BlnM),[14,9])}if(r.e=="fillBMP"){this.xB(D,C,D.c,r.bV,r.cm,r.NL)}if(r.e=="draw"){var W=r.ao,n=W.rect;
this.zL(D);var e=D.j[D.R[0]];if(r.a59&&e&&e.Cz<=0&&D.cz.length==0){n=f1.c5.D5(W,D);e.buffer=W.buffer.slice(0);
e.rect=n.clone()}else{var Q=this.mz.bmode;this.mz.bmode="norm";this.rZ(D,"draw",W.buffer,n,n.su(new bf(0,0,D.d,D.r)));
this.mz.bmode=Q}this.P(D,n);D.DW=!0;this.finish(D,n,r.NL,r.a59)}};I.oi.prototype.q0=function(r,j,D,N,b,Y,x,C,w){var q=D==null?new bf(0,0,r.d,r.r):D.rect,u=x<<24|Y<<16|b<<8|N<<0,h=R.O(q.Z()*4);
R.mh(h,u);this.xB(r,j,D,h,C,w)};I.oi.prototype.xB=function(r,j,D,N,b,Y){var x=r.cz.length!=0?-1-r.cz[0]:r.R[0],C=x<0?1:j.Cz,w=x<0?r.c9[-1-x]:C<=0?null:C==1?j.BG():j.dw(r).B,q=C<=0?j.rect:w.rect,u=D==null?new bf(0,0,r.d,r.r):D.rect,h=D==null?R.TJ(r.d*r.r):D.channel,z=u.Z(),O,g=null;
if(C<=0){O=R.O(z*4);R.UB(j.buffer,j.rect,O,u)}else{O=R.O(z);w.extend(u);R.YO(w.channel,w.rect,O,u)}if(D!=null)R.R1(h,N);
if(C>0){g=R.O(z);R.$d(N,g)}if(0<=x&&D&&j.QZ(r,D)){var t=j.Ye.dA,$=j.Ye.dA.slice(0);if(C<=0)R.kZ(N,$);
else R.kZ(g,$);var i=new ap([2,3],this);i.data={e:"drawtemp",n:r.R[0],V2:C,aad:t,a1E:$};r.vl(i);this.Gf(i.data,r)}else{if(C<=0){var A;
if(j.OL(0)){A=R.O(u.Z());R.ni(O,A,3)}R.U.tI(b,N,u,O,u,u,1);if(j.OL(0))R.zQ(A,O,3)}else R.U.RP(g,u,O,u,h,u,1);
this.EC(r,!0,Y,x,C,u,O)}};I.oi.prototype.IT=function(r){if(e4.Us.indexOf(r)!=-1)return!0;return!1};I.oi.prototype.Uc=function(r,j,D,N){var b=this.mz.brush,Y=N.o(e4.YV),x=Y!=this.de,C=I.oi.hP(b,N);
if(C!=null)this.l7(C);if(!N.o(e4.h6)&&N.nH()!=-1){var w=y.a5V(Math.round(this.mz.opacity*100),N.nH())/100;
this.EZ({opacity:w},j)}if(this.id==I.lf&&x&&r!=null){var q=this.mz.qsmode;if(q==2)q=r.c==null?0:1;else q=2;
this.EZ({qsmode:q},j)}this.de=Y;if(x){if(r)this.uE=r.z.S;this.ar(D,N)}};I.oi.hP=function(r,j){var D=r.Brsh.v.Dmtr.v.val,N=r.Brsh.v.Hrdn!=null?r.Brsh.v.Hrdn.v.val:-1,b=D,Y=N,x=j.o(e4.$P);
if(j.o(e4.Xs)){if(x)N=25*Math.floor((N-1)/25);else{if(D<=10)D--;else if(D<=50)D=5*Math.floor((D-1)/5);
else if(D<=100)D=10*Math.floor((D-1)/10);else if(D<=200)D=25*Math.floor((D-1)/25);else if(D<=400)D=50*Math.floor((D-1)/50);
else D=100*Math.floor((D-1)/100)}}if(j.o(e4.Dm)){if(x)N=25*Math.ceil((N+1)/25);else{if(D<10)D++;else if(D<50)D=5*Math.ceil((D+1)/5);
else if(D<100)D=10*Math.ceil((D+1)/10);else if(D<200)D=25*Math.ceil((D+1)/25);else if(D<400)D=50*Math.ceil((D+1)/50);
else D=100*Math.ceil((D+1)/100)}}D=Math.max(1,D);N=Math.max(0,Math.min(100,N));if(Y==-1)N=-1;if(D!=b||N!=Y){var C=JSON.parse(JSON.stringify(r));
C.Brsh.v.Dmtr.v.val=D;if(Y!=-1)C.Brsh.v.Hrdn.v.val=N;return C}return null};I.oi.prototype.ar=function(r,j,D,N){if(r.j_.list.length==0)return;
var b=this.id,Y;if((b==I.cJ||b==I.p8||b==I.cL||b==I.wh)&&(j!=null&&j.o(e4.YV)||this.mz.alt[0]))Y="crosshair";
else{var x=this.uE,C=this.mz.brush;if((b==I.cJ||b==I.p8)&&D&&this.$X&&this.$X.length==this.se.Z()*4){var w=D.z.K$(N.x,N.y),q=this.$Q(w),u=this.$X,h=this.se,z=new bf(h.x+q.x,h.y+q.y,h.d,h.r),O=gU.eT(C,r.j_.fB,x),g=O[0],t=O[1],$=Math.ceil(t.d/x),i=new bf(Math.round(w.x-$/2),Math.round(w.y-$/2),$,$),A=R.O(i.Z()*4),H,F;
R.UB(u,z,A,i);if(x==1){H=A;F=i}else{var T=new j9(x,0,0,x,0,0),_=I.T.Kn([A,i],T,!0);F=t.clone();F.x=_.rect.x;
F.y=_.rect.y;if(F.gy(_.rect))H=_.buffer;else{H=R.O(F.Z()*4);R.UB(_.buffer,_.rect,H,F)}}var V=this.mz.opacity/255;
for(var P=0;P<H.length;P+=4)H[P+3]=V*(g[P+3]*H[P+3]);gU.y2(new Uint32Array(H.buffer),F,4278190080,4294967295);
Y={eC:H,DN:F,UZ:new gJ(F.d/2,F.r/2)}}else Y=gU.DH(C,r.j_.fB,x,b==I.sY)}var X=new iu(y.E.V,!0);X.data={e:y.G.C9,EA:Y};
if(this.caller)this.caller.g(X)};I.oi.prototype.enable=function(r,j,D,N){this.xY=D;this.caller=j;this.l7(JSON.parse(JSON.stringify(this.mz.brush)));
if(r&&r.z.S!=0)this.uE=r.z.S;this.ar(D,N)};I.oi.prototype.Wf=function(r,j){if(j==e5.KY){this.mz.brush=r.j_.EU;
this.ar(r)}};I.oi.prototype.cZ=function(r,j,D,N,b){for(var Y in r)this.mz[Y]=r[Y];if(this.mz.alt[0])this.ar(b,N,D)};
I.oi.prototype.RG=function(r){var j=r.cz.length!=0?-1-r.cz[0]:r.R[0],D=r.j[j],N=j<0?1:D.Cz,b=j<0?r.c9[-j-1]:N<=0?null:N==1?D.BG():D.dw(r).B,Y=b?b.channel:D.buffer,x=(b?b.rect:D.rect).clone();
return[D,N,b,Y,x]};I.oi.prototype.zL=function(r,j){this.Ni=r.c==null?null:{rect:r.c.rect.clone(),channel:r.c.channel.slice(0)};
var D=this.RG(r),N=D[0],b=D[1],Y=D[2];this.zC=D[3];this.i6=D[4];var x=new bf(0,0,r.d,r.r),C=x.zs(this.i6);
if((this.kV()&&b<=0||C.gy(this.i6))&&j!=!0)this.zC=this.zC.slice(0);else{if(Y)Y.extend(C);else N.extend(C)}};
I.oi.prototype.c2=function(r,j){var D=this.RG(r),N=D[1],b=D[3],Y=D[4],x=[b,Y],C=j!=null?j:this.mz.sfrom;
if(N<=0&&C!=0){x[1]=new bf(0,0,r.d,r.r);x[0]=r.Ez(C==1&&r.R[0]!=r.j.length-1?r.R[0]:null).slice(0)}this.se=x[1].clone();
this.$X=x[0].slice(0)};I.oi.prototype.Qh=function(r,j,D){if(r.o(e4.YV)){var N=new iu(y.E.w,!0);N.k=I.r$;
N.data={e:"pickhere",aek:D};j.g(N);return!0}return!1};I.oi.prototype.Zq=function(r,j,D,N,b,Y){if(this.id!=I.lf&&!r.Kf(this.caller)){this.ZY=null;
return}this.zL(r);var x=new bf(0,0,r.d,r.r),C=null;if(Y!=null){var w=r.cz.length!=0?-1-r.cz[0]:r.R[0],q=r.j[w],u=w<0?r.c9[-w-1]:q.Cz<=0?null:q.Cz==1?q.BG():q.dw(r).B;
C=R.O(x.Z()*4);if(u)I.oi.Yi(this.zC,this.i6,u.color,C,x);else R.UB(this.zC,this.i6,C,x)}var h=this.mz;
if(this.ZY&&this.id==I.lf&&h.qsmode!=0&&r.c!=null){}else{var z=j.xg,O=j.mL;if(this.Qp=="erase"){var g=z;
z=O;O=g}var t=this.id==I.lf?this.i6:x;this.ZY=new gU(h.brush,j.j_.fB,j.j_.CL,{Wb:b,a0:Y,a9P:h.smth*50*y.f()/r.z.S,yT:this.id==I.wh||h.emode==1,qV:h.prsr},z,O,t,C)}if(this.id==I.lf){this.ZY.X5(h.brush,h.qsmode==2?0:16777215)}var $=r.z.K$(N.x,N.y);
if(D.o(e4.$P)&&this.aZ){var i=this.aZ;this.ZY.moveTo(i.x,i.y,N.He);this.ZY.lineTo(.001*i.x+.999*$.x,.001*i.y+.999*$.y,N.He);
this.ZY.lineTo($.x,$.y,N.He)}else this.ZY.moveTo($.x,$.y,N.He);this.aZ=$;this.eJ=$.clone();this.jv=new hN($,r.z.yS)};
I.oi.prototype.Rs=function(r,j,D){if(r&&r.z.S!=0&&r.z.S!=this.uE){this.uE=r.z.S;this.ar(D)}};I.oi.prototype.KF=function(r,j,D,N){if(this.ZY==null)return;
var b=r.j[r.R[0]],Y=r.z.K$(N.x,N.y),x=this.jv.av(Y,D);if(x.gy(this.aZ))return 1;this.ZY.lineTo(x.x,x.y,N.He);
this.aZ=x;if(this.id==I.cJ||this.id==I.p8){var C=this.qf(),w=11;C=r.z.lY(Y.x-C.x,Y.y-C.y);var q=w>>>1,u=new bf(Math.round(C.x)-q,Math.round(C.y)-q,w,w),h=R.O(u.Z()*4);
R.mh(16777215);for(var P=0;P<w;P++)h[(P*w+q)*4+3]=h[(w*q+P)*4+3]=255;r.I.Js=[[h,u]];r.yn=!0}};I.oi.prototype.Qq=function(r,j,D,N){if(D.Uy!=this.id)return;
if(this.id!=I.lf||r==null)return;if(r.c==null||r.R[0]!=this.ali){this.ali=r.R[0];this.EZ({qsmode:0},j)}};
I.oi.prototype.P=function(r,j){if(r.cz.length!=0){r.yn=!0;return}var D=r.j[r.R[0]];if(j==null){j=this.ZY.Vr();
if(this.kV()&&D.Cz<=0)j=j.su(this.i6)}if(j.jE())return;if(D.Cz<=0){D.P(j)}if(D.Cz==1){D.BG().ZI=!0;D.Fz(r)}if(D.Cz==3){D.P()}r.P(r.root.l2(j,r,r.R[0],!0))};
I.oi.prototype.rE=function(r,j,D,N,b){if(this.ZY==null)return;this.ZY.finish();if(this.id!=I.Fw&&this.id!=I.p8&&this.id!=I.lf)this.sb(r);
if(this.id==I.cJ||this.id==I.p8){r.I.Js=[];r.yn=!0}if(this.id==I.lf){var Y=r.c;r.c=this.Ni;var x=new iu(y.E.w,!0);
x.data={e:"setsel",NL:this.name,c:Y};x.k=I.Fx;j.g(x);if(this.mz.qsmode==0)this.EZ({qsmode:1},j)}else{this.finish(r,this.ZY._7());
this.ZY=null;this.mt=null}this.dir=0};I.oi.prototype.EZ=function(r,j){for(var D in r)this.mz[D]=r[D];
var N=new iu(y.E.V,!0);N.data={e:y.G.X9,k:this.id,WN:r};j.g(N)};I.oi.prototype.kV=function(){var r=this.id;
return r==I.lf||r==I.SH||r==I.JT||r==I.Y_||r==I.dK||r==I.mM};I.oi.prototype.finish=function(r,j,D,N,b){var Y=r.cz.length!=0?-1-r.cz[0]:r.R[0],x=r.j[Y],C=Y<0?1:x.Cz,w=Y<0?r.c9[-Y-1]:C<=0?null:C==1?x.BG():x.dw(r).B,q=w?w.rect:x.rect,z;
if(this.kV()||!q.gy(this.i6)){if(w==null){if(this.kV())x.H2();else{var u=j.zs(this.i6),h=R.O(u.Z()*4);
R.UB(x.buffer,x.rect,h,u);x.buffer=h;x.rect=u}}else w.H2();this.P(r,q)}if(C<=0){z=R.O(j.Z()*4);R.UB(this.zC,this.i6,z,j)}else{z=R.O(j.Z());
z.fill(w.color);R.YO(this.zC,this.i6,z,j)}this.EC(r,!1,D?D:this.name,Y,C,j,z,N,b)};I.oi.prototype.EC=function(r,j,D,N,b,Y,x,C,w){var q=x;
if(b>0){q=R.O(Y.Z()*4);I.oi.Yi(x,Y,0,q,Y)}var u=new ap(D,this);u.data=[{n:N,V2:b,DN:Y,ix:q}];if(C)u.data.Ct=[r.c,null];
if(w)u.data.Ct=[this.Ni,r.c];r.vl(u);if(j)this.Gf(u.data,r);else if(C)r.c=null;f1.s2.kR(r,u.data)};I.oi.prototype.B$=function(r,j){this.lb(r,j,!1)};
I.oi.prototype.Gf=function(r,j){this.lb(r,j,!0)};I.oi.prototype.lb=function(r,j,D){if(r.e=="drawtemp"){var N=D?r.a1E:r.aad,b=j.j[r.n];
b.Ye.dA=N;b.ne(j,0,0,j.c);b.P();j.DW=!0}else{f1.s2.fk(j,r);if(r.Ct){j.c=r.Ct[D?1:0];j.Lx=!0}}j.P()};
I.oi.prototype.sb=function(r){this.rZ(r,this.Qp,this.ZY.ZM(),this.ZY.q7(),this.ZY.Vr());this.P(r)};I.oi.prototype.rZ=function(r,j,D,N,b){var Y=this.mz,x=r.j[r.R[0]],C=r.cz.length!=0?r.c9[r.cz[0]]:x.Cz<=0?null:x.Cz==1?x.BG():x.dw(r).B,w=R.O(b.Z()*4),q,u=x.OL(0);
if(C==null){if(this.id==I.JV&&j=="heal")R.UB(x.buffer,x.rect,w,b);else R.UB(this.zC,this.i6,w,b);if(u){q=R.O(b.Z());
R.ni(w,q,3)}}else{I.oi.Yi(this.zC,this.i6,C.color,w,b)}if(r.c&&j!="qselect"){var h=b.su(r.c.rect),z=R.O(h.Z()*4);
if(j=="copy"){var O=R.O(h.Z());R.YO(r.c.channel,r.c.rect,O,h);R.UB(w,b,z,h);R.U.yI(D,N,z,h,O,h,0,h,1,!1)}else{R.UB(D,N,z,h);
R.I8(r.c.channel,r.c.rect,z,h)}D=z;N=h}function g(i,hV){var iy=Math.max(hV.x,Math.min(hV.x+hV.d-1,i.x)),gr=Math.max(hV.y,Math.min(hV.y+hV.r-1,i.y));
return new gJ(iy,gr)}if(j=="idraw"||j=="ierase"){if(this.mt==null)this.mt=R.O(this.i6.Z());var t=this.mz.samp,$=this.xY.mL,i=g(this.aZ,b),A=t==0?i:this.eJ,H=A.x,F=A.y,T=I.AV.pW(this.zC,this.i6,[A,new gJ(H-2,F),new gJ(H+2,F),new gJ(H,F-2),new gJ(H,F+2)]);
if(t==2)T=[[$>>>16&255,$>>>8&255,$>>>0&255,255]];var _=I.AV.pv(w,b,i,T,this.mz.wconf),V=R.O(b.Z());R.YO(this.mt,this.i6,V,b);
R._1.zs(_,V,V);R.YO(V,b,this.mt,this.i6);R.I8(V,b,D,N);j=j.slice(1)}if(j=="erase"&&(f1.s2.kf(r)!=16777215||C))j="draw";
if(j=="draw")R.U.tI(Y.bmode,D,N,w,b,b,Y.opacity);else if(j=="erase"){var X=R.O(b.Z()*4);R.UB(D,N,X,b);
if(C==null){var o=R.O(b.Z());R.ni(X,o,3);R.jU(o,Y.opacity);R.gq(o);R.I8(o,b,w,b)}else{R.mh(X,0,4278190080);
R.U.tI("norm",X,b,w,b,b,Y.opacity)}}else if(j=="clone"||j=="heal"){var c=this.qf(),E=this.se.clone();
E.offset(c.x,c.y);var f=b.clone();f.Fp(1,1);var d=R.O(f.Z()*4),s=R.O(f.Z());R.UB(D,N,d,f);R.ni(d,s,3);
R.mh(d,0);if(C==null){R.UB(this.$X,E,d,f);var B=R.O(f.Z());R.ni(d,B,3);R.Zh(B,s)}else I.oi.Yi(this.$X,E,C.color,d,f);
if(j=="clone"){R.zQ(s,d,3);R.U.tI(Y.bmode,d,f,w,b,b,Y.opacity)}if(j=="heal"){var a=s.slice(0);R.round(a,20);
var U=R.O(f.Z()*4);if(C==null)R.UB(this.zC,this.i6,U,f);else I.oi.Yi(this.zC,this.i6,C.color,U,f);R.U.yI(d,f,U,f,a,f,0,f,1,!1);
R.ul.pA(U,a,f);R.U.yI(U,f,w,b,s,f,0,b,1,!1)}}else if(j=="dodge"||j=="burn"){var d=R.O(b.Z()*4),n=1,e=0,Q=0,J=0;
R.UB(D,N,d,b);var M=b.Z()*4,W=I.oi.qm;if(this.de){if(j=="dodge")j="burn";else j="dodge"}var m=Y.rng;
if(j=="dodge"){e=[1-n/2,1,1+n][m];Q=[1,1/(1+n),1][m];J=[n/2,0,0][m]}if(j=="burn"){e=[1/(1-n/2),1,1-n/2][m];
Q=[1,1+n,1][m];J=[-(n/2)/(1-n/2),0,0][m]}for(var P=0;P<M;P+=4){var p=d[P+3];w[P+0]=W(w[P+0],e,Q,J,p);
w[P+1]=W(w[P+1],e,Q,J,p);w[P+2]=W(w[P+2],e,Q,J,p)}}else if(j=="sponge"||j=="redeye"){var d=R.O(b.Z()*4),s=R.O(b.Z());
R.UB(D,N,d,b);R.ni(d,s,3);R.kZ(w,d);var L=Y.smode;if(this.de)L=1-L;var S=ij.nY("hue2");if(j=="sponge")je.Gm(S,0,[0,[-50,46][L],[6,5][L]]);
else je.Gm(S,1,{z3:[265,305,25,55],f0:[0,-90,-70]});var eJ=cz.jX("hue2",S);cz.Bh(eJ,d,d,b);R.U.yI(d,b,w,b,s,b,0,b,1,!1)}else if(j=="copy")R.UB(D,N,w,b);
else if(j=="sheal"){var d=R.O(b.Z()*4),s=R.O(b.Z());R.UB(D,N,d,b);R.ni(d,s,3);d.fill(0);var hy=this.$X,v=this.se;
if(C){hy=R.O(v.Z()*4);I.oi.Yi(this.$X,v,0,hy,v)}var K=R.Sv.pA(hy,v,s,d,b);if(K!=0)R.UB(hy,v,d,b);if(this.mz.sfrom==0)R.UB(d,b,w,b);
else{R.UB(this.zC,this.i6,w,b);R.zQ(s,d,3);R.U.tI("norm",d,b,w,b,b,1)}}else if(j=="qselect"){var jo=this.i6,g5=jo.d,fQ=jo.r,iT=g5*fQ,ac=this.ZY.ZM(),T=this.zC,aR=I.Vm.j5,s=aR.nO;
s.fill(128);for(var P=0;P<iT;P++){var hV=ac[P<<2],cu=ac[(P<<2)+3];if(cu==255&&(hV==0||hV==255))s[P]=hV}s[0]=s[g5-1]=0;
s[(fQ>>>1)*g5]=s[(fQ>>>1)*g5+g5-1]=0;I.LP.T0(aR,!0);r.c={rect:jo,channel:aR.c.slice(0)};r.Lx=!0}if(C==null){if(u)R.zQ(q,w,3);
R.UB(w,b,x.buffer,x.rect)}else I.oi.k0(w,b,C)};I.oi.qf=function(){return null};I.oi.qm=function(r,j,D,N,b){var Y=r*(1/255),x=N+j*Math.pow(Y,D),C=Math.round(x*b+Y*(255-b));
return Math.max(0,Math.min(255,C))};I.oi.Yi=function(r,j,D,N,b){var Y=R.O(b.Z());Y.fill(D);R.YO(r,j,Y,b);
N.fill(255);R.gx(Y,N)};I.oi.k0=function(r,j,D){var N=R.O(j.Z());R.$d(r,N);R.YO(N,j,D.channel,D.rect)};
I.Vm=function(r,j,D){I.d5.call(this,r,j,D);this.mz={binop:0,feat:0,cstr:{cK:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this._D=new gJ(-1,-1);this.Wg=new gJ(-1,-1);this.ND="default";this.tZ=null;this.adV=!0;this.b6=!1;this.wM=new eV;
this.vP=!1;this.lt=null;this.QK=null;this.G0=!1;this.WV=!1};I.Vm.prototype=new I.d5;I.Vm.prototype.abK=function(){var r=this.mz,j=[r.binop,r.feat];
if(this.id==I.eD)j.push(r.wconf);return j};I.Vm.prototype.a2T=function(r,j,D){var N=this.mz;N.binop=r[0];
N.feat=r[1];N.wconf=r[2];var b=new iu(y.E.V,!0);b.data={e:y.G.X9,k:this.id,mz:N};D.g(b)};I.Vm.j5={key:""};
I.Vm.xZ=function(r,j,D){var N={sv:r,Q4:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(j)N.Q4.T=j;if(D!=null)N.Q4.AntA={t:"bool",v:D};return N};I.Vm.a8=function(r,j,D){return I.Vm.xZ("set",{t:"Objc",v:{classID:r,Top:{t:"UntF",v:{type:"#Pxl",val:j.y}},Left:{t:"UntF",v:{type:"#Pxl",val:j.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:j.y+j.r}},Rght:{t:"UntF",v:{type:"#Pxl",val:j.x+j.d}}}},D)};
I.Vm.vX=function(r,j,D){var N=[],b=[],x="set";for(var P=0;P<r.length;P+=2){N.push(r[P]);b.push(r[P+1])}var Y={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:N},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:b}]}}}};
if(j)x=["set","addTo","subtractFrom","interfaceWhite"][j];return I.Vm.xZ(x,Y,D)};I.Vm.ao8=function(r,j,D){var N={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:r.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:r.y}}}},b=I.Vm.xZ("set",N);
b.Q4.Tlrn={t:"long",v:j[0]};b.Q4.AntA={t:"bool",v:j[1]};b.Q4.Cntg={t:"bool",v:j[2]};if(D==!0)b.Q4.Mrgd={t:"bool",v:D};
return b};I.Vm.wi=function(r){return I.Vm.xZ("set",{t:"enum",v:{Ordn:r?"Al":"None"}})};I.Vm.a41=function(r,j,D){var N={classID:"null"};
if(r!="border")N.selectionModifyEffectAtCanvasBounds={t:"bool",v:D};var b={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[r[0]];
N[b]={t:"UntF",v:{type:"#Pxl",val:j}};return{sv:r,Q4:N}};I.Vm.aJ=function(r,j,D){var N={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},b={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:j}}]};
if(D)b.v.push({t:"name",v:{classID:"Lyr",val:D}});var Y=[{classID:"null",null:N,T:b},{classID:"null",null:b,T:N},{classID:"null",null:b,From:N},{classID:"null",null:b,With:N}],x=["set","add","subtract","interfaceIconFrameDimmed"];
return{sv:x[r],Q4:Y[r]}};I.Vm.O6=function(r,j){var D=new iu(y.E.V,!0);D.data={e:y.G.VD,Ek:e5.Uh};if(!j.nN)r.g(D);
D.data={e:y.G.VD,Ek:e5.jh};if(!j.Ar.f4)r.g(D)};I.Vm.prototype.k_=function(r,j,D,N,b){I.Vm.O6(j,b);this.tZ=j;
var Y=r.e,x,C,w=new bf(0,0,D.d,D.r),em=!1,fr,aU,bb,fZ;if(Y=="fromAction"){var q=r.Rf,u=q.sv,h=q.Q4,z=h?h.selectionModifyEffectAtCanvasBounds:null,O=z&&z.v;
if(u=="colorRange"){if(h.Clrs){var g=h.Clrs.v.Clrs,t=0,$=255,i={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[g],A=h[i+"LowerLimit"],H=h[i+"UpperLimit"];
if(A)t=A.v;if(H)$=H.v;var F=h[i+"Fuzziness"].v/100;x=I.Vm.Kh(D,t,$,F,!0)}else{var t=h.Mnm.v,$=h.Mxm.v,F;
t={lD:t.Lmnc.v,kD:t.A.v,M:t.B.v};$={lD:$.Lmnc.v,kD:$.A.v,M:$.B.v};F=h.Fzns.v/200;x=I.Vm.Kh(D,t,$,F)}C=[7,8]}else if(u=="inverse"){if(D.c==null){alert("No selection!");
return}x={channel:R.O(w.Z()),rect:w};R.YO(D.c.channel,D.c.rect,x.channel,x.rect);R.gq(x.channel);C=[7,2]}else if(u=="expand"){var T=h.By.v.val,_=D.c.rect.clone();
_.Fp(T,T);var V=R.O(_.Z()),X=R.O(_.Z());R.YO(D.c.channel,D.c.rect,X,_);R.style.stroke(X,V,_,T);x={channel:V,rect:_};
C=[7,4]}else if(u=="contract"){var T=h.By.v.val,o=D.c.rect.clone();o.Fp(1,1);if(!O)o=o.su(w);var X=R.O(o.Z()),c=R.O(X.length);
R.YO(D.c.channel,D.c.rect,X,o);R.gq(X);R.style.stroke(X,c,o,T);R.gq(c);x={channel:c,rect:o};R.H2(x);
C=[7,5]}else if(u=="border"){var T=h.Wdth.v.val;x=I.Vm.e4(D.c,T/2,T/2);C=[7,9]}else if(u=="feather"||u=="smoothness"){var T=h.Rds.v.val;
x=I.Vm.Zc(D.c,T,u=="smoothness",w,O);C=u=="feather"?[7,6]:[19,3,0]}else{var E=h.null.v,f=h.AntA!=null&&h.AntA.v;
function d(dj){var e_=dj.Top.v.val,gX=dj.Left.v.val;return new bf(gX,e_,dj.Rght.v.val-gX,dj.Btom.v.val-e_)}function s(dj){var e_=dj[0].arr,de=dj[1].arr,aM={v:[],J:[]};
for(var P=0;P<e_.length;P++){aM.J.push(P==0?"M":"L");aM.v.push(e_[P],de[P])}aM.J.push("Z");return aM}var B=["set","addTo","subtractFrom","interfaceWhite"].indexOf(u),a=h.T?h.T.v:null;
if(a&&a.classID=="Elps"){x=this.ZL(I.HS.HZ(d(a)));C=[10,4]}else if(a&&a.classID=="Rctn"){var U=d(a);
x={channel:R.O(U.Z()),rect:U.clone()};x.channel.fill(255);C=[10,15]}else if(a&&a.classID=="ObSl"){var U=d(a),M=I.Vm.j5,W=M.rect,n=M.nO,e=W.d,Q=W.r,J=U.x-W.x,m=J+U.d-1,p=Math.max(J,Math.min(m,J+m>>>1)),L=U.y-W.y,S=L+U.r-1,eJ=Math.max(L,Math.min(S,L+S>>>1)),hy=Math.max(J,0),v=Math.min(m,e),ff=Math.max(L,0),K=Math.min(S,Q);
n.fill(128);if(0<=L)for(var jo=hy;jo<v;jo++)n[L*e+jo]=0;if(S<Q)for(var jo=hy;jo<v;jo++)n[S*e+jo]=0;if(0<=J)for(var g5=ff;
g5<K;g5++)n[g5*e+J]=0;if(m<e)for(var g5=ff;g5<K;g5++)n[g5*e+m]=0;var fQ=I.JS.w2,iT=Math.round(U.d*fQ),ac=Math.round(U.r*fQ);
for(var jo=Math.max(0,p-iT);jo<Math.min(e,p+iT);jo++)n[eJ*e+jo]=255;for(var g5=Math.max(0,eJ-ac);g5<Math.min(Q,eJ+ac);
g5++)n[g5*e+p]=255;I.LP.T0(M,!0);x={channel:M.c.slice(0),rect:W.clone()};C=[10,44]}else if(a&&a.classID=="Plgn"){x=this.ZL(s(a.Pts.v.arr));
C=[10,9]}else if(a&&a.classID=="Pnt"){x=I.AV.et(D,new gJ(a.Hrzn.v.val,a.Vrtc.v.val),[h.Tlrn.v,f,h.Cntg==null||h.Cntg.v],h.Mrgd?h.Mrgd.v:!1);
C=[10,12]}else if(a&&a.Ordn=="None"){x=null;C=[7,1]}else if(a&&a.Ordn=="Al"){var aR=w;if(D.R.length!=0){var hV=D.root.nj(D.R[0]);
while(hV.parent&&hV.parent.parent)hV=hV.parent;if(hV.n.add.artb)aR=hV.n.tT()}x={channel:R.O(aR.Z()),rect:aR};
x.channel.fill(255);C=[7,0]}else if(a&&a[0]&&a[0].v.keyID=="WrPt"){var cu={e:"frompath",oO:[-1,0,0]};
this.k_(cu,j,D,N,b);return}else{var iy=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(u),gr=u=="set"?a:E,cp=gr[0].v.enum,cu;
if(cp=="Trsp"||cp=="Msk"||cp=="vectorMask"){var gP=D.R[0];if(gr.length==2)gP=dA.Mc(D,gr[1]);var g7=["Trsp","Msk","vectorMask"].indexOf(cp);
cu={e:"fromlayer",oO:[gP,g7,iy]}}else{if(gr[0].t=="name"){var gP=0;for(var P=0;P<D.c9.length;P++)if(D.c9[P].name==gr[0].v.val)gP=P;
cu={e:"fromchannel",oO:[-5-gP,0,iy]}}else{var j8=["RGB","Rd","Grn","Bl"].indexOf(cp);cu={e:"fromchannel",oO:[-1-j8,0,iy]}}}this.k_(cu,j,D,N,b);
return}if(!f&&x)R.round(x.channel);if(h.Fthr)x=I.Vm.Zc(x,h.Fthr.v.val,!1);if(u!="set"&&D.c!=null)x=R._1.na(x,D.c,B)}if(u=="expand"||u=="contract")if(!O&&!w.contains(x.rect)){var dg=x.rect.su(w),gR=R.O(dg.Z());
R.YO(x.channel,x.rect,gR,dg);x.channel=gR;x.rect=dg}}if(Y=="qmask"){em=!0;var h1=D.jc(),ar=new bf(0,0,D.d,D.r);
if(h1){x=h1.rect.gy(ar)&&R.eR(h1.channel,255)?null:{rect:h1.rect.clone(),channel:h1.channel.slice(0)};
fr=h1}else{x=null;aU=new G.Jz;aU.color=0;aU.name="Quick Mask";aU.zo=!0;if(D.c){aU.rect=D.c.rect.clone();
aU.channel=D.c.channel.slice(0)}else{aU.rect=ar;aU.channel=R.O(aU.rect.Z());aU.channel.fill(255)}}C=[6,6,1]}if(Y=="setsel"){x=r.c;
C=r.NL}if(Y=="crange"){var t=r.LS,$=r.hZ;x=I.Vm.Kh(D,t,$,r.BM);C=[7,8]}if(Y=="fromlayer"||Y=="fromchannel"||Y=="frompath"){var gt=r.oO[0],g7=r.oO[1],B=r.oO[2];
if(Y=="fromlayer"){if(gt==null)gt=D.R[0];var gX=D.j[gt];if(g7==0){var dK=gX.rect,ay=gX.buffer;if(dK.jE())return;
var hh=R.O(ay.length>>>2);R.ni(ay,hh,3);x={channel:hh,rect:dK.clone()}}else{if(gX.B==null)gX.Fz(D);var b7=g7==1?gX.BG():gX.B;
x=I.Vm.i7(b7,w)}this.track(I.Vm.aJ(B,["Trsp","Msk"][g7],gX.getName()))}else if(Y=="frompath"){var cV=D.HG(),bj=cV[1],cV=cV[0];
if(gt==null)if(cV.length==0||bj.length==0)return;var bW=cV[bj[0]];if(gt!=null)for(var P=0;P<cV.length;
P++)if(cV[P].wd==gt)bW=cV[P];var b7=bW.add.vmsk.BG(),bu=b7.q7();if(bu.Z()==0)return;var hh=b7.e_();if(r.oO[3]!=null)this.adV=r.oO[3];
if(this.adV){hh=hh.slice(0);R.round(hh)}bb=[JSON.stringify(D.rO),JSON.stringify(D.m$)];fZ=["[]","[]"];
D.rO=[];D.m$=[];x={channel:hh,rect:bu}}else{if(gt==null)gt=I.Vm.Ci(D);x=I.Vm.Ei(D,gt)}if(B!=0&&D.c)x=R._1.na(x,D.c,B);
C=[14,11]}if(x!=null&&R.eR(x.channel,0)){x=null;C=[7,1]}if(x)R.H2(x);var da=new ap(C,this);da.data={e:"changesel",Ni:D.c,OI:x,jc:em,a26:fr,agS:aU,eV:bb,alT:fZ};
D.vl(da);this.Gf(da.data,D)};I.Vm.Ci=function(r){var j=0;if(r.cz.length!=0)j=-5-r.cz[0];else if(JSON.stringify(r.z.Cs)=="[1,1,1]")j=-1;
else j=-2-r.z.Cs.indexOf(1);return j};I.Vm.Ei=function(r,j){var D,N=new bf(0,0,r.d,r.r);if(-5<j&j<0){var b=-j-1,Y=r.Ez(),x=R.O(N.Z());
if(b==0)R.$d(Y,x);else R.ni(Y,x,b-1);D={channel:x,rect:N.clone()}}if(j<-4){D=I.Vm.i7(r.c9[-j-5],N)}return D};
I.Vm.i7=function(r,j){var D,N;if(r.z2()==0){N=r.q7().clone();if(N.Z()==0)return;D=r.e_()}else{N=j;D=R.O(N.Z());
r.iJ(N,D)}return{channel:D,rect:N}};I.Vm.prototype.Mo=function(r){return this.vP||r.XS&&this.id!=I.Sl};
I.Vm.prototype.Ze=function(r,j,D){var N=new iu(j,!0);N.data=D;r.g(N)};I.Vm.prototype.l$=function(r,j){var D=new iu(y.E.V,!0);
D.data={e:y.G.C9,EA:j};r.g(D)};I.Vm.prototype.q7=function(r,j,D){j=r.c==null||this.wM.eP(1)||this.wM.dG(1)?j:null;
var N=this._D,b=this.Wg;if(D){N.x=Math.max(0,Math.min(r.d,N.x));N.y=Math.max(0,Math.min(r.r,N.y));b.x=Math.max(0,Math.min(r.d,b.x));
b.y=Math.max(0,Math.min(r.r,b.y))}var Y=I.UC.hW(N,b,j,!0,this.mz.cstr),x=Y[0].x,C=Y[0].y;return new bf(x,C,Y[1].x-x,Y[1].y-C)};
I.Vm.prototype.xR=function(r,j,D,N,b){this.WV=!0;if(this.HW())return;this.tZ=j;this.b6=!1;this.wM.xR(N);
this._D=r.z.K$(b.x,b.y);this._D=I.w8.RE(r,this._D,D);if(this.oc(r,this._D,N)){this.vP=!0;this.lt=r.c.rect.clone();
return}this.uo(r,D,N,b);r.z.h0=new bf};I.Vm.prototype.oc=function(r,j,D){var N=D.o(e4.$P),b=D.o(e4.YV);
if(r.c&&!N&&!b&&this.mz.binop==0)return R.U2(j,r.c.channel,r.c.rect);return!1};I.Vm.prototype.Vt=function(r,j,D,N,b){this.tZ=j;
if(this.G0)return;var Y=r.z.K$(b.x,b.y);if(gJ.tA(this._D,Y)*r.z.S>5){this.b6=!0;this.wM.Vt()}if(N.o(e4.d7)){if(this.QK==null)this.QK=new gJ(Y.x-this._D.x,Y.y-this._D.y);
this._D.x=Y.x-this.QK.x;this._D.y=Y.y-this.QK.y}else this.QK=null;this.Wg=Y;if(!this.vP)this.Wg=I.w8.RE(r,this.Wg,D);
if(this.oc(r,this.Wg,N))this.l$(j,"move");else this.l$(j,this.ND);if(this.vP){var x=this.lt.clone();
x.x+=this.Wg.x-this._D.x;x.y+=this.Wg.y-this._D.y;var C=I.w8.E9(r,x,D);r.c.rect.x=Math.round(this.Wg.x-this._D.x+this.lt.x+C[0]);
r.c.rect.y=Math.round(this.Wg.y-this._D.y+this.lt.y+C[1]);r.Lx=!0;I.w8.ib(r,x,C);return}this.yN(r,D,N,b);
if(r.z.h0)r.z.h0=this.q7(r,N)};I.Vm.prototype.HW=function(){return!1};I.Vm.prototype.rE=function(r,j,D,N,b,Y){var x=this.WV;
this.WV=!1;if(Y||!x)return;r.z.h0=null;this.Wg=r.z.K$(b.x,b.y);this.Wg=I.w8.RE(r,this.Wg,D);if(this.vP){this.vP=!1;
if(this.Wg.gy(this._D)&&this.Q2()==0){this.Ze(j,y.E.PN,I.Vm.wi());return}this.gm(r,this.lt,r.c.rect.clone());
if(r!=null&&r.I.EY){r.I.EY=null;r.yn=!0}return}this.BS(r,D,N,b);I.Vm.O6(j,D);this.wM.rE();this.DG(j)};
I.Vm.prototype.gm=function(r,j,D){var N=r.Nt();if(N!=null&&N.k==this&&N.data.e=="movesel"){}else{N=new ap([7,7],this);
N.data={e:"movesel",Gx:j};r.vl(N)}N.data.QH=D;this.Gf(N.data,r)};I.Vm.prototype.f7=function(r,j,D,N,b){this.G0=!0};
I.Vm.prototype.Ig=function(r,j,D,N,b){var Y=new iu(y.E.V,!0);Y.data={e:y.G.X9,k:this.id,HF:b,Ww:r,lv:D};
j.g(Y);this.G0=!1};I.Vm.prototype.Uc=function(r,j,D,N){this.wM.Uc(N);if(r!=null&&r.c!=null){var b=N.ET();
if(b.x!=0||b.y!=0){var Y=r.c.rect.clone();Y.x+=b.x;Y.y+=b.y;this.gm(r,r.c.rect.clone(),Y)}}this.DG(j)};
I.Vm.prototype.DG=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.X9,k:this.id,Uf:this.Q2()};r.g(j)};
I.Vm.prototype.Q2=function(){var r=this.wM.eP(0),j=this.wM.dG(0);return I.Vm.O9(this.mz.binop,r,j)};
I.Vm.O9=function(r,j,D){if(j)r=1;if(D)r=2;if(j&&D)r=3;return r};I.Vm.prototype.finish=function(r,j,D,N){var b=r.c,Y=this.getSelection(r,j,D,N);
if(Y==null)Y=I.Vm.wi();else{var x=this.mz.feat,C=this.Q2();if(x!=0)Y.Q4.Fthr={t:"UntF",v:{type:"#Pxl",val:x}};
if(C!=0&&C!=4)Y.sv=["","addTo","subtractFrom","interfaceWhite",""][C]}this.Ze(this.tZ,y.E.PN,Y);this._D.Ho(-1,-1);
this.Wg.Ho(-1,-1)};I.Vm.prototype.getSelection=function(r,j,D,N){return null};I.Vm.prototype.uo=function(r,j,D,N){};
I.Vm.prototype.yN=function(r,j,D,N){};I.Vm.prototype.BS=function(r,j,D,N){};I.Vm.prototype.B$=function(r,j){var D=r.e;
if(D=="changesel")j.c=r.Ni;if(D=="movesel")j.c.rect=r.Gx;if(r.jc){if(r.a26){j.cz=[j.c9.length];j.c9.push(r.a26)}else{j.c9.pop();
j.cz=[]}}if(r.eV){j.rO=JSON.parse(r.eV[0]);j.m$=JSON.parse(r.eV[1])}j.Lx=!0};I.Vm.prototype.Gf=function(r,j){var D=r.e;
if(D=="changesel")j.c=r.OI;if(D=="movesel")j.c.rect=r.QH;if(r.jc){if(r.agS){j.cz=[j.c9.length];j.c9.push(r.agS)}else{j.c9.pop();
j.cz=[]}}if(r.eV){j.rO=JSON.parse(r.alT[0]);j.m$=JSON.parse(r.alT[1])}j.Lx=!0};I.Vm.prototype.cZ=function(r){this.mz=r.mz};
I.Vm.prototype.ZL=function(r){var j=R.K.v_(r.v);if(j.jE())return null;var D=y.C("canvas","");D.width=j.d;
D.height=j.r;var N=D.getContext("2d");N.beginPath();N.translate(-j.x,-j.y);Typr.U.pathToContext({cmds:r.J,crds:r.v},N);
N.closePath();N.fill();var b=R.O(j.Z()),Y=N.getImageData(0,0,D.width,D.height);R.ni(Y.data,b,3);return{rect:j,channel:b}};
I.Vm.Zc=function(r,j,D,N,b){if(D)j=Math.round(j*.7);var Y=Math.ceil(2.6*j),x=r.rect.clone();x.Fp(Y,Y);
if(N&&!b)x=x.su(N);var C=R.O(x.Z()),w=R.O(C.length);R.YO(r.channel,r.rect,w,x);R.Fg.hU(w,C,x,j);if(D){var q=C.length;
for(var P=0;P<q;P++){var u=(C[P]-128)*j*2.5;C[P]=Math.max(0,Math.min(255,Math.round(128+u)))}}return{channel:C,rect:x}};
I.Vm.e4=function(r,j,D){var N=Math.max(1,Math.ceil(D)),b=r.rect.clone();b.Fp(N,N);var Y=b.Z(),x={channel:R.O(Y),rect:b},C=R.O(Y);
R.YO(r.channel,r.rect,C,x.rect);if(D!=0)R.style.stroke(C,x.channel,x.rect,D);else R.kZ(C,x.channel);
var w=R.O(Y);R.gq(C);if(j!=0)R.style.stroke(C,w,x.rect,j);else R.kZ(C,w);R._1.su(x.channel,w,x.channel);
return x};I.Vm.Kh=function(r,j,D,N,b){var Y=new bf(0,0,r.d,r.r),x=r.Ez();if(r.c){var C=r.c.rect.su(Y),w=R.O(C.Z()*4);
R.UB(x,Y,w,C);Y=C;x=w}var q=Y.Z(),u=R.O(q),h=1/N;if(b){if(j>=D)j=D-1;var z=j*(1-N),O=j,g=D,t=D+(255-D)*N,$=z==O?0:1/(O-z),i=g==t?0:1/(t-g);
for(var P=0;P<q;P++){var A=P<<2,H=R.qO(x[A],x[A+1],x[A+2]),F=0;if(H<z)F=0;else if(H<O)F=(H-z)*$;else if(H<=g)F=1;
else if(H<=t)F=1-(H-g)*i;else F=0;u[P]=x[A+3]*F*F}}else for(var P=0;P<q;P++){var A=P<<2,T=R.WS(x[A],x[A+1],x[A+2]),F=R.Nc(T,j,D,N,h);
u[P]=x[A+3]*F}return{rect:Y,channel:u}};I.gO=function(){I.oi.call(this,[10,18],I.dq,"tools/blur");this.Qp="copy"};
I.gO.prototype=new I.oi;I.gO.prototype.xR=function(r,j,D,N,b){var Y=N.o(e4.YV)?gU.rD:gU.dq;this.Zq(r,D,N,b,this.mz.strn,Y);
if(this.ZY==null)return;this.sb(r)};I.gO.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.dV=function(){I.oi.call(this,[10,0],I.cL,"tools/brush");
this.Qp="draw"};I.dV.prototype=new I.oi;I.dV.prototype.xR=function(r,j,D,N,b){if(this.Qh(N,j,b))return;
this.Zq(r,D,N,b,this.mz.flow);if(this.ZY==null)return;this.sb(r)};I.dV.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);
if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.FJ=function(){I.oi.call(this,[10,42],I.sY,"tools/crepl");
this.Qp="idraw";this.mz.bmode="hue "};I.FJ.prototype=new I.oi;I.FJ.prototype.xR=function(r,j,D,N,b){if(this.Qh(N,j,b))return;
this.Zq(r,D,N,b,this.mz.flow);if(this.ZY==null)return;this.sb(r)};I.FJ.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);
if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.Po=function(){I.oi.call(this,[10,43],I.mM,"tools/redeye");
this.mz.smode=0;this.Qp="redeye"};I.Po.prototype=new I.oi;I.Po.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,this.mz.flow);
if(this.ZY==null)return;this.sb(r)};I.Po.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.Sp=function(){I.oi.call(this,[10,38],I.wh,"tools/pencil");
this.Qp="draw"};I.Sp.prototype=new I.oi;I.Sp.prototype.xR=function(r,j,D,N,b){if(this.Qh(N,j,b))return;
this.Zq(r,D,N,b,this.mz.flow);if(this.ZY==null)return;this.sb(r)};I.Sp.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);
if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.t6=function(){I.oi.call(this,[10,22],I.Y_,"tools/burn");
this.Qp="burn"};I.t6.prototype=new I.oi;I.t6.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,this.mz.expo/Math.E);
if(this.ZY==null)return;this.sb(r)};I.t6.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.xr=function(r,j,D){I.oi.call(this,r==""?null:r?r:[10,1],j?j:I.cJ,D?D:"tools/clone");
this.Qp="clone";this.d4=null;this.u=null};I.xr.prototype=new I.oi;I.xr.prototype.xR=function(r,j,D,N,b){var Y=this.mz,x=Y.alt[0];
if(N.o(e4.YV)||N.o(e4.YM)||x){this.d4=r.z.K$(b.x,b.y);this.u=null;if(x)this.EZ({alt:[!1]},j);this.c2(r);
this.ar(D,N,r,b);return}if(this.d4==null){alert(e9.get([15,7,0]));return}this.ar(D,N);this.Zq(r,D,N,b,this.mz.flow);
if(this.ZY==null)return;this.u=this.$Q(r.z.K$(b.x,b.y));this.sb(r)};I.xr.prototype.$Q=function(r){var j=this.u;
if(j==null||!this.mz.algnd)j=new gJ(Math.round(r.x-this.d4.x),Math.round(r.y-this.d4.y));return j};I.xr.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);
if(this.kl)this.rf(r,D,b);if(this.ZY==null){if(this.d4!=null)this.ar(D,N,r,b);return}if(!b.XS||this.d4==null)return;
this.KF(r,D,N,b);this.sb(r)};I.xr.prototype.qf=function(){return this.u};I.rh=function(r,j,D){I.d5.call(this,r,j,D);
this.C_={Sg:{cK:0,x:0,y:0},yX:!1};this.Rm=!1;this.EF=null;this.cursor=null;this.akS=0;this.DL=null;this._D=null;
this.Pz=null};I.rh.prototype=new I.d5;I.rh.prototype.Oj=function(){return this.EF!=null};I.rh.prototype.Mo=function(r){return this._D!=null||this.EF&&this.EF.bi()};
I.rh.prototype.xR=function(r,j,D,N,b){this.DL=b;var Y=r.z.K$(b.x,b.y);Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
var x=this.C_.Sg,C=x.cK!=0?x.x/x.y:null;if(this.EF)this.EF.xR(r,D,N,Y,C,!1);else this._D=I.w8.RE(r,Y,D)};
I.rh.prototype.ja=function(r,j,D){if(D==null)D=[r.x,r.y,r.x+r.d,r.y,r.x+r.d,r.y+r.r,r.x,r.y+r.r];return new ab(D,!0,!1,this.id==I.PD,!0,j,this.id==I.PD?2:0,this.id==I.PD?4:3)};
I.rh.prototype.ar=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.C9,EA:this.cursor};r.g(j)};I.rh.prototype.enable=function(r,j,D,N){this.tZ=j;
this.cursor="crosshair";this.ar(j);if(r!=null&&r.c){var b=this.C_.Sg={cK:0,x:0,y:0};this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,Ng:!1,TZ:b});
this.cZ({SS:"cropby",ai3:3},j,r,N,D)}};I.rh.prototype.Vt=function(r,j,D,N,b){this.DL=b;var Y=r.z.K$(b.x,b.y);
if(!b.XS){var x="crosshair";if(this.EF){var C=this.EF.kj(Y,r.z.S);if(C)x=C;else x="default"}if(x!=this.cursor){this.cursor=x;
this.ar(j)}}if(this.EF)this.EF.Vt(r,D,N,Y);else if(this._D){if(this.Rm){r.I.M3={J:["M","L"],v:[this._D.x,this._D.y,Y.x,Y.y]}}else{var w=I.UC.hW(this._D,I.w8.RE(r,Y,D),N,!0,this.C_.Sg),q=w[0].x,u=w[0].y,h=this.Pz=new bf(q,u,w[1].x-q,w[1].y-u);
r.I.M3=R.K.rR(h);I.d5.Mh(b.x+10,b.y-10,h,r,D)}r.yn=!0}};I.rh.a7k=function(r,j,D){var N,b,C,w;if(j<=D){N=j;
b=D}else{N=D;b=j}var Y=r-Math.floor((r+Math.PI)/(2*Math.PI))*2*Math.PI;Y=Math.abs(Y);if(Y>Math.PI/2)Y=Math.PI-Y;
var x=N/(b*Math.sin(Y)+N*Math.cos(Y));if(j<=D){C=N*x;w=b*x}else{C=b*x;w=N*x}return{oW:C,qg:w}};I.rh.prototype.rE=function(r,j,D,N,b){this.DL=b;
var Y=r.z.K$(b.x,b.y);if(this.EF==null){var x=this.Pz;if(this._D&&(x||this.Rm)){if(this.Rm){var C=this._D,w=Y;
if(C.x>w.x){var q=C;C=w;w=q}var C=Math.atan2(-(w.y-C.y),w.x-C.x),u=I.rh.a7k(C,r.d,r.r),h=[0,0,u.oW,0,u.oW,u.qg,0,u.qg],z=new j9;
z.translate(-u.oW/2,-u.qg/2);z.rotate(C);z.translate(r.d/2,r.r/2);R.K.F(h,z,h);this.EF=this.ja(x,!1,h);
r.I.M3=null;this.Rm=!1}else{var O=this.C_.Sg;this.EF=this.ja(x,O.cK!=0)}this.EF.FI(r,D);this.Pz=null;
this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,Ng:!0});this._D=null;r.I.Js=[];r.yn=!0}return}this.EF.rE(r,D,N,Y);
this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,Ng:!0});var h=this.EF.FA();if(Math.abs(h[0]-h[4])<2&&Math.abs(h[1]-h[5])<2){this.disable(r,j,null,N);
return}if(Date.now()-this.akS<200&&this.EF.rC(Y)){this.RD(r,D);this.disable(r,j,D,N);return}this.akS=Date.now()};
I.rh.prototype.Uc=function(r,j,D,N){var b=this.EF;if(b==null||this.DL&&this.DL.XS)return;if(N.o(e4.Lf)){this.RD(r,D);
this.disable(r,j,D,N)}else if(N.o(e4.Pj)){this.disable(r,j,D,N)}else b.Uc(r,D,N)};I.rh.tp=function(r,j,D){var N={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:r[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:r[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:r[1]+r[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:r[0]+r[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:j!=null?j:0}},Dlt:{t:"bool",v:D!=null?D:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{sv:"crop",Q4:N}};I.rh.Yt=function(r,j){if(j==null)j=[!0,!0,!0,!0];var D={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][r]}}},N=["Top","Left","Btom","Rght"];
for(var P=0;P<4;P++)D[N[P]]={t:"bool",v:j[P]};return{sv:"trim",Q4:D}};I.rh.Im=function(r,j,D,N){var b={classID:"null"};
if(N!=null){b.Wdth={t:"UntF",v:{type:"#Pxl",val:r}};b.Hght={t:"UntF",v:{type:"#Pxl",val:j}};b.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][N]}}}if(D!=null)b.Rslt={t:"UntF",v:{type:"#Rsl",val:D}};
return{sv:"imageSize",Q4:b}};I.rh.uX=function(r,j,D){if(D==null)D=4;var N=Math.floor(D/3),b=D%3;return{sv:"canvasSize",Q4:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:r}},Hght:{t:"UntF",v:{type:"#Pxl",val:j}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][b]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][N]}}}}};
I.rh.prototype.k_=function(r,j,D,N,b){var Y=new bf(0,0,D.d,D.r),x=[11,3],C=D.TB,w=D.d/2,q=D.r/2,u=1,p,L;
if(r.e=="fromAction"){var h=r.Rf,z=h.sv,O=h.Q4,g=D.d/D.r,t=O.Wdth?O.Wdth.v.val:-1,$=O.Hght?O.Hght.v.val:-1,C=O.Rslt?O.Rslt.v.val:null,i=O.Wdth?O.Wdth.v.type:O.Hght?O.Hght.v.type:-1,A=1,H;
if(i=="#Prc"){if(t!=-1)t=Math.round(D.d*t/100);if($!=-1)$=Math.round(D.r*$/100)}if(z=="imageSize"){if(O.Intr){if(O.Intr.v.Intp=="Nrst")A=0;
if(O.Intr.v.Intp=="bicubicSharper")A=2;if(t==-1&&$==-1){var F=C/D.TB;t=Math.round(D.d*F);$=Math.round(D.r*F)}if(O.CnsP&&O.CnsP.v){if(t==-1)t=Math.round($*g);
if($==-1)$=Math.round(t/g)}}else{if(i=="#Prc")C=Math.round(D.TB*(D.d/t));else if(i==-1)C=Math.round(C);
else throw"e";t=D.d;$=D.r}H={e:"imgsize",m6:t,Yz:$,IF:C,rs:A}}else if(z=="canvasSize"){if(t==-1)t=D.d;
if($==-1)$=D.r;if(O.Rltv&&O.Rltv.v==!0){if(O.Wdth)t+=D.d;if(O.Hght)$+=D.r}var T=O.Vrtc?O.Vrtc.v.VrtL:"Cntr",_=O.Hrzn?O.Hrzn.v.HrzL:"Cntr";
H={e:"canvsize",m6:t,Yz:$,eg:3*["Top","Cntr","Btom"].indexOf(T)+["Left","Cntr","Rght"].indexOf(_)}}else if(z=="revealAll"){H={e:"revealAll"}}else if(z=="trim"){var V={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[O.trimBasedOn.v.trimBasedOn];
if(V==null)throw"e";var X=["Top","Left","Btom","Rght"],o=[!0,!0,!0,!0];for(var P=0;P<4;P++)if(O[X[P]])o[P]=O[X[P]].v;
H={e:"trim",ahs:V,TZ:o}}else if(z=="crop"){var c,E,f,d;if(O.T){var s=O.T.v,c=Math.round(s.Left.v.val),E=Math.round(s.Top.v.val),f=Math.round(s.Rght.v.val)-c,d=Math.round(s.Btom.v.val)-E}else{var B=D.j[D.R[0]],a=B.rect;
a=a.su(new bf(0,0,D.d,D.r));c=a.x;E=a.y;f=a.d;d=a.r}H={e:"canvsize",m6:f,Yz:d,u:new gJ(c,E),agT:O.Dlt!=null&&O.Dlt.v}}else console.log(h);
if(H)this.k_(H,j,D,N,b);return}else if(r.e=="imgsize"){Y=new bf(0,0,r.m6,r.Yz);if(r.IF)C=r.IF;u=r.rs}else if(r.e=="canvsize"){var U=r.eg!=null?r.eg:0;
Y=new bf(0,0,r.m6,r.Yz);var M=D.d-r.m6,W=D.r-r.Yz,n=Math.round(M/2),e=Math.round(W/2);if(U==1||U==4||U==7)Y.x=n;
if(U==2||U==5||U==8)Y.x=M;if(U==3||U==4||U==5)Y.y=e;if(U==6||U==7||U==8)Y.y=W;if(r.u){Y.x=r.u.x;Y.y=r.u.y}}else if(r.e=="rot"&&(r.m+2*Math.PI)%(Math.PI/2)!=0){var Q=R.K.rR(Y).v,J=new j9;
J.translate(-w,-q);J.rotate(r.m);J.translate(w,q);R.K.F(Q,J,Q);Y=R.K.v_(Q)}else if(r.e=="rot"&&r.m!=Math.PI&&r.m!=-Math.PI){Y=new bf(w-D.r/2,q-D.d/2,D.r,D.d);
if((D.d+D.r&1)==1){w=Math.floor(w);q=Math.floor(q);Y=new bf(w-Math.floor(D.r/2),q-Math.floor(D.d/2),D.r,D.d);
if((D.d&1)==1&&r.m!=-Math.PI/2)Y.y--;if((D.r&1)==1&&r.m==-Math.PI/2)Y.x--}}else if(r.e=="trim"){x=[11,12,0];
var m=D.Ez(),a=new bf(0,0,D.d,D.r);Y=R.JN(m,a,r.ahs,r.TZ);if(Y.jE())Y=a}else if(r.e=="cropbysel"){x=[11,12,1];
Y=D.c.rect.clone()}else if(r.e=="revealAll"){x=[11,12,2];Y=D.root.q7(D,!0)}var S=r.e=="canvsize"&&r.agT;
if(r.e=="imgsize"||r.e=="rot"||r.e=="scl"||S){var eJ=new j9;if(r.e=="imgsize"){x=[11,10];eJ.scale(r.m6/D.d,r.Yz/D.r)}else if(S){}else{eJ.translate(-w,-q);
if(r.e=="rot")eJ.rotate(r.m);if(r.e=="scl")eJ.scale(r.m.x,r.m.y);eJ.translate(w,q);x=r.NL}L=R.t.eb(eJ);
p=this.EP(D,b,!0,L,u,S?Y:null)}else if(r.e=="auto-align"){if(D.R.length<2){alert("Select two or more layers.");
return}var hy=[];for(var P=0;P<D.R.length;P++){var B=D.j[D.R[P]];if(!B.bp()&&B.add.SoLd==null){alert("Unsupported layer selected.");
return}if(B.rect.jE()){alert("Empty layer selected.");return}hy.push([B.buffer,B.rect])}var v=R.On.gK(hy,0);
if(v==null){alert("No similarity found.");return}L=v[1];var ff=D.R;D.R=D.R.slice(1);p=this.EP(D,b,!1,v.slice(1),u);
D.R=ff;Y=D.root.q7(D,!0);x=[2,10,1]}var K=new bf(0,0,D.d,D.r);if(!Y.jE()&&(!Y.gy(K)||p!=null)){var jo=new ap(x,this);
jo.data={a48:D.TB,IF:C,hh:p,iX:L,Tk:I.rh.HI(D,Y,K,p!=null)};I.rh.pe(D,jo.data,Y);D.vl(jo);this.Gf(jo.data,D)}};
I.rh.HI=function(r,j,D,N){if(r.hB.length==0)return null;var b=JSON.stringify(r.hB),Y=JSON.parse(b);I.K_.aie(Y,j,D,N);
Y=JSON.stringify(Y);return[b,Y]};I.rh.prototype.EP=function(r,j,D,N,b,Y){var x={j:[],ai:null,ZJ:null};
if(D){for(var P=0;P<r.j.length;P++)x.j.push(P);for(var P=0;P<r.ou.length;P++)x.j.push(-1-P);for(var P=0;
P<r.c9.length;P++)x.j.push(-1e3-P)}else x.j=r.R.slice(0);x.ai=I.T.ED(r,x.j,!0);I.T.lP(r,j,x.j,x.ai,b,N,null,!0,Y);
x.ZJ=I.T.ED(r,x.j,!0);return x};I.rh.prototype.Gf=function(r,j){if(r.IF)j.TB=r.IF;if(r.Tk)j.hB=JSON.parse(r.Tk[1]);
if(r.hh){I.rh.vV(j,R.t.pM(r.iX));I.T.LJ(j,r.hh.j,r.hh.ZJ)}I.rh.R9(j,r)};I.rh.prototype.B$=function(r,j){if(r.a48)j.TB=r.a48;
if(r.Tk)j.hB=JSON.parse(r.Tk[0]);I.rh.DX(j,r);if(r.h3)j.z.u.yL(r.h3);j.gL();if(r.hh){var D=R.t.pM(r.iX).clone();
D.gq();I.rh.vV(j,D);I.T.LJ(j,r.hh.j,r.hh.ai)}};I.rh.vV=function(r,j){for(var P=0;P<r.j.length;P++){var D=r.j[P];
if(D.add.artb==null)continue;var N=R.K.rR(D.tT()).v;R.K.F(N,j,N);var b=R.K.v_(N);D.OD(b)}};I.rh.Wz=function(r){var j=new bf,D=0,N=r.root.children.length;
for(var P=0;P<N;P++){var b=r.root.children[P].n;if(b.add.artb==null)continue;j=j.zs(b.tT());D++}var Y=new bf(0,0,r.d,r.r);
if(!j.jE()&&!Y.gy(j)&&N==D)return j;return null};I.rh.Dw=function(r){var j=I.rh.Wz(r);if(j)I.rh.yX(r,j,!0);
return j};I.rh.yX=function(r,j,D){var N=r.d,b=r.r,Y=j.d,x=j.r,C=j.x==0&&j.y==0;if(C&&N==Y&&b==x)return;
r.d=Y;r.r=x;var w=[];for(var P=0;P<r.j.length;P++)w.push(P);if(!C)I.w8.oX(r,w,null,-j.x,-j.y);for(var P=0;
P<r.j.length;P++){r.j[P].Fz(r)}r.gL();if(D){var q=r.z.u,u=r.z.S;q.x+=Math.round((j.x+(Y-N)/2)*u);q.y+=Math.round((j.y+(x-b)/2)*u)}else r.z.u.Ho(0,0);
if(r.c)r.c.rect.offset(-j.x,-j.y);var h=r.Yd();for(var z=0;z<h[0].length;z++)if(h[1][z]==-1){var O=r.Pc[z];
O[1]-=O[0]==0?j.x:j.y}for(var P=0;P<r.c9.length;P++)r.c9[P].rect.offset(-j.x,-j.y)};I.rh.prototype.cZ=function(r,j,D,N,b){if(r.SS=="commit"){this.RD(D,b);
this.disable(D,j,null,N)}else if(r.SS=="cancel"){this.disable(D,j,null,N)}var Y=null,x=new bf(0,0,D.d,D.r),C=this.C_.Sg;
if(r.SS=="config"){this.C_=r.C_;C=this.C_.Sg;if(this.C_.yX!=null)return;if(D==null)return;Y=x;if(C.cK==1){var w=C.x/C.y;
Y.r=Math.round(Y.d/w)}if(C.cK==2){Y.d=C.x;Y.r=C.y}Y.x=Math.round((D.d-Y.d)/2);Y.y=Math.round((D.r-Y.r)/2)}if(r.SS=="straighten"){alert("Draw a line in the image.");
this.Rm=!0}if(r.SS=="cropby"){if(D==null)return;var q=r.ai3,Y;if(q==0)Y=D.root.q7(D,!0);if(q==1){if(D.R.length==0)alert("No layer is selected.");
else{var u=D.root.nj(D.R[0]);Y=u.q7(D,!0)}}if(q==2){if(D.R.length==0)alert("No layer is selected.");
else{Y=R.JN(D.Ez(),x,0);if(Y.jE())Y=x.clone()}}if(q==3){if(D.c!=null)Y=D.c.rect;else alert("There is no selection.")}}if(Y&&Y.jE())Y=null;
if(Y!=null){this.EF=this.ja(Y,C.cK!=0);this.EF.FI(D,b);this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,Ng:!0})}};
I.rh.prototype.RD=function(r,j){var D=this.EF.FA(),N=R.K.v_(D),b=this.an8(r,D),Y=!1,x=this.C_.Sg,C=this.C_.yX,w=x.x,q=x.y,z;
if(this.id==I.a1&&x.cK==2&&b.Z()!=w*q){b=new bf(b.x,b.y,w,q);Y=!0}var u=R.t.xk(D,b);u=R.t.gq(u);var h=R.t.JP(u),O=Math.atan2(u[3],u[0]);
if(Math.abs(O)>1e-9||!h||Y||C)z=this.EP(r,j,!0,u,1,N);var g=new ap(this.name,this),t=new bf(0,0,r.d,r.r);
g.data={hh:z,iX:u,h3:r.z.u.clone(),Tk:I.rh.HI(r,b,t,!1)};I.rh.pe(r,g.data,b);r.vl(g);this.Gf(g.data,r);
this.track(I.rh.tp([N.x,N.y,N.d,N.r],null,C))};I.rh.pe=function(r,j,D){if(D==null)return;j.Gx=new bf(0,0,r.d,r.r);
j.QH=D};I.rh.R9=function(r,j){if(j.QH==null)return;I.rh.yX(r,j.QH)};I.rh.DX=function(r,j){if(j.QH==null)return;
var D=j.Gx.clone();D.offset(-j.QH.x,-j.QH.y);I.rh.yX(r,D)};I.rh.prototype.an8=function(r,j){var D=R.t.xk(j),N=R.t.JP(D),b=R.t.pM(D),Y=b.Db,x=b.aF,C=Math.atan2(b.M,b.kD);
b.rotate(C);var w=new bf(Y,x,b.kD,b.oq);if(!N){function q(H,P,F){var T=H[P]-H[F],_=H[P+1]-H[F+1];return Math.sqrt(T*T+_*_)}var u=q(j,0,2),h=q(j,4,6),z=Math.max(u,h),O=q(j,2,4),g=q(j,6,0),t=Math.max(O,g),$=I.rh.asz(j,r.d/2,r.r/2),i,A;
if(isNaN($)||$==Infinity||$==-Infinity||Math.min($,1/$)<.1)$=(u+h)/(O+g);if(z/t>$){i=z*1;A=i/$}else{A=t*1;
i=A*$}w.d=i;w.r=A}w.x=Math.round(w.x);w.y=Math.round(w.y);w.d=Math.round(w.d);w.r=Math.round(w.r);return w};
I.rh.asz=function(r,j,D){var N=r[0]-j,b=r[1]-D,Y=r[2]-j,x=r[3]-D,C=r[6]-j,w=r[7]-D,q=r[4]-j,u=r[5]-D,h=((b-u)*C-(N-q)*w+N*u-b*q)/((x-u)*C-(Y-q)*w+Y*u-x*q),z=((b-u)*Y-(N-q)*x+N*u-b*q)/((w-u)*Y-(C-q)*x+C*u-w*q),O=-((z*w-b)*(h*x-b)+(z*C-N)*(h*Y-N))/((z-1)*(h-1));
function g($){return $*$}var t=Math.sqrt((g(h-1)+g(h*x-b)/O+g(h*Y-N)/O)/(g(z-1)+g(z*w-b)/O+g(z*C-N)/O));
if(h==1&&z==1)t=Math.sqrt((g(x-b)+g(Y-N))/(g(w-b)+g(C-N)));return t};I.rh.prototype.disable=function(r,j,D,N){if(r==null)return;
if(this.EF)this.EF.clear(r);this.EF=null;this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,Ng:!1})};I.rh.prototype.Ze=function(r,j,D,N){var b=new iu(j,!0);
b.data=D;if(N)b.k=N;r.g(b)};I.Oh=function(){I.rh.call(this,[10,2],I.a1,"tools/rcrop")};I.Oh.prototype=new I.rh;
I.Fa=function(){I.rh.call(this,[10,39],I.PD,"tools/pcrop")};I.Fa.prototype=new I.rh;I.oA=function(){I.oi.call(this,[10,21],I.JT,"tools/dodge");
this.Qp="dodge"};I.oA.prototype=new I.oi;I.oA.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,this.mz.expo/Math.PI);
if(this.ZY==null)return;this.sb(r)};I.oA.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.fm=function(){I.oi.call(this,[10,3],I.SH,"tools/eraser");
this.Qp="erase"};I.fm.prototype=new I.oi;I.fm.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,this.mz.flow);
if(this.ZY==null)return;this.sb(r)};I.fm.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;var Y=this.KF(r,D,N,b);this.sb(r)};I.Qz=function(){I.oi.call(this,[10,45],I.apF,"tools/beraser");
this.Qp="ierase"};I.Qz.prototype=new I.oi;I.Qz.prototype.xR=function(r,j,D,N,b){if(this.Qh(N,j,b))return;
this.Zq(r,D,N,b,this.mz.flow);if(this.ZY==null)return;this.sb(r)};I.Qz.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);
if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.mE=function(){I.Vm.call(this,[10,15],I.Fx,"tools/rselect");
this.ND="crosshair"};I.mE.prototype=new I.Vm;I.mE.prototype.yN=function(r,j,D,N){if(!N.XS||!this.b6)return;
var b=this.q7(r,D,!0);r.I.M3=R.K.rR(b);r.yn=!0;I.d5.Mh(N.x+10,N.y-10,b,r,j)};I.mE.prototype.BS=function(r,j,D,N){r.I.M3=null;
r.I.Js=[];r.yn=!0;this.finish(r,j,D,N)};I.mE.prototype.getSelection=function(r,j,D,N){if(this._D.gy(this.Wg)||!this.b6)return null;
var b=this.q7(r,D,!0);if(b.jE())return null;return I.Vm.a8("Rctn",b,this.mz.anta)};I.HS=function(){I.Vm.call(this,[10,4],I.a28,"tools/eselect");
this.ND="crosshair"};I.HS.prototype=new I.Vm;I.HS.prototype.yN=function(r,j,D,N){if(!N.XS||!this.b6)return;
var b=this.q7(r,D);r.I.M3=I.HS.HZ(b);r.yn=!0;I.d5.Mh(N.x+10,N.y-10,b,r,j)};I.HS.prototype.BS=function(r,j,D,N){r.I.M3=null;
r.I.Js=[];r.yn=!0;this.finish(r,j,D,N)};I.HS.prototype.getSelection=function(r,j,D,N){if(this._D.gy(this.Wg)||!this.b6)return null;
var b=this.q7(r,D);if(!b.CI(new bf(0,0,r.d,r.r)))return null;return I.Vm.a8("Elps",b,this.mz.anta)};
I.HS.HZ=function(r){var j=r.x,D=r.y,N=r.x+r.d,b=r.y+r.r,Y=(j+N)/2,x=(D+b)/2,C=(j-N)/2,w=(D-b)/2,q=.5522848,u={v:[Y,x-w],J:["M","C","C","C","C"]};
u.v.push(Y+q*C,x-w,Y+C,x-q*w,Y+C,x);u.v.push(Y+C,x+q*w,Y+q*C,x+w,Y,x+w);u.v.push(Y-q*C,x+w,Y-C,x+q*w,Y-C,x);
u.v.push(Y-C,x-q*w,Y-q*C,x-w,Y,x-w);return u};I.dU=function(r){I.d5.call(this,[10,5],r?I.BH:I.r$,"tools/eyedropper");
this.QW=null;this.V6=0;this.kc=null;this.Jk=1;this.Xr=2;this.a54=!0;this.u2=!1};I.dU.prototype=new I.d5;
I.dU.prototype.Mo=function(r){return r.XS};I.dU.prototype.k_=function(r,j,D,N,b){if(r.e=="pickhere")this.AW(D,j,b,null,r.aek);
if(r.e=="supertool")this.QW=r.k};I.dU.prototype.xR=function(r,j,D,N,b){var Y=this.QW;if(Y){Y.xR(r,j,D,N,b);
return}this.V6=D.xg;this.kc=b;var x=this.AW(r,null,D,N,b);this.ar(r,j,x,b)};I.dU.prototype.Vt=function(r,j,D,N,b){var Y=this.QW;
if(Y){Y.Vt(r,j,D,N,b);return}var x=this.kc;if(x){var C=b.x-x.x,w=b.y-x.y,q=1,u=new gJ(x.x+C*q,x.y+w*q),h=this.AW(r,null,D,N,u);
this.ar(r,j,h,u,new gJ(C*(1-q),w*(1-q)))}};I.dU.prototype.ar=function(r,j,D,N,b){var Y=this.a54,x=this.u2,q=12,u=11;
if(r.z.S>4)x=!1;if(!x&&!Y)return;if(b==null)b=new gJ(0,0);var C=new bf(0,0,r.d,r.r),w=r.Ez(),h=(q*2+1)*u,z=new gJ(h/2,h/2),O=new bf(0,0,h,h),g=R.O(O.Z()*4),t=r.z.K$(N.x,N.y),$=Math.floor(t.x),i=Math.floor(t.y),A=new j9;
A.scale(1/u,1/u);A.translate($-q,i-q);if(x)R.scale.i$(w,C,A,g,O);var H=(q-3.4)*u,F=(q-1.7)*u,T=q*u;for(var _=0;
_<h;_++)for(var V=0;V<h;V++){var X=gJ.tA(new gJ(V,_),z);if(X>H){if(Y){var o=Math.max(0,H-X+1),c=(_*h+V)*4,E=g[c+3]<<24|g[c]<<16|g[c+1]<<8|g[c+2],f=255<<24|(_<T+u*.5?D:this.V6);
if(X>F){o=Math.max(0,F-X+1);E=f;f=4286611584}else if(!x){E=f&16777215}g[c+0]=(1-o)*(f>>>16&255)+o*(E>>>16&255);
g[c+1]=(1-o)*(f>>>8&255)+o*(E>>>8&255);g[c+2]=(1-o)*(f>>>0&255)+o*(E>>>0&255);g[c+3]=(1-o)*(f>>>24&255)+o*(E>>>24&255)}if(X>T){g[(_*h+V)*4+3]=Math.max(0,255*(T-X+1))}}}function d(P){var S=P<<2;
g[S]=0;g[S+1]=0;g[S+2]=0;g[S+3]=255}function s(P){var S=P<<2;g[S]=255;g[S+1]=255;g[S+2]=255;g[S+3]=255}var B=this.Jk*u+2,a=h-B>>>1,U=a+B-1;
if(x&&B<h)for(var P=0;P<B;P++){var M=a*h+a+P,n=U*h+a+P,e=(a+P)*h+a,Q=(a+P)*h+U;d(M);d(n);d(e);d(Q);if(P!=0&&P!=B-1){s(M+h);
s(n-h);s(e+1);s(Q-1)}}if(!x)for(var P=-9;P<=9;P++){if(-3<P&&P<3)continue;var J=h>>>1,V=J*h+J+P,_=(J+P)*h+J;
s(V-h);d(V);s(V+h);s(_-1);d(_);s(_+1)}var m=I.d5.hv(0,0,["#"+R.Za(D),"RGB "+(D>>>16&255)+","+(D>>>8&255)+","+(D>>>0&255)]),C=m[1];
C.y=0;C.x=h-C.d>>>1;R.UB(m[0],C,g,O);var p={eC:g,DN:O,UZ:new gJ(z.x+b.x,z.y+b.y)},L=new iu(y.E.V,!0);
L.data={e:y.G.C9,EA:p};j.g(L)};I.dU.prototype.rE=function(r,j,D,N,b,Y){this.AW(r,j,D,N,b);var x=this.QW;
if(x){x.rE(r,j,D,N,b);return}if(this.kc){this.kc=null;if(Y)this.AW(r,j,D,N,b,this.V6);var C=new iu(y.E.V,!0);
C.data={e:y.G.C9,EA:"default"};j.g(C)}};I.dU.prototype.AW=function(r,j,D,N,b,Y){if(Y==null)Y=I.dU.Ed(r,b,this.Jk,this.Xr);
var x=new iu(y.E.V);x.data={e:y.G.VD,Ek:e5.pN,Ix:N&&N.o(e4.YV)?1:0,m:Y};if(j)j.g(x);return Y};I.dU.Ed=function(r,j,D,N){if(N==null)N=2;
var b=r.z.K$(j.x,j.y),Y,x,$=0,i=0,A=0;if(N==0&&r.R.length!=0){var C=r.j[r.R[0]];Y=C.buffer;x=C.rect}else{Y=N==2?r.Ez():r.Ez(r.R[0]);
x=new bf(0,0,r.d,r.r)}var w=Math.floor(b.x)-x.x,q=Math.floor(b.y)-x.y,u=(D-1)/2,h=Math.max(0,w-u),z=Math.max(0,q-u),O=Math.min(x.d,w+u+1),g=Math.min(x.r,q+u+1),t=(O-h)*(g-z);
for(var w=h;w<O;w++)for(var q=z;q<g;q++){var P=4*(q*x.d+w);$+=Y[P];i+=Y[P+1];A+=Y[P+2]}$=Math.round($/t);
i=Math.round(i/t);A=Math.round(A/t);return $<<16|i<<8|A};I.dU.prototype.cZ=function(r){var j=r.mz;this.Jk=[1,3,5,11,31][j[0]];
this.Xr=j[1];this.a54=j[2];this.u2=j[3]};I.GY=function(){I.d5.call(this,[10,6],I.ac1,"tools/gradient");
this.mz={_:JSON.parse(hz.i_.Ta).v,Ce:"Lnr",iI:!1,ass:!1,aaj:"norm",Wb:1};this.Hd=!1;this.L7=null};I.GY.prototype=new I.d5;
I.GY.prototype.enable=function(r,j,D,N){var b=new iu(y.E.V,!0);b.data={e:y.G.C9,EA:"default"};j.g(b)};
I.GY.prototype.cZ=function(r){this.mz=r.Ek};I.GY.prototype.xR=function(r,j,D,N,b){if(!r.Kf())return;
this.L7=r.z.K$(b.x,b.y);this.L7=I.w8.RE(r,this.L7,D);this.Hd=!0};I.GY.prototype.Vt=function(r,j,D,N,b){if(!this.Hd)return;
var Y=r.z.K$(b.x,b.y);Y=I.w8.RE(r,Y,D);if(N.o(e4.$P))Y=I.GY.dt(this.L7,Y);r.I.M3={v:[this.L7.x,this.L7.y,Y.x,Y.y],J:["M","L"]};
r.I.D$=[this.L7.x,this.L7.y,Y.x,Y.y];r.yn=!0};I.GY.prototype.rE=function(r,j,D,N,b){if(!this.Hd)return;
var Y=r.j[r.R[0]],x=r.z.K$(b.x,b.y);x=I.w8.RE(r,x,D);if(N.o(e4.$P))x=I.GY.dt(this.L7,x);var C=x.I5(this.L7),w=gJ.ov(this.L7,x,.5),q=Math.atan2(C.y,C.x),u=gJ.tA(this.L7,x),h=Math.sin(q),z=Math.cos(q);
if(u>2){var O;if(r.c)O=r.c.rect;else O=new bf(0,0,r.d,r.r);var g=R.O(O.Z()*4),t=this.mz,$=t.Ce;if($!="Lnr"){u*=2;
w=this.L7}R._.Jj(t._,g,O,[z*1/u,h*1/u,-h*1/u,z*1/u],w.x,w.y,t.iI,hz._.types.indexOf($),D.xg,D.mL,null,t.ass);
var i=Math.round(t.Wb*256),A=g.length;if(i!=256)for(var P=0;P<A;P+=4)g[P+3]=g[P+3]*i>>>8;var H=new iu(y.E.w);
H.k=I.SH;H.data={e:"fillBMP",bV:g,cm:t.aaj,NL:this.name};j.g(H)}r.I.M3=null;r.I.D$=[];r.yn=!0;this.Hd=!1};
I.GY.dt=function(r,j){if(r.gy(j))return r;var D=j.x-r.x,N=j.y-r.y,b=Math.abs(D),Y=Math.abs(N);if(b>Y)Y=b/2>Y?0:b;
if(Y>b)b=Y/2>b?0:Y;b=D>0?b:-b;Y=N>0?Y:-Y;var x=Math.sqrt(D*D+N*N)/Math.sqrt(b*b+Y*Y);return new gJ(r.x+b*x,r.y+Y*x)};
I.GY.af=function(r,j,D,N,b,Y,x){if(x==null)x=y.C("canvas","");var C=x.getContext("2d");x.width=j;x.height=D;
var w=new bf(0,0,j,D),q=R.O(j*D*4);R._u(q,j,D,4);var u=Math.sin(N),h=Math.cos(N),z=R.O(j*D*4);R._.Jj(r,z,w,[h*1/j,u*1/j,-u*1/D,h*1/D],j/2,D/2,!1,0,b,Y);
R.U.tI("norm",z,w,q,w,w,1);var O=C.getImageData(0,0,j,D);R.kZ(q,O.data);C.putImageData(O,0,0);return x.toDataURL()};
I.GY.aff=function(r,j,D){var N=JSON.parse(JSON.stringify(r));for(var P=0;P<N.Clrs.v.length;P++){var b=N.Clrs.v[P].v,Y=b.Type.v.Clry;
if(Y=="UsrS")continue;var x=Y=="FrgC"?j:D;b.Type.v.Clry="UsrS";b.Clr={t:"Objc",v:R._.XJ({a:x>>16&255,p:x>>8&255,M:x&255})}}return N};
I.EO=function(){I.d5.call(this,[10,7],I.Sz,"tools/hand");this.kc=new gJ(0,0);this.re=null;this.KR=0};
I.EO.prototype=new I.d5;I.EO.prototype.k_=function(r,j,D,N,b){var Y=r.e;if(Y=="setcls"){D.z.Cs=r.Cs;
D.yn=!0;D._P=!0}if(Y=="scroll"&&!N.o(e4.YV)){if(N.o(e4.h6))I.EO.NB(D,D.z.u.x-r.Cp.y,D.z.u.y-r.Cp.x);
else I.EO.NB(D,D.z.u.x-r.Cp.x,D.z.u.y-r.Cp.y)}};I.EO.prototype.enable=function(r,j,D,N){this.re=null;
var b=new iu(y.E.V,!0);b.data={e:y.G.C9,EA:"grab"};j.g(b);if(r&&Date.now()-this.KR<300){b.type=y.E.w;
b.k=I._h;b.data={e:"adapt",m:"fitscr"};j.g(b)}this.KR=Date.now()};I.EO.prototype.xR=function(r,j,D,N,b){this.re=r.z.u.clone();
this.kc.Ho(b.x,b.y)};I.EO.prototype.Vt=function(r,j,D,N,b){if(!b.XS)return;if(this.re==null)this.xR(r,j,D,N,b);
I.EO.NB(r,this.re.x+(b.x-this.kc.x),this.re.y+(b.y-this.kc.y))};I.EO.prototype.rE=function(r,j,D,N,b){this.re=null};
I.EO.NB=function(r,j,D){var N=r.z.S,b=r.z.lk,Y=b.d,x=b.r,C=r.d*N,w=r.r*N,q=C<Y&&w<x,u=Y/2+C/2-64,h=x/2+w/2-64;
r.z.u.Ho(Math.max(-u,Math.min(u,j)),Math.max(-h,Math.min(h,D)));r._P=!0};I.df=function(){I.d5.call(this,[10,47],I.arm,"tools/rview");
this.kc=new gJ(0,0);this.aZ=null;this.alX=null;this.KR=0};I.df.prototype=new I.d5;I.df.prototype.enable=function(r,j,D,N){this.re=null;
var b=new iu(y.E.V,!0);b.data={e:y.G.C9,EA:"grab"};j.g(b);if(r&&Date.now()-this.KR<300&&r.z.yS!=0){r.z.yS=0;
r.yn=!0}this.KR=Date.now();if(r)this.Zy(r,j)};I.df.prototype.disable=function(r,j,D,N,b){if(r)this.Zy(r,j)};
I.df.prototype.u3=function(r,j,D,N){if(r)this.Zy(r,j)};I.df.prototype.xR=function(r,j,D,N,b){this.kc.Ho(b.x,b.y);
var Y=r.z;this.aZ=Y.K$(Y.lk.d/2,Y.lk.r/2);this.alX=Y.LW()};I.df.prototype.Vt=function(r,j,D,N,b){if(!b.XS)return;
var Y=r.z,x=this.aZ,C=this.kc,w=new gJ(Y.lk.d/2,Y.lk.r/2),q=Math.atan2(b.y-w.y,b.x-w.x),u=Math.atan2(C.y-w.y,C.x-w.x);
this.zk(r,j,this.alX.clone(),x,q-u)};I.df.prototype.cZ=function(r,j,D,N){this.zk(D,j,null,null,r.Ir-D.z.yS);
D.z.yS=r.Ir};I.df.prototype.zk=function(r,j,D,N,b){var Y=r.z;if(D==null)D=Y.LW();if(N==null)N=Y.K$(Y.lk.d/2,Y.lk.r/2);
D.translate(-N.x,-N.y);D.rotate(b);D.translate(N.x,N.y);Y.vu(D);if(r.d*Y.S<Y.lk.d&&r.r*Y.S<Y.lk.r)Y.u.Ho(0,0);
r.yn=!0;this.Zy(r,j)};I.df.prototype.Zy=function(r,j){var D=new iu(y.E.V,!0);D.data={e:y.G.X9,k:this.id,Ir:r.z.yS};
j.g(D)};I.qR=function(){I.xr.call(this,[10,25],I.p8,"tools/hbrush")};I.qR.prototype=new I.xr("");I.qR.prototype.rE=function(r,j,D,N,b){if(this.ZY==null)return;
this.rZ(r,"heal",this.ZY.ZM(),this.ZY.q7(),this.ZY._7());this.P(r,this.ZY._7());I.oi.prototype.rE.call(this,r,j,D,N,b);
if(!this.mz.algnd)this.u=null};I.Qy=function(r){I.d5.call(this,r?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],r?I.Pv:I.pP,r?"tools/vtype":"tools/htype");
this.VQ=[];this.AN=null;this.lv=null;this.caller=null;this.O7=1;this.Nx=null;this.akD=0;this.m1=0;this.ask=null;
this._n=null;this.Va=null;this.xH=null;this.kF=null;this.bC=null;this.ajk=null;this.zj=null;this.EF=null;
this.Hy=null;this.a3e=null;this.Zx=!1;this.tl=!1;this.xz=!1;this.S6=null;this.Dv=null;this.akU=null;
this.Jf=!1;this.hf=!1;this.WA=-1;this.iG=-1;this.AC=document.createElement("textarea");this.AC.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.AC.addEventListener("input",this.Jg.bind(this),!1);this.AC.addEventListener("keydown",this.aoC.bind(this),!1)};
I.Qy.prototype=new I.d5;I.Qy.prototype.Mo=function(r){return r.XS};I.Qy.prototype.Qq=function(r,j,D,N){if(this.Va!=null||this.id==I.Pv)return;
this.caller=j;this.AN=r;var b=this.P_(r);if(b.length!=0){var Y=null,x=[],C=[];for(var P=0;P<b.length;
P++){var w=r.j[b[P]],q=w.add.TySh,u=0,h=cU.g2(q.d1).length-2,z=cU.eZ(q.d1,u,h);cU.rq(z,I.T.zR(q.F));
if(z.WQ.Font!=null)z.WQ.Font=z.HB[z.WQ.Font].Name;Y=z.HB;x.push(z.WQ);C.push(z.Av)}var z={HB:Y,WQ:cU.JF(x),Av:cU.JF(C)};
if(z.WQ.Font!=null)cU.ht(z,z.WQ.Font);this.Ny(j,z,q)}};I.Qy.prototype.P_=function(r){var j=[];for(var P=0;
P<r.R.length;P++)if(r.j[r.R[P]]&&r.j[r.R[P]].add.TySh)j.push(r.R[P]);return j};I.Qy.prototype.k_=function(r,j,D,N,b){var Y=r.e=="insertGlyph";
if((Y||r.e=="insertText")&&this.Va){var x=Y?String.fromCharCode(65533):r.m,C=this.AC,w=C.value,q=C.selectionStart,u=C.selectionEnd;
C.value=w.slice(0,q)+x+w.slice(u);C.selectionStart=C.selectionEnd=q+x.length;this.Jg(null,Y?r.m:null);
C.focus()}if(r.e=="updateStyles"){if(this.Va==null){var h=this.P_(D),z=!1;if(h.length!=0){this.pT(D,j,b,h);
for(var P=0;P<h.length;P++){var O=D.j[h[P]],g=O.add.TySh;cU.Wc(g,this.O7);this.Va=O;var t=cU.g2(g.d1);
this.WA=0;this.iG=t.length-1;cU.lc(g.d1,this.WA,this.iG,this.LM(b,g));var $=this.aI(D,b);if($==!1)z=!0}if(z){this.Jf=!0;
return}this.py(D,j)}return}this.u9(b)}if(r.e.startsWith("warp")){var i=this.hf;if(r.e=="warp"||r.e=="warpCancel"){if(this.Va==null)return;
if(r.e=="warp")this.Va.add.TySh.z8=r.s_;else this.Va.add.TySh.z8=this.ajk;var D=this.AN;this.aI(D,b);
if(!i)this.E0(D)}if(r.e!="warp")this.AC.focus();if((r.e=="warpConfirm"||r.e=="warpCancel")&&i){this.hf=!1;
if(r.e=="warpConfirm")this.py(D,j);else this.Wp(D,j)}}if(r.e=="editCurr"){if(b.Uy!=I.pP){this.Nx=b.Uy;
var A=new iu(y.E.V,!0);A.data={e:y.G.T$,k:I.pP};j.g(A)}if(this.Va!=null)this.disable(D,j,b,N);this.AN=D;
this.lv=b;this.caller=j;this.pT(D,j,b,[r.GR]);var t=cU.g2(this.Va.add.TySh.d1);this.WA=0;this.iG=t.length-1;
this.E0(D);this.mJ();this.AC.focus()}if(r.e=="switchPntPrgr"){if(this.Va)return;var O=D.j[D.R[0]],g=O.add.TySh,H=g.F.zR(),F=JSON.parse(JSON.stringify(g.d1)),T=cU.Tl(F),_=T==1?cU.Nb(F):[0,0,Math.round(O.rect.d*1.05/H),Math.round(O.rect.r*1.25/H)],V=cU.eZ(F,0,0),X=V.HB[V.WQ.Font].Name,o=b.fA.qp(X),c=[0,_[2],_[2]/2][V.Av.Justification%3],E=o?fu.qX(o,X,V.WQ):V.WQ.FontSize*.8;
cU.jp(F,1-T);if(T==0){c=-c;E=-E;cU.TS(F,[0,0,_[2],_[3]])}var f=new j9(1,0,0,1,c,E);f.concat(g.F);this.k_({I6:D.R[0],e:"newED",zJ:F,F:f,a6E:[16,3,T==1?0:1]},j,D,N,b)}if(r.e=="newED"){var O=D.j[r.I6],g=O.add.TySh,d=this.KU(D,[r.I6]);
g.d1=r.zJ;if(r.F)g.F=r.F;var s=new fu(g.d1,b.fA),B=iW.hA(s,g);O.rect=B.DN;O.buffer=B.Iz;O.P();D.P();
var a=new ap(r.a6E?r.a6E:this.name,this);a.data={wn:d,q1:this.KU(D,[r.I6])};D.vl(a)}if(r.e=="fromAction"){var U=r.Rf.Q4.Usng.v,M=U.TxtC.v,W=[];
for(var P=0;P<2;P++){var n=M[P==0?"Hrzn":"Vrtc"].v,x=n.val;if(n.type=="#Prc")x=(P==0?D.d:D.r)*(x/100);
W[P]=x}this.Tq(D,j,b,N,D.z.lY(W[0],W[1]));var O=D.j[D.R[0]],g=O.add.TySh,e=g.d1,w=cU.g2(e);cU.hd(e,0,w.length-1);
cU._w(e,0,U.Txt.v.replace(/\r/g,"\n"));w=cU.g2(e);for(var T=0;T<2;T++){var Q=U[T==0?"Txtt":"paragraphStyleRange"].v;
for(var P=0;P<Q.length;P++){var J=Q[P].v,q=J.From.v,u=Math.min(J.T.v-1,w.length-1);J=J[T==0?"TxtS":"paragraphStyle"].v;
var m=cU.eZ(e,q,u),p=T==0?m.WQ:m.Av;for(var L in J){var S=J[L].v;if(L=="Sz")p.FontSize=Math.round(S.val);
else if(L=="fontPostScriptName")cU.ht(m,S);else if(L=="Algn")p.Justification={Left:1,Cntr:2}[S.Alg];
else if(L=="leading")p.Leading=J[L].v.val;else if(L=="baselineShift")p.BaselineShift=J[L].v.val;else if(L=="autoLeading")p.AutoLeading=J[L].v;
else if(L=="syntheticBold")p.FauxBold=J[L].v;else if(L=="syntheticItalic")p.FauxItalic=J[L].v;else if(L=="Trck")p.Tracking=J[L].v;
else if(L=="verticalScale")p.VerticalScale=J[L].v/100;else if(L=="horizontalScale")p.HorizontalScale=J[L].v/100;
else if(L=="Clr")p.FillColor={Type:1,Values:[1,S.Rd.v/255,S.Grn.v/255,S.Bl.v/255]}}cU.lc(e,q,u,m)}}var s=new fu(g.d1,b.fA),B=iW.hA(s,g);
O.rect=B.DN;O.buffer=B.Iz;O.P();D.P();this.py(D,j)}};I.Qy.prototype.u9=function(r){var j=Math.min(this.WA,this.iG),D=Math.max(this.WA,this.iG),N=this.Va.add.TySh;
cU.Wc(N,this.O7);cU.lc(N.d1,j,D-1,this.LM(r,N));var b=this.AN,Y=this.aI(b,r);if(Y)this.E0(b);if(document.activeElement.tagName.toLowerCase()!="input")this.AC.focus()};
I.Qy.prototype.IT=function(r){return this.VQ.indexOf(r)!=-1};I.Qy.prototype.enable=function(r,j,D,N){var b=this.AC;
if(!y.bN(b))j.i.appendChild(b);this.zj="default";this.ar(j)};I.Qy.prototype.Oj=function(){return this.Va!=null};
I.Qy.It=function(r,j){for(var P=r.j.length-1;P>=0;P--){var D=r.j[P];if(D.add.TySh&&D.rect.yZ(j)&&r.Ui(P)){var N=D.OL(2)||D.OL(31);
return N?-2:P}}return-1};I.Qy.prototype.xR=function(r,j,D,N,b){this.AN=r;this.lv=D;this.caller=j;var Y=r.z.K$(b.x,b.y),x=this.Va==null;
if(x){var C=I.Qy.It(r,Y);if(C==-2){alert(e9.get([6,57,0]));return}if(C>=0&&!N.o(e4.$P)){if(!iW.NX(r.j[C].add.TySh,D.fA)){alert("Fonts not loaded yet");
return}this.pT(r,j,D,[C])}else{this.xz=!0;this.S6=b;return}}var w=x?-1:cU.Tl(this.Va.add.TySh.d1),q=this.Hy?this.Hy:this.EF;
if(q&&q.xR(r,D,N,Y)&&R.s_.JM(this.Va.add.TySh.z8)||!x&&R.K.TR(Y,this.Va.rect)>20/r.z.S&&(w==0||w==1)){this.Zx=!0;
this.Dv=Y;this.akU=this.Va.add.TySh.F.clone();if(this.WA==-1&&this.iG==-1)this.WA=this.iG=this.TW(Y)}else{if(this.kF==null){alert("Fonts not loaded yet");
return}this.tl=!0;this.WA=this.iG=this.TW(Y);var u=Date.now();if(u-this.akD>300)this.m1=0;this.m1++;
this.akD=u;if(this.m1==2)this.agt();if(this.m1==3)this.a7H();if(this.m1>1){this.tl=!1}}this.mJ();this.E0(r)};
I.Qy.prototype.pT=function(r,j,D,N){var b=r.j[N[0]];this.Va=b;this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,SS:"showactive"});
this.xH=N;r.R=N.slice(0);r.ZS();r.UF=!0;this.bC=this.KU(r,N);this.Vh(b.add.TySh);this.aI(r,D)};I.Qy.prototype.Vh=function(r){if(cU.Tl(r.d1)!=1)return;
var j=cU.Nb(r.d1);j=new bf(0,0,j[2]-j[0],j[3]-j[1]);var D=[j.x,j.y,j.x+j.d,j.y,j.x+j.d,j.y+j.r,j.x,j.y+j.r];
R.K.F(D,r.F,D);this.EF=new ab(D,!1,!1,!1,!0)};I.Qy.prototype.agt=function(){var r=cU.g2(this.Va.add.TySh.d1);
this.WA=this.r_(r,this.WA);this.iG=this.N6(r,this.WA)};I.Qy.prototype.r_=function(r,j){var D=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",N=[];
for(var P=0;P<D.length;P++)N.push(D.charAt(P));var b=N.indexOf(r[j])==-1?!0:!1;for(var P=j-1;P>=0;P--)if(N.indexOf(r.charAt(P))!=-1==b)return P+1;
return 0};I.Qy.prototype.N6=function(r,j){var D=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",N=[];for(var P=0;
P<D.length;P++)N.push(D.charAt(P));var b=N.indexOf(r[j])==-1?!0:!1;for(var P=j+1;P<r.length;P++)if(N.indexOf(r.charAt(P))!=-1==b)return P;
return r.length-1};I.Qy.prototype.a7H=function(){var r=this.kF.acs(this.WA);this.WA=r[0];this.iG=r[1]};
I.Qy.prototype.ar=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.C9,EA:this.zj};r.g(j)};I.Qy.prototype.Vt=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=this.Va;
if(!b.XS){var C="default",w=this.EF,q=this.Hy?this.Hy:w;if(q&&R.s_.JM(x.add.TySh.z8)){var u=q.kj(Y,r.z.S);
if(u)C=u;else if(q==w&&w.rC(Y))C="text"}else if(x&&R.K.TR(Y,x.rect)>20/r.z.S)C="move";else if(I.Qy.It(r,Y)>=0)C="text";
if(C!=this.zj){this.zj=C;this.ar(j)}}var h=this.S6;if(this.xz&&Math.min(b.x-h.x,b.y-h.y)>4/r.z.S){this.xz=!1;
this.Tq(r,j,D,N,b);x=this.Va;this.Zx=!0;this.EF=new ab(null,!1,!1,!1,!0);var z=r.z.K$(this.S6.x,this.S6.y);
z.x=Math.round(z.x);z.y=Math.round(z.y);this.EF.xR(r,D,N,z)}if(this.Zx){var O=x.add.TySh;if(this.Hy){this.Hy.Vt(r,D,N,Y);
var g=R.t.pM(R.t.xk(this.Hy.FA(),this.a3e));O.F=g;this.aI(r,D);cU.qN(O)}else if(this.EF){this.EF.Vt(r,D,N,Y);
var t=O.F.clone(),$=Math.atan2(t.M,t.kD);t.rotate($);var g=R.t.pM(R.t.xk(this.EF.FA())),i=Math.atan2(g.M,g.kD);
g.rotate(i);if(!isNaN(g.kD)&&g.kD*g.oq-g.M*g.Jy!=0){var A=new bf(0,0,g.kD/t.kD,g.oq/t.oq),H=Math.round(A.d),F=Math.round(A.r),T=O.d1.Curve;
if(T){var _=cU.Nb(O.d1),V=new j9(H/_[2],0,0,F/_[3],0,0);R.K.F(T.Points,V,T.Points);cU.qN(O)}cU.TS(O.d1,[0,0,H,F]);
O.F=R.t.pM(R.t.xk(this.EF.FA(),A));this.aI(r,D);cU.qN(O)}}else{var X=Y.x-this.Dv.x,o=Y.y-this.Dv.y;O.F=this.akU.clone();
var c=new gJ(O.F.Db+X,O.F.aF+o);c=I.w8.RE(r,c,D);O.F.Db=c.x;O.F.aF=c.y;this.aI(r,D)}}if(this.tl)this.iG=this.TW(Y);
if(this.Zx||this.tl)this.E0(r)};I.Qy.prototype.Tq=function(r,j,D,N,b){var Y=r.HG(),x=Y[0],C=Y[1],w=r.Xp();
w.add.lnsr="rend";var q=r.j.slice(0);w.Lp("Text layer "+q.length);this.Va=w;var u=r.R.length==0?r.j.length-1:r.R[r.R.length-1],h=u+1;
if(q[u].add.lsct==bH.nV)h--;this.bC={Lq:q.slice(0),Ni:r.R.slice(0)};q.splice(h,0,w);r.R=[h];this.WA=this.iG=0;
r.HQ(q);this.bC.uJ=q.slice(0);this.bC.OI=r.R.slice(0);this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,SS:"showactive"});
var z=r.z.K$(b.x,b.y),O=D.k$;console.log(O);if(this.id==I.Pv){O=JSON.parse(JSON.stringify(O));O.WQ.BaselineDirection=1}w.add.TySh=cU.WJ(z.x,z.y,O);
var g=w.add.TySh,t=g.d1;if(this.id==I.Pv)t._LineOrientation=2;cU.Wc(g,this.O7);if(b.XS)cU.jp(t,1);else{cU.jp(t,0);
var $=x[C.pop()],i=$?$.add.vmsk:null;if(i&&!N.o(e4.$P)){i=i.clone();var A=i.W,F,T;for(var P=0;P<A.length;
P++)if(A[P].va!=null)A[P].va=0;var H=4*y.f()/r.z.S;F=R.b.U2(i.W,z,!0,H);if(F.wd==-1)F=R.b.U2(i.W,z);
if(F.wd!=-1){cU.jp(t,1);var _=R.b.Kk(A,F.wd),V=R.b.Pr(A,F.wd)-1;A=i.W=A.slice(0,2).concat(A.slice(_,_+V+1));
i.R=[];g.add={vmsk:i,vogk:G.HJ(A)};t.Curve={};cU.aO(g);if(F.ox!=null){var X=fu.s7(t.Curve);R.K.F(X[0],g.F,X[0]);
var o=R.K.O3(X[0],z.x,z.y),c=D.k$.Av.Justification;if(c==2||c==5){var f=(X[2][o]+X[3]*.5)%X[3];o=fu.ti(f,X[2])}var d=X[1][o];
d=d%V;i.qE=[d,d];cU.aO(g)}else this.Vh(g)}}}return w};I.Qy.prototype.rE=function(r,j,D,N,b,Y){if(Y){this.xz=!1;
return}if(this.Va==null&&!this.xz)return;var x=r.z.K$(b.x,b.y),C=this.xz;if(this.xz){this.xz=!1;this.Tq(r,j,D,N,b);
this.tl=!0}if(this.Zx||this.tl){this.E0(r);this.mJ();if(C)this.u9(D)}if(this.Zx&&this.EF)this.EF.rE(r,D,N,x);
this.Zx=this.tl=!1;this.ZE(r,D,N);this.AC.focus()};I.Qy.prototype.mJ=function(){var r=this.Va.add.TySh,j=Math.min(this.WA,this.iG),D=Math.max(this.WA,this.iG),N,b;
if(j==D){var Y=cU.g2(r.d1);if(j==0||Y.charAt(j-1)=="\n")N=b=j;else N=b=j-1}else{N=j;b=D-1}var x=cU.eZ(r.d1,N,b);
cU.rq(x,I.T.zR(r.F));this.Ny(this.caller,x,r)};I.Qy.prototype.Ny=function(r,j,D){this.Ze(r,y.E.V,{e:y.G.VD,Ek:e5.cA,k$:j});
var N=this.O7=cU.Wr(D);this.Ze(this.caller,y.E.V,{e:y.G.X9,k:this.id,SS:"changeAA",aS:N})};I.Qy.prototype.Uc=function(r,j,D,N){if(N.o(e4.Pj))this.Wp(r,j);
var b=this.Va;if(b)if(this.Hy==null&&N.o(e4.h6)){var Y=b.add.TySh,x=cU.Tl(Y.d1),C;if(x==1){C=cU.Nb(Y.d1);
C=new bf(0,0,C[2]-C[0],C[3]-C[1])}else C=this.kF.q6();var w=[C.x,C.y,C.x+C.d,C.y,C.x+C.d,C.y+C.r,C.x,C.y+C.r];
R.K.F(w,Y.F,w);this.Hy=new ab(w,!0,!0,!1,!1);this.a3e=C;this.E0(this.AN)}else this.ZE(r,D,N)};I.Qy.prototype.ZE=function(r,j,D){var N=this.Va;
if(N&&!this.Zx&&this.Hy!=null&&!D.o(e4.h6)){this.Hy.rE(r,j,D,null);this.Hy=null;this.Vh(N.add.TySh);
this.E0(this.AN)}};I.Qy.prototype.disable=function(r,j,D,N){var b=this.Va;this.py(r,j)};I.Qy.prototype.cZ=function(r,j,D,N,b){if(this.hf)return;
if(r.SS=="commit")this.py(D,j);if(r.SS=="cancel")this.Wp(D,j);if(r.SS=="changeAA"){this.O7=r.aS;if(D!=null)this.k_({e:"updateStyles"},j,D,N,b)}if(r.SS=="showwarp"){if(D==null)return;
if(this.Va==null){var Y=D.j[D.R[0]],x=Y.add.TySh;if(x==null)return;this.pT(D,j,b,[D.R[0]]);this.AC.focus();
this.hf=!0}this.ajk=this.Va.add.TySh.z8;var C=new iu(y.E.V,!0);C.data={e:y.G.gl,SO:"textwarp"};j.g(C)}};
I.Qy.prototype.Wf=function(r,j){if(j!=e5.YB)return;if(this.Jf){this.Jf=!1;var D=this.AN,N=this.xH;for(var P=0;
P<N.length;P++){this.Va=D.j[N[P]];this.aI(D,r)}this.py(D,this.caller);return}if(this.Va)this.u9(r)};
I.Qy.prototype.LM=function(r,j){var D=JSON.parse(JSON.stringify(r.k$));cU.rq(D,1/I.T.zR(j.F));return D};
I.Qy.prototype.Gf=function(r,j){if(r.wn!=null)this.dd(j,r.q1);else this.Iy(j,r.uJ,r.OI)};I.Qy.prototype.B$=function(r,j){if(r.wn!=null)this.dd(j,r.wn);
else this.Iy(j,r.Lq,r.Ni)};I.Qy.prototype.dd=function(r,j){for(var P=0;P<j.length;P++){var D=j[P],N=D.I6,b=r.j[N];
b.buffer=D.ix;b.rect=D.DN.clone();b.P();var Y=b.add.TySh;Y.z8=D.s_;Y.DU=D.DU.clone();Y.F=D.F.clone();
Y.d1=JSON.parse(JSON.stringify(D.d1));b.jn()}r.P()};I.Qy.prototype.KU=function(r,j){var D=[];for(var P=0;
P<j.length;P++){var N=j[P],b=r.j[N],Y=b.add.TySh;D.push({I6:N,F:Y.F.clone(),s_:JSON.parse(JSON.stringify(Y.z8)),DU:Y.DU.clone(),d1:JSON.parse(JSON.stringify(Y.d1)),ix:b.buffer.slice(0),DN:b.rect.clone()})}return D};
I.Qy.prototype.Iy=function(r,j,D){r.R=D;r.HQ(j);r.P();r.DW=!0};I.Qy.prototype.aI=function(r,j,D){if(D==null)D=!1;
var N=this.Va.add.TySh;if(!iW.NX(N,j.fA))return!1;this.kF=new fu(N.d1,j.fA);if(!D){var b=cU.g2(N.d1);
this.AC.value=b.slice(0,b.length-1)}var Y=iW.hA(this.kF,N);if(R.s_.JM(N.z8))N.DU=new bf;else{if(cU.Tl(N.d1)==1){var x=cU.Nb(N.d1),eK=Y.DU.y;
N.DU=new bf(0,eK,x[2]-x[0],x[3]-x[1]-eK)}else{N.DU=Y.DU}}var C=this.Va.rect;this.Va.rect=Y.DN;this.Va.buffer=Y.Iz;
this.Va.P();r.KE();r.P(r.root.l2(Y.DN.zs(C),r,r.j.indexOf(this.Va)));return!0};I.Qy.prototype.Jg=function(r,j){if(this.Va==null||this.hf)return;
var D=this.AC.selectionStart,N=this.Va.add.TySh,b=cU.g2(N.d1),Y=this.AC.value+"\n",x=Math.min(this.WA,this.iG),C=Math.max(this.WA,this.iG),z=!1;
this.WA=Math.min(D,x);if(Y.length-D<b.length-this.iG)this.iG=b.length-Y.length+D;if(b!=Y){while(this.WA>0&&b.charAt(this.WA-1)!=Y.charAt(this.WA-1))this.WA--}var w=b.substring(0,this.WA),q=b.substring(this.iG,b.length),u=Y.substring(this.WA,Y.length-q.length);
cU.hd(N.d1,this.WA,this.iG);cU._w(N.d1,this.WA,u);if(j!=null)cU.ab0(N.d1,this.WA,j);var h=this.LM(this.lv,N),O=-1,g=Array.from(u);
for(var P=0;P<g.length;P++)O=Math.max(O,g[P].codePointAt(0));if(O!=-1&&O>128&&O!=65533&&h.WQ.Font!=null){var t=h.HB[h.WQ.Font].Name,$=this.lv.fA.ej(O,t,h.HB);
if(t!=$){cU.ht(h,$);z=!0}}if(this._n!=null&&u==this._n){var i=JSON.parse(this.ask);h.WQ=i.WQ;h.HB=i.HB;
z=!0}cU.lc(N.d1,this.WA,this.WA+u.length-1,h);this.WA=this.iG=w.length+u.length;var A=this.AN,H=this.aI(A,this.lv,!0);
if(H)this.E0(A,!0);if(z)this.mJ()};I.Qy.prototype.aoC=function(r){if(this.Va==null||this.hf)return;if(this.Va==null)return;
var j=e4,D=0,N=0,i=!1;if(j.Qi(r.code,j.qF))D=1;if(j.Qi(r.code,j.F0))D=-1;if(j.Qi(r.code,j.eS))N=-1;if(j.Qi(r.code,j.w_))N=1;
var b=r.ctrlKey||r.metaKey,Y=j.Qi(r.code,e4.ai1),x=j.Qi(r.code,e4.ae_);if(j.Qi(r.code,e4.Lf)&&b){this.py(this.AN,this.caller);
return}if(j.Qi(r.code,e4.XY)){r.preventDefault();var C=this.AC,w=C.value,q=C.selectionStart,u=C.selectionEnd;
C.value=w.substring(0,q)+"\t"+w.substring(u);C.selectionStart=C.selectionEnd=q+1;this.Jg(null);return}if((j.Qi(r.code,j.RU)||j.Qi(r.code,j.Cd))&&b){var h=this.WA,z=this.iG;
if(h>z){var O=h;h=z;z=O}var g=this.Va.add.TySh,t=cU.g2(g.d1);if(h!=z){this._n=t.slice(h,z);this.ask=JSON.stringify(this.lv.k$)}}var $=cU.g2(this.Va.add.TySh.d1);
if(D!=0||N!=0||Y||x){r.preventDefault();var A=this.WA;if(D!=0){if(b&&D==-1)A=this.r_($,this.WA-1);else if(b&&D==1)A=this.N6($,this.WA);
else{var C=this.AC,w=C.value;A=this.WA+D;if(A!=0&&w.codePointAt(A-1)>65535)A+=D}}else if(N!=0){var H=this.kF.ru(this.WA);
if(N==-1&&H.E2==0)A=0;else if(N==1&&H.E2==this.kF.ade()-1)A=99999999999;else A=this.kF.Gb(new gJ(H.DN.x+H.DN.d/2,0),H.E2+N)}else if(Y){var F=this.WA-1;
while(F>0&&$.charCodeAt(F)!=10)F--;A=F==0?0:F+1}else if(x){var F=this.WA;while(F<$.length-1&&$.charCodeAt(F)!=10)F++;
A=F}A=Math.max(0,Math.min($.length-1,A));if(r.shiftKey)this.WA=A;else this.WA=this.iG=A;i=!0}if(j.Qi(r.code,e4.G)&&b){this.WA=0;
this.iG=$.length-1;i=!0}if(i){this.mJ();this.E0(this.AN)}};I.Qy.ajo=function(r,j){var D=r.length;if(D!=j.length)return!1;
for(var P=0;P<D;P++)if(r[P].I6!=j[P].I6)return!1;return!0};I.Qy.prototype.py=function(r,j){if(this.Va==null)return;
this.Va.jn();var D=this.bC;if(D instanceof Array){var N=this.KU(r,this.xH),b=r.Nt();if(b!=null&&b.k==this&&b.data.wn&&I.Qy.ajo(b.data.wn,D))b.data.q1=N;
else{var Y=new ap(this.name,this);Y.data={wn:D,q1:N};r.vl(Y)}}else{var Y=new ap(this.name,this);Y.data={Lq:D.Lq,uJ:D.uJ,Ni:D.Ni,OI:D.OI};
r.vl(Y)}this.escape(r,j)};I.Qy.prototype.Wp=function(r,j){if(this.Va==null)return;if(this.bC instanceof Array){this.dd(r,this.bC);
if(this.Va)cU.qN(this.Va.add.TySh)}else{r.R=this.bC.Ni;r.HQ(this.bC.Lq)}r.P();this.escape(r,j)};I.Qy.prototype.escape=function(r,j){this.Va=null;
this.xH=null;this.kF=null;this.EF=null;this.AC.blur();r.I.M3=null;r.I.wS=null;r.I.D$=[];r.yn=!0;this.Zx=!1;
this.tl=!1;this.WA=this.iG=-1;this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,SS:"hideactive"});if(this.Nx){var D=new iu(y.E.V,!0);
D.data={e:y.G.T$,k:this.Nx};j.g(D);this.Nx=null}};I.Qy.prototype.Ze=function(r,j,D,N){var b=new iu(j,!0);
b.data=D;if(N)b.k=N;r.g(b)};I.Qy.prototype.TW=function(r){var j=this.Va.add.TySh,D=this.kF,N=j.F.clone();
N.gq();var b=N.OT(r),Y=cU.q7(j,D),x=R.s_.MM(j.z8,Y),C=R.rX.ajX(x,b);if(C==null)C=new Float64Array(2);
b=new gJ(Y.x+C[0]*Y.d,Y.y+C[1]*Y.r);if(D.Uk){var w=D.Uk.clone();w.gq();b=w.OT(b)}var q=D.Gb(b);return q};
I.Qy.prototype.E0=function(r,j){if(j==null)j=!1;var D=this.Va.add.TySh,N=cU.Tl(D.d1),b=this.kF,Y=b?cU.q7(D,b):null;
r.I.D$=[];r.I.M3=null;r.I.wS=null;var x=this.Hy?this.Hy:this.EF;if(x){x.FI(r,this.lv,!R.s_.JM(D.z8));
var C=D.F.clone();C.gq();if(b&&b.Uk&&b.bW==1){var w=b.Uk.clone();w.gq();C.concat(w)}R.K.F(r.I.D$,C,r.I.D$);
R.K.F(r.I.M3.v,C,r.I.M3.v);if(b&&b.Uk==null&&b.abh()){var q=Y.d-20,u=Y.r+8;r.I.M3.v.push(q,u,q+10,u,q+5,u-5,q+5,u+5);
r.I.M3.J.push("M","L","M","L")}}else if(N==0)this.a0K(r,D,b);else r.I.M3={v:[],J:[]};var h=Math.min(this.WA,this.iG),z=Math.max(this.WA,this.iG);
if(!j){this.AC.selectionStart=h;this.AC.selectionEnd=z}if(b!=null){var O=function(x,F){var T=x.x,_=x.y+x.r,V=new j9;
V.translate(-T,-_);V.rotate(-F);V.translate(T,_);x.y+=x.r*.27;var H=R.K.rR(x);R.K.F(H.v,V,H.v);return H};
if(h==z){h=Math.max(h,0);var g=b.ru(h);if(g){var t=g.DN,$=this.lv.k$.WQ.FontSize;if($!=null&&$!=0){$/=D.F.zR();
t.y+=t.r-$;t.r=$}var i=b.adn(h);if(i!=null&&i.XV==1)t.x+=t.d;var A=O(t,g.yS).v;r.I.M3.J.push("M","L");
r.I.M3.v.push(A[0],A[1],A[6],A[7])}}else{r.I.wS={v:[],J:[]};for(var P=h;P<z;P++){var g=b.ru(P),H=O(g.DN,g.yS);
R.K.concat(r.I.wS,H)}}}r.I.M3=iW.Ku(r.I.M3,D,b);r.I.wS=iW.Ku(r.I.wS,D,b);r.I.D$=iW.Ku({v:r.I.D$},D,b).v;
r.yn=!0};I.Qy.prototype.a0K=function(r,j,D){if(D==null)return;r.I.D$.push(0,0);if(r.I.M3==null)r.I.M3={J:[],v:[]};
for(var P=0;P<D.Av.length;P++){var N=D.Av[P];for(var b=0;b<N.vA.length;b++){var Y=N.vA[b],x=N.kI.x+Y.kI.x+Y.DN.x,C=N.kI.y+Y.kI.y+Y.DN.y+Y.DN.r;
r.I.M3.J.push("M","L");r.I.M3.v.push(x,C,x+Y.DN.d,C)}}r.yn=!0};I.c_=function(){I.Qy.call(this,!0)};I.c_.prototype=new I.Qy;
I.N4=function(){I.Vm.call(this,[10,9],I.Sl,"tools/lasso");this.ND="crosshair";this.HA=null;this.Xo=null;
this.Dv=null};I.N4.prototype=new I.Vm;I.N4.prototype.uo=function(r,j,D,N){this.HA=this._D;this.Xo={v:[this.HA.x,this.HA.y],J:["M"]}};
I.N4.prototype.yN=function(r,j,D,N){this.Dv=N;var b=this.Xo;if(b==null)return;if(!N.XS){if(this.Xo!=null&&this.Uo>1&&D.o(e4.YV)){b.v.pop();
b.v.pop();b.v.push(this.Wg.x,this.Wg.y);r.I.M3=b;r.yn=!0}return}b.J.push("L");b.v.push(this.Wg.x,this.Wg.y);
this.HA=this.Wg;if(this.b6){r.I.M3=b;r.yn=!0}};I.N4.prototype.Oj=function(){return this.Xo!=null};I.N4.prototype.HW=function(){return this.Xo!=null};
I.N4.prototype.Uc=function(r,j,D,N){I.Vm.prototype.Uc.call(this,r,j,D,N);if(this.Xo&&this.Uo>1&&this.Dv&&!this.Dv.XS&&!N.o(e4.YV))this.El(r,D,N)};
I.N4.prototype.BS=function(r,j,D,N){this.Dv=N;var b=this.Xo;if(b==null)return;if(this.Uo>1&&D.o(e4.YV)){b.J.push("L");
b.v.push(this.Wg.x,this.Wg.y);return}this.El(r,j,D)};I.N4.prototype.El=function(r,j,D){this.finish(r,j,D,this.Dv);
this.Xo=null;r.I.M3=null;r.yn=!0};I.N4.prototype.getSelection=function(r,j,D,N){if(this._D.gy(this.Wg)||!this.b6)return null;
return I.Vm.vX(this.Xo.v,null,this.mz.anta)};I.w8=function(){I.d5.call(this,[10,11],I.t3,"tools/move");
this.D9=new gJ(0,0);this.wL=new gJ(0,0);this.w6=null;this.jv=null;this.Ry=new gJ(0,0);this.FW=null;this.xY=null;
this.tZ=null;this.KR=0;this.t5=null;this.d_=[];this.gk=null;this.n5=null;this.Hd=!1;this.e=0;this.KL=null;
this.T1=null;this.c7=null;this.Uu=!1;this.mz={HU:!1,QN:!1,xu:!1};this.a4A=!1;this.a4i=!1;this.EF=null;
this.cO=null;this.ag2=null;var r=[];for(var P=0;P<R.DA.Z4.length;P++)r.push({name:R.DA.Z4[P],N:function(j,D,N){return{DJ:D.Ar.Q5==N}}});
this.Bk=new cW(r);this.Bk.X("select",this.kz,this)};I.w8.prototype=new I.d5;I.d5.prototype.Mo=function(r){return this.Hd&&this.e!=2};
I.w8.prototype.xd=function(){return this.Hd&&this.e==0};I.w8.prototype.u3=function(r,j,D,N){this.JG(r,-this.Ry.x,-this.Ry.y);
this.Ry.Ho(0,0);this.db(r,null,D);this.oC(r)};I.w8.prototype.kB=function(){var r=this.mz;return[r.HU?1:0,r.QN?1:0,r.xu?1:0]};
I.w8.prototype.vT=function(r,j,D){var N=this.mz;if(r&&r[0]!=null)N.HU=r[0]==1;if(r&&r[1]!=null)N.QN=r[1]==1;
if(r&&r[2]!=null)N.xu=r[2]==1;var b=new iu(y.E.V,!0);b.data={e:y.G.X9,k:this.id,EE:N,adT:j};D.g(b)};
I.w8.el=function(r,j,D,N,b,Y,x){if(x==null)x=[!1,!0];var C=r.FP(null,b,!0),w,q;if(r.add.artd&&r.R.length==1&&r.j[r.R[0]].add.artb){var u=r.j[r.R[0]].tT();
w=r._N(C,u,u)[0]}else{var h=new bf(0,0,r.d,r.r),w=r._N(C,x[0]?h:null,x[1]?null:h)[0],q=w.add.artd;if(q){for(var P=0;
P<w.j.length;P++)delete w.j[P].add.artb;delete w.add.artd}if(x[1]){var z=R.JN(w.Ez(),new bf(0,0,w.d,w.r),2);
I.rh.yX(w,z)}}if(D!=1){var O=new bf(0,0,Math.round(w.d*D),Math.round(w.r*D));I.rh.yX(w,O);var g=[];for(var P=0;
P<w.j.length;P++)g.push(P);var t=I.T.ED(w,g,!0);I.rh.vV(w,new j9(D,0,0,D,0,0));I.T.lP(w,N,g,t,1,R.t.eb(new j9(D,0,0,D,0,0)),null,!0);
w.wR()}else if(q){w.P();w.wR()}var $=[];for(var P=0;P<j.length;P++)if(w.d*w.r!=0)$.push(aP.z$(w,j[P].toUpperCase(),null,null,Y?Y[P]:null,N));
return $};I.w8.prototype.yM=function(r,j,D,N,b){if(r==null||r.R.length==0)return;var Y=I.w8.el(r,[j],D,N,null)[0],x=new iu(y.E.V,!0);
x.data={e:y.G.Ga,data:Y,name:r.j[r.R[0]].getName()+(D==1?"":"@"+D+"x")+"."+j};b.g(x)};I.w8.prototype.cZ=function(r,j,D,N,b){if(r.Ix=="getPNG"){this.yM(D,"png",r.Pq,b,j)}else if(r.Ix=="getSVG"){this.yM(D,"svg",r.Pq,b,j)}if(r.Ix=="prms"){this.mz=r;
this.oC(D)}};I.w8.arB=function(r){var eK=r.length,D=0;r.sort(function(Y,x){return Y[0]+Y[1]/2-(x[0]+x[1]/2)});
var j=r[eK-1][0]+r[eK-1][1]-r[0][0];for(var P=0;P<eK;P++)D+=r[P][1];var N=Math.round((j-D)/(eK-1)),b=r[0][0];
for(var P=0;P<eK;P++){r[P][0]=b;b+=r[P][1]+N}};I.w8.prototype.k_=function(r,j,D,N,b){var Y=r.e;if(Y=="trsl"){var x=Math.round(r.a9B),C=Math.round(r.a7w);
this.Ry.Ho(x,C);this.yb(D,j,N,b,!1,r.n);this.JG(D,x,C);this.db(D,null,b)}else if(Y=="lockguides"){if(D)D.H3=!D.H3}else if(Y=="gids"||Y=="gidsFromLayer"){var w=r.T1,q,u;
if(w==null)w=D.Yd();if(Y=="gids"){q=r.Yw;var h=w[0].length,z=q[0].length;u=h==z?[23,2]:h>z?[23,3]:[23,4];
if(z==0)u=[11,15,0]}else if(Y=="gidsFromLayer"){var O=[],g=[],t=D.sg();for(var P=0;P<D.R.length;P++){var $=D.j[D.R[P]].rect;
if($.jE())continue;O.push([0,$.x],[1,$.y],[0,$.x+$.d],[1,$.y+$.r]);g.push(t,t,t,t)}u=[11,15,1];q=D.Yd();
I.w8.iw(q,[O,g])}if(JSON.stringify(w)==JSON.stringify(q))return;var Y=new ap(u,this);Y.data={e:2,T1:w,Yw:q};
D.vl(Y);this.Gf(Y.data,D)}else if(Y=="algn"){var i=r.m;if(D==null)return;if(D.R.length<2&&!(D.c!=null&&i!=3&&i!=7)){alert(e9.get([15,7,5]));
return}var A=D.c;D.c=null;var $=A?A.rect:I.T.q7(D);this.yb(D,j,N,b,!1);if(!this.Hd)return;var H=this.t5,F={},T=[],_=[],V=[];
for(var P=0;P<H.length;P++){var X=H[P];while(D.j[X].getName()=="</Layer group>")X++;var o=D.root.nj(X),c=o;
while(o.parent!=null){o=o.parent;if(H.indexOf(o.index)!=-1)c=o}var E=_.indexOf(c.index);if(E==-1){E=_.length;
_.push(c.index)}T[P]=E}var f=[],d=[],s=[];for(var P=0;P<_.length;P++){var B=I.T.q7(D,D.FP(!0,_[P]));
s.push(B);var a=i==3?[B.y,B.r]:[B.x,B.d];f[P]=a;d.push(a)}I.w8.arB(d);for(var P=0;P<_.length;P++){var B=s[P],U=B.x,M=B.y;
if(i==0)U=$.x;if(i==1)U=$.x+($.d-B.d)/2;if(i==2)U=$.x+($.d-B.d);if(i==3)M=f[P][0];if(i==4)M=$.y;if(i==5)M=$.y+($.r-B.r)/2;
if(i==6)M=$.y+($.r-B.r);if(i==7)U=f[P][0];V.push(Math.round(U-B.x),Math.round(M-B.y))}var W=[];for(var P=0;
P<H.length;P++){var n=T[P];W[2*P]=V[2*n];W[2*P+1]=V[2*n+1]}this.JG(D,0,0,null,W);var e=i==3||i==7?[20,4,6]:[20,4,i<3?i:i-1];
this.db(D,null,b,W,e);D.c=A}else if(Y=="disabAuto"){this.vT([!1],null,j)}};I.w8.iw=function(r,j){for(var P=0;
P<j[0].length;P++){var D=j[0][P],N=j[1][P],b=!1;for(var Y=0;Y<r[0].length;Y++){var x=r[0][Y],C=r[1][Y];
if(D[0]==x[0]&&D[1]==x[1]&&N==C)b=!0}if(!b){r[0].push(D.slice(0));r[1].push(N)}}};I.w8.prototype.enable=function(r,j,D,N,b){this.xY=D;
this.tZ=j;this.Uu=b?!0:!1;this.oC(r);this.ar("default",j)};I.w8.prototype.disable=function(r,j,D,N){this.QM(r)};
I.w8.prototype.QM=function(r){if(r==null)return;if(this.EF){this.EF.clear(r);this.EF=null}if(r.I.xu){r.I.xu=null;
r.yn=!0}if(r.I.EY){r.I.EY=null;r.yn=!0}if(r.I.Qa[this.id]){delete r.I.Qa[this.id];r.yn=!0}if(r.I.Js.length!=0){r.I.Js=[];
r.yn=!0}};I.w8.prototype.Qq=function(r,j,D,N){if(D.Uy!=this.id)return;this.oC(r)};I.w8.prototype.oC=function(r,j){if(r==null)return;
var D=this.mz;this.QM(r);if(!this.Uu){var N;if(D.QN||D.xu)N=R.K.yB(I.T.q7(r));if(D.QN&&!N.jE()){this.EF=new ab([N.x,N.y,N.x+N.d,N.y,N.x+N.d,N.y+N.r,N.x,N.y+N.r],!0);
this.EF.FI(r,this.xY)}if(D.xu){var b=null,u=null,h=!1;if(r.sg()!=-1)b=r.j[r.sg()].tT();else b=new bf(0,0,r.d,r.r);
r.I.xu={X_:[N],MS:[]};var Y=r.I.xu.MS,x=N.x+N.d,C=N.y+N.r,w=N.x+Math.floor(N.d/2),q=N.y+Math.floor(N.r/2);
if(j){var z=r.root.U2(new gJ(Math.floor(j.x),Math.floor(j.y)));if(z){u=R.K.yB(z.n.dk(r));if(u.CI(N)){h=(u.Ob(N)||N.Ob(u))&&!N.gy(u);
if(!h)u=null}}}this.WH(N,Y);if(u!=null){r.I.xu.X_.push(u);var O=u.x+u.d,g=u.y+u.r,t=u.x+Math.floor(u.d/2),$=u.y+Math.floor(u.r/2);
if(h){var i=w,A=q;if(N.Ob(u)){i=t;A=$}Y.push(N.x,A,u.x,A);Y.push(x,A,O,A);Y.push(i,N.y,i,u.y);Y.push(i,C,i,g)}else{this.WH(u,Y);
var H=C<u.y||g<N.y,F=x<u.x||O<N.x;if(x<u.x)Y.push(x,q,u.x,q);if(O<N.x)Y.push(O,q,N.x,q);if(C<u.y)Y.push(w,C,w,u.y);
if(g<N.y)Y.push(w,g,w,N.y);if(H&&!F){if(N.x<u.x)Y.push(N.x,$,u.x,$);if(u.x<N.x)Y.push(u.x,q,N.x,q)}}}else{if(N.y>b.y)Y.push(w,b.y,w,N.y);
if(C<b.y+b.r)Y.push(w,C,w,b.y+b.r);if(N.x>b.x)Y.push(b.x,q,N.x,q);if(x<b.x+b.d)Y.push(x,q,b.x+b.d,q)}r.yn=!0}}if(this.e==2&&this.Hd){var T=new bf(0,0,r.d,r.r),_=r.sg();
if(_!=-1){var V=r.Yd();T=r.j[V[1][this.t5]].tT()}var X=r.Pc[this.t5],o=X[0],c=(o==0?"X":"Y")+": "+R.DA.m2(X[1]-(o==0?T.x:T.y),r.TB,this.xY,o==0?T.d:T.r,!0);
I.d5.hv(Math.round(this.w6.x)+10,Math.round(this.w6.y)-10,[c],r);r.yn=!0}if(this.e==3&&this.Hd){var E=R.K.rR(this.KL);
r.I.Qa[this.id]={M3:E};r.yn=!0}};I.w8.prototype.WH=function(r,j){var D=r.d,N=r.r,b=r.x+Math.floor(D*.2),Y=r.y+Math.floor(N*.2);
j.push(b,r.y,b,r.y+N);j.push(r.x,Y,r.x+D,Y)};I.w8.prototype.ar=function(r,j){var D={e:y.G.C9,EA:r},N=new iu(y.E.V,!0);
N.data=D;j.g(N)};I.w8.prototype.xK=function(r){var j=this.cO.$r()[0],D=this.FW,N=this.ag2[j];this.cS(D,N)};
I.w8.prototype.kz=function(r){var j=JSON.parse(JSON.stringify(this.xY.Ar));j.Q5=this.Bk.$r()[0];var D=new iu(y.E.V,!0);
D.data={e:y.G.VD,Ek:e5.VN,aS:j};this.tZ.g(D)};I.w8.prototype.Ig=function(r,j,D,N,b){if(this.Hd)this.rE(r,j,D,N,b);
this.FW=r;this.xY=D;this.tZ=j;var Y=r.z.K$(b.x,b.y),x;if(I.w8.A2(D,b,r.z)){x=this.Bk}else{if(this.cO)this.cO.removeEventListener("select",this.xK);
var C=[];r.root.U2(Y,C);if(C.length==0)return;var w=[];this.ag2=C;for(var P=0;P<C.length;P++)w.push({name:r.j[C[P]].getName()});
x=this.cO=new cW(w);x.X("select",this.xK,this)}x.parent=j;x.h();x.update(r,D);var q=new iu(y.E.V,!0);
q.data={e:y.G.Eo,Z3:x,x:b.tu+2,y:b.rW+1};j.g(q)};I.w8.prototype.DC=function(r,j,D,N,b){var Y=I.w8.G3(r,b);
return Y!=-1||I.w8.A2(D,b,r.z)};I.w8.G3=function(r,j){if(r==null||r.add.artd==null)return-1;var D=r.z.K$(j.x,j.y),N=12*y.f()/r.z.S;
for(var P=0;P<r.j.length;P++){var b=r.j[P];if(!b.Xy()||b.add.artb==null)continue;var Y=b.tT(),x=new bf(Y.x,Y.y-1.7*N,N*b.getName().length*.5,N);
if(x.yZ(D))return P}return-1};I.w8.prototype.xR=function(r,j,D,N,b){var Y=I.w8.G3(r,b);if(Y!=-1){r.R=[Y];
if(D.Uy==I.t3){var x=new iu(y.E.V);x.data={e:y.G.T$,k:I.E_};j.g(x)}return}this.w6=b;this.D9.Ho(b.x,b.y);
this.wL=r.z.K$(b.x,b.y);this.jv=new hN(this.wL);this.yb(r,j,N,D,!0)};I.w8.A2=function(r,j,D,N){var b=R.DA.pt,Y=D.lk.r;
return r.E$&&(0<j.x&&j.x<b||0<j.y&&j.y<b||N&&0<j.x&&j.x<4*b&&Y-b<j.y&&j.y<Y)};I.w8.prototype.yb=function(r,j,D,N,b,Y){var x,C=this.wL,w=!1;
if(b){var q=N.nN&&N.Ar.Pc;if(I.w8.A2(N,this.D9,r.z)){x=r.Yd();var u=r.Yd(),h=null;if(this.D9.x<R.DA.pt){h=[0,C.x]}if(this.D9.y<R.DA.pt){h=[1,C.y]}u[0].push(h);
u[1].push(r.sg());r.Er(u);if(!q){var z=new iu(y.E.V);if(!N.Ar.Pc){z.data={e:y.G.VD,Ek:e5._i};j.g(z)}if(!N.nN){z.data={e:y.G.VD,Ek:e5.Uh};
j.g(z)}q=!0}}var O=this.ba(r,C);if(q&&O!=null&&!r.H3){this.e=2;this.T1=x?x:r.Yd();this.t5=O;this.Hd=!0;
this.n5=I.T.q7(r);return}if(r.cz.length!=0){this.e=4;this.n5=r.c9[r.cz[0]].rect.clone();this.Hd=!0;return}if(this.EF&&this.EF.kj(C,r.z.S,!0)!=null){var z=new iu(y.E.V);
z.data={e:y.G.T$,k:I.YW,a1I:!0};j.g(z);return}if(r.c&&r.c.rect.yZ(C)){var g=Math.round(C.x),t=Math.round(C.y),$=r.c.rect;
w=r.c.channel[(t-$.y)*$.d+g-$.x]>128}if(!w&&(!this.Uu&&this.mz.HU||this.Uu&&this.mz.HU&&(D.o(e4.$P)||r.R.length<2))){var i=this.a69(r,C,D);
if(!i){r.R=[];r.m$=null;r.DW=r.Zn=!0;this.e=3;this.KL=new bf;this.Hd=!0;return}}if(D.o(e4.YV)&&!w){var A=new iu(y.E.w);
A.k=I.C5;A.data={e:G.b7,akK:!0};j.g(A)}}if(r.cz.length!=0){this.e=4;this.n5=r.c9[r.cz[0]].rect.clone();
this.Hd=!0;return}this.t5=r.FP(Y==null,Y,null,!0);for(var P=0;P<this.t5.length;P++){var H=r.j[this.t5[P]];
if(H.OL(2)||H.OL(31)){alert(e9.get([6,57,0]));return}}if(r.add.artd&&b){var F=this.t5,T=!1;for(var P=0;
P<F.length;P++)if(r.j[F[P]].add.artb)T=!0;if(!T){this.gk=[r,r.j.slice(0),r.R.slice(0),-1];this.t5.sort(function(d,s){return d-s})}}this.d_=I.w8.ahl(r,this.t5);
this.e=0;if(r.c&&(!b||w)&&r.R.length==1&&r.Kf(!1)){if(!r.c6()){this.Hd=!1;return}var _=r.j[r.R[0]],V=D.o(e4.YV);
this.e=1;var X=r.history[r.Kx];if(X.k==this&&X.data.e==1&&X.data.n==r.R[0]&&_.Cz==_.Ye.Cz&&!V){this.c7=X}else{var o=_.Ye,c=!1,E;
if(!_.QZ(r,r.c)||V){c=!0;_.mB(r,r.c,V)}if(_.Ye.Cz<=0){E=R.O(_.Ye.dA.length>>2);R.ni(_.Ye.dA,E,3)}else E=r.c.channel.slice(0);
var f={rect:_.Ye.zw.clone(),channel:E};this.c7=new ap(V?[12,53]:[12,54],this);this.c7.data={e:1,n:r.R[0],Ye:_.Ye,mR:o,a7:c,Ni:r.c,OI:f,oq:new gJ(0,0)};
r.vl(this.c7);r.c=f;r.Lx=!0}}this.Hd=!0;this.n5=I.T.q7(r)};I.w8.prototype.a69=function(r,j,D){var N=r.root.U2(new gJ(Math.floor(j.x),Math.floor(j.y)));
if(N){if(N.n.add.vmsk)r.yn=!0;var b=r.j.indexOf(N.n);if(D.o(e4.$P)){var Y=r.R.indexOf(b);if(Y==-1)r.R.push(b);
else if(r.R.length>1)r.R.splice(Y,1)}else if(r.R.indexOf(b)==-1){this.cS(r,b)}}return N!=null};I.w8.prototype.cS=function(r,j){r.j[j].Cz=0;
r.R=[j];r.m$=null;r.ZS();r.UF=!0;r.DW=!0};I.w8.prototype.Vt=function(r,j,D,N,b){this.w6=b;var Y=r.z.K$(b.x,b.y),O,g;
if(this.jv&&this.e<2)Y=this.jv.av(Y,N);if(!this.Hd){if(D.nN&&D.Ar.Pc&&r&&!r.H3){var x=this.ba(r,Y),C="default",w=I.w8.G3(r,b);
if(x!=null)C=["col-resize","row-resize"][r.Pc[x][0]];else if(this.EF){var q=this.EF.kj(Y,r.z.S);if(q)C=q}else if(w!=-1){C="pointer"}this.ar(C,j)}this.oC(r,Y);
return}var u=this.wL,h=Math.round(Y.x-u.x)-this.Ry.x,z=Math.round(Y.y-u.y)-this.Ry.y;if(this.n5){if(this.e==2){Y=I.w8.RE(r,Y,D,[!1,r.c?r.c.rect:this.n5,!0])}else{g=this.n5.clone();
g.offset(this.Ry.x+h,this.Ry.y+z);O=I.w8.E9(r,g,D);h+=Math.round(O[0]);z+=Math.round(O[1])}}this.Ry.x+=h;
this.Ry.y+=z;var t=this.gk;if(t&&r==t[0]){r.HQ(t[1]);r.R=t[2].slice(0);t[3]=-1}this.JG(r,h,z,Y,null,N.o(e4.$P));
if(t&&r==t[0]){var $=this.n5.clone();$.offset(this.Ry.x,this.Ry.y);var i=new gJ($.x+$.d/2,$.y+$.r/2),w=r.sg(),A=-1;
for(var P=0;P<r.j.length;P++){var H=r.j[P];if(!H.Xy()||H.add.artb==null)continue;var F=H.tT();if(F.yZ(i))A=P}if(A!=-1&&A!=w){var T=f1.c5.Uz(r,this.t5,A,!0,null,!1);
r.HQ(T[0]);r.R=T[1];t[3]=A}}this.oC(r,Y);if(O)I.w8.ib(r,g,O)};I.w8.prototype.ba=function(r,j){j=[j.x,j.y];
var D=r.Yd(),N=r.sg();for(var P=0;P<D[0].length;P++){var b=D[0][P],Y=D[1][P];if(Y!=-1&&Y!=N)continue;
if(Math.abs(b[1]-j[b[0]])*r.z.S<4)return P}return null};I.w8.prototype.JG=function(r,j,D,N,b,Y){if(this.e==0){if(b)I.w8.Ln(r,this.t5,this.d_,b);
else I.w8.oX(r,this.t5,this.d_,j,D)}else if(this.e==1){var x=this.c7.data;x.oq.offset(j,D);I.w8.hj(r,x.n,j,D)}else if(this.e==2){var C=1e-5;
if(Y)C=r.z.S<=1?10:1;else if(r.z.S<=1)C=1;var w=C*Math.round(N.x/C),q=C*Math.round(N.y/C),u=[w,q],h=r.Pc[this.t5];
h[1]=u[h[0]]}else if(this.e==3){var z=this.wL,O=R.K.v_([z.x,z.y,N.x,N.y]);this.KL=O;var g=[];r.root.UH(O,g);
if(JSON.stringify(r.R)!=JSON.stringify(g)){r.R=g;r.DW=r.Zn=!0}}else if(this.e==4){for(var P=0;P<r.cz.length;
P++)r.c9[r.cz[P]].rect.offset(j,D);r.yn=!0}};I.w8.hj=function(r,j,D,N){var b=r.j[j];r.c.rect.offset(D,N);
b.ne(r,D,N,r.c);r.Lx=!0;r.P()};I.w8.prototype.rE=function(r,j,D,N,b,Y){this.db(r,b,D);this.oC(r);if(Date.now()-this.KR<300&&!Y){var x=I.Qy.It(r,r.z.K$(b.x,b.y));
if(I.w8.A2(D,b,r.z,!0)){var C=new iu(y.E.V);if(b.y>r.z.lk.r-20){C.data={e:y.G.gl,SO:"doczoom",Gz:r.z.S*100,Cu:{$:y.E.w,k:I._h,H:{e:"pzoom"}}}}else{C.data={e:y.G.gl,SO:"preferences"}}j.g(C)}else if(x>=0){var w=new iu(y.E.w,!0);
w.k=I.pP;w.data={e:"editCurr",GR:x};j.g(w)}}this.KR=Date.now();I.rh.Dw(r)};I.w8.prototype.db=function(r,j,D,N,b){if(!this.Hd)return;
this.Hd=!1;if(this.e==0){if(N){this.g5(r,null,N,b)}else{if(this.Ry.x==0&&this.Ry.y==0)return;this.g5(r,this.Ry.clone())}r._P=!0}else if(this.e==2){var Y=0;
j=[j.x,j.y];var x=this.t5,C=r.Pc[x],hG=this.T1[0].length,w=r.Pc.length;if(D.E$&&j[C[0]]<R.DA.pt){var q=r.Yd();
q[0].splice(x,1);q[1].splice(x,1);r.Er(q);Y=1;if(hG==w-1)return}if(hG<w)Y=2;var u=new ap([[23,2],[23,3],[23,4]][Y],this);
u.data={e:2,T1:this.T1,Yw:r.Yd()};r.vl(u)}else if(this.e==4){var u=new ap([12,54],this);u.data={e:4,R:r.cz.slice(0),u:this.Ry.clone()};
r.vl(u)}this.Ry.Ho(0,0)};I.w8.prototype.Uc=function(r,j,D,N){var b=N.ET();if(r!=null&&(b.x!=0||b.y!=0)){if(N.o(e4.YV)&&r.c==null){var Y=new iu(y.E.w);
Y.k=I.C5;Y.data={e:G.b7,akK:!0};j.g(Y)}this.Ry.Ho(b.x,b.y);this.yb(r,j,N,D,!1);if(!this.Hd)return;this.JG(r,b.x,b.y);
this.db(r,null,D);this.oC(r)}var x=N.o(e4.h6);if(!this.Uu&&this.a4i!=x){if(x){this.a4A=this.mz.HU;this.mz.HU=!0}else{this.mz.HU=this.a4A}this.a4i=x;
var C=new iu(y.E.V,!0);C.data={e:y.G.X9,k:this.id,EE:this.mz};j.g(C)}};I.w8.prototype.B$=function(r,j){if(r.e==0){var D=r.G8;
if(D){j.HQ(D.Lq);j.R=D.uD.slice(0);j.P();j.DW=!0}I.w8.Ln(j,r.R,r.Pg,r.tY,!0);I.rh.Dw(j)}else if(r.e==2){j.Er(r.T1);
j.yn=!0}else if(r.e==4){for(var P=0;P<r.R.length;P++)j.c9[r.R[P]].rect.offset(-r.u.x,-r.u.y);j.yn=!0}else{var N=j.j[r.n];
if(r.a7){N.Qs(j,r.mR);j.c=r.Ni;j.Lx=!0;j.P();N.P()}else{I.w8.hj(j,r.n,-r.oq.x,-r.oq.y)}}};I.w8.prototype.Gf=function(r,j){if(r.e==0){I.w8.Ln(j,r.R,r.Pg,r.tY);
var D=r.G8;if(D){j.HQ(D.uJ);j.R=D.Fv.slice(0);j.P();j.DW=!0}I.rh.Dw(j)}else if(r.e==2){j.Er(r.Yw);j.yn=!0}else if(r.e==4){for(var P=0;
P<r.R.length;P++)j.c9[r.R[P]].rect.offset(r.u.x,r.u.y);j.yn=!0}else{var N=j.j[r.n];if(r.a7){N.Ye=r.Ye;
j.c=r.OI;I.w8.hj(j,r.n,0,0);N.P()}else{I.w8.hj(j,r.n,r.oq.x,r.oq.y)}}};I.w8.prototype.g5=function(r,j,D,N){if(D){var b=!0;
for(var P=0;P<D.length;P++)if(D[P]!=0)b=!1;if(b)return}var Y=r.history[r.Kx],x=this.gk,C=x!=null&&x[3]!=-1&&x[0]==r;
if(!C&&D==null&&Y.data&&Y.k==this&&Y.data.e==0&&JSON.stringify(Y.data.R)==JSON.stringify(this.t5)&&JSON.stringify(Y.data.Pg)==JSON.stringify(this.d_)){var w=Y.data.tY,q=Y.data.ad9.Q4.T.v;
q.Hrzn.v.val+=j.x;q.Vrtc.v.val+=j.y;for(var P=0;P<w.length;P+=2){w[P]+=j.x;w[P+1]+=j.y}}else{if(j==null)j=new gJ(D[0],D[1]);
var u={sv:"move",Q4:{classID:"null",null:dA.W4("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:j.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:j.y}}}}}},h=null;
if(C)h={Lq:x[1],uD:x[2],uJ:r.j.slice(0),Fv:r.R.slice(0)};this.gk=null;var z=new ap(N?N:[12,54],this);
if(D)z.data={e:0,R:this.t5,Pg:this.d_,G8:h,tY:D};else z.data={e:0,R:this.t5,Pg:this.d_,G8:h,tY:I.w8.uN(this.t5,j.x,j.y)};
z.data.ad9=u;r.vl(z);this.track(u)}};I.w8.uN=function(r,j,D){var N=[];for(var P=0;P<r.length;P++)N.push(j,D);
return N};I.w8.oX=function(r,j,D,N,b){I.w8.Ln(r,j,D,I.w8.uN(j,N,b))};I.w8.Ln=function(r,j,D,N,b){if(j.length==0)return;
if(D==null){D=[];for(var P=0;P<j.length;P++){D.push(r.j[j[P]].Gl(r,!0))}}var Y=new bf,x=new bf(0,0,r.d,r.r);
for(var P=0;P<j.length;P++){var C=N[2*P],w=N[2*P+1];if(b){C=-C;w=-w}var q=r.j[j[P]],u=D[P];if(q.add.fxrp&&(u.indexOf(0)!=-1||q.x2()))q.add.fxrp.offset(C,w);
for(var h=0;h<u.length;h++){var z=u[h];if(z==0){q.rect.offset(C,w);if(q.ri()&&q.dw(r))q.dw(r).rect.offset(C,w);
if(q.add.artb){var O=q.tT();O.offset(C,w);q.OD(O);var g=q.add.artb.guideIndeces;g=g?g.v:[];for(var t=0;
t<g.length;t++){var $=r.Pc[g[t].v];$[1]+=$[0]==0?C:w}}if(q.add.TySh){q.add.TySh.F.translate(C,w);if(q.add.TySh.add){q.add.TySh.add.vmsk.offset(C,w)}}if(q.add.SoLd){var i=new j9(1,0,0,1,C,w),A=q.add.SoLd,H=I.T.$i(A.Trnf),F=I.T.$i(A.nonAffineTransform);
R.K.F(H,i,H);R.K.F(F,i,F);A.Trnf=I.T.Qn(H);A.nonAffineTransform=I.T.Qn(F);I.T.os(A,i)}}if(z==1)q.BG().rect.offset(C,w);
if(z==2){q.add.vmsk.offset(C,w);if(q.add.vogk)R.Bu.F(q.add.vogk,[1,0,C,0,1,w,0,0],[])}if(z==3){q.dw(r).B.rect.offset(C,w);
if(u.length==1)q.P()}}if(u.length>0){var T=q.add.GdFl;if(T==null)T=q.add.PtFl;if(q.x2()&&!q.Dn()&&q.add.vmsk!=null&&R.b.h2(q.add.vmsk.W)&&q.add.vmsk.jO==255&&(T==null||T.Algn&&T.Algn.v)){q.rect.offset(C,w)}else q.Fz(r);
var _=r.root.l2(q.dk(r),r,j[P]);Y=Y.zs(_);_.offset(-C,-w);Y=Y.zs(_);if(q.add.SoCo||q.add.GdFl||q.add.PtFl||cz.get(q.add)!=null)Y=Y.zs(x);
q.Se()}}r.P(Y)};I.w8.ahl=function(r,j){var D=[];for(var P=0;P<j.length;P++){var N=r.j[j[P]];D.push(N.Gl(r))}return D};
I.w8.ib=function(r,j,D){var N=r.I.EY={v:[],J:[]},b=j.x+D[0],Y=j.y+D[1];if(D[2]!=1e9){N.J.push("M","L");
N.v.push(D[2],Y,D[2],Y+j.r)}if(D[3]!=1e9){N.J.push("M","L");N.v.push(b,D[3],b+j.d,D[3])}r.yn=!0};I.w8.RE=function(r,j,D,N){var b=I.w8.iC(r,[[j.x],[j.y]],D,N);
return new gJ(j.x+b[0],j.y+b[1])};I.w8.E9=function(r,j,D,N,b){var Y=b==!0?1:.5,x=I.w8.iC(r,[[j.x,j.x+Math.round(j.d*Y),j.x+j.d],[j.y,j.y+Math.round(j.r*Y),j.y+j.r]],D,N);
return x};I.w8.iC=function(r,j,D,N){if(N==null)N=[!0,null,!0];var b=[0,0,1e9,1e9];if(!D.U8)return b;
var Y=JSON.parse(JSON.stringify(j));for(var x=0;x<2;x++){var C=1e9,w=j[x],q=0;for(var u=0;u<w.length;
u++){var h=I.w8.a3h(r,w[u],Y[1-x][u],x,D,N);if(h!=1e9)Y[x][u]=h;if(h!=1e9&&Math.abs(h-w[u])<Math.abs(C)){C=h-w[u];
q=h}}if(C!=1e9){b[x]=C;b[x+2]=q}}return b};I.w8.a3h=function(r,j,D,N,b,Y){var x=1e9,C=b.BQ,w=b.Ar,q=[r.root];
while(q.length!=0&&C[2]){var u=q.pop(),h=u.n,z=h.rect;if(!h.Xy())continue;if(u.children)for(var P=0;
P<u.children.length;P++)q.push(u.children[P]);if(r.R.indexOf(u.index)!=-1||z.jE())continue;if(N==0){var O=z.d,g=O>>>1;
if(Math.abs(z.x-j)<Math.abs(x-j))x=z.x;if(Math.abs(z.x+g-j)<Math.abs(x-j))x=z.x+g;if(Math.abs(z.x+O-j)<Math.abs(x-j))x=z.x+O}else{var t=z.r,$=t>>>1;
if(Math.abs(z.y-j)<Math.abs(x-j))x=z.y;if(Math.abs(z.y+$-j)<Math.abs(x-j))x=z.y+$;if(Math.abs(z.y+t-j)<Math.abs(x-j))x=z.y+t}}if(Y[0]&&C[0]&&w.Pc&&b.nN){var i=r.Yd(),A=i[0],H=i[1],F=r.sg();
for(var P=0;P<A.length;P++)if((H[P]==-1||H[P]==F)&&A[P][0]==N&&Math.abs(A[P][1]-j)<Math.abs(x-j))x=A[P][1]}if(C[1]&&w.JZ&&b.nN){var T=Math.round(R.DA.bL(w.cb,r.TB,r.d,w.nv));
if(N==1&&w.nD==1){var _=D*.5*Math.sqrt(4/3),V;T*=Math.sqrt(4/3);V=Math.round((j-_)/T)*T+_;if(Math.abs(V-j)<Math.abs(x-j))x=V;
V=Math.round((j+_)/T)*T-_;if(Math.abs(V-j)<Math.abs(x-j))x=V}else{var V=Math.round(j/T)*T;if(Math.abs(V-j)<Math.abs(x-j))x=V}}var X=r.hB;
if(C[3]&&w.hB&&b.nN&&X.length!=0){for(var P=0;P<X.length;P++){if(!Y[2]&&r.Xf.indexOf(P)!=-1)continue;
var o=I.K_.KG(X,P);for(var c=0;c<3;c+=2)if(o[c+N]!=j&&Math.abs(o[c+N]-j)<Math.abs(x-j))x=o[c+N]}}if(Y[1]){var z=Y[1],O=z.d,t=z.r,E=[z.x,z.y,z.x+(O>>>1),z.y+(t>>>1),z.x+O,z.y+t];
for(var P=0;P<6;P+=2)if(Math.abs(E[P+N]-j)<Math.abs(x-j))x=E[P+N]}if(C[4]){var z=new bf(0,0,r.d,r.r),F=r.sg();
if(F!=-1)z=r.j[F].tT();var O=z.d,t=z.r,E=[z.x,z.y,z.x+(O>>>1),z.y+(t>>>1),z.x+O,z.y+t];for(var P=0;P<6;
P+=2)if(Math.abs(E[P+N]-j)<Math.abs(x-j))x=E[P+N]}var f=Math.abs(x-j)<=4*y.f()/r.z.S?x:1e9;return f};
I.AV=function(){I.Vm.call(this,[10,12],I.eD,"tools/mwand")};I.AV.prototype=new I.Vm;I.AV.prototype.kB=I.Vm.prototype.abK;
I.AV.prototype.vT=I.Vm.prototype.a2T;I.AV.prototype.uo=function(r,j,D,N){this.finish(r,j,D,N)};I.AV.prototype.getSelection=function(r,j,D,N){var b=this.Wg,Y=I.Vm.ao8(new gJ(Math.floor(b.x),Math.floor(b.y)),this.mz.wconf,this.mz.sall);
return Y};I.AV.et=function(r,j,D,N){if(r.R.length!=1){alert("More than one layer selected.");return null}var b=r.j[r.R[0]],Y=b.Cz<=0?null:b.Cz==1?b.BG():b.dw(r).B,x;
if(Y==null&&b.add.lsct!=null&&b.add.lsct!=bH.kx){alert("No layer selected.");return null}if(j.x<0||j.x>r.d||j.y<0||j.y>r.r)return null;
var C=new bf(0,0,r.d,r.r);if(Y==null&&N){x=r.Ez()}else if(Y==null&&C.gy(b.rect))x=b.buffer;else{x=R.O(C.Z()*4);
if(Y==null)R.UB(b.buffer,b.rect,x,C);else I.oi.Yi(Y.channel,Y.rect,Y.color,x,C)}var w=I.AV.pv(x,C,j,null,D),q=R.FV(w,C),u=R.O(q.Z());
R.YO(w,C,u,q);return{rect:q,channel:u}};I.AV.pW=function(r,j,D){var N=j.d,b=j.r,x=0,C=0,w=0,q=0;r=new Uint32Array(r.buffer);
var Y=[],u=D.length;for(var P=0;P<u;P++){var h=D[P],z=Math.round(h.x-.5-j.x),O=Math.round(h.y-.5-j.y);
z=Math.max(0,Math.min(N-1,z));O=Math.max(0,Math.min(b-1,O));var g=O*N+z,t=r[g];Y.push([t&255,t>>8&255,t>>16&255,t>>>24])}return Y};
I.AV.pv=function(r,j,D,N,b){r=new Uint32Array(r.buffer);var Y=j.d,x=j.r,C=Y*x;if(N==null)N=I.AV.pW(r,j,[D]);
var w=Math.round(D.x-.5-j.x),q=Math.round(D.y-.5-j.y),u=q*Y+w,h=Date.now(),z=R.O(Y*x),O=b[0],g=1/O,t=b[1]&&O>0?255:0;
if(b[2]){var $=R.O(z.length),i=new Uint32Array(C),A=1;i[0]=w<<16|q;$[u]=1;while(A>0){var H=i[A-1];A--;
var F=H>>>16,T=H&65535,P=T*Y+F,_=I.AV.sj(r[P],N);if(_>O){var V=t*(1-Math.max(0,Math.min(1,(_-O)*g)));
z[P]=~~V}else{z[P]=255;if(T!=x-1&&$[P+Y]==0){i[A++]=F<<16|T+1;$[P+Y]=1}if(T!=0&&$[P-Y]==0){i[A++]=F<<16|T-1;
$[P-Y]=1}if(F!=Y-1&&$[P+1]==0){i[A++]=F+1<<16|T;$[P+1]=1}if(F!=0&&$[P-1]==0){i[A++]=F-1<<16|T;$[P-1]=1}}}}else{for(var P=0;
P<C;P++){var _=I.AV.sj(r[P],N);if(_<=O)z[P]=255}for(var T=0;T<x;T++)for(var F=0;F<Y;F++){var P=T*Y+F;
if(z[P]==0&&(F>0&&(z[P-1]==255||T>0&&z[P-Y-1]==255||T<x-1&&z[P+Y-1]==255)||F<Y-1&&(z[P+1]==255||T>0&&z[P-Y+1]==255||T<x-1&&z[P+Y+1]==255)||T>0&&z[P-Y]==255||T<x-1&&z[P+Y]==255)){var _=I.AV.sj(r[P],N),V=t*(1-Math.max(0,Math.min(1,(_-O)*g)));
z[P]=~~V}}}return z};I.AV.sj=function(r,j){var D=j.length,N=I.AV.$O(r,j[0]),P=1;while(P!=D){N=Math.min(N,I.AV.$O(r,j[P]));
P++}return N};I.AV.$O=function(r,j){var D=r&255,N=r>>>8&255,b=r>>>16&255,Y=r>>>24&255;if(j[3]==0)return Y<5?0:255;
var x=Math.max(Math.abs(D-j[0]),Math.max(Math.abs(N-j[1]),Math.abs(b-j[2])));return Y==0?255:x};I.ub=function(r,j){if(j)I.oi.call(this);
else if(r)I.oi.call(this,[10,49],I.JV,"tools/camove");else I.oi.call(this,[10,26],I.hK,"tools/patch");
this.HA=null;this.Xo=null;this.u=null;this.kI=null;this.E7=new gJ;this.BE=null;this._C=null};I.ub.prototype=new I.oi;
I.ub.prototype.xR=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);if(r.c&&R.U2(Y,r.c.channel,r.c.rect)){var x=new bf(0,0,r.d,r.r),C=x.su(r.c.rect);
if(!r.Kf()||C.jE())return;if(!0){var w=R.O(C.Z());R.YO(r.c.channel,r.c.rect,w,C);r.c={channel:w,rect:C}}this.zL(r);
this.c2(r);this.kI=Y;this.E7=new gJ(Y.x-r.c.rect.x,Y.y-r.c.rect.y);this._C=R.O(r.c.rect.Z()*4);this._C.fill(255);
if(this.mz.patch==1){var q=r.j[r.R[0]];q.mB(r,r.c,!0);if(q.Ye==null)this.kI=null}this.BE=r.c.rect.clone()}else{this.Xo={v:[Y.x,Y.y],J:["M"]};
this.HA=Y}};I.ub.prototype.Vt=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);if(this.kI){if(this.mz.patch==1){if(r.cz.length==0){var x=r.j[r.R[0]].Ye,C=Y.x-this.E7.x,w=Y.y-this.E7.y;
I.w8.hj(r,r.R[0],Math.round(C-x.zw.x),Math.round(w-x.zw.y))}}else this.qy(r,Y,"clone")}if(this.HA){this.Xo.J.push("L");
this.Xo.v.push(Y.x,Y.y);this.HA=Y;r.I.M3=this.Xo;r.yn=!0}};I.ub.prototype.rE=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);
if(this.kI){var x=r.c.rect.clone();if(this.id==I.JV){var C=r.j[r.R[0]];C.Qs(r,C.Ye);r.c.rect=this.BE.clone();
var w=R.O(r.c.rect.Z()*4);R.zQ(r.c.channel,w,3);this.rZ(r,"sheal",w,r.c.rect,r.c.rect);r.c.rect=x;x=x.zs(this.BE)}this.qy(r,Y,"heal");
this.finish(r,x,null,null,!0);r.P(x);this.kI=null}if(this.HA){var q=I.Vm.O9(this.mz.setop,N.o(e4.$P),N.o(e4.YV)),u=new iu(y.E.PN,!0);
if(this.Xo.v.length<=4)u.data=I.Vm.wi();else u.data=I.Vm.vX(this.Xo.v,q);j.g(u);this.HA=null;r.I.M3=null;
r.yn=!0}};I.ub.prototype.qf=function(){return this.u};I.ub.prototype.cZ=function(r,j,D,N,b){I.oi.prototype.cZ.call(this,r,j,D,N,b);
this.ar(b,N)};I.ub.prototype.ar=function(r,j){var D="auto;";if(j!=null&&j.o(e4.$P)&&!j.o(e4.YV)||this.mz.setop=="union")D="copy";
var N=new iu(y.E.V,!0);N.data={e:y.G.C9,EA:D};if(this.caller)this.caller.g(N)};I.ub.prototype.qy=function(r,j,D){var N=new gJ(Math.round(this.kI.x-j.x),Math.round(this.kI.y-j.y));
if(this.mz.patch==1)N.Ho(-N.x,-N.y);this.u=N;this.rZ(r,D,this._C,r.c.rect,r.c.rect);this.P(r,r.c.rect)};
I.l_=function(){I.ub.call(this,!0);this.mz.patch=1};I.l_.prototype=new I.ub(!0,!0);I.Mt=function(){I.oi.call(this,[10,13],I.a1q,"tools/pbucket");
this.am=!1};I.Mt.prototype=new I.oi;I.Mt.prototype.enable=function(r,j,D,N){var b=new iu(y.E.V,!0);b.data={e:y.G.C9,EA:"default"};
j.g(b)};I.Mt.prototype.Wf=function(r,j){};I.Mt.prototype.xR=function(r,j,D,N,b){this.am=!0};I.Mt.prototype.rE=function(r,j,D,N,b,Y){var x=this.am;
this.am=!1;if(!x||Y)return;if(this.Qh(N,j,b))return;if(!r.Kf())return;var C=r.z.K$(b.x,b.y),w=I.AV.et(r,C,this.mz.wconf,this.mz.sall);
if(w==null)return;var q=R.O(w.rect.Z()*4);R.mh(q,(D.xg&255)<<16|(D.xg>>8&255)<<8|(D.xg>>16&255)<<0);
R.zQ(w.channel,q,3);this.zL(r);this.rZ(r,"draw",q,w.rect,w.rect);this.P(r,w.rect);this.finish(r,w.rect)};
I.eU=function(){I.Vm.call(this,[10,14],I.a2n,"tools/plasso");this.ND="crosshair";this.VQ=[];this._x=null;
this.Xo=null;this.a6q=0};I.eU.prototype=new I.Vm;I.eU.prototype.disable=function(r,j,D,N){this.lZ(r)};
I.eU.prototype.uo=function(r,j,D,N){this.VQ=[e4.rb,e4.SP]};I.eU.prototype.IT=function(r){return this.VQ.indexOf(r)!=-1};
I.eU.prototype.Mo=function(r){return this.Xo!=null};I.eU.prototype.HW=function(){return this.Xo!=null};
I.eU.prototype.Oj=function(){return this.Xo!=null};I.eU.prototype.yN=function(r,j,D,N){if(this.Xo==null)return;
var b=this.Xo,Y=b.v,x=Y.length-2,C=this.Wg;if(this.wM.dG(1)&&D.o(e4.YV)&&N.XS){Y.push(0,0);b.J.push("L");
x+=2}else if(D.o(e4.$P))C=I.GY.dt(new gJ(Y[x-2],Y[x-1]),C);Y[x]=C.x;Y[x+1]=C.y;r.I.M3=b;r.yn=!0};I.eU.prototype.BS=function(r,j,D,N){var b=Date.now();
if(this.Xo==null)this.Xo={v:[this.Wg.x,this.Wg.y,this.Wg.x,this.Wg.y],J:["M","L"]};else{this.yN(r,j,D,N);
if(b-this.a6q<250||gJ.tA(this.Wg,new gJ(this.Xo.v[0],this.Xo.v[1]))<5*y.f()/r.z.S){this._x=this.Xo;this.finish(r,j,D,N);
this.lZ(r);return}this.Xo.J.push("L");this.Xo.v.push(this.Wg.x,this.Wg.y)}this.a6q=b;r.I.M3=this.Xo};
I.eU.prototype.lZ=function(r){this.Xo=null;this.VQ=[];if(r!=null){r.I.M3=null;r.yn=!0}};I.eU.prototype.Uc=function(r,j,D,N){I.Vm.prototype.Uc.call(this,r,j,D,N);
if(N.o(e4.Pj)&&this.Xo==null&&this._x&&r.c!=null){var b=new iu(y.E.w);b.k=I.cu;b.data={e:"h_stepbck"};
j.g(b);this.uo(r,D,N,null);this.Xo=this._x;return}if(this.Xo==null)return;if(N.o(e4.rb)||N.o(e4.SP)){this.Xo.v.pop();
this.Xo.v.pop();this.Xo.J.pop();this.yN(r,D,N)}if(N.o(e4.Lf)){if(this.Xo.v.length>4){this._x=this.Xo;
this.finish(r,D,N)}this.Xo=null}if(N.o(e4.Pj)){this.Xo=null}r.I.M3=this.Xo;r.yn=!0};I.eU.prototype.getSelection=function(r,j,D,N){return I.Vm.vX(this.Xo.v,null,this.mz.anta)};
I.tk=function(){I.Vm.call(this,[10,10],I.a4m,"tools/mlasso");this.ND="crosshair";this.VQ=[];this.W=[];
this.tM=[];this.vA=[];this.MO=null;this.OJ=null;this.kT=null;this.KR=0;this.Aq=0};I.tk.prototype=new I.Vm;
I.tk.prototype.disable=function(r,j,D,N){this.clear(r)};I.tk.prototype.Mo=function(r){return this.W.length!=0};
I.tk.prototype.Oj=function(){return this.W.length!=0};I.tk.prototype.IT=function(r){return this.VQ.indexOf(r)!=-1};
I.tk.prototype.uo=function(r,j,D,N){this.VQ=[e4.rb,e4.SP];var b=this.lj(this._D,r);if(this.W.length!=0&&(gJ.tA(b,this.W[0])<4*y.f()/r.z.S||Date.now()-this.KR<300)){this.e7(r,this.W[0]);
this.finish(r,j,D);this.clear(r);return}this.KR=Date.now();if(this.W.length!=0)b=this.dy(b,r);else{var Y=r.d,x=r.r,C=R.O(Y*x),w=r.Ez(),q=Y*x*4;
for(var P=0;P<q;P+=4)C[P>>>2]=~~(.5+R.qO(w[P],w[P+1],w[P+2])*(w[P+3]*(1/255)));this.MO=R.o4.atm(C,Y,x);
this.kT=new Uint16Array(C.length)}this.e7(r,b);this.Aq=D.o(e4.YV)?1:0;this.sT(r)};I.tk.prototype.e7=function(r,j){var D=this.W;
this.tM[D.length]=this.vA.length;if(D.length!=0){R.o4.rp(this.OJ,j.y*r.d+j.x);var N=this.vo(r,j);N.reverse();
var b=I.tk.Ki(r,N);this.vA=this.vA.concat(b)}D.push(j);this.eA(r)};I.tk.prototype.eA=function(r){var j=this.W[this.W.length-1],D=j.y*r.d+j.x;
this.OJ=R.o4.a6h(this.MO.vM,this.MO.w$,D);this.kT.fill(0)};I.tk.prototype.lj=function(r,j){return new gJ(Math.floor(Math.max(0,Math.min(j.d-1,r.x))),Math.floor(Math.max(0,Math.min(j.r-1,r.y))))};
I.tk.prototype.clear=function(r){this.vA=[];this.W=[];this.tM=[];this.MO=null;this.OJ=null;this.kT=null;
if(r!=null){r.I.M3=null;r.I.D$=[];r.yn=!0}this.VQ=[]};I.tk.prototype.yN=function(r,j,D,N){var b=this.W,Y=b.length;
if(Y==0)return;var x=this.dy(this.lj(this.Wg,r),r),C=this.vo(r,x);for(var P=0;P<C.length;P++){var w=C[P],q=new gJ(w%r.d,Math.floor(w/r.d));
if(this.kT[w]>30&&gJ.tA(q,b[Y-1])>20){this.e7(r,q);return}this.kT[w]++}if(this.Aq==1&&N.XS)this.e7(r,x);
this.sT(r)};I.tk.prototype.sT=function(r){var j=this.W;if(j.length!=0){var D=this.dy(this.lj(this.Wg,r),r),N=this.vo(r,D);
N.reverse();var b=I.tk.Ki(r,N),Y=this.vA.concat(b),x=r.I.M3={v:Y,J:["M"]};for(var P=2;P<Y.length;P+=2)x.J.push("L")}r.I.D$=[];
for(var P=0;P<j.length;P++)r.I.D$.push(j[P].x+.5,j[P].y+.5);r.yn=!0};I.tk.prototype.BS=function(r,j,D,N){};
I.tk.prototype.Uc=function(r,j,D,N){if(this.W.length==0)return;if(N.o(e4.rb)||N.o(e4.SP)){this.W.pop();
this.vA=this.vA.slice(0,this.tM[this.W.length]);this.tM.pop();if(this.W.length==0)this.clear(r);else this.eA(r);
this.sT(r)}if(N.o(e4.Lf)){var b=this.lj(this.Wg,r);this.e7(r,b);this.finish(r,D,N);this.clear(r)}if(N.o(e4.Pj)){this.clear(r)}};
I.tk.prototype.getSelection=function(r,j,D,N){return I.Vm.vX(this.vA,null,this.mz.anta)};I.tk.prototype.vo=function(r,j){var D=this.W[this.W.length-1],N=D.y*r.d+D.x,b=j.y*r.d+j.x;
if(this.Aq==1)return[b,N];var Y=[b];while(b!=N){b=this.OJ.OB[b];Y.push(b);if(Y.length>5e3){console.log(Y);
throw"e"}}return Y};I.tk.Ki=function(r,j){var D=[],N=r.d;for(var P=0;P<j.length;P++){var b=j[P];D.push(b%N+.5,Math.floor(b/N)+.5)}return D};
I.tk.prototype.dy=function(r,j){var D=j.d,N=j.r,b=r.clone(),x=3;R.o4.rp(this.OJ,r.y*D+r.x);var Y=this.OJ.AB[r.y*D+r.x];
for(var C=-x+1;C<x;C++)for(var w=-x+1;w<x;w++){var q=r.x+w,u=r.y+C;if(q<0||q>=D||u<0||u>=N)continue;
R.o4.rp(this.OJ,u*D+q);if(this.OJ.AB[u*D+q]<Y)b.Ho(q,u)}return b};I.Vb=function(){I.d5.call(this,[10,36],I.XI,"tools/ruler");
this.qE=null;this.zE=null;this.Uv=null;this.gU=null;this.MN=null};I.Vb.prototype=new I.d5;I.Vb.prototype.Mo=function(r){return r.XS};
I.Vb.prototype.enable=function(r,j,D,N){I.d5.prototype.enable.call(this,r,j,N,D);if(r)this.oC(r)};I.Vb.prototype.disable=function(r,j,D,N){if(r)this.lZ(r)};
I.Vb.prototype.k_=function(r,j,D,N,b){this.qE=this.Uv=null;this.oC(D)};I.Vb.prototype.xR=function(r,j,D,N,b){var Y=r.z.S/y.f(),x=r.z.K$(b.x,b.y);
x.x=Math.round(x.x);x.y=Math.round(x.y);var C=this.qE;this.zE=C?C.slice(0):null;var w=C&&gJ.tA(x,C[0])*Y<6,q=C&&gJ.tA(x,C[1])*Y<6,u=C&&C[2]&&gJ.tA(x,C[2])*Y<6;
if(w||q||u){if(N.o(e4.YV)&&C.length==2){if(q){var h=C[0];C[0]=C[1];C[1]=h}C[2]=C[0].clone();this.Uv=[2]}else this.Uv=[w?0:q?1:2]}else if(C&&I.Vb.a1P(C[0],C[1],x)*Y<6&&Math.min(C[0].x,C[1].x)-5<=x.x&&x.x<=Math.max(C[0].x,C[1].x)+5&&Math.min(C[0].y,C[1].y)-5<=x.y&&x.y<=Math.max(C[0].y,C[1].y)+5){this.Uv=[];
this.MN=[];for(var P=0;P<C.length;P++){this.Uv.push(P);this.MN.push(C[P].clone())}this.gU=x}else{this.qE=[x.clone(),x.clone()];
this.Uv=[1]}};I.Vb.prototype.Vt=function(r,j,D,N,b){if(this.Uv==null)return;var Y=this.qE,x=this.Uv,C=r.z.K$(b.x,b.y);
C.x=Math.round(C.x);C.y=Math.round(C.y);if(x.length>1){var w=C.x-this.gU.x,q=C.y-this.gU.y;for(var P=0;
P<Y.length;P++){Y[P]=this.MN[P].clone();Y[P].offset(w,q)}}else{Y[x[0]].Ho(C.x,C.y);if(N.o(e4.$P)){Y[x[0]]=I.GY.dt(Y[1-x[0]],Y[x[0]])}}this.oC(r);
this.Ze(j,y.E.V,{e:y.G.X9,k:this.id,a5N:Y[0],iE:Y[1],e0:Y[2],TB:r.TB,a8v:r.d})};I.Vb.prototype.rE=function(r,j,D,N,b,Y){this.Uv=null;
if(Y){this.qE=this.zE.slice(0);this.oC(r)}};I.Vb.prototype.Ze=function(r,j,D){var N=new iu(j,!0);N.data=D;
r.g(N)};I.Vb.prototype.oC=function(r){var j=this.qE;if(j==null)this.lZ(r);else{var D=[j[1].x,j[1].y,j[0].x,j[0].y],N=["M","L"];
if(j.length>2){D.push(j[2].x,j[2].y);N.push("L")}r.I.M3={J:N,v:D};r.I.D$=D}r.yn=!0};I.Vb.prototype.lZ=function(r){r.I.M3=null;
r.I.D$=[]};I.Vb.a1P=function(r,j,D){var N=j.x-r.x,b=j.y-r.y,Y=Math.abs(b*D.x-N*D.y+j.x*r.y-j.y*r.x),x=Math.sqrt(N*N+b*b);
return x==0?0:Y/x};I.yG=function(){I.oi.call(this,[10,19],I.Oe,"tools/sharpen");this.Qp="copy"};I.yG.prototype=new I.oi;
I.yG.prototype.xR=function(r,j,D,N,b){var Y=this.mz.pdetail?gU.rD:gU.Oe;if(N.o(e4.YV))Y=gU.dq;this.Zq(r,D,N,b,this.mz.strn,Y);
if(this.ZY==null)return;this.sb(r)};I.yG.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.d0=function(){I.oi.call(this,[10,24],I.Fw,"tools/shbrush");
this.Qp="draw";this.mz.opacity=.5};I.d0.prototype=new I.oi;I.d0.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,1);
if(this.ZY==null)return;this.c2(r);this.sb(r)};I.d0.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);
if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.d0.prototype.rE=function(r,j,D,N,b){if(this.ZY==null)return;
this.rZ(r,"sheal",this.ZY.ZM(),this.ZY.q7(),this.ZY._7(),null);this.P(r,this.ZY._7());I.oi.prototype.rE.call(this,r,j,D,N,b)};
I.gG=function(){I.oi.call(this,[10,20],I._Y,"tools/smudge");this.Qp="copy"};I.gG.prototype=new I.oi;
I.gG.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,this.mz.strn,gU._Y);if(this.ZY==null)return;this.sb(r)};
I.gG.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;
if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.FT=function(){I.oi.call(this,[10,23],I.dK,"tools/sponge");
this.Qp="sponge"};I.FT.prototype=new I.oi;I.FT.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,this.mz.flow);
if(this.ZY==null)return;this.sb(r)};I.FT.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);if(this.kl)this.rf(r,D,b);
if(this.ZY==null)return;if(!b.XS)return;this.KF(r,D,N,b);this.sb(r)};I.Az=function(){I.d5.call(this,[10,17],I._h,"tools/zoom");
this.gq=!1;this.tn=!0;this.fF=0;this.Ks=null;this.L7=null;this.BT=0;this.h3=null;this.IS=0;this.Bk=new cW([{name:[8,0],N9:"Ctrl + +"},{name:[8,1],N9:"Ctrl + -",E4:!0},{name:[20,3],N9:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],N9:"Ctrl + 1"}],[{$:y.E.w,k:I._h,H:{e:"zoom",tn:!0}},{$:y.E.w,k:I._h,H:{e:"zoom",tn:!1}},{$:y.E.w,k:I._h,H:{e:"adapt",m:"fitscr"}},{$:y.E.w,k:I._h,H:{e:"adapt",m:"pixel"}}])};
I.Az.prototype=new I.d5;I.Az.prototype.Ig=function(r,j,D,N,b){var Y=this.Bk;Y.h();Y.parent=j;Y.update(r,D);
var x=new iu(y.E.V,!0);x.data={e:y.G.Eo,Z3:Y,x:b.tu+2,y:b.rW+1};j.g(x)};I.Az.prototype.enable=function(r,j,D,N){this.nU(j,N);
if(r&&Date.now()-this.fF<300)this.k_({e:"adapt",m:"pixel"},j,r,N,D);this.fF=Date.now()};I.Az.prototype.xR=function(r,j,D,N,b){this.L7=new gJ(b.x,b.y);
this.BT=r.z.S;this.h3=r.z.u.clone()};I.Az.prototype.Vt=function(r,j,D,N,b){if(this.L7==null)return;var Y=Math.exp(Math.log(this.BT)+(b.x-this.L7.x)/64);
Y=Math.max(.02,Math.min(32,Y));r.z.S=this.BT;r.z.u=this.h3.clone();this.k_({e:"zoom",S:Y,w6:this.L7},j,r,N,D)};
I.Az.prototype.rE=function(r,j,D,N,b){if(gJ.tA(this.L7,b)<4){var Y=this.Q8(N);this.k_({e:"zoom",tn:Y,w6:b},j,r,N,D)}this.L7=null};
I.Az.Xe=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
I.Az.Qb=function(r,j,D,N){var b=1;while(r*b*1/2>D||j*b*1/2>N)b*=1/2;if(r*b*2/3>D||j*b*2/3>N)b*=1/2;else if(r*b>D||j*b>N)b*=2/3;
return b};I.Az.bA=function(r,j){var D=I.Az.akl(r);if(j&&D==0)return r;if(!j&&D==I.Az.Xe.length-1)return r;
return I.Az.Xe[j?D-1:D+1]};I.Az.akl=function(r){var j=0;while(I.Az.Xe[j]>r)j++;return j};I.Az.dr=function(r,j,D,N){var b=r.AN;
if(N==0||N==null){N=I.Az.bA(r.S,D);if(N==r.S)return}var Y=r.K$(j.x,j.y);if(b.d*N<=r.lk.d&&b.r*N<=r.lk.r){r.u.Ho(0,0);
r.S=N}else{var x=r.LW(),C=r.S/N;x.translate(-Y.x,-Y.y);x.scale(C,C);x.translate(Y.x,Y.y);r.vu(x)}};I.Az.prototype.k_=function(r,j,D,N,b){if(r.e=="pzoom"){if(typeof r.m=="string")return;
r={e:"zoom",S:r.m/100}}var Y=0,x=!1,C=null;if(r.e=="adapt"){var w=0;if(r.m=="pixel")w=1;if(r.m=="fitscr"){var w=0,q=D.z.lk.d,u=D.z.lk.r,h=b.E$?R.DA.pt+4:8;
w=Math.min((q-h*2)/D.d,(u-h*2)/D.r)}C=new gJ(Math.round(D.z.lk.d/2),Math.round(D.z.lk.r/2));Y=w;I.Az.dr(D.z,C,x,Y);
D._P=!0}if(r.e.startsWith("multi")){function z(V){var X=V[0].x-V[1].x,o=V[0].y-V[1].y;return Math.sqrt(X*X+o*o)}function O(V){return new gJ((V[0].x+V[1].x)/2,(V[0].y+V[1].y)/2)}var g=r.Sa,t=O(g);
if(r.e=="multidown"){this.Ks=[g,D.z.S,D.z.K$(t.x,t.y)]}else{var $=I.Az.Xe;Y=this.Ks[1]*z(g)/z(this.Ks[0]);
Y=Math.max($[$.length-1],Math.min($[0],Y));if(Y!=D.z.S)I.Az.dr(D.z,t,x,Y);var i=this.Ks[2],A=D.z.lY(i.x,i.y),H=D.z.u;
H.x=Math.round(H.x+t.x-A.x);H.y=Math.round(H.y+t.y-A.y);D._P=!0}}if(r.e=="scroll"){C=r.w6;this.IS+=r.Cp.y;
var F=14;if(this.IS<-F){x=!0;this.IS=Math.max(this.IS+F,-(F-1))}else if(this.IS>F){x=!1;this.IS=Math.min(this.IS-F,F-1)}else return;
I.Az.dr(D.z,C,x,Y);D._P=!0}if(r.e=="zoom"){C=r.w6?r.w6:new gJ(Math.round(D.z.lk.d/2),Math.round(D.z.lk.r/2));
if(r.S!=null)Y=r.S;else x=r.tn;I.Az.dr(D.z,C,x,Y);D._P=!0}if(r.e=="mskView"){var T=D.j[D.R[0]],_=T.Cz==3?T.dw(D).B:T.BG();
if(r.m==0){D.z.Cs=[1,1,1];_.zo=!1}if(r.m==1){D.z.Cs=[1,1,1];_.zo=!0}if(r.m==2){D.z.Cs=[0,0,0];_.zo=!0}for(var P=0;
P<D.c9.length;P++)D.c9[P].zo=!1;D.cz=[];D.yn=!0}};I.Az.prototype.Uc=function(r,j,D,N){if(this.gq!=N.o(e4.YV)){this.gq=N.o(e4.YV);
var b={e:y.G.X9,k:this.id,gq:this.gq},Y=new iu(y.E.V,!0);Y.data=b;j.g(Y);this.nU(j,N)}};I.Az.prototype.nU=function(r,j){var D=new iu(y.E.V,!0),N=this.Q8(j);
D.data={e:y.G.C9,EA:N?"zoom-in":"zoom-out"};r.g(D)};I.Az.prototype.cZ=function(r,j,D,N){this.tn=r.tn;
this.nU(j,N)};I.Az.prototype.Q8=function(r){var j=this.tn;if(r.o(e4.d7)&&r.o(e4.h6))j=!0;if(this.gq)j=!j;
return j};I.Az.iQ=function(r,j){if(r.o(e4.aB)||r.o(e4.af3)){j.k=I._h;j.data={e:"zoom",tn:!0}}if(r.o(e4.YG)){j.k=I._h;
j.data={e:"zoom",tn:!1}}if(r.o(e4.AL)){j.k=I._h;j.data={e:"adapt",m:"fitscr"}}if(r.o(e4.Ra)){j.k=I._h;
j.data={e:"adapt",m:"pixel"}}};I.BV=function(r,j,D){I.d5.call(this,r,j,D);this.tR=null;this.xY=null;
this.tZ=null;this.a44=0};I.BV.prototype=new I.d5;I.BV.prototype.enable=function(r,j,D,N,b){this.xY=D;
var Y=new iu(y.E.V,!0);Y.data={e:y.G.C9,EA:"default"};j.g(Y)};I.BV.prototype.Ig=function(r,j,D,N,b){var Y=r.HG(),x=Y[0],C=Y[1];
if(C.length==0)return;var w=x[C[0]],q=w.add.vmsk,u=r.z.K$(b.x,b.y),h=4*y.f()/r.z.S,z=new bf(u.x-h,u.y-h,h*2,h*2),O=R.b.bj(q.W,z)[0];
if(O.length!=0){q.cW=O;r.yn=!0}var g=R.b.U2(q.W,u).wd;if(g!=-1){q.R=[g];r.yn=!0}var t=new iu(y.E.V,!0);
t.data={e:y.G.X9,k:this.id,HF:b,Ww:r,lv:D};j.g(t)};I.BV.prototype._g=function(r,j){var D=new iu(y.E.V,!0);
D.data={e:y.G.VD,Ek:e5.Uh};if(!j.nN)r.g(D);D.data={e:y.G.VD,Ek:e5.Yk};if(!j.Ar.ou)r.g(D)};I.BV.prototype.Qq=function(r,j,D,N){if(D.Uy!=this.id)return;
if(r.R.length==0)return;var b=r.j[r.R[0]],Y=b.add.vmsk,x=b.add.vstk,C=I.BV.VC(r,r.R[0]);this.tR=r;this.tZ=j;
if(b.x2()&&Y!=null&&(JSON.stringify(x)!=JSON.stringify(D.WG)||JSON.stringify(C)!=JSON.stringify(D.KT))){this.a44=Date.now();
var w=new iu(y.E.V,!0);w.data={e:y.G.VD,Ek:e5.l0,m:C};j.g(w);w.data={e:y.G.VD,Ek:e5.fQ,m:x};j.g(w)}};
I.BV.prototype.Wf=function(r,j){if(this.tR==null)return;if(j==e5.Cr||j==e5.l0||j==e5.fQ){if(Date.now()-this.a44<50)return;
var D=j==e5.l0,N=this.tR,b=D?r.KT:r.WG,Y=[],x=N.R;for(var P=0;P<x.length;P++){var C=x[P],w=N.j[C];if(!w.x2()||w.add.vmsk==null)continue;
Y.push(C)}var q=new iu(y.E.w,!0);q.k=I.C5;q.data={e:G.K3,bB:Y,Fj:D,m:b};if(Y.length!=0)this.tZ.g(q)}};
I.BV.prototype.a86=function(r){if(typeof r=="number"){var j=new iu(y.E.PN,!0);j.data=I.UC._e(0);j.data.Q4.Usng.v.Type.v.Clr.v=R._.XJ({a:r>>>16&255,p:r>>>8&255,M:r>>>0&255});
this.tZ.g(j)}};I.BV.prototype.k_=function(r,j,D,N,b){this.tZ=j;if(r.e=="newfill"){if(r.bW==0){var Y=new iu(y.E.V,!0);
Y.data={e:y.G.gl,SO:"colorpicker",h_:b.xg,PK:this.a86.bind(this)};j.g(Y)}}else if(r.e=="pathedit"){var x=r.Ix,C="",w=D.ou.slice(0),q=D.rO.slice(0),u=D.ou.slice(0),h=D.rO.slice(0);
if(x=="rnm"){var z=-1-r.wd,O=w[z],g=dl.wP(r.name,O.add);if(z!=0)u[z]=g;else{h=[u.length];u.push(g);u[0]=dl.wP("Work Path")}C="Rename"}else if(x=="new"){var g=dl.wP("Path "+w.length);
if(r.aqD){var t=D.HG(),$=t[0],i=t[1],A=$[i[0]];g.add.vmsk=A.add.vmsk.clone();g.add.vogk=JSON.parse(JSON.stringify(A.add.vogk));
if(A.wd==-1){var H=u[h[0]]=dl.wP("Path "+w.length);H.name=A.name;H.wd=A.wd}}u.push(g);h=[u.length-1];
C="New"}else if(x=="del"){if(h.length==0)return;h.sort(function(d,e){return d-e});if(h[0]==0){u[0]=dl.wP(w[0].name);
h=h.slice(1)}var F=0;while(h.length!=0){u.splice(h[0]-F,1);h=h.slice(1);F++}C="Delete"}else if(x=="fromsel"){var T=u[0]=dl.wP("Work Path");
h=[0];if(D.c==null)return;var _=D.c.channel.slice(0);for(var P=0;P<_.length;P++)_[P]=_[P]>128?2:1;var V=D.c.rect.clone();
V.Fp(1,1);var X=R.O(V.Z());R.YO(_,D.c.rect,X,V);var o=j2.r7(X,V.d,V.r,Math.round(V.Z()*5e-4)),$=j2.HG(o),c=new j9(1,0,0,1,-1+D.c.rect.x,-1+D.c.rect.y);
for(var P=0;P<$.length;P++)R.K.F($[P].path.v,c,$[P].path.v);for(var P=0;P<$.length;P++){var E=$[P];if(E.color==1&&E.parent==-1)continue;
var f=R.K.CH($[P].path,!1);T.add.vmsk.W=T.add.vmsk.W.concat(f.slice(2))}T.add.vogk=G.HJ(T.add.vmsk.W);
C="Selection to"}var d=new ap(C+" Path",this);d.data={zE:w,fC:q,a6f:u,D4:h};if(x=="fromsel"){d.data.Ni=D.c;
d.data.OI=null}D.vl(d);this.Gf(d.data,D)}else{var s=r.NL,t=D.HG(r.e=="append"),$=t[0],i=t[1],T=$[i[0]],B=T.add.vmsk,a=T.add.vogk,U=B.clone(),M=B.clone(),W=JSON.stringify(a);
if(r.e=="remove"){if(r.ZH&&M.cW.length!=0){M.W=R.b.a4E(M.W,M.cW,a);var n=R.b.yo(M.W);for(var P=0;P<M.R.length;
P++)if(M.R[P]>=n){M.R.splice(P,1);P--}M.cW=[];s="Delete Anchors"}else{if(M.R.length==0)return;var F=0;
for(var P=0;P<M.R.length;P++){a.splice(M.R[P]+F,1);F--}M.W=R.b.aoL(M.W,M.R);M.R=[];M.cW=[];if(s==null)s="Delete Paths"}}if(r.e=="append"){I.BV.e5(r.a1j,M,a)}this.Ht(D,T.wd,M,a);
this.rn(D,s,T.wd,U,M.clone(),null,W,JSON.stringify(a))}};I.BV.yj=function(r,j){var D=R.b.a6z(r.W,r.R),N=[];
for(var P=0;P<r.R.length;P++)N.push(JSON.parse(JSON.stringify(j[r.R[P]])));return[D,N]};I.BV.e5=function(r,j,D){var N=R.b.yo(j.W),b=R.b.yo(r[0]);
j.W=j.W.concat(r[0].slice(2));j.R=[];for(var P=0;P<b;P++)j.R.push(N+P);for(var P=0;P<b;P++)D.push(JSON.parse(JSON.stringify(r[1][P])))};
I.BV.prototype.IT=function(r,j){if(j==null)return!1;var D=j.HG(),N=D[0],b=D[1];if(b.length==0)return!1;
var Y=N[b[0]],x=Y.add.vmsk;if(x&&x.R.length+x.cW.length!=0)return[e4.rb,e4.SP].indexOf(r)!=-1};I.BV.prototype.Uc=function(r,j,D,N){if(r==null)return;
var b=r.HG(),Y=b[0],x=b[1];if(x.length==0)return;var C=Y[x[0]],w=C.add.vmsk;if(N.o(e4.Pj)||N.o(e4.Lf)){w.cW=[];
r.yn=!0}if(w.R.length!=0){var q=N.ET();if(q.x!=0||q.y!=0){var u=w.clone(),h=w.clone(),z=new j9(1,0,0,1,q.x,q.y),O=C.add.vogk,g=JSON.stringify(O);
R.b.ho(h.W,z,h.R);R.Bu.F(O,R.t.eb(z),h.R);this.Ht(r,C.wd,h,O);this.rn(r,"Move Paths",C.wd,u,h.clone(),!0,g,JSON.stringify(O))}if(N.o(e4.rb)||N.o(e4.SP))this.k_({e:"remove",ZH:this.id==I.Sc},j,r,N,D)}};
I.BV.prototype.rn=function(r,j,D,N,b,Y,x,C){var w=new ap(j,this);w.data={h7:D,Rk:N,GV:b,adM:Y,a6r:x,J5:C};
r.vl(w)};I.BV.prototype.Gf=function(r,j){if(r.h7!=null)this.Ht(j,r.h7,r.GV.clone(),JSON.parse(r.J5));
else{j.ou=r.a6f.slice(0);j.rO=r.D4.slice(0);j.yn=j.DW=!0}if(r.Ni||r.OI){j.c=r.OI;j.Lx=!0}};I.BV.prototype.B$=function(r,j){if(r.h7!=null)this.Ht(j,r.h7,r.Rk.clone(),JSON.parse(r.a6r));
else{j.ou=r.zE.slice(0);j.rO=r.fC.slice(0);j.yn=j.DW=!0}if(r.Ni||r.OI){j.c=r.Ni;j.Lx=!0}};I.BV.prototype.Ht=function(r,j,D,N){var b=j<0?r.ou[-1-j]:j<1e6?r.j[j]:r.j[j-1e6].add.TySh,Y=b.add.vmsk;
Y.channel=null;Y.ZI=!0;if(Y.UJ){Y.UJ.channel=null;Y.UJ.ZI=!0}b.add.vmsk=D;b.add.vogk=N;if(1e6<=j){cU.aO(b);
var x=r.j[j-1e6],C=b,w=this.xY,q=new fu(C.d1,w.fA),u=iW.hA(q,C);x.rect=u.DN;x.buffer=u.Iz;x.P();r.P()}else if(0<=j){D.ZI=!0;
b.Fz(r);r.P()}r.yn=r.DW=!0};I.BV.VC=function(r,j){var D=r.j[j],N=D.add.vstk,b=null;if(N&&!N.fillEnabled.v)b={cC:0};
else if(D.add.SoCo)b={cC:1,ME:D.add.SoCo};else if(D.add.GdFl)b={cC:2,ME:D.add.GdFl};else if(D.add.PtFl)b={cC:3,ME:D.add.PtFl};
return b};I.BV._3=function(r,j){var D=r.add.vmsk,N=r.add.vstk,b=j.cC;if(N)N.fillEnabled.v=b!=0;if(b>0){var Y=["SoCo","GdFl","PtFl"][b-1];
for(var P=0;P<3;P++)delete r.add[["SoCo","GdFl","PtFl"][P]];r.add[Y]=j.ME}};I.UC=function(r,j,D,N){I.BV.call(this,r,j,D);
this.mz={shape:fC.nY(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{cK:0},anta:!0};
this.a7q=N;this.$n=null;this.b9=null;this.SF=null;this.wM=new eV};I.UC.prototype=new I.BV;I.UC.prototype.Mo=function(r){return r.XS&&this.id!=I.q9};
I.UC.prototype.enable=function(r,j,D,N,b){this.xY=D;var Y=new iu(y.E.V,!0);Y.data={e:y.G.C9,EA:"crosshair"};
j.g(Y)};I.UC.prototype.Uc=function(r,j,D,N){I.BV.prototype.Uc.call(this,r,j,D,N);this.wM.Uc(N);this.DG(j,D)};
I.UC.prototype.DG=function(r,j){var D=new iu(y.E.V,!0);D.data={e:y.G.X9,k:this.id,Uf:this.Q2(j)};r.g(D)};
I.UC.prototype.Q2=function(r){var j=this.wM.eP(0),D=this.wM.dG(0),N=I.Vm.O9(this.mz.binop,j,D);if(r.hw==1&&N==0)N=1;
return N};I.UC.prototype.Vl=function(r,j,D,N){};I.UC.prototype.xR=function(r,j,D,N,b){var Y=D.hw;if(Y!=2)this._g(j,D);
if(Y==2&&!r.Kf())return;var x=r.z.K$(b.x,b.y);x=I.w8.RE(r,x,D);this.SF=[x.x,x.y];this.$n=x;this.b9=new gJ(0,0);
this.wM.xR(N)};I.UC.prototype.R_=function(r,j,D){var N=[this.$n.clone(),j.clone()];D=this.wM.eP(1)||this.wM.dG(1)?D:null;
if(this.a7q)N=I.UC.hW(N[0],N[1],D,!0,this.mz.cstr);if(r)r.z.h0=new bf(N[0].x,N[0].y,N[1].x-N[0].x,N[1].y-N[0].y);
return this.Vl(N[0],N[1],this.wM.eP(1),this.SF)};I.UC.prototype.p3=function(r,j,D){var N=r.z.K$(j.x,j.y),b=this.mz.cstr;
if(b.cK==2){var Y=new bf(N.x-b.x,N.y-b.y,b.x,b.y),x=I.w8.E9(r,Y,D);N.x+=x[0];N.y+=x[1];I.w8.ib(r,Y,x)}else N=I.w8.RE(r,N,D);
return N};I.UC.prototype.Vt=function(r,j,D,N,b){if(this.$n==null)return;var Y=this.SF,x=Y.length,C=b?this.p3(r,b,D):new gJ(Y[x-2],Y[x-1]);
if(N.o(e4.d7))this.$n=C.I5(this.b9);else this.b9=C.I5(this.$n);Y.push(C.x,C.y);if(this.mz.shape==null)this.mz.shape=D.Ut[0];
var w=this.R_(r,C,N)[0],q=R.K.WM(w);r.I.M3=q;if(this.id!=I.q9&&this.id!=I.ZB&&this.id!=I.XH)I.d5.Mh(b.x+10,b.y-10,r.z.h0,r,D);
r.yn=!0;this.wM.Vt()};I.UC.prototype.a7h=function(r,j,D,N){var b=r[4].clone();if(N){b.x-=j/2;b.y-=D/2}var Y=this.Vl(b,new gJ(b.x+j,b.y+D),!1,this.SF);
this.Oq(r[0],r[1],r[2],Y)};I.UC.prototype.Oq=function(r,j,D,N){var b=new iu(y.E.PN,!0);b.data=I.UC.E3(N[1],D);
j.g(b);if(N[1].v.classID=="customShape"&&N[1].v.Nm.v.startsWith("--")){var Y=r.HG(),x=Y[0],C=Y[1],w=x[C.pop()],q=w.add.vmsk,u=w.add.vogk,h=q.clone();
h.W=N[0];this.Ht(r,w.wd,h,u)}};I.UC.prototype.rE=function(r,j,D,N,b,Y){if(this.$n==null)return;var x=this.p3(r,b,D),C=this.Q2(D),w=D.hw,q=this.SF,u=q.length;
if(this.id==I.q9&&u<=4){}else if(u<=4){x.x=Math.round(x.x);x.y=Math.round(x.y);var h=new iu(y.E.V);h.data={e:y.G.gl,SO:"createshape",a0a:this.a7h.bind(this),agL:this.name,akb:[r,j,D,N,x]};
if(!Y)j.g(h)}else if(u!=2){var z=this.R_(r,x,N),O=z[0],g=r.HG(!0),t=g[0],$=g[1],i=$.length-1;if(w==1&&O.length>2||w==0&&C!=0&&i!=-1&&t[$[i]].wd>=0){O[2].va=[1,2,3,0][C-1];
var A=t[$.pop()],H=A.add.vmsk,F=A.add.vogk,T=H.clone(),_=H.clone(),V=JSON.stringify(F);_.W=_.W.concat(O.slice(2));
_.R=[R.b.yo(_.W)-1];var X=R.Bu.bF(z[1]);F.push(X?X:R.Bu.eH());this.Ht(r,A.wd,_,F);this.rn(r,this.name,A.wd,T,_,null,V,JSON.stringify(F))}else if(w==0){this.Oq(r,j,D,z)}else if(w==2){var _=new G.$R;
_.W=_.W.concat(O.slice(2));var o=_.BG();if(!this.mz.anta)R.round(o.channel);var c=R.O(o.rect.Z()*4);
R.mh(c,(D.xg&255)<<16|(D.xg>>8&255)<<8|(D.xg>>16&255)<<0);R.zQ(o.channel,c,3);var E=new iu(y.E.w,!0);
E.k=I.cL;E.data={e:"draw",ao:{buffer:c,rect:o.rect.clone()},NL:this.name};j.g(E)}}this.$n=null;r.I.M3=null;
r.I.EY=null;r.I.Js=[];r.z.h0=null;r.yn=!0;this.wM.rE();this.DG(j,D)};I.UC.prototype.cZ=function(r,j,D,N,b){for(var D in r)this.mz[D]=r[D]};
I.UC.hW=function(r,j,D,N,b){var Y=r.x,x=r.y,C=j.x,w=j.y;if(b&&b.cK==2){if(N){C=Math.round(C);w=Math.round(w)}Y=C-b.x;
x=w-b.y}else{var q=0;if(b&&b.cK==1)q=b.y/b.x;else if(D&&D.o(e4.$P))q=1;if(q!=0){if(N){if(Y<C)Y=Math.floor(Y);
else Y=Math.ceil(Y);if(x<w)x=Math.floor(x);else x=Math.ceil(x)}var u=Math.abs(C-Y),h=Math.abs(w-x),z=u;
if(h/u<q)z*=h/u/q;C=C>Y?Y+z:Y-z;w=w>x?x+z*q:x-z*q}if(D&&D.o(e4.YV)){Y-=C-Y;x-=w-x}}var r=new gJ(Y,x),j=new gJ(C,w);
if(N)I.UC.a9S(r,j);return[r,j]};I.UC.a9S=function(r,j){if(r.x>j.x){var D=r.x;r.x=j.x;j.x=D}if(r.y>j.y){var D=r.y;
r.y=j.y;j.y=D}r.x=Math.floor(r.x);r.y=Math.floor(r.y);j.x=Math.ceil(j.x);j.y=Math.ceil(j.y)};I.UC.anQ=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
I.UC._e=function(r,j){var D=I.UC.anQ();if(j==null)j=JSON.parse(JSON.stringify(hz.N$[r]));f1.c5.x9(j,D.Usng.v.Type.v,r);
return{sv:"make",Q4:D}};I.UC.E3=function(r,j){var D=j.KT,N=JSON.parse(JSON.stringify(j.WG));if(D.cC==0)N.fillEnabled.v=!1;
var b=I.UC._e(Math.max(0,D.cC-1),D.ME);b.Q4.Usng.v.Shp=r;b.Q4.Usng.v.strokeStyle={t:"Objc",v:N};return b};
I.pD=function(){I.BV.call(this,[10,29],I.Sc,"tools/pen");this.iY=null;this.qJ=null;this.sp=null;this.ah2=0;
this.jy=null;this.Li=!1;this.WR=!1;this.Pt=!1;this.UW=!1};I.pD.prototype=new I.BV;I.pD.prototype.Mo=function(r){return this.qJ!=null};
I.pD.prototype.Uc=function(r,j,D,N){I.BV.prototype.Uc.call(this,r,j,D,N);if(!N.o(e4.YV))this.Pt=!1};
I.pD.prototype.xR=function(r,j,D,N,b){this.iY=b;this._g(j,D);var Y=r.z.K$(b.x,b.y),t,$;Y.x=Math.round(Y.x);
Y.y=Math.round(Y.y);var x=I.w8.RE(r,Y,D),C=D.hw,w=this.ah2;if(C==2)C=0;var q=r.HG(C==1),u=q[0],h=q[1],z=u[h.pop()],O=z?z.add.vmsk:null;
if(C==0&&w!=0&&z&&z.wd>=0)C=1;var g=4*y.f()/r.z.S;if(O)t=R.b.U2(O.W,Y,!0,g);var i=N.o(e4.YV);if(C==0&&(O==null||O.cW.length==0&&t.wd==-1)){var A=new iu(y.E.PN,!0),H=R.Bu.FQ("customShape",[0,0,1,1],null,null,null,"--");
A.data=I.UC.E3(H,D);j.g(A);this.UW=!0;q=r.HG(!0);u=q[0];h=q[1];z=u[h.pop()];O=z.add.vmsk;O.W=O.W.slice(0,2)}var F=z.add.vogk;
this.qJ=O.clone();this.sp=JSON.stringify(F);var T=O.W,_=R.b.yo(T);$=R.b.bj(O.W,new bf(Y.x-g,Y.y-g,g*2,g*2),O.cW);
t=R.b.U2(O.W,Y,!0,g);var V=$[0].length+$[1].length+$[2].length;if(t.wd!=-1&&$[0].length==0){var X=R.b.Kk(T,t.wd);
while(T[X].length<=t.ox){t.ox-=T[X].length;X+=T[X].length+1}T[X].length++;T.splice(X+2+t.ox,0,{type:4,IR:x.clone(),Q:x.clone(),TU:x.clone()});
O.cW=[X+2+t.ox]}else if(V!=0&&i){var o=0;for(var P=0;P<3;P++)if($[P].length!=0){o=$[P][0];this.WR=P==1;
break}if($[0].length!=0){var c=O.W.length-1,E=O.W[o];E.TU=E.Q.clone();var f=E.type>=3?3:0;if(o!=c){E.IR=E.Q.clone();
E.type=f+1;this.Pt=!0}else E.type=f+2}O.cW=[o]}else if($[0].length==1&&T[$[0][0]-1]&&T[$[0][0]-1].va==null){var o=$[0][0],X=R.b.qY(T,o);
X=R.b.Kk(T,X);var d=X+T[X].length;if(o!=d){T[X].length--;T.splice(o,1);d--}O.cW=[d]}else{var s=0;if(O.cW.length!=1){O.R=[_];
T.push({type:3,length:1,va:[1,2,3,0][Math.max(0,w-1)],fU:0,J8:0,wB:0});s=T.length;F.push(R.Bu.eH())}else{var B=O.cW[0],a=R.b.qY(T,B),X=R.b.Kk(T,a);
B=X+T[X].length;if(gJ.tA(Y,T[X+1].Q)<g){T[X].type=0;O.cW=[X+1];this.jy=x;this.Li=!0;this.Ht(r,z.wd,O,F);
r.yn=!0;return}T[X].length++;s=B+1;if(B==X+1&&T[X].length!=2)s=X+1}if(N.o(e4.$P)&&T[s-1]&&T[s-1].Q)x=I.GY.dt(T[s-1].Q,x);
T.splice(s,0,{type:4,IR:x.clone(),Q:x.clone(),TU:x.clone()});O.cW=[s];this.jy=x}this.Ht(r,z.wd,O,F);
r.yn=!0};I.pD.prototype.Vt=function(r,j,D,N,b){if(this.qJ==null)return;var Y=this.iY;if(Y&&gJ.tA(Y,b)<3*y.f())return;
this.iY=null;var x=r.z.K$(b.x,b.y),C=I.w8.RE(r,x,D),w=r.HG(D.hw==1),q=w[0],u=w[1],h=q[u.pop()],z=h.add.vmsk,O=z.W,g=O[z.cW[0]];
if(N.o(e4.d7)){if(N.o(e4.$P))C=I.GY.dt(this.jy,C);var t=g.Q.I5(g.TU),$=g.IR.I5(g.Q);g.TU=C;g.Q=C.add(t);
g.IR=g.Q.add($)}else{if(N.o(e4.$P))C=I.GY.dt(g.Q,C);if(this.WR){var i=g.IR;g.IR=g.TU;g.TU=i}if(this.Li){var A=gJ.tA(g.Q,C),H=A==0?0:gJ.tA(g.Q,g.TU)/A;
g.TU.x=g.Q.x+H*(C.x-g.Q.x);g.TU.y=g.Q.y+H*(C.y-g.Q.y)}else g.TU=C;if(N.o(e4.YV)&&!this.Pt)g.type=5;else{g.type=4;
g.IR=g.Q.add(g.Q.I5(C))}this.jy=C;if(this.WR){var i=g.IR;g.IR=g.TU;g.TU=i}}this.Ht(r,h.wd,z,h.add.vogk);
r.yn=!0};I.pD.prototype.rE=function(r,j,D,N,b){if(this.qJ==null)return;var Y=r.HG(D.hw==1),x=Y[0],C=Y[1],w=x[C.pop()],q=w.add.vmsk,u=w.add.vogk;
if(this.Li){q.cW=[];this.Ht(r,w.wd,q,w.add.vogk)}var h=this.qJ.W.length,z=q.W.length;if(!this.UW)this.rn(r,this.Li?"Close Path":(h==z?"Move":h<z?"Add":"Delete")+" Anchor Point",w.wd,this.qJ,q.clone(),null,this.sp,JSON.stringify(u));
this.UW=!1;this.Li=!1;this.WR=!1;this.Pt=!1;this.qJ=null};I.pD.prototype.cZ=function(r,j,D,N,b){this.ah2=r.binop};
I.BP=function(){I.UC.call(this,[10,30],I.q9,"tools/fpen",!1)};I.BP.prototype=new I.UC;I.BP.prototype.Vl=function(r,j,D,N){return[R.b.kU(N,this.mz.tolr),R.Bu.FQ("customShape",[0,0,1,1],null,null,null,"--")]};
I.B2=function(){I.BV.call(this,[10,27],I.Ml,"tools/pselect");this.lM=null;this.YX=!1;this.Xo=null;this.qJ=null;
this.Eg=null;this.sp=null;this.UD=null;this.n5=null;this.az=null;this.jv=null};I.B2.prototype=new I.BV;
I.B2.prototype.Mo=function(r){return r.XS};I.B2.prototype.xR=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=r.HG(),C=x[0],w=x[1],q,u;
for(var P=0;P<w.length;P++){var h=C[w[P]],z=h.add.vmsk,O=R.b.U2(z.W,Y).wd;if(O!=-1){this.Xo=q=h;u=O}for(var g=0;
g<z.qE.length;g++){var t=R.b.jL(z.W,z.qE[g]);if(t==null)continue;var $=gJ.tA(t,Y);if($<4*y.f()/r.z.S){var i=r.j[h.wd-1e6].add.TySh,A=i.d1.Curve,H=i.F,F=A.Reversed;
A.Reversed=!1;var A=fu.s7(i.d1.Curve);A.Reversed=F;R.K.F(A[0],H,A[0]);this.az=[A,g,H.kD*H.oq-H.M*H.Jy];
this.Xo=q=h;u=0}}if(this.az)break}if(q!=null){var z=q.add.vmsk;z.cW=[];var T=z.R.indexOf(u);if(N.o(e4.$P)){if(T==-1){z.R.push(u);
this.YX=!0}else z.R.splice(T,1)}else{if(T==-1)z.R=[u];this.YX=!0}this.n5=R.b.sl(z.W,z.R)}this.lM=Y;this.jv=new hN(Y);
r.DW=!0;r.yn=!0};I.B2.prototype.Vt=function(r,j,D,N,b){if(this.lM==null)return;var Y=r.z.K$(b.x,b.y);
if(this.YX){Y=this.jv.av(Y,N);var x=this.Xo;if(this.qJ==null){this.qJ=this.Eg=x.add.vmsk.clone();this.sp=this.UD=JSON.stringify(x.add.vogk);
if(N.o(e4.YV)){var C=this.qJ.clone(),w=JSON.parse(this.sp),q=I.BV.yj(C,w);I.BV.e5(q,C,w);this.Eg=C;this.UD=JSON.stringify(w)}}var C=this.Eg.clone(),w=JSON.parse(this.UD);
if(this.az){var u=this.az,h=u[0][0],z=R.K.O3(h,Y.x,Y.y);C.qE[u[1]]=u[0][1][z];var O=h[z*2],g=h[z*2+1],t=(h[z*2+2]-O)*(Y.y-g)-(h[z*2+3]-g)*(Y.x-O);
if(u[2]<0)t=-t;C.iI=t>0}else{var $=this.n5.clone(),i=$.x,A=$.y;$.offset(Y.x-this.lM.x,Y.y-this.lM.y);
$.x=Math.round($.x);$.y=Math.round($.y);var H=I.w8.E9(r,$,D),F=new j9(1,0,0,1,$.x-i+H[0],$.y-A+H[1]);
R.b.ho(C.W,F,C.R);R.Bu.F(w,R.t.eb(F),C.R);I.w8.ib(r,$,H)}this.Ht(r,x.wd,C,w)}else{var T=this.lM;r.I.M3=R.K.rR(new bf(T.x,T.y,Y.x-T.x,Y.y-T.y));
r.yn=!0}};I.B2.prototype.rE=function(r,j,D,N,b){if(this.lM==null)return;var Y=r.z.K$(b.x,b.y),x=this.Xo,C=x?x.add.vmsk:null;
if(this.YX){var w=JSON.stringify(x.add.vogk);if(!this.lM.gy(Y))this.rn(r,"Move Paths",x.wd,this.qJ,C,null,this.sp,w);
if(r!=null&&r.I.EY){r.I.EY=null;r.yn=!0}}else{if(C){var q=this.lM,u=new bf(q.x,q.y,Y.x-q.x,Y.y-q.y),h=R.b.agl(C.W,u);
if(N.o(e4.$P)){for(var P=0;P<h.length;P++)if(C.R.indexOf(h[P])==-1)C.R.push(h[P])}else C.R=h}r.I.M3=null;
r.yn=!0}this.lM=null;this.qJ=null;this.az=null;this.YX=!1;this.jv=null};I.B2.prototype.Qq=function(r,j,D,N){I.BV.prototype.Qq.call(this,r,j,D,N);
if(D.Uy!=this.id)return;if(r.R.length==0)return;var b=r.HG(),Y=b[0],x=b[1];if(x.length==0)return;var C=Y[x[0]],w=C.add.vmsk,q=C.add.vstk,u=C.add.vogk,h=new iu(y.E.V,!0);
h.data={e:y.G.X9,k:this.id,SS:"main",ZU:w?w:null,Bu:u};j.g(h)};I.B2.prototype.cZ=function(r,j,D,N,b){var Y=r.oO;
if(Y.ZU){var x=D.HG(),C=x[0],w=x[1];if(w.length==0)return;var q=C[w[0]],u=q.add.vmsk.clone(),h=JSON.stringify(q.add.vogk),z=Y.ZU;
this.Ht(D,q.wd,z,Y.Bu);var O=[18,5];if(u.W.length==z.W.length)O=u.R[0]==z.R[0]?"Fill Rule":"Path Order";
this.rn(D,O,q.wd,u,z,null,h,JSON.stringify(Y.Bu))}};I.yH=function(){I.BV.call(this,[10,28],I.Ro,"tools/dselect");
this.Cv=-1;this.wI=-1;this.q4=null;this.lM=null;this.Xo=null;this.qJ=null;this.sp=null;this.tR=null;
this.KR=0;this.ae5={psnap:!1};this.jv=null};I.yH.prototype=new I.BV;I.yH.prototype.Mo=function(r){return r.XS};
I.yH.prototype.cZ=function(r){this.ae5=r};I.yH.prototype.k_=function(r,j,D,N,b){if(r.e=="crnr"){if(D==null)return;
var Y=D.HG(),x=Y[0],C=Y[1];if(C.length==0){alert("No paths selected");return}var w=x[C[0]],q=w.add.vmsk;
if(q.cW.length==0){alert("No corners selected");return}for(var P=0;P<q.cW.length;P++){var u=q.W[q.cW[P]];
if(!u.Q.gy(u.TU)||!u.Q.gy(u.IR)){alert("Only sharp corners can be rounded");return}}if(this.qJ==null){this.qJ=w.add.vmsk.clone();
this.sp=JSON.stringify(w.add.vogk);this.Xo=w;this.tR=D}var h=new iu(y.E.V,!0);h.data={e:y.G.gl,SO:"cornerradius",Gz:5,kH:this.an2.bind(this)};
j.g(h)}else I.BV.prototype.k_.call(this,r,j,D,N,b)};I.yH.prototype.an2=function(r){if(r=="confirm"){var j=this.tR,D=this.Xo,N=D.add.vmsk,b=D.add.vogk;
this.rn(j,[12,94,0],D.wd,this.qJ,N,null,this.sp,JSON.stringify(b));this.lZ();return}var N=this.qJ.clone(),b=JSON.parse(this.sp),Y=N.cW;
if(r=="cancel"){}else{var x=[];for(var P=0;P<Y.length;P++){var C=Y[P],w=R.b.qY(N.W,C,!0),h=0;if(x.indexOf(w)!=-1)continue;
x.push(w);var q=R.b.Kk(N.W,w,!0),u=N.W[q].length,z=[];for(var O=0;O<u;O++){var g=N.cW.indexOf(q+O+1)==-1?0:r;
z.push(g);if(g!=0)h++}R.b.Pl(N.W,q,z);for(var O=0;O<Y.length;O++)if(Y[O]>q+u)Y[O]+=h}this.X6(N,b);N.cW=[]}this.Ht(this.tR,this.Xo.wd,N,b);
if(r=="cancel")this.lZ()};I.yH.prototype.disable=function(r,j,D,N){this.QC(r)};I.yH.prototype.xR=function(r,j,D,N,b){this.QC(r);
var Y=r.z.K$(b.x,b.y),h,z,O;this.q4=Y.clone();var x=r.HG(),C=x[0],w=x[1];if(w.length==0)return;var q=4*y.f()/r.z.S,u=new bf(Y.x-q,Y.y-q,q*2,q*2);
for(var g=0;g<w.length;g++){h=this.Xo=C[w[g]];z=h.add.vmsk;O=R.b.bj(z.W,u);if(O[0].length+O[1].length+O[2].length!=0)break}var t=[!1,!1,!1];
for(var P=0;P<3;P++){for(var $=0;$<O[P].length;$++){var i=O[P][$];if(z.cW.indexOf(i)!=-1||P==1&&z.cW.indexOf(i-1)!=-1||P==2&&z.cW.indexOf(i+1)!=-1){O[P]=[i];
t[P]=!0;break}}}if(O[0].length!=0&&(t[0]||!t[1]&&!t[2])){var A=O[0][0],H=z.cW.indexOf(A);if(N.o(e4.$P)){if(H==-1)z.cW.push(A);
else{z.cW.splice(H,1);r.yn=!0;return}}else if(H==-1)z.cW=[A];this.Cv=A;this.wI=0}else if(O[1].length!=0&&t[1]){this.Cv=O[1][0];
this.wI=1}else if(O[2].length!=0&&t[2]){this.Cv=O[2][0];this.wI=2}else{var F=R.b.U2(z.W,Y,!0,q);if(F.wd==-1)this.lM=Y;
else{z.R=[F.wd];z.cW=[]}}if(this.qJ==null){this.qJ=h.add.vmsk.clone();this.sp=JSON.stringify(h.add.vogk)}this.jv=new hN(Y);
r.yn=!0};I.yH.prototype.Vt=function(r,j,D,N,b){if(r==null)return;var Y=r.z.K$(b.x,b.y),x=this.Xo;if(this.Cv!=-1){var C=this.qJ.clone(),w=x.add.vogk,q=C.W[this.Cv];
q=[q.Q,q.IR,q.TU][this.wI];if(N.o(e4.$P)){if(this.wI==0){Y=this.jv.av(Y,N);Y.x+=q.x-this.q4.x;Y.y+=q.y-this.q4.y}else Y=I.GY.dt(C.W[this.Cv].Q,Y)}else{if(this.ae5.psnap){Y.x=Math.round(Y.x);
Y.y=Math.round(Y.y)}Y=I.w8.RE(r,Y,D)}if(this.wI==0){var u=new j9(1,0,0,1,Y.x-q.x,Y.y-q.y);R.b.ho(C.W,u,null,C.cW)}else{var h=C.W[this.Cv],z=h.IR,O=h.TU;
if(this.wI==2){z=h.TU;O=h.IR}if(N.o(e4.YV)&&(h.type==1||h.type==4))h.type++;z.Ho(Y.x,Y.y);if(h.type==1||h.type==4){var g=gJ.tA(z,h.Q),t=gJ.tA(O,h.Q);
if(t!=0){O.x=h.Q.x-(z.x-h.Q.x)*(t/g);O.y=h.Q.y-(z.y-h.Q.y)*(t/g)}}}this.X6(C,w);this.Ht(r,x.wd,C,w)}else if(this.lM!=null){var $=this.lM;
r.I.M3=R.K.rR(new bf($.x,$.y,Y.x-$.x,Y.y-$.y));r.yn=!0}else{var i=r.HG(),A=i[0],H=i[1],x,C,_;if(H.length==0)return;
var F=4*y.f()/r.z.S,T=new bf(Y.x-F,Y.y-F,F*2,F*2);for(var V=0;V<H.length;V++){x=A[H[V]];C=x.add.vmsk;
_=R.b.bj(C.W,T);if(_[0].length+_[1].length+_[2].length!=0)break}this.QC(r);for(var P=0;P<3;P++){for(var X=0;
X<_[P].length;X++){var o=_[P][X],c=C.W[o];c=P==0?c.Q:P==1?c.IR:c.TU;r.I.Zr.push(r.I.jz.length>>>1);r.I.jz.push(c.x,c.y);
r.yn=!0}}}};I.yH.prototype.QC=function(r){if(r&&r.I.jz.length!=0){r.I.jz=[];r.I.Zr=[];r.yn=!0}};I.yH.prototype.rE=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=this.Xo,C=x?x.add.vmsk:null,w=x?x.add.vogk:null;
if(this.Cv!=-1){if(Date.now()-this.KR<300){var q=C.W[this.Cv],u=this.wI,h=null;if(u==0){var z=q.IR.gy(q.Q),O=q.TU.gy(q.Q);
if(!z&&!O){h="Anchor Type";if(q.type==1||q.type==4)q.type++;else{q.type--;q.TU=q.Q.add(q.Q.I5(q.IR))}}else{h="Add Handles";
if(z&&O){q.IR.x-=30;q.TU.x+=30}else if(z)q.IR=q.Q.add(q.Q.I5(q.TU));else if(O)q.TU=q.Q.add(q.Q.I5(q.IR))}}else{h="Remove Handle";
if(u==1)q.IR.yL(q.Q);else q.TU.yL(q.Q)}this.X6(C,w);this.Ht(r,x.wd,C,w);this.rn(r,h,x.wd,this.qJ,C,null,this.sp,JSON.stringify(w))}else if(!this.q4.gy(Y)){this.rn(r,"Drag Anchors",x.wd,this.qJ,C,null,this.sp,JSON.stringify(w))}this.KR=Date.now()}else if(this.lM!=null){var g=this.lM,t=new bf(g.x,g.y,Y.x-g.x,Y.y-g.y);
if(t.d<0)t.x+=t.d;if(t.r<0)t.y+=t.r;t.d=Math.abs(t.d);t.r=Math.abs(t.r);var $=R.b.bj(C.W,t);C.cW=$[0].concat(N.o(e4.$P)?C.cW:[]);
r.I.M3=null}this.lZ();r.yn=!0};I.yH.prototype.lZ=function(){this.Xo=null;this.qJ=null;this.lM=null;this.Cv=this.wI=-1;
this.jv=null};I.yH.prototype.X6=function(r,j){for(var P=0;P<r.cW.length;P++){var D=R.b.qY(r.W,r.cW[P]);
R.Bu.LT(j,D)}};I.yH.prototype.Uc=function(r,j,D,N){if(r==null)return;var b=r.HG(),Y=b[0],x=b[1];if(x.length==0)return;
var C=Y[x[0]],w=C.add.vmsk;if(w==null||w.cW.length==0)return;var q=C.add.vogk,u=JSON.stringify(q),h=N.ET();
if(h.x!=0||h.y!=0){var z=w.clone(),O=w.clone(),g=new j9(1,0,0,1,h.x,h.y);R.b.ho(O.W,g,null,O.cW);this.X6(O,q);
this.Ht(r,C.wd,O,q);this.rn(r,"Move Anchors",r.R[0],z,O.clone(),!0,u,JSON.stringify(q))}if(N.o(e4.rb)||N.o(e4.SP))this.k_({e:"remove",ZH:!0},j,r,N,D)};
I.yH.prototype.rn=function(r,j,D,N,b,Y,x,C){var w=r.Nt();if(Y&&w!=null&&w.k==this&&w.data.adM&&w.data.h7==D&&JSON.stringify(w.data.Rk.cW)==JSON.stringify(N.cW)){w.data.GV=b;
w.data.J5=C}else{var w=new ap(j,this);w.data={h7:D,Rk:N,GV:b,adM:Y,a6r:x,J5:C};r.vl(w)}};I.Rect=function(){I.UC.call(this,[10,32],I.Ew,"tools/rect",!0)};
I.Rect.prototype=new I.UC;I.Rect.prototype.Vl=function(r,j,D){var N=this.mz.crad,b=j.x-r.x,Y=j.y-r.y;
return[R.b.Lu.Rect(r.x,r.y,b,Y,N),R.Bu.FQ("Rctn",[r.x,r.y,j.x,j.y],[N,N,N,N])]};I.Co=function(){I.UC.call(this,[10,33],I.Wn,"tools/ellipse",!0)};
I.Co.prototype=new I.UC;I.Co.prototype.Vl=function(r,j,D){var N=j.x-r.x,b=j.y-r.y;return[R.b.Lu.Co(r.x,r.y,N,b),R.Bu.FQ("Elps",[r.x,r.y,j.x,j.y])]};
I.kL=function(){I.UC.call(this,[10,34],I.ZB,"tools/pshape",!1)};I.kL.prototype=new I.UC;I.kL.prototype.Vl=function(r,j,D){var N=this.mz.pshape,b=this.mz.crad,Y=this.mz.irad/100,x=this.mz.sides,C=this.mz.width,w=this.mz.tsiz,q=this.mz.length,$;
j=j.clone();if(D){if(Math.abs(j.x-r.x)<Math.abs(j.y-r.y))j.x=r.x;else j.y=r.y}var u=r.x,h=r.y,z=j.x,O=j.y,g=Math.sqrt((z-u)*(z-u)+(O-h)*(O-h)),t=Math.atan2(-O+h,z-u);
if(N==0)$=R.b.Lu.Y5(u,h,g,t,x,b);if(N==1)$=R.b.Lu.$b(u,h,g,t,x,b,Y);if(N==2)$=R.b.Lu.ahZ(r.x,r.y,j.x,j.y,C,w/100);
if(N==3)$=R.b.Lu.a0V(u,h,g,t,q);return[$,R.Bu.FQ("customShape",[r.x,r.y,j.x,j.y],null,null,null,"--")]};
I.kL.prototype.Uc=function(r,j,D,N){var b=N.ET(),Y=this.mz,x,C;if(b.y!=0){var w=-b.y,q=Y.pshape;if(q<2){x="sides";
C=Math.max(3,Math.min(100,Y.sides+w))}else if(q==2){x="width";C=Math.max(1,Math.min(100,Y.width+w))}else if(q==3){x="length";
C=Math.max(4,Math.min(40,Y.length+w))}}if(b.x!=0){x="pshape";C=Math.max(0,Math.min(3,Y.pshape+b.x))}if(x){var u=new iu(y.E.V,!0),h={};
h[x]=C;Y[x]=C;u.data={e:y.G.X9,k:this.id,Ix:"vals",apW:h};j.g(u);this.Vt(r,j,D,N)}};I.Q3=function(){I.UC.call(this,[10,35],I.XH,"tools/line",!1)};
I.Q3.prototype=new I.UC;I.Q3.prototype.Vl=function(r,j,D){var N=this.mz.width;j=j.clone();if(D){j=I.GY.dt(r,j)}return[R.b.Lu.Q3(r.x,r.y,j.x,j.y,N),R.Bu.FQ("Ln",null,null,[r.x,r.y,j.x,j.y],N)]};
I.gA=function(){I.UC.call(this,[10,31],I.bK,"tools/cshape",!0)};I.gA.prototype=new I.UC;I.gA.prototype.Vl=function(r,j,D){var N=this.mz.shape,b=N.JO.d/N.JO.r,Y=G.$R.wO(N.W);
j=j.clone();if(D){j.y=r.y+(j.x-r.x)/b}var x=j.x-r.x,C=j.y-r.y;R.b.ho(Y,new j9(x,0,0,C,r.x,r.y));return[Y,R.Bu.FQ("customShape",[r.x,r.y,j.x,j.y],null,null,null,N.y_)]};
I.T=function(r,j,D){I.d5.call(this,r,j,D);this.hF=0;this.j=null;this.j3=null;this.lv=null;this.rs=1;
this.qd=!1;this.cursor=null;this.mR=null;this.Ni=null;this.a7=!1;this.ai=null;this.ai6=0;this.fr=null;
this.Aq=0;this.Gx=null;this.EF=null;this.KA=null;this.L3=null;this.a1a=null;this.kg=null};I.T.prototype=new I.d5;
I.T.Ot=function(r,j){var D={classID:"null",null:dA.W4("Dcmn",!0)};if(r)D.Angl={t:"UntF",v:{type:"#Ang",val:j}};
else D.Axis={t:"enum",v:{Ornt:j}};return{sv:r?"rotateEventEnum":"flip",Q4:D}};I.T.prototype.Ig=function(r,j,D,N,b){var Y=new iu(y.E.V,!0);
Y.data={e:y.G.X9,k:this.id,HF:b,Ww:r,lv:D};j.g(Y);this.G0=!1};I.T.prototype.Mo=function(r){return this.EF&&this.EF.bi()};
I.T.prototype.k_=function(r,j,D,N,b){this.lv=b;if(r.e=="again"&&this.fr==null)return;if(!this.j4(D,b))return;
if(this.EF){this.o1(r,this.EF.dl());this.nc(D,b,0,!0);this.XL(D);return}this.LV(D,r.n==null,r.n);this._c(D);
this.o1(r);this.py(D,j,r.NL,!1)};I.T.prototype.o1=function(r,j){var D=this.Gx;if(j==null){var N=r.eg!=null?r.eg:4;
j=this.EF.aoG()[N]}var b=j.x,Y=j.y;if(r.e=="rot"&&r.m!=Math.PI&&(D.d+D.r&1)==1){b=Math.floor(b);Y=Math.floor(Y)}var x=new j9;
x.translate(-b,-Y);if(r.e=="rot")x.rotate(r.m);if(r.e=="scl")x.scale(r.m.x,r.m.y);if(r.e=="mat")x.concat(r.m);
x.translate(b,Y);if(r.e=="again")x=this.fr;var C=this.EF.FA();R.K.F(C,x,C);this.EF.Nr(C)};I.T.prototype.Oj=function(){return!0};
I.T.prototype.j4=function(r,j){if(r==null)return!1;if(this.id==I.od)return r.c!=null;var D=r.FP(!0,null,null,!0);
if(this.id==I.YF&&r.j[D[0]].rect.jE()){alert("Layer is empty.");return!1}for(var P=0;P<D.length;P++){var N=r.j[D[P]];
if(N.OL(2)||N.OL(31)){alert(e9.get([6,57,0]));return!1}if(N.add.artb){alert("You can not transform the whole artboard");
return!1}if(N.add.TySh)if(!iW.NX(N.add.TySh,j.fA))return!1;if(N.add.SoLd){if(D.length==1&&!R.s_.JM(N.add.SoLd.warp.v)&&(N.BG()&&N.BG().Tt||N.add.vmsk&&N.add.vmsk.Tt)){alert("Unlink masks before transforming Smart Object");
return!1}if(!r.a77(N.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+r.pZ(N.add.SoLd.Idnt.v).W8+")");
return!1}}}if(r.c==null)return!0;if(!r.Kf())return!1;return r.c6()};I.T.prototype.xR=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);
if(this.Aq==1){var x=R.t.gq(R.t.xk(this.EF.FA(),this.Gx));Y=R.t.u7(x,Y)}var C=this.Aq==0?this.EF:this.KA;
this.qd=C.xR(r,D,N,Y);if(this.qd&&C.rC(Y)){if(Date.now()-this.ai6<250)this.py(r,j,null,!0);this.ai6=Date.now()}};
I.T.prototype.ar=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.C9,EA:this.cursor};r.g(j)};I.T.prototype.Vt=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);
if(this.Aq==1){var x=R.t.gq(R.t.xk(this.EF.FA(),this.Gx));Y=R.t.u7(x,Y)}var C=this.Aq==0?this.EF:this.KA;
if(!b.XS){var w="default";if(C){var q=C.kj(Y,r.z.S);if(q)w=q}if(w!=this.cursor){this.cursor=w;this.ar(j)}}if(!this.qd)return;
C.Vt(r,D,N,Y);this.nc(r,D,0,!0);this.XL(r);this.RZ(j)};I.T.prototype.rE=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);
this.EF.rE(r,D,N,Y);this.qd=!1};I.T.prototype.Uc=function(r,j,D,N){if(N.o(e4.Lf))this.py(r,j,null,!0);
else if(N.o(e4.Pj))this.Wp(r,j);else{var b=this.EF.Uc(r,D,N);if(b){this.nc(r,D,0,!0);this.RZ(j)}}};I.T.prototype.cZ=function(r,j,D,N){if(r.SS=="commit")this.py(D,j,null,!0);
else if(r.SS=="cancel")this.Wp(D,j);else if(r.SS=="switchWarp"){this.Aq=1-this.Aq;this.afO();this.XL(D);
this.RZ(j)}else if(r.SS=="wrp"){this.KA.J7(r.Jd);this.XL(D);this.nc(D,this.lv,0,!0)}else if(r.SS=="ctyp"){this.EF.aaa(r.LI);
this.XL(D);this.RZ(j)}else if(r.SS=="cen"){this.EF.a5Y(r.UZ);this.XL(D);this.nc(D,this.lv,0,!0);this.RZ(j)}else if(r.SS=="trn"){var b=R.t.eb(r.gu),Y=this.Gx,x=R.t.xk(this.EF.FA(),this.Gx);
b[6]=x[6],b[7]=x[7];var C=[Y.x,Y.y,Y.x+Y.d,Y.y,Y.x+Y.d,Y.y+Y.r,Y.x,Y.y+Y.r];R.t.F(b,C);this.rs=r.rs;
this.EF.Nr(C);this.XL(D);this.nc(D,this.lv,0,!0)}};I.T.prototype.XL=function(r){if(this.Aq==0)this.EF.FI(r,this.lv);
else{this.KA.FI(r);var j=R.t.xk(this.EF.FA(),this.Gx);R.t.F(j,r.I.M3.v);R.t.F(j,r.I.D$)}};I.T.prototype.py=function(r,j,D,N){this.nc(r,this.lv,this.rs);
var b=new ap(D?D:this.name,this);if(this.hF==0)b.data={type:this.hF,j:this.j,ai:this.j3,ZJ:I.T.ED(r,this.j)};
else if(this.hF==1){var Y=r.j[this.j[0]],x;if(Y.Ye.Cz<=0){x=R.O(Y.Ye.zw.Z());R.ni(Y.Ye.dA,x,3)}else x=r.c.channel;
var C={rect:Y.Ye.zw.clone(),channel:x};b.data={type:this.hF,n:this.j[0],Ni:this.Ni,OI:C,mR:this.mR,a7:this.a7,Ye:Y.Ye,ai:this.ai,ZJ:{DN:Y.Ye.zw,ix:Y.Ye.dA}}}else if(this.hF==2){b.data={type:this.hF,Ni:this.Ni,OI:{rect:r.c.rect.clone(),channel:r.c.channel.slice(0)}}}r.vl(b);
var w=this.Gx,q=new gJ(w.x+w.d/2,w.y+w.r/2),u=R.t.xk(this.EF.FA(),w),h=R.t.pM(u),z=new j9;z.translate(q.x,q.y);
z.concat(h);z.translate(-q.x,-q.y);h=z.clone();var O=-Math.atan2(-h.M,h.kD),g=new j9;g.rotate(O);h.concat(g);
function t(A,H){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][H],val:A}}}var $=dA.W4("Lyr",!0);if(this.id==I.od)$.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var i={classID:"null",null:$,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:t(z.Db,0),Vrtc:t(z.aF,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:t(Math.atan(h.Jy)*180/Math.PI,2),Vrtc:t(0,2)}},Wdth:t(h.kD*100,1),Hght:t(h.oq*100,1),Angl:t(O*180/Math.PI,2)};
this.tZ=j;this.track({sv:"transform",Q4:i});this.escape(r,j,N)};I.T.prototype.Wp=function(r,j){if(this.hF==0)I.T.LJ(r,this.j,this.j3);
else if(this.hF==1){var D=r.j[this.j[0]];r.c=this.Ni;if(!this.a7){D.Ye.zw=this.ai.DN;D.Ye.dA=this.ai.ix;
D.ne(r,0,0,r.c)}else{D.Qs(r,this.mR)}r.P();r.Lx=!0}else if(this.hF==2){r.c=this.Ni;r.Lx=!0}this.escape(r,j,!0)};
I.T.prototype.escape=function(r,j,D){this.EF.clear(r);this.EF=null;this.KA=null;this.kg=null;this.Aq=0;
if(D)this.Ze(j,y.E.V,{e:y.G.Ip})};I.T.prototype.Gf=function(r,j){if(r.type==0)I.T.LJ(j,r.j,r.ZJ);else{if(r.type==1){var D=j.j[r.n];
if(r.a7){D.Ye=r.Ye}else{D.Ye.zw=r.ZJ.DN;D.Ye.dA=r.ZJ.ix}D.ne(j,0,0,j.c);j.P()}j.c={rect:r.OI.rect.clone(),channel:r.OI.channel.slice(0)};
j.Lx=!0}};I.T.prototype.B$=function(r,j){if(r.type==0)I.T.LJ(j,r.j,r.ai);else{if(r.type==1){var D=j.j[r.n];
if(r.a7){D.Qs(j,r.mR)}else{D.Ye.zw=r.ai.DN;D.Ye.dA=r.ai.ix;D.ne(j,0,0,j.c)}j.P()}j.c=r.Ni;j.Lx=!0}};
I.T.prototype.LV=function(r,j,D){r.HG();var N=[];if(D==null)for(var P=0;P<r.rO.length;P++)if(r.ou[r.rO[P]].add.vmsk.W.length>2)N.push(-1-r.rO[P]);
var b=[],Y=r.z.Cs;if(Y[0]+Y[1]+Y[2]==3)if(D!=null||N.length==0||r.m$!=null&&r.m$.length!=0)b=r.FP(j,D,null,!0);
b=b.concat(N);for(var P=0;P<r.cz.length;P++)b.push(-1e3-r.cz[P]);this.j=b};I.T.prototype.enable=function(r,j,D,N,b,Y,x){if(this.cursor==null)this.cursor="default";
this.ar(j);if(this.EF)return;this.lv=D;this.LV(r,!0);this._c(r,Y&&Y.Y3!=null&&Y.Y3!=-1?Y.Y3:null,x);
this.RZ(j);this.XL(r);if(Y&&Y.Y3==-1)this.cZ({SS:"switchWarp"},j,r,N)};I.T.prototype.RZ=function(r){var j={e:y.G.X9,k:this.id};
if(this.Aq==0){var D=R.t.xk(this.EF.FA(),this.Gx),N=R.t.pM(D);j.gu={sW:N,LI:this.EF.a3K(),UZ:this.EF.dl(),DN:this.Gx.clone()}}else{j.Jd=this.KA.sS()}j.a9C=this.KA!=null;
this.Ze(r,y.E.V,j)};I.T.prototype._c=function(r,j,D){var N=this.id==I.od,b=!0,Y=this.j[0],x=r.j[Y],w=null;
if(N){this.hF=2;this.Ni=r.c}else if(r.c&&this.j.length==1&&Y>=0&&!x.rect.jE()){this.hF=1;this.Ni=r.c;
this.mR=x.Ye;this.a7=!1;if(!x.QZ(r,r.c)){this.a7=!0;x.mB(r,r.c,!1)}this.ai={ix:x.Ye.dA,DN:x.Ye.zw}}else{this.hF=0;
this.j3=I.T.ED(r,this.j,null,D);for(var P=0;P<this.j3.length;P++)if(this.j3[P][3]!=null)b=!1}var C=this.hF==1;
if(this.j3&&this.j3.length==1){var q=this.j3[0];if(q[3]==null)C=!0;if(q[4]!=null){w=r.j[this.j[0]].add.SoLd;
if(q[1]||q[2])C=!1}}var u=N?r.c.rect.clone():I.T.q7(r,this.j,D);this.Gx=u;if(!N&&w){var h=I.T.$i(w.nonAffineTransform);
this.Gx=R.K.mN(R.s_.MM(w.warp.v));if(C)this.KA=new jj(w.warp.v);this.L3=R.t.xk(h,this.Gx);this.EF=new ab(h,!0,!0,b,!1,!1,j)}else{if(C||N)this.KA=new jj(R.s_.O(this.Gx));
this.L3=[1,0,0,0,1,0,0,0];if(this.id==I.YF)j=3;this.EF=new ab([u.x,u.y,u.x+u.d,u.y,u.x+u.d,u.y+u.r,u.x,u.y+u.r],!0,!0,b,!1,!1,j)}this.a1a=[1,0,0,0,1,0,0,0];
if(this.id==I.YF){var z,O;if(this.j3){var g=this.j3[0][0],t=g.oQ;z=t[0];O=t[1]}else if(this.ai){z=this.ai.ix;
O=this.ai.DN}this.kg=R.Xh.akd(z,O.d,O.r)}};I.T.q7=function(r,j,D){if(j==null)j=r.FP(!0,null,null,!0);
var N=new bf,b=new bf;if(r.c&&j.length==1&&j[0]>=0)N=r.c.rect.clone();else for(var P=0;P<j.length;P++){var Y=j[P],x=0<=Y?r.j[Y]:-1e3<Y?r.ou[-1-Y]:r.c9[-1e3-Y],C=x.add?x.add.vmsk:null,w=0<=Y?x.dk(r,j.length==1,!1,D,!0):-1e3<Y?R.b.sl(C.W,j.length==1&&C.R.length!=0?C.R:null):x.rect.clone();
N=N.zs(w);if(Y>0&&x.add.artb)b=b.zs(x.tT())}return!b.jE()?b:N};I.T.prototype.Ze=function(r,j,D,N){var b=new iu(j,!0);
b.data=D;if(N)b.k=N;r.g(b)};I.T.ED=function(r,j,D,N){var b=[];for(var P=0;P<j.length;P++){var Y=j[P],x,C;
if(Y>=0){x=r.j[Y];C=x.Gl(r,D,N)}else if(Y>-1e3){x=r.ou[-1-Y];C=[2]}else{b.push([null,null,null,null,null,null,null,r.c9[-1e3-Y].clone()]);
continue}var w=[];if(C.indexOf(0)!=-1){var q={oQ:[x.buffer.slice(0),x.rect.clone()]};w.push(q);if(x.ri()){var u=x.dw(r);
q.aoY=u.buffer.slice(0);q.arw=u.rect.clone()}}else w.push(null);if(C.indexOf(1)!=-1)w.push(x.BG().clone());
else w.push(null);if(C.indexOf(2)!=-1)w.push({ZU:x.add.vmsk.clone(),_O:x.add.vstk?JSON.parse(JSON.stringify(x.add.vstk)):null,ME:x.add.vstk?I.BV.VC(r,Y):null,Bu:x.add.vogk?JSON.parse(JSON.stringify(x.add.vogk)):null});
else w.push(null);if(x.add.TySh&&w[0]){cU.aO(x.add.TySh);w.push(x.add.TySh.F.clone())}else w.push(null);
if(x.add.SoLd&&w[0])w.push(JSON.parse(JSON.stringify(x.add.SoLd)));else w.push(null);if(C.indexOf(3)!=-1)w.push(x.dw(r).B.clone());
else w.push(null);if(x.add.lmfx)w.push(JSON.stringify(x.add.lmfx));else w.push(null);b.push(w)}return b};
I.T.LJ=function(r,j,D){for(var P=0;P<j.length;P++){var N=j[P],b=0<=N?r.j[N]:-1e3<N?r.ou[-1-N]:r.c9[-1e3-N],Y=D[P];
if(Y[0]){b.rect=Y[0].oQ[1].clone();b.buffer=Y[0].oQ[0].slice(0);if(b.ri()){var x=b.dw(r);x.buffer=Y[0].aoY.slice(0);
x.rect=Y[0].arw.clone()}}if(Y[1]){b.BG().channel=Y[1].channel.slice(0);b.BG().rect=Y[1].rect.clone();
b.BG().ZI=!0}if(Y[2]){b.add.vmsk=Y[2].ZU.clone();if(Y[2].ME)I.BV._3(b,Y[2].ME);if(Y[2]._O)b.add.vstk=JSON.parse(JSON.stringify(Y[2]._O));
if(Y[2].Bu)b.add.vogk=JSON.parse(JSON.stringify(Y[2].Bu))}if(Y[3]){b.add.TySh.F=Y[3].clone();cU.qN(b.add.TySh)}if(Y[4]){b.add.SoLd=JSON.parse(JSON.stringify(Y[4]))}if(Y[5]){var C=b.dw(r).B;
C.channel=Y[5].channel.slice(0);C.rect=Y[5].rect.clone()}if(Y[6]){b.add.lmfx=JSON.parse(Y[6])}if(Y[7]){b.channel=Y[7].channel.slice(0);
b.rect=Y[7].rect.clone();b.ZI=!0}if(0<=N){b.Fz(r);b.P()}}r.P()};I.T.zR=function(r){var j=r.clone(),D=Math.atan2(-j.M,j.kD),N=new j9;
N.rotate(-D);j.concat(N);return(Math.abs(j.kD)+Math.abs(j.oq))/2};I.T.lP=function(r,j,D,N,b,Y,x,C,w,q){if(typeof Y[0]=="number"){var u=[];
for(var P=0;P<D.length;P++)u[P]=Y;Y=u}for(var P=0;P<D.length;P++){var h=Y[P],z=R.t.pM(h),O=I.T.zR(z),g=D[P],t=0<=g?r.j[g]:-1e3<g?r.ou[-1-g]:r.c9[-1e3-g],$=N[P];
if($[0]&&t.add.lmfx&&C)fx.Ub(t.add.lmfx,O);if($[0]&&!$[3]&&!$[4]&&!$[5]){var i=$[0].oQ;if(w){var A=w.clone(),H=R.O(A.Z()*4);
R.UB(i[0],i[1],H,A);i=[H,A]}var F=I.T.zH(i,b,h,x,b==0?t.buffer.buffer:null,null,null,q);if(F){t.rect=F.rect;
t.buffer=F.buffer}}if($[1]){var T=t.BG();I.T.bx(r,$[1],T,b,h,x);if(w){var A=t.rect.su(w),_=R.O(A.Z());
R.YO(T.channel,T.rect,_,A);T.channel=_;T.rect=A}}if($[2]){var V=x&&!R.s_.JM(x),X=$[2].ZU.clone(),o=D.length==1&&X.R.length!=0,c=D.length==1&&X.cW.length>1;
if(c)o=!1;var E=o?X.R:null,f=c?X.cW:null;if(V){var d=R.s_.MM(x);R.t.F(h,d);R.b.akC(X.W,d,E,f)}else R.b.a2L(X.W,h,E,f);
if(t.add.vstk&&C){t.add.vstk.strokeStyleLineWidth.v.val=$[2]._O.strokeStyleLineWidth.v.val*O;var s=$[2].ME;
if(s&&s.cC==3){s=JSON.parse(JSON.stringify(s));var B=s.ME.phase.v;s.ME.Scl.v.val=Math.round(s.ME.Scl.v.val*O);
B.Hrzn.v=Math.round(B.Hrzn.v*O);B.Vrtc.v=Math.round(B.Vrtc.v*O);I.BV._3(t,s)}}if(t.add.vogk){t.add.vogk=JSON.parse(JSON.stringify($[2].Bu));
if(V||c)R.Bu.a6B(t.add.vogk);else R.Bu.F(t.add.vogk,h,D.length>1?[]:X.R,C)}X.wt*=O;t.add.vmsk=X;if(t.add.vogk)R.Bu.uT(t.add.vogk,t.add.vmsk)}if($[3]){var a=$[3].clone();
a.concat(z);t.add.TySh.F=a;cU.qN(t.add.TySh);var U=new fu(t.add.TySh.d1,j.fA),M=iW.hA(U,t.add.TySh);
t.rect=M.DN;t.buffer=M.Iz}if($[4]){var W=t.add.SoLd,n=I.T.$i($[4].nonAffineTransform);R.t.F(h,n);var e=R.K.v_(n);
if(ab.X4(n)){if(x){var Q=R.K.mN(R.s_.MM($[4].warp.v)),_=R.t.xk(n,Q),J=R.K.mN(R.s_.MM(x));n=[J.x,J.y,J.x+J.d,J.y,J.x+J.d,J.y+J.r,J.x,J.y+J.r];
R.t.F(_,n);W.warp.v=x}var m=R.t.xk(n),p=n;if(!R.t.JP(m)){m[6]=m[7]=0;p=[0,0,1,0,1,1,0,1];R.t.F(m,p)}W.Trnf=I.T.Qn(p);
W.nonAffineTransform=I.T.Qn(n);if(W.filterFX)W.filterFX=JSON.parse(JSON.stringify($[4].filterFX));I.T.os(W,z);
t.zX(r,b==0)}}if($[5])I.T.bx(r,$[5],t.dw(r).B,b,h,x);if($[7])I.T.bx(r,$[7],t,b,h,x);if(0<=g){if(b!=0)t.H2();
t.Fz(r);t.P()}}r.P()};I.T.Kn=function(r,j,D,N,b,Y){if(D==null)D=!1;return I.T.zH(r,D?0:1,R.t.eb(j),null,N,b,Y,D)};
I.T.zH=function(r,j,D,N,b,Y,x,C){if(C==null)C=!1;if(C&&x)throw"e";var w={},z=0,O=.3;if(N&&!R.s_.JM(N)){var q=R.s_.MM(N);
R.t.F(D,q);w.rect=R.K.v_(q);w.buffer=R.O(w.rect.Z()*4);R.rX.drawImage(q,r[0],r[1].d,r[1].r,w.buffer,w.rect,j==0);
return w}R.aA(r);var u=r[0],h=r[1],g=h.Z()*I.T.zR(R.t.pM(D));if(C&&g>4e6)O=g>8e6?2.2:1.2;while(z+3<r.length&&r[z+3].Z()>16&&R.t.JP(D)&&I.T.zR(R.t.pM(D))<O){z+=2;
var t=r[z],$=r[z+1],i=h.d/$.d,A=h.r/$.r;D=R.t.JF(D,[1,0,h.x,0,1,h.y,0,0]);D=R.t.JF(D,[i,0,0,0,A,0,0,0]);
D=R.t.JF(D,[1,0,-h.x,0,1,-h.y,0,0]);h=$;u=t}var H=R.t.JF(D,R.t.eb(new j9(h.d,0,0,h.r,h.x,h.y))),F=[0,0,1,0,1,1,0,1];
R.t.F(H,F);w.rect=R.K.v_(F);if(x)w.rect=w.rect.su(x);if(C){while((w.rect.d&3)!=0)w.rect.d++;while((w.rect.r&3)!=0)w.rect.r++}if(!ab.X4(F)||w.rect.d>1e5||w.rect.r>1e5||w.rect.Z()>3e4*3e4)return null;
var T=w.rect.Z()*4;if(b&&b.byteLength>=T&&T>=b.byteLength>>2){w.buffer=new Uint8Array(b)}else{w.buffer=R.O(T)}R.t.drawImage(H,u,h.d,h.r,w.buffer,w.rect,j==0,Y,C);
if(j==2&&w.buffer){var _=w.rect.d,V=w.rect.r,X;X=[0,-1,0,-1,16,-1,0,-1,0];X=R.tK.KP(X);var o=w.buffer.slice(0);
R.tK.nT(o,w.buffer,_,V,X,255,!1,!0)}if(w.buffer)return w};I.T.bx=function(r,j,D,N,b,Y){if(j.color==255)R.gq(j.channel);
var x=j.rect,C=R.O(x.Z()*4);R.zQ(j.channel,C,3);var w=I.T.zH([C,x],N,b,Y);if(w){D.rect=w.rect;D.channel=R.O(w.rect.Z());
R.ni(w.buffer,D.channel,3);D.ZI=!0}if(j.color==255){R.gq(j.channel);if(w)R.gq(D.channel)}};I.T.os=function(r,j){var D=r.filterFX;
if(D)D=D.v.filterFXList;if(D)D=D.v;if(D)for(var N=0;N<D.length;N++){var b=D[N].v.Fltr;if(b==null||b.v.classID!="rigidTransform")continue;
b=b.v;console.log(b);var Y=[];for(var x=0;x<4;x++)Y.push(b["PuX"+x].v,b["PuY"+x].v);R.K.F(Y,j,Y);for(var x=0;
x<4;x++){b["PuX"+x].v=Y[x*2];b["PuY"+x].v=Y[x*2+1]}var C=["PinP","posFinalPins"],w=["originalVertexArray","deformedVertexArray"],q=b.puppetShapeList.v;
for(var u=0;u<q.length;u++){var h=q[u].v;for(var z=0;z<C.length;z++){var O=I.T.$i(h[C[z]]);R.K.F(O,j,O);
h[C[z]]=I.T.Qn(O);var g=new Uint8Array(h[w[z]].v),t=new Float32Array(g.buffer);R.K.F(t,j,t);var $=[];
for(var i=0;i<g.length;i++)$[i]=g[i];h[w[z]].v=$}}}};I.T.$i=function(r){var j=[],D=r.v.length;for(var P=0;
P<D;P++)j.push(r.v[P].v);return j};I.T.Qn=function(r){var j={t:"VlLs",v:[]},D=r.length;for(var P=0;P<D;
P++)j.v.push({t:"doub",v:r[P]});return j};I.T.prototype.afO=function(){var r=R.K.mN(R.s_.MM(this.KA.sS())),j=R.t.xk(this.EF.FA(),this.Gx),D=[r.x,r.y,r.x+r.d,r.y,r.x+r.d,r.y+r.r,r.x,r.y+r.r];
R.t.F(j,D);this.EF.Nr(D);this.Gx=r};I.T.prototype.nc=function(r,j,D,N){var b=R.t.xk(this.EF.FA(),this.Gx);
b=R.t.JF(b,R.t.gq(this.L3));var Y=this.KA?this.KA.sS():null;if(this.hF==0){var x=this.fr=R.t.pM(b);if(this.id==I.YF){var C=this.j3[0][0],w=C.oQ,q=w[1],u=~~(q.d*Math.max(0,x.kD)),h=~~(q.r*Math.max(0,x.oq)),z=new bf(Math.round(x.kD*q.x+x.Db),Math.round(x.oq*q.y+x.aF),u,h),O=R.Xh.F(this.kg,z),g=r.j[this.j[0]];
g.buffer=O;g.rect=z;g.P();r.P()}else I.T.lP(r,j,this.j,this.j3,D,b,Y,null,null,N)}else if(this.hF==1){var t=r.j[this.j[0]],q=this.ai.DN;
if(t.Cz<=0){var $=this.ai.ix,i=this.Ni,A=null;if(Y&&!R.s_.JM(Y)&&!i.rect.gy(q)){var O=R.O(i.rect.Z()*4);
R.UB($,q,O,i.rect);$=O;q=i.rect}if(this.id==I.YF){var x=this.fr=R.t.pM(b),u=~~(q.d*Math.max(0,x.kD)),h=~~(q.r*Math.max(0,x.oq)),z=new bf(Math.round(x.kD*q.x+x.Db),Math.round(x.oq*q.y+x.aF),u,h),O=R.Xh.F(this.kg,z);
A={buffer:O,rect:z}}else A=I.T.zH([$,q],D,b,Y);if(A){t.Ye.dA=A.buffer;t.Ye.zw=A.rect;var H=R.O(A.rect.Z());
R.ni(t.Ye.dA,H,3);r.c={channel:H,rect:t.Ye.zw.clone()}}}else{var F=R.O(q.Z()*4);R.zQ(this.ai.ix,F,3);
var A=I.T.zH([F,q],D,b,Y);if(A){t.Ye.dA=R.O(A.rect.Z());R.ni(A.buffer,t.Ye.dA,3);t.Ye.zw=A.rect}this.OX(r,D,b,Y)}t.ne(r,0,0,r.c);
if(D!=0){t.H2();R.H2(r.c)}r.Lx=!0;r.P()}else if(this.hF==2)this.OX(r,D,b,Y)};I.T.prototype.OX=function(r,j,D,N){var b=this.Ni.rect,Y=R.O(b.Z()*4);
R.zQ(this.Ni.channel,Y,3);var x=I.T.zH([Y,b],j,D,N),C=R.O(x.rect.Z());R.ni(x.buffer,C,3);r.c={channel:C,rect:x.rect};
r.Lx=!0};I.T.prototype.disable=function(r,j,D,N){if(this.EF)this.py(r,j,null,!0)};I.vG=function(){I.T.call(this,[10,16],I.YW,"tools/transform")};
I.vG.prototype=new I.T;I.yw=function(){I.T.call(this,[7,10],I.od,"tools/transform")};I.yw.prototype=new I.T;
I._R=function(){I.T.call(this,[10,48],I.YF,"tools/transform")};I._R.prototype=new I.T;I.UO=function(r,j,D){I.d5.call(this,[10,46],I.Ia,"tools/transform");
this.Os=[1,1,2,!0];this.fJ="rigidTransform";this.nG=null;this.a76=null;this.aT=null;this.D7=null;this.Dv=null;
this.Yy=null;this.CG=[]};I.UO.prototype=new I.d5;I.UO.prototype.Oj=function(){return!0};I.UO.VO=function(r){if(r==null)return!1;
if(r.R.length!=1)return!1;var j=r.j[r.R[0]];return j.add.SoLd||r.Kf(!1)};I.UO.prototype.j4=function(r,j){return I.UO.VO(r)};
I.UO.prototype.enable=function(r,j,D,N,b,Y,x){this.a76=Y.mI;var C=Y.mI,w,t=null;if(C){var q=r.j[C.n];
if(q.add.SoLd.filterFX!=null){var u=q.add.SoLd.filterFX.v.filterFXList.v;if(u[C.index])w=JSON.parse(JSON.stringify(u[C.index].v.Fltr.v))}}var h=w==null,q=r.j[r.R[0]],z=q.buffer,O=q.rect,g=q.add.SoLd;
if(g){var $=g.nonAffineTransform.v;t=[];for(var P=0;P<4;P++)t.push($[P*2].v,$[P*2+1].v);if(h)this.$W("edit",j);
var i=q.dw(r);z=i.buffer;O=i.rect}this.nG={buffer:z.slice(0),rect:O.clone(),amF:t};if(h)w=I.UO.cP(this.nG,this.Os);
this.aT=w;this.D7=I.UO.m5(this.aT,this.Os);this.w3();this.oC(r);if(h)this.eE(j);var A=new iu(y.E.V,!0);
A.data={e:y.G.X9,k:this.id,Ek:this.Os};j.g(A);A.data={e:y.G.C9,EA:"default"};j.g(A)};I.UO.prototype.disable=function(r,j,D,N){if(this.D7)this.py(r,j,!0)};
I.UO.prototype.w3=function(r){var j=this.D7;this.CG=[];for(var P=0;P<j.length;P++){var D=j[P];for(var N=0;
N<D.R.length;N++)this.CG.push([P,D.R[P]]);D.Nw=R.hJ.PG(D);if(r)R.hJ.UA(D)}};I.UO.prototype.cZ=function(r,j,D,N){if(r.SS=="commit")this.py(D,j,!0);
else if(r.SS=="cancel")this.Wp(D,j,!0);else if(r.SS=="prm"){var b=!1;for(var P=0;P<3;P++)if(this.Os[P]!=r.Ek[P])b=!0;
this.Os=r.Ek;if(b){this.aT=I.UO.cP(this.nG,this.Os,this.aT);this.D7=I.UO.m5(this.aT,this.Os);this.w3(!0);
this.eE(j)}this.oC(D)}else if(r.SS=="moveDepth"){var Y=this.D7;for(var x=0;x<Y.length;x++){var C=Y[x];
for(var P=0;P<C.R.length;P++){var w=C.R[P];C.VG[w]+=r.agH?1:-1}}this.eE(j)}};I.UO.prototype.IT=function(r,j){return r==e4.rb||r==e4.SP};
I.UO.prototype.Uc=function(r,j,D,N){var b=N.ET();if(N.o(e4.Lf))this.py(r,j,!0);else if(N.o(e4.Pj))this.Wp(r,j,!0);
else if(N.o(e4.rb)||N.o(e4.SP)){var Y=this.D7;for(var x=0;x<Y.length;x++){var C=Y[x];C.R.sort(function(u,h){return h-u});
for(var P=0;P<C.R.length;P++){var w=C.R[P],q=w*2;C.VG.splice(w,1);C._f.splice(w,1);C.Xi.splice(w,1);
C.Wy.splice(w,1);C.Tf.splice(q,2);C.zO.splice(q,2)}C.R=[];if(C.Wy.length==0){C.yU=C.Tg.slice(0);C.GK=C.Tg.slice(0)}}this.w3(!0);
this.eE(j);this.oC(r)}else if(b.x!=0||b.y!=0){this.MB(r,b.x,b.y,j);this.te=null}};I.UO.prototype.py=function(r,j,D){this.$W("confirm",j);
this.escape(r,j,D)};I.UO.prototype.Wp=function(r,j,D){this.$W("cancel",j);this.escape(r,j,D)};I.UO.prototype.escape=function(r,j,D){r.I.M3=null;
r.I.jz=[];r.yn=!0;this.D7=null;var N=new iu(y.E.V,!0);N.data={e:y.G.Ip};if(D)j.g(N)};I.UO.prototype.xR=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=Y.x,C=Y.y,w=this.D7,q=null,u=[0,2,4,1.2,1.2,1.2],h=-1,z=y.f()*5/r.z.S;
for(var P=0;P<w.length;P++){var O=w[P],g=R.K.O3(O.zO,x,C,z);if(g!=-1)q=[P,g];if(h==-1&&R.hJ.En.a2B(O.GK,O.BX,x,C))h=P}if(q==null&&h!=-1){var O=w[h];
I.UO.tV(O,x,C,x,C,0);q=[h,O.Wy.length-1];O.Nw=R.hJ.PG(O)}this.Dv=Y;if(q){var t=w[q[0]].R.indexOf(q[1])!=-1;
if(N.o(e4.$P)&&!t){w[q[0]].R.push(q[1]);this.CG.push(q)}else if(!t){w[q[0]].R=[q[1]];this.CG=[q]}}this.oC(r)};
I.UO.tV=function(r,j,D,N,b,Y){var x=R.K.O3(r.GK,j,D);r.Wy.push(x);r.zO.push(N,b);r.Tf.push(r.GK[x*2]-j,r.GK[x*2+1]-D);
r.Xi.push(0);r._f.push(!1);r.VG.push(Y)};I.UO.prototype.Vt=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=this.Dv;
if(x)this.MB(r,Y.x-x.x,Y.y-x.y,j)};I.UO.prototype.MB=function(r,j,D,N){var b={},Y=this.CG,x=this.D7;
if(this.te==null){this.te=[];for(var P=0;P<x.length;P++)this.te.push(x[P].zO.slice(0))}for(var P=0;P<Y.length;
P++){var C=this.CG[P],w=C[0],q=x[C[0]],u=C[1]*2;q.zO[u+0]=this.te[w][u+0]+j;q.zO[u+1]=this.te[w][u+1]+D;
b[w]=w}for(var w in b)R.hJ.UA(this.D7[b[w]]);this.oC(r);this.eE(N)};I.UO.prototype.$W=function(r,j){var D=new iu(y.E.w,!0);
D.k=I.MK;D.data={e:r,mI:this.a76,fJ:this.fJ,sr:this.aT};j.g(D)};I.UO.prototype.rE=function(r,j,D,N,b){this.Dv=null;
this.te=null};I.UO.prototype.eE=function(r){I.UO.N1(this.D7,this.Os,this.aT);this.$W("edit",r)};I.UO.prototype.oC=function(r){var j=this.D7,D=this.aT;
r.I.M3={v:[],J:[]};r.I.jz=[];r.I.Zr=[];for(var P=0;P<j.length;P++){var N=j[P];for(var b=0;b<N.R.length;
b++)r.I.Zr.push((r.I.jz.length>>>1)+N.R[b]);r.I.jz=r.I.jz.concat(N.zO);if(this.Os[3])R.K.concat(r.I.M3,R.K.a9X(N.GK,N.BX))}r.yn=!0};
I.UO.cP=function(r,j,D){var N=r.buffer,b=r.rect,Y=r.amF,x=ij.nY("rigidTransform");if(Y)for(var P=0;P<4;
P++){x["PuX"+P].v=Y[P*2];x["PuY"+P].v=Y[P*2+1]}var C=x.puppetShapeList.v,w=R.hJ.abc(N,b.d,b.r,j[1],j[2]),q=[];
for(var u=0;u<w.length;u++){var h={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
h.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var z=w[u];C.push({t:"Objc",v:h});var O=z.Tg.slice(0);R.K.F(O,new j9(1,0,0,1,b.x,b.y),O);var g=z.BX;
for(var P=0;P<g.length;P+=3){var t=g[P+1];g[P+1]=g[P+2];g[P+2]=t}q.push({BX:g,Tg:O,yU:O,GK:O,Wy:[],Tf:[],zO:[],Nw:null,R:[],Xi:[],_f:[],VG:[]})}if(D){var $=I.UO.m5(D,[]),i=q[0];
for(var P=0;P<$.length;P++){var A=$[P];for(var H=0;H<A.R.length;H++)i.R.push((i.zO.length>>>1)+A.R[H]);
for(var H=0;H<A.Wy.length;H++){var F=A.Wy[H]*2,T=A.Tg[F]-A.Tf[H*2],_=A.Tg[F+1]-A.Tf[H*2+1];I.UO.tV(i,T,_,A.zO[H*2],A.zO[H*2+1],A.VG[H])}}}I.UO.N1(q,j,x);
return x};I.UO.m5=function(r,j){var D=I.T.$i,N=r.puppetShapeList.v,b=[];for(var Y=0;Y<N.length;Y++){var x=N[Y].v;
j[0]=x.meshRigidity.v-1;j[1]=x.meshQuality.v-1;j[2]=x.meshExpansion.v;var C=x.pinVertexIndices.v.length,w=x.meshBoundaryPath.v.pathComponents.v;
if(w.length!=0){var q=w[0].v.SbpL.v[0].v.Pts;q.v=[]}var u=new Uint32Array(new Uint8Array(x.indexArray.v).buffer),h=new Float32Array(new Uint8Array(x.originalVertexArray.v).buffer),z=new Float32Array(new Uint8Array(x.deformedVertexArray.v).buffer),O=[],g=[],t=[];
for(var P=0;P<u.length;P++)O.push(u[P]);for(var P=0;P<h.length;P++){g.push(h[P]);t.push(z[P])}var $=D(x.pinVertexIndices),i=D(x.pinOffsets),A=D(x.posFinalPins),H=D(x.PnRt),F=D(x.PnOv),T=D(x.PnDp),_=D(x.selectedPin);
b.push({BX:O,Tg:g,yU:t.slice(0),GK:t,Wy:$,Tf:i,zO:A,Nw:null,Xi:H,_f:F,VG:T,R:_})}return b};I.UO.N1=function(r,j,D){function N(z,O){var g=[];
for(var P=0;P<z.length;P++)g.push({t:O,v:z[P]});return g}function b(z,O,g){var t=new(g?Uint32Array:Float32Array)(z),$=new Uint8Array(t.buffer);
for(var P=0;P<$.length;P++)O[P]=$[P]}var Y=D.puppetShapeList.v;for(var x=0;x<Y.length;x++){var C=r[x],w=Y[x].v;
w.meshRigidity.v=j[0]+1;w.meshQuality.v=j[1]+1;w.meshExpansion.v=j[2];b(C.BX,w.indexArray.v,!0);b(C.Tg,w.originalVertexArray.v);
b(C.GK,w.deformedVertexArray.v);var q=[];for(var P=0;P<C.Wy.length;P++){var u=C.Wy[P]*2,h=P*2;q[h]=C.Tg[u]-C.Tf[h];
q[h+1]=C.Tg[u+1]-C.Tf[h+1]}w.PinP.v=N(q,"doub");w.pinVertexIndices.v=N(C.Wy,"long");w.pinOffsets.v=N(C.Tf,"doub");
w.posFinalPins.v=N(C.zO,"doub");w.PnRt.v=N(C.Xi,"long");w.PnOv.v=N(C._f,"bool");w.PnDp.v=N(C.VG,"doub");
w.selectedPin.v=N(C.R,"long")}};I.K_=function(r,j,D){I.d5.call(this,r?r:[10,40],j?j:I.TX,D?D:"tools/slice");
this.up=null;this.tZ=null;this.gp=null;this.abL=null;this.FY=null;this.Bk=null};I.K_.prototype=new I.d5;
I.K_.U2=function(r,j){var D=-1;for(var P=0;P<r.length;P++){var N=I.K_.KG(r,P);if(N[0]<=j.x&&j.x<=N[2]&&N[1]<=j.y&&j.y<=N[3]){D=P;
break}}return D};I.K_.prototype.k_=function(r,j,D,N,b){if(D==null)return;this.Gy(D);if(r.e=="fromAction"){var Y=D.Yd(),x=D.sg(),C=x==-1?new bf(0,0,D.d,D.r):D.j[x].tT(),w=[C.x,C.x+C.d],q=[C.y,C.y+C.r];
for(var P=0;P<Y[0].length;P++){var u=Y[0][P],h=Math.round(u[1]),z=Y[1][P];if(z!=-1&&z!=x)continue;if(u[0]==0&&w.indexOf(h)==-1)w.push(h);
if(u[0]==1&&q.indexOf(h)==-1)q.push(h)}w.sort(function(V,X){return V-X});q.sort(function(V,X){return V-X});
for(var O=1;O<q.length;O++)for(var g=1;g<w.length;g++){D.hB.push(I.K_.Ie());I.K_.B3(D.hB,D.hB.length-1,[w[g-1],q[O-1],w[g],q[O]]);
D.yn=!0}}else if(r.e=="reorder"){if(D.Xf.length==0)return;var t=D.hB,$=D.Xf;$.sort(function(V,X){return V-X});
console.log($);var i=t.slice(0),A=[],H=[];for(var P=0;P<$.length;P++){var F=$[P],T=t[F];H.push(T);i.splice(i.indexOf(T),1)}var _=Math.max(0,Math.min(i.length,$[0]-r.dir));
for(var P=0;P<H.length;P++){i.splice(_+P,0,H[P]);A.push(_+P)}D.hB=i;D.Xf=A}else if(r.e=="delete"){var t=D.hB.slice(0);
for(var P=0;P<D.Xf.length;P++)D.hB.splice(D.hB.indexOf(t[D.Xf[P]]),1);D.Xf=[]}else if(r.e=="deleteAll"){D.hB=[];
D.Xf=[]}else{D.hB[D.Xf[0]].v=r;D.yn=!0}this.vi(D)};I.K_.prototype.enable=function(r,j,D,N,b,Y){I.d5.prototype.enable.call(this,r,j,D,N,b,Y);
if(!D.Ar.hB){var x=new iu(y.E.V,!0);x.data={e:y.G.VD,Ek:e5.sR};j.g(x)}};I.K_.prototype.disable=function(){this.up=null;
this.tZ=null};I.K_.prototype.Ig=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=I.K_.U2(r.hB,Y);if(x==-1)return;
this.up=r;this.tZ=j;r.Xf=[x];r.yn=!0;if(this.Bk==null){this.Bk=new cW([{name:[5,4]},{name:[8,11,1],IC:!0}]);
this.Bk.X("select",this.kz,this)}var C=this.Bk;C.parent=j;C.h();C.update(r,D);var w=new iu(y.E.V,!0);
w.data={e:y.G.Eo,Z3:C,x:b.tu+2,y:b.rW+1};j.g(w)};I.K_.prototype.kz=function(r){var j=this.Bk.$r()[0],D=this.up;
if(j==0){this.Gy(D);D.hB.splice(D.Xf[0],1);D.Xf=[];D.yn=!0;this.vi(D)}if(j==1){var N=new iu(y.E.V,!0);
N.data={e:y.G.gl,SO:"soptions",m:D.hB[D.Xf[0]].v};this.tZ.g(N)}};I.K_.prototype.xR=function(r,j,D,N,b){if(r==null)return;
this.Gy(r);var Y=r.z.K$(b.x,b.y);Y=I.w8.RE(r,Y,D,[!0,null,!1]);Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
this.FY=Y;r.hB.unshift(I.K_.Ie());r.Xf=[0];I.K_.B3(r.hB,0,[Y.x,Y.y,Y.x+20,Y.y+20]);r.yn=!0};I.K_.prototype.Vt=function(r,j,D,N,b){if(this.gp==null)return;
var Y=r.z.K$(b.x,b.y),x=this.FY;Y=I.w8.RE(r,Y,D,[!0,null,!1]);Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
var C=[x.x,x.y,Y.x,Y.y];I.K_.Ik(C);I.K_.B3(r.hB,0,C);r.yn=!0};I.K_.prototype.rE=function(r,j,D,N,b){this.vi(r);
this.FY=null};I.K_.prototype.Gy=function(r){this.gp=JSON.stringify(r.hB);this.abL=JSON.stringify(r.Xf)};
I.K_.prototype.vi=function(r){var j=JSON.stringify(r.hB);if(j!=this.gp){var D=new ap(this.name,this);
D.data={ai:this.gp,ZJ:j,asr:this.abL,a7z:JSON.stringify(r.Xf)};r.vl(D)}this.gp=null};I.K_.prototype.B$=function(r,j){j.hB=JSON.parse(r.ai);
j.Xf=JSON.parse(r.asr);j.yn=!0};I.K_.prototype.Gf=function(r,j){j.hB=JSON.parse(r.ZJ);j.Xf=JSON.parse(r.a7z);
j.yn=!0};I.K_.prototype.IT=function(r,j){return j!=null&&j.Xf.length!=0&&(r==e4.rb||r==e4.SP)};I.K_.prototype.Uc=function(r,j,D,N){if(r==null)return;
if(N.o(e4.rb)||N.o(e4.SP))this.k_({e:"delete"},j,r,N,D);var b=N.ET();if(b.x!=0||b.y!=0){this.Gy(r);I.K_.tl(r,b);
this.vi(r)}};I.K_.prototype.cZ=function(r,j,D,N,b){};I.K_.aie=function(r,j,D,N){var b=new gJ(-j.x,-j.y),Y=j.d/D.d,x=j.r/D.r,C=[0,0,j.d,j.r];
for(var P=0;P<r.length;P++){var w=I.K_.KG(r,P);if(N){w[0]=Math.round(w[0]*Y);w[1]=Math.round(w[1]*x);
w[2]=Math.round(w[2]*Y);w[3]=Math.round(w[3]*x)}else{I.K_.hk(w,b);I.K_.aa0(w,C)}if(w[0]>=w[2]||w[1]>=w[3]){r.splice(P,1);
P--;continue}I.K_.B3(r,P,w)}};I.K_.tl=function(r,j){var D=r.hB;for(var P=0;P<r.Xf.length;P++){var N=I.K_.KG(D,r.Xf[P]);
I.K_.hk(N,j);I.K_.B3(D,r.Xf[P],N)}};I.K_.aa0=function(r,j){if(r[0]<j[0])r[0]=j[0];if(r[1]<j[1])r[1]=j[1];
if(j[2]<r[2])r[2]=j[2];if(j[3]<r[3])r[3]=j[3]};I.K_.hk=function(r,j){r[0]=Math.round(r[0]+j.x);r[2]=Math.round(r[2]+j.x);
r[1]=Math.round(r[1]+j.y);r[3]=Math.round(r[3]+j.y)};I.K_.B3=function(r,P,j){var D=r[P].v.bounds.v;D.Left.v=j[0];
D.Top.v=j[1];D.Rght.v=j[2];D.Btom.v=j[3]};I.K_.KG=function(r,P){var j=r[P].v.bounds.v;return[j.Left.v,j.Top.v,j.Rght.v,j.Btom.v,P]};
I.K_.Ik=function(r){if(r[2]<r[0]){var j=r[0];r[0]=r[2];r[2]=j}if(r[2]==r[0])r[2]++;if(r[3]<r[1]){var j=r[1];
r[1]=r[3];r[3]=j}if(r[3]==r[1])r[3]++};I.K_.mN=function(r,j){var D=1e9,N=-1e9,b=1e9,Y=-1e9;for(var P=0;
P<j.length;P++){var x=I.K_.KG(r,j[P]);D=Math.min(D,x[0]);b=Math.min(b,x[1]);N=Math.max(N,x[2]);Y=Math.max(Y,x[3])}return[D,b,N,Y]};
I.K_.Ie=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
I.E1=function(){I.K_.call(this,[10,41],I.kP,"tools/sselect");this.FY=null;this.ax=null;this.tx=null;
this.Yy=null;this.bI=!1};I.E1.prototype=new I.K_;I.E1.prototype.xR=function(r,j,D,N,b){if(r==null)return;
var Y=r.z.K$(b.x,b.y),x=I.E1.ek(Y,4/r.z.S,r.hB,r.Xf);x.pop();if(x.length!=0){this.FY=Y;this.tx=x;this.Gy(r);
return}var C=r.hB,w=I.K_.U2(C,Y);if(w==-1)r.Xf=[];else{var q=r.Xf.indexOf(w);if(N.o(e4.$P)){if(q==-1)r.Xf.push(w);
else r.Xf.splice(q,1)}else{r.Xf.sort(function(t,$){return t-$});if(q==-1)r.Xf=[w];this.FY=Y;this.Gy(r);
this.ax=I.K_.mN(C,r.Xf);this.Yy=[];for(var P=0;P<r.Xf.length;P++)this.Yy.push(I.K_.KG(C,r.Xf[P]));if(N.o(e4.YV)){var u=C.slice(0),h=r.Xf,z=[];
for(var P=0;P<h.length;P++){var w=h[P],O=u[w],g=C.indexOf(O);z.push(g);C.splice(g,0,JSON.parse(JSON.stringify(O)))}r.Xf=z}}}r.yn=!0};
I.E1.prototype.Vt=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);if(this.FY==null){var x=I.E1.ek(Y,4/r.z.S,r.hB,r.Xf),C=x.pop(),w=x.length==0?"default":["ew","nwse","ns","nesw"][C]+"-resize",q=new iu(y.E.V,!0);
q.data={e:y.G.C9,EA:w};j.g(q);return}if(!this.bI&&Y.gy(this.FY))return;this.bI=!0;var u=r.hB,x=this.tx;
if(x){Y=I.w8.RE(r,Y,D,[!0,null,!1]);var h=Math.round(Y.x),z=Math.round(Y.y);for(var P=0;P<x.length;P+=2){var O=I.K_.KG(u,x[P]),g=x[P+1];
O[g]=(g&1)==0?h:z;I.K_.Ik(O);I.K_.B3(u,x[P],O)}}else{var t=Y.I5(this.FY),$=this.ax.slice(0);I.K_.hk($,t);
var i=new bf($[0],$[1],$[2]-$[0],$[3]-$[1]),A=I.w8.E9(r,i,D,[!0,null,!1],!0);I.w8.ib(r,i,A);t.x+=A[0];
t.y+=A[1];for(var P=0;P<r.Xf.length;P++)I.K_.B3(u,r.Xf[P],this.Yy[P]);I.K_.tl(r,t)}r.yn=!0};I.E1.prototype.rE=function(r,j,D,N,b){if(this.FY==null)return;
this.vi(r);r.I.EY=null;r.yn=!0;this.FY=null;this.tx=null;this.Yy=null;this.bI=!1};I.E1.ek=function(r,j,D,N){var b=r.x,Y=r.y,x=[],C=-1,w=[];
for(var P=0;P<N.length;P++){var q=N[P],u=I.K_.KG(D,q),h=u[0],z=u[1],O=u[2],g=u[3];if(b<h-j||O+j<b||Y<z-j||g+j<Y)continue;
var t=[b<h+j,Y<z+j,O-j<b,g-j<Y],$=-1;for(var i=0;i<4;i++){if(t[i]&&t[i+1&3])$=1+2*(i&1);if(t[i])x.push(q,i)}if($==-1){if(t[0]||t[2])$=0;
if(t[1]||t[3])$=2}if($!=-1){C=$;w.push(q)}}var A=x.length;for(var P=0;P<A;P+=2){var q=x[P],H=x[P+1],F=I.K_.KG(D,q)[H];
for(var i=0;i<N.length;i++){var T=N[i];if(w.indexOf(T)!=-1)continue;var u=I.K_.KG(D,T);if(u[H&1]==F)x.push(T,H&1);
if(u[2+(H&1)]==F)x.push(T,2+(H&1))}}x.push(C);return x};I.JS=function(){I.Vm.call(this,[10,44],I.a9g,"tools/oselect");
this.ND="crosshair";this.aba=0};I.JS.prototype=new I.Vm;I.JS.prototype.uo=function(r,j,D,N){if(Math.random()<1/(1+this.aba)){alert("The cross should be fully inside the object.",3500);
this.aba++}};I.JS.prototype.yN=function(r,j,D,N){I.LP.li(r,I.Vm.j5,this.tZ);if(!N.XS||!this.b6)return;
var b=this.q7(r,D,!1),Y=b.d,x=b.r,C=b.x,w=b.y,q=b.x+Y,u=b.y+x,h=C+Y/2,z=w+x/2,O=I.JS.w2;r.I.M3={v:[C,w,q,w,q,u,C,u,h-Y*O,z,h+Y*O,z,h,z-x*O,h,z+x*O],J:"M L L L Z M L M L".split(" ")};
r.yn=!0};I.JS.w2=.12;I.JS.prototype.BS=function(r,j,D,N){r.I.M3=null;r.yn=!0;this.finish(r,j,D,N)};I.JS.prototype.getSelection=function(r,j,D,N){if(this._D.gy(this.Wg)||!this.b6)return null;
var b=this.q7(r,D,!1),Y=r.j[r.R[0]];if(b.jE()||!b.CI(Y.rect))return null;return I.Vm.a8("ObSl",b)};I.LP=function(){I.oi.call(this,[10,37],I.lf,"tools/qselect");
this.Qp="qselect"};I.LP.prototype=new I.oi;I.LP.prototype.xR=function(r,j,D,N,b){this.Zq(r,D,N,b,1);
if(this.ZY==null)return;this.sb(r)};I.LP.prototype.Vt=function(r,j,D,N,b){this.Rs(r,j,D);I.LP.li(r,I.Vm.j5,j);
if(this.kl)this.rf(r,D,b);if(this.ZY==null)return;if(!b.XS)return;var Y=this.KF(r,D,N,b);if(Y!=1)this.sb(r)};
I.LP.li=function(r,j,D){if(r&&j.key!=I.LP.YK(r)){j.key=I.LP.YK(r);var N=r.j[r.R[0]].rect.Z(),Y="Image Analysis ...";
if(N==0)return;var b=N>1e6,x=new iu(y.E.V,!0);x.data={e:y.G.P1,lT:Y};if(b)D.g(x);setTimeout(function(){var C=I.LP.dB(r);
for(var w in C)j[w]=C[w];var x=new iu(y.E.V,!0);x.data={e:y.G.BW,lT:Y};if(b)D.g(x)},30)}};I.LP.YK=function(r){var j=r.R[0],D=r.j[j],N=D.rect,b=N.d,Y=N.r,x=b*Y,C=D.buffer;
return[j,N.x,N.y,b,Y,C[0],C[1],C[2],C[3]].join(",")};I.LP.dB=function(r){var j=r.R[0],D=r.j[j],N=D.rect,b=N.d,Y=N.r,x=b*Y,C=D.buffer,w=Date.now(),q=R.O(x);
q.fill(128);var u=R.Dh.fu(C,b,Y);console.log(Date.now()-w);var h={key:I.LP.YK(r),zf:C,rect:N.clone(),oW:b,qg:Y,BM:12,ajn:!1,nO:q,XK:u,c:R.O(x),KS:null,Hw:null,yK:null};
I.LP.T0(h);return h};I.LP.T0=function(r,j){var D=r.oW,N=r.qg,b=0,Y=0,x=Date.now(),C=r.KS!=null&&R.Dh.adU(r.XK.BX,r.KS.BX,r.KS.YM,r.nO);
b=Date.now()-x;x=Date.now();if(!C&&!r.ajn){r.KS=R.Dh.kU(r.XK,D,N,r.nO,r.BM);if(!R.Dh.adU(r.XK.BX,r.KS.BX,r.KS.YM,r.nO)){r.ajn=!0;
console.log("conflict")}r.Hw=R.Dh.a0w(r.zf,D,N,r.KS.BX,r.KS.YM);r.yK=[r.Hw[0].slice(0),[]];Y=Date.now()-x;
x=Date.now()}var x=Date.now();if(j){r.yK[0].set(r.Hw[0]);var w=r.Hw[1],q=r.yK[1];for(var u=0;u<w.length;
u++)q[u]=w[u].slice(0);R.Dh.a8X(r.KS.BX,D,N,r.KS.YM,r.nO,r.c,r.yK)}};I.qT=function(){I.d5.call(this,"Artboard Tool",I.E_,"tools/artb");
this.akG=!1;this.EF=null;this.H6=!1;this.a8B=null;this.nQ=100;this.RQ=null};I.qT.prototype=new I.d5;
I.qT.t9=function(r,j){var D=r[0],N=0,b=0;if(D==0)b=-1;else if(D==1)N=1;else if(D==2)b=1;else N=-1;return[20/j.dW,r[1]+N*60/j.dW,r[2]+b*60/j.dW]};
I.qT.prototype.Qq=function(r,j,D,N){if(D.Uy!=this.id)return;if(r==null||r.R.length!=1){this.lZ(r);return}var b=r.R[0],Y=r.j[b],x=Y.add.artb;
if(x==null){this.lZ(r);return}if(this.H6)return;var C=Y.tT(),w=R.K.rR(C).v,q=this.EF=new ab(w,!0,!1,!1,!0,!1,3,!1);
q.FI(r,D,!1);var u={v:[1,0],J:["M"]};for(var P=1;P<30;P++){var h=Math.PI*2*P/30;u.v.push(Math.cos(h),Math.sin(h));
u.J.push("L")}u.J.push("Z","M","L","M","L");u.v.push(-.5,0,.5,0,0,-.5,0,.5);var z=C.x+C.d/2,O=C.y+C.r/2,g=this.nQ*1.1,t=this.a8B=[z,C.y,C.x+C.d,O,z,C.y+C.r,C.x,O],$=[0,-g,g,0,0,g,-g,0],i=r.root.children;
r.I.IM=[];for(var P=0;P<4;P++){var A=new gJ(t[P*2]+$[P*2],t[P*2+1]+$[P*2+1]),H=!1;for(var F=0;F<i.length;
F++){var Y=i[F].n;if(Y.add.artb==null)continue;var C=Y.tT();if(C.yZ(A))H=!0}if(H){t[P*2]=1e9;continue}r.I.IM.push([P,t[P*2],t[P*2+1]])}};
I.qT.prototype.disable=function(r,j,D,N,b){this.lZ(r)};I.qT.prototype.lZ=function(r){if(this.EF){this.EF.clear(r);
this.EF=null;r.I.IM=null}};I.qT.prototype.xR=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=this.EF;if(x){var C=new iu(y.E.w),w=x.G4(null,Y,r.z.S);
if(w<9){this.H6=x.xR(r,D,N,Y,null,!0);return}else if(x.rC(Y)){C.k=I.t3;C.data={e:"disabAuto"};j.g(C);
var q=new iu(y.E.V);q.data={e:y.G.T$,k:I.t3,a1I:!0};j.g(q);return}else{var u=-1,h=r.I.IM;for(var P=0;
P<h.length;P++){var z=I.qT.t9(h[P],r.z);if(gJ.tA(Y,new gJ(z[1],z[2]))<z[0])u=h[P][0]}if(u!=-1){var O=r.j[r.R[0]].tT(),g=O.clone(),t=(u==0||u==2?O.r:O.d)+this.nQ;
if(u==0||u==3)t=-t;if(u==0||u==2)O.y+=t;else O.x+=t;if(N.o(e4.YV)){C.k=I.C5;C.data={e:G.b7};j.g(C);I.w8.oX(r,r.FP(null,r.R[0],null,!0),null,O.x-g.x,O.y-g.y);
I.rh.Dw(r)}else this.ua(r,O,j);return}}}this.RQ=I.w8.RE(r,Y,D)};I.qT.prototype.ua=function(r,j,D){var N=r.j.slice(0),b=[r.j.length+1],Y=r.Xp();
Y.Lp("Artboard "+(r.root.children.length+1));Y.add.lsct=bH.nV;Y.OD(j);Y.yp="pass";Y.Qk=24;if(r.add.artd||j.su(new bf(0,0,r.d,r.r)).jE())N.push(r.Hc());
else N.unshift(r.Hc());N.push(Y);var x=new iu(y.E.w);x.k=I.C5;x.data={e:G.Dg,uJ:N,OI:b,NL:"New Artboard"};
D.g(x)};I.qT.prototype.Vt=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=this.EF,C=this.RQ;if(x){if(this.H6){x.Vt(r,D,N,Y)}else{var w=x.kj(Y,r.z.S);
if(w==null)w="default";var q=new iu(y.E.V,!0);q.data={e:y.G.C9,EA:w};j.g(q)}}if(C){var u=this.KG(r,Y,N,D);
r.I.M3=R.K.rR(u);r.yn=!0;I.d5.Mh(b.x+10,b.y-10,u,r,D)}};I.qT.prototype.rE=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y),x=this.RQ;
if(this.H6){this.EF.rE(r,D,N,Y);this.H6=!1;var C=R.K.v_(this.EF.FA()),w=G.gn(C),q=r.j[r.R[0]],u=JSON.parse(JSON.stringify(q.add.artb));
u.artboardRect.v=w;var h=new iu(y.E.w,!0);h.k=I.C5;h.data={e:G.gh,C3:u};j.g(h)}if(x){var z=this.KG(r,Y,N,D);
if(z.Z()>20)this.ua(r,z,j);r.I.M3=null;r.yn=!0;this.RQ=null;r.I.Js=[]}};I.qT.prototype.KG=function(r,j,D,N){var b=this.RQ,Y=I.w8.RE(r,j,N),x=I.UC.hW(b,Y,D,!0);
b=x[0];Y=x[1];return R.K.v_([b.x,b.y,Y.x,Y.y])};function ab(r,j,D,N,b,Y,x,C){this.zE=null;this.qE=r?r.slice(0):null;
this.c0=4;this.Wg=null;this.tO=null;this.CZ=null;this.kS=-1;this.gM=null;this.a3W=!1;this.a4O=[];for(var P=0;
P<8;P++)this.a4O.push(aP.af6(0,PIMG.rotate,-.5,-.5,-45-P*45));this.afL=j;this.apT=D;this.aea=N;this.a4Z=b;
this.fK=Y;this.Y3=x;this.aoy=C==null?1:C}ab.prototype.bi=function(){return this.kS!=-1};ab.prototype.FA=function(){return this.qE.slice(0)};
ab.prototype.Nr=function(r){this.qE=r};ab.prototype.aoG=function(){return this.k7(this.qE)};ab.prototype.a3K=function(){return this.c0};
ab.prototype.aaa=function(r){this.c0=r};ab.prototype.dl=function(r){if(r==null)r=this.qE;if(this.c0==9)return this.Wg;
else return this.k7(r)[this.c0]};ab.prototype.a5Y=function(r){if(this.c0==9)this.Wg=r.clone();else{var j=this.dl(),D=new j9(1,0,0,1,r.x-j.x,r.y-j.y);
R.K.F(this.qE,D,this.qE)}};ab.prototype.kj=function(r,j,D){var N=this.G4(null,r,j),b;if(N==9)return"default";
if(N==10){if(D)return null;return!this.afL?"move":null}if(N==-1||N==4)return null;if(N==11){var Y=this.dl().I5(r);
b=90-Math.atan2(Y.y,Y.x)*180/Math.PI;var x=Math.round(8*(b/360));x=(x+8)%8;return this.a4O[x]}else{var C=this.Qd(r,this.qE);
b=[135,90,45,180,0,0,225,270,315][N];var w=R.t.xk(this.qE);b+=Math.atan2(-w[3],w[0])*180/Math.PI;var q="ew nesw ns nwse ew nesw ns nwse".split(" "),x=Math.round(8*(b/360));
x=(x+8)%8;return q[x]+"-resize"}};ab.prototype.Qd=function(r,j){var D=R.t.gq(R.t.xk(j)),N=new Float64Array(2);
R.t.VP(r.x,r.y,D,N);return new gJ(N[0],N[1])};ab.prototype.rC=function(r){var j=this.Qd(r,this.qE);return 0<=j.x&&j.x<=1&&0<=j.y&&j.y<=1};
ab.prototype.xR=function(r,j,D,N,b,Y){this.a3W=Y;this.gM=N;var x=r.z.S,C;if(this.qE==null)N=I.w8.RE(r,N,j);
this.CZ=N.clone();if(this.qE==null){this.CZ.offset(1,1);var w=b==null?1:1/b;this.qE=[N.x,N.y,N.x+1,N.y,N.x+1,N.y+w,N.x,N.y+w];
C=8}else{C=this.G4(D,N,x);if(0<=C&&C<=8)this.CZ=this.k7(this.qE)[C];if(C==9){this.c0=9;this.Wg=N.clone()}}this.zE=this.qE.slice(0);
this.kS=C;this.FI(r,j);this.tO=this.dl();return C!=-1};ab.prototype.G4=function(r,j,D){var N=-1,b=this.k7(),Y=6*y.f()/D;
if(N==-1)if(gJ.tA(this.dl(),j)<Y)N=9;if(N==-1)for(var P=0;P<b.length;P++)if(P!=4&&gJ.tA(b[P],j)<Y)N=P;
if(N==-1&&r&&r.o(e4.YV))N=9;if(N==-1||this.Y3==4){if(this.rC(j)){if(this.afL)N=10}else{var x=this.Qd(j,this.qE),C=new bf(0,0,1,1);
C.Fp(.2,.2);N=C.yZ(x)&&this.Y3!=3?11:10}}return N};ab.prototype.Vt=function(r,j,D,N){if(this.kS==-1)return;
this.gM=N;var b=D.o(e4.$P),Y=D.o(e4.YV),x=D.o(e4.h6),C=r.z.S,w=this.CZ,q=this.kS,u=this.k7(),h=I.w8.RE(r,w,j),z=I.w8.RE(r,N,j),O,g;
if(q==9){var u=this.k7(),t=-1;for(var P=0;P<u.length;P++)if(gJ.tA(u[P],z)*C<10)t=P;this.c0=t==-1?9:t;
this.Wg=b?I.GY.dt(h,z):z.clone()}else if(q==10){g=R.K.mN(this.zE);var $=g.x,i=g.y;g.offset(N.x-w.x,N.y-w.y);
if(this.en()){g.x=Math.round(g.x);g.y=Math.round(g.y)}O=I.w8.E9(r,g,j);var A=new j9(1,0,0,1,g.x-$+O[0],g.y-i+O[1]);
R.K.F(this.zE,A,this.qE)}else if(q==11){var H=this.dl(this.zE),F=H.I5(N),T=H.I5(w),_=Math.atan2(F.y,F.x),V=Math.atan2(T.y,T.x),A=new j9(1,0,0,1,-H.x,-H.y),X=Math.PI/12;
if(b)A.rotate(Math.round((V-_)/X)*X);else A.rotate(V-_);A.translate(H.x,H.y);R.K.F(this.zE,A,this.qE)}else{var o,c=this.zE,E=q==0||q==2||q==6||q==8;
if(this.Y3==1){if(E)b=Y=x=!0}else if(this.Y3==2&&E&&this.a3W!=!0)x=!0;if(this.Y3==3)x=!1;if(this.aea&&E&&x){var P=[0,0,2,0,0,0,6,0,4,0][q],f=-1,d=z.x,s=z.y;
if(b){var B=P+6&7,a=P+10&7,U=ab.$0(c[P],c[P+1],c[B],c[B+1],z.x,z.y),M=ab.$0(c[P],c[P+1],c[a],c[a+1],z.x,z.y),W=U[2]<M[2]?U:M;
d=W[0];s=W[1];if(Y)f=U[2]<M[2]?B:a}else if(Y)f=P+4&7;o=c.slice(0);if(f!=-1){var n=c[f],e=c[f+1],Q=(c[P]+n)/2,J=(c[P+1]+e)/2;
o[f]=Q-(d-Q);o[f+1]=J-(s-J)}o[P]=d;o[P+1]=s}else if(E&&Y){var H=this.tO,m=H.x,p=H.y,L=h.x-m,S=h.y-p,eJ=1,hy=1;
if(Math.abs(L)>=1)eJ=(z.x-m)/L;if(Math.abs(S)>=1)hy=(z.y-p)/S;if(b||this.fK)eJ=hy=(eJ+hy)/2;var v=new j9;
v.translate(-m,-p);v.scale(eJ,hy);v.translate(m,p);o=c.slice(0);R.K.F(o,v,o)}else{if(this.en()){z.x=Math.round(z.x);
z.y=Math.round(z.y)}var ff=[0,1,2,5,8,7,6,3],K=ff[(ff.indexOf(q)+4)%8],jo=[];for(var P=0;P<3;P++)for(var f=0;
f<3;f++)jo.push(new gJ(f/2,P/2));var H=this.tO,g5=this.Qd(z,c),fQ=this.Qd(w,c),iT=Y&&(this.c0==4||this.c0==9)?this.Qd(H,c):jo[K],ac=new j9,aR=new j9,eJ=(g5.x-iT.x)/(fQ.x-iT.x);
if(eJ==0)eJ=1e-4;var hy=(g5.y-iT.y)/(fQ.y-iT.y);if(hy==0)hy=1e-4;if(this.a4Z){eJ=Math.max(eJ,0);hy=Math.max(hy,0)}if(q==0||q==2||q==6||q==8){if(b||this.fK)ac.scale(eJ,eJ);
else ac.scale(eJ,hy)}if(q==1||q==3||q==5||q==7){var hV=this.fK;if(q==1||q==7)ac.scale(hV?hy:1,hy);else ac.scale(eJ,hV?eJ:1);
if(this.apT&&x){if(q==1||q==7)aR.Jy=(g5.x-iT.x)/(g5.y-iT.y);else aR.M=(g5.y-iT.y)/(g5.x-iT.x)}}var v=new j9;
v.translate(-iT.x,-iT.y);v.concat(ac);v.concat(aR);v.translate(iT.x,iT.y);o=[0,0,1,0,1,1,0,1];R.K.F(o,v,o);
var W=R.t.xk(c);R.t.F(W,o)}if(ab.X4(o))this.qE=o}this.FI(r,j);if(O)I.w8.ib(r,g,O)};ab.$0=function(r,j,D,N,b,Y){var x=D-r,C=N-j,w=b-r,q=Y-j,u=x*x+C*C,h=w*x+q*C,z=h/u,O=r+z*x,g=j+z*C,t=b-O,$=Y-g;
return[O,g,Math.sqrt(t*t+$*$)]};ab.prototype.en=function(){var r=this.qE;return Math.abs(r[1]-r[3])<1e-6&&Math.abs(r[2]-r[4])<1e-6||Math.abs(r[0]-r[2])<1e-6&&Math.abs(r[3]-r[5])<1e-6};
ab.X4=function(r){return R.K.CC(r)||R.K.CC([r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]])};ab.prototype.rE=function(r,j,D,N){this.kS=-1;
this.gM=null;r.I.EY=null;r.I.Js=[];r.yn=!0};ab.prototype.Uc=function(r,j,D){var N=D.ET();if(N.x||N.y){var b=new j9(1,0,0,1,N.x,N.y);
R.K.F(this.qE,b,this.qE);this.FI(r,j);return!0}return!1};ab.prototype.k7=function(r){if(r==null)r=this.qE;
var j=r[6]-r[0],D=r[7]-r[1],N=r[4]-r[2],b=r[5]-r[3],Y=[r[0],r[1],r[2],r[3],r[0]+j/2,r[1]+D/2,r[2]+N/2,r[3]+b/2,r[6],r[7],r[4],r[5]],x=[];
for(var P=0;P<3;P++){var C=P*4,w=Y[C+0],q=Y[C+1],u=Y[C+2],h=Y[C+3];x.push(new gJ(w,q));x.push(new gJ(w+(u-w)/2,q+(h-q)/2));
x.push(new gJ(u,h))}return x};ab.prototype.FI=function(r,j,D){if(D==null)D=!1;var N=this.k7(),b=N[0],Y=N[2],x=N[6],C=N[8];
r.I.M3={J:[],v:[]};r.I.M3.J.push("M","L","L","L","Z");r.I.M3.v.push(b.x,b.y,Y.x,Y.y,C.x,C.y,x.x,x.y);
var w=this.aoy;if(w>1){var q=Y.I5(b),u=x.I5(b),h=C.I5(Y),z=C.I5(x);for(var P=1;P<w;P++){r.I.M3.J.push("M","L","M","L");
var O=P/w;r.I.M3.v.push(b.x+q.x*O,b.y+q.y*O,x.x+z.x*O,x.y+z.y*O);r.I.M3.v.push(b.x+u.x*O,b.y+u.y*O,Y.x+h.x*O,Y.y+h.y*O)}}r.z.h0=new bf(0,0,gJ.tA(N[0],N[2]),gJ.tA(N[0],N[6]));
if(this.kS!=-1&&this.kS<9&&this.gM){var g=r.z.lY(this.gM.x,this.gM.y);I.d5.Mh(g.x+10,g.y-10,r.z.h0,r,j)}if(!D){r.I.D$=[];
for(var P=0;P<N.length;P++)if(P!=4)r.I.D$.push(N[P].x,N[P].y);var t=this.dl();r.I.D$.push(t.x,t.y)}r.yn=!0};
ab.prototype.clear=function(r){r.z.h0=null;r.I.EY=null;r.I.M3=null;r.I.D$=[];r.yn=!0};function jj(r,j){this.s_=null;
this.kS=-1;this.J7(r)}jj.prototype.sS=function(){return JSON.parse(JSON.stringify(this.s_))};jj.prototype.J7=function(r){this.s_=JSON.parse(JSON.stringify(r))};
jj.prototype.rC=function(r){return!0};jj.prototype.kj=function(r,j){var D=this.G4(r,j);if(D==-1)return"default";
return"pointer"};jj.prototype.xR=function(r,j,D,N){this.kS=this.G4(N,r.z.S);return this.kS!=-1};jj.prototype.G4=function(r,j){var D=this.eM(),N=-1,b=1e6;
for(var P=0;P<D.length;P++){var Y=gJ.tA(D[P],r);if(Y<b){N=P;b=Y}}return b<20*y.f()/j?N:-1};jj.prototype.Vt=function(r,j,D,N){if(this.kS==-1)return;
var b=r.z.S,Y=this.kS,x=R.s_.MM(this.s_);x[Y*2]=N.x;x[Y*2+1]=N.y;R.s_.g9(x,this.s_)};jj.prototype.rE=function(r,j,D,N){this.kS=-1;
r.yn=!0};jj.prototype.Uc=function(r,j,D){var N=D.ET();if(N.x||N.y){var b=new j9(1,0,0,1,N.x,N.y);R.K.F(this.qE,b,this.qE);
this.FI(r)}};jj.prototype.eM=function(r){var j=R.s_.MM(this.s_),D=[];for(var P=0;P<j.length;P+=2)D.push(new gJ(j[P],j[P+1]));
return D};jj.prototype.FI=function(r){var j=this.eM();r.I.M3={J:[],v:[]};r.I.M3.J.push("M","C","C","C","C");
var D=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var P=0;P<D.length;P++)r.I.M3.v.push(j[D[P]].x,j[D[P]].y);
r.I.M3.J.push("M","L","L","M","L","L","M","L","L","M","L","L");D=[4,0,1,2,3,7,11,15,14,13,12,8];for(var P=0;
P<D.length;P++)r.I.M3.v.push(j[D[P]].x,j[D[P]].y);r.I.D$=[];for(var P=0;P<j.length;P++)r.I.D$.push(j[P].x,j[P].y);
r.yn=!0};jj.prototype.clear=function(r){r.I.M3=null;r.I.D$=[];r.yn=!0};function eV(){this.wr=!1;this.qu=!1;
this.aaM=!1;this.aqP=!1;this.X3=!1;this.de=!1;this.Sd=0;this.Uo=0}eV.prototype.xR=function(r){this.wr=!0;
this.qu=!1;this.X3=r.o(e4.$P);this.de=r.o(e4.YV);this.Sd=this.X3?0:1;this.Uo=this.de?0:1};eV.prototype.Uc=function(r){var j=this.aqP=r.o(e4.$P),D=this.aaM=r.o(e4.YV);
if(this.qu){if(this.Sd==0&&!j)this.Sd++;if(this.Sd==1&&j)this.Sd++;if(this.Uo==0&&!D)this.Uo++;if(this.Uo==1&&D)this.Uo++}};
eV.prototype.Vt=function(){this.qu=!0};eV.prototype.rE=function(){this.wr=!1};eV.prototype.dG=function(P){if(P==0)return this.wr?this.de:this.aaM;
if(P==1)return this.qu?this.Uo==2:!1};eV.prototype.eP=function(P){if(P==0)return this.wr?this.X3:this.aqP;
if(P==1)return this.qu?this.Sd==2:!1};var f1={};f1.Go=function(r){this.id=r;this.tZ=null};f1.Go.prototype.k_=function(r,j,D,N,b){};
f1.Go.prototype.Gf=function(r,j){};f1.Go.prototype.B$=function(r,j){};f1.Go.prototype.track=function(r){var j=new iu(y.E.PN,!0);
j.data=r;r.Vo=!0;this.tZ.g(j)};f1.History=function(){f1.Go.call(this,I.cu);this.ck=!0;this.af2=0};f1.History.prototype=new f1.Go;
f1.History.prototype.k_=function(r,j,D,N){D._P=!0;if(r.e=="h_itemchange"){if(r.index<D.Kx)for(var P=D.Kx;
P>r.index;P--)this.lE(D);if(r.index>D.Kx)for(var P=D.Kx;P<r.index;P++)this.RY(D)}if(r.e=="h_stepfwd")this.RY(D);
if(r.e=="h_stepbck")this.lE(D);if(r.e=="h_undoredo"){var b=this.ck||this.af2!=D.Kx;if(b){this.lE(D);
b=!1}else{this.RY(D);b=!0}this.ck=b;this.af2=D.Kx}else this.ck=!0};f1.History.prototype.lE=function(r){if(r.Kx==0)return;
var j=r.history[r.Kx];j.k.B$(j.data,r);r.Kx--};f1.History.prototype.RY=function(r){if(r.Kx==r.history.length-1)return;
var j=r.history[r.Kx+1];j.k.Gf(j.data,r);r.Kx++};f1.c5=function(){f1.Go.call(this,I.C5);this.tZ=null};
f1.c5.prototype=new f1.Go;f1.c5.prototype.k_=function(r,j,D,N,b){this.tZ=j;var Y=r.e,x=r.n!=null?r.n:D.R.length!=0?D.R[0]:D.j.length-1,C=D.j[x];
D.DW=!0;var w=N.o(e4.YV),q=N.o(e4.$P),u=N.o(e4.h6);if(Y==G.DQ&&D.c==null)Y=G.b7;if(Y==G.qi){var h=new ap([6,33],this),z=C.iO()?["pass"].concat(by.n4):by.n4,O=z[r.aS],g=r.n!=null?[r.n]:D.R,t=JSON.stringify(g),$=[];
for(var P=0;P<g.length;P++)$.push(D.j[g[P]].yp);h.data={e:Y,bB:t,sO:$,aS:O};D.vl(h);this.Gf(h.data,D);
this.track(dA.zt("Md",{t:"enum",v:{BlnM:by.B9(O)}}))}if(Y==G.e9){var h,i=D.Nt(),g=r.n!=null?[r.n]:D.R,t=JSON.stringify(g);
if(i&&i.data&&i.data.e==Y&&i.data.bB==t)h=i;else{var A=dA.zt("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(A);var $=[];for(var P=0;P<g.length;P++)$.push(D.j[g[P]].opacity);h=new ap([6,32],this);h.data={e:Y,bB:t,sO:$,aS:r.aS,Eh:A.Q4};
D.vl(h)}h.data.aS=r.aS;h.data.Eh.T.v.Opct.v.val=Math.round(r.aS*100/255);this.Gf(h.data,D)}if(Y==G.Q1){if(C.add.iOpa==null)C.add.iOpa=255;
var h,i=D.Nt();if(i&&i.data&&i.data.e==Y&&i.data.n==x)h=i;else{h=new ap("Fill Opacity Change",this);
h.data={e:Y,n:x,sO:C.add.iOpa,aS:r.aS};D.vl(h)}h.data.aS=r.aS;this.Gf(h.data,D)}if(Y==G.oM){var H=r.aS,F=r.n!=null?[r.n]:D.R.slice(0),T=[],_=[],h;
for(var V=0;V<F.length;V++){var X=D.j[F[V]];if(X.add.lspf==null)X.add.lspf=0;var $=X.add.lspf,O=$;for(var P=0;
P<H[0].length;P++){var o=H[1][P],c=1<<o;if((O&c)==0&&H[0][P])O^=c;else if((O&c)!=0&&!H[0][P])O^=c}T.push($);
_.push(O)}var i=D.Nt(),g=JSON.stringify(F);if(i&&i.data&&i.data.e==Y&&JSON.stringify(i.data.bB)==g){h=i;
h.data.aS=_}else{var h=new ap([6,57,1],this);h.data={e:Y,bB:g,sO:T,aS:_};D.vl(h)}this.Gf(h.data,D)}if(Y==G.Ec){var E="----",f=r.TH,O=null;
for(var P=0;P<h0.BO.u4.length;P++)if(C.add[h0.BO.u4[P]])E=h0.BO.u4[P];var d=C.add[E];if(f=="TySh")O=cU.WJ(50,50,b.k$);
var h=new ap("Layer Type",this);h.data={e:Y,n:x,aqC:[E,d],TH:[f,O]};D.vl(h);this.Gf(h.data,D)}if(Y==G.T6){var F=[];
if(w){var s=D.Nt(),B=s?s.data:null;if(s!=null&&s.k==this&&B.e==G.T6&&B.bB.length!=1){var a=new iu(y.E.w);
a.k=I.cu;a.data={e:"h_stepbck"};j.g(a);if(B.n==x)return}var U=D.root.nj(x),M=D.FP(null,x);while(U.parent!=D.root){M.push(U.parent.index);
U=U.parent}for(var P=0;P<D.j.length;P++){var W=D.j[P],n=W.Xy(),e=M.indexOf(P)!=-1;if(!e&&n)F.push(P);
if(P==x&&!n)F.push(P)}}else{F.push(x);var n=D.j[x].Xy(),A={sv:n?"hide":"show",Q4:{classID:n?"Hd":"Shw",null:{t:"VlLs",v:[dA.W4("Lyr",!0)]}}};
this.track(A)}var h=new ap("Layer visibility",this,!0);h.data={e:Y,bB:F,n:x};D.vl(h);this.Gf(h.data,D)}if(Y==G.GO){var Q=r.ana,J=r.K9,L,escape=!1,ff=!1;
if(r.ame){if(u&&(J==0||J==1||J==2)){var m=0;if(q)m++;if(w)m+=2;var p=new iu(y.E.w,!0);p.k=I.Fx;p.data={e:"fromlayer",oO:[r.n,J,m]};
j.g(p);return}}var A={sv:"select",Q4:{classID:"null",MkVs:{t:"bool",v:!1}}};if(D.z.Cs.join("")!="111"){D.z.Cs=[1,1,1];
D.yn=!0}for(var P=0;P<D.j.length;P++){var W=D.j[P],S=W.add.vmsk;if(W.ri()){var eJ=W.dw(D);if(eJ&&eJ.B&&eJ.B.zo){eJ.B.zo=!1;
D.yn=!0}}var v=W.BG();if(v&&v.zo){v.zo=!1;D.yn=!0}if(S){if(S.R.length!=0)S.R=[];if(S.cW.length!=0)S.cW=[]}}if(N.o(e4.h6)||r.ab_==0){var K=D.R.indexOf(x);
if(K==-1)D.R.push(x);else if(D.R.length>1)D.R.splice(K,1);D.R.sort(function(h,cO){return h-cO});A.Q4.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
L=x}else if(q&&!w&&J>0){Y=J==1?G.LA:J==2?G.t0:G.lI;escape=!0}else if((q||r.ab_==1)&&D.R.length>0){var jo=Math.min(x,D.R[0]),g5=Math.max(x,D.R[D.R.length-1]);
D.R=[];for(var P=jo;P<=g5;P++)if(D.j[P].add.lsct!=bH.ym)D.R.push(P);A.Q4.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
L=x}else{L=x;var W=D.j[x];if(W&&W.iO()&&r.ak7)W.add.lsct=bH.nV;else if(D.R.length==1&&D.R[0]==x&&J==W.Cz){ff=!0}if(!ff){D.R=[x];
D.ZS()}}if(!ff){if(L!=null&&L<D.j.length){A.Q4.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:D.j[L].getName()}}]},this.track(A)}if(!escape){console.log("no escape");
if(D.R.length==1){var fQ=D.R[0];for(var P=0;P<D.j.length;P++){if(P==fQ)continue;var X=D.j[P];X.Cz=0;
X.fh=!1}var C=D.j[fQ];if(J==2){C.fh=!C.fh;D.rO=[]}else if(C){C.Cz=J<=0?0:J}}else for(var P=0;P<D.j.length;
P++){var X=D.j[P];X.Cz=0;X.fh=!1}D.m$=null;D._P=!0}}if(r.ame&&w){if((J==1||J==3)&&Q!=null){var p=new iu(y.E.w,!0);
p.k=I._h;p.data={e:"mskView",m:Q!=0?0:q?1:2};j.g(p)}else{this.k_({e:G.x0,n:r.n},j,D,N,b)}}}if(Y==G.LA||Y==G.lI){var iT=Y==G.LA,ac=iT?C.BG():C.dw(D).B;
if(ac==null)return;var h=new ap(ac.isEnabled?iT?[6,15]:[6,42]:iT?[6,14]:[6,41],this);h.data={e:Y,n:x};
D.vl(h);this.Gf(h.data,D)}if(Y==G.t0){var ac=C.add.vmsk;if(ac==null)return;var h=new ap(ac.isEnabled?[6,17]:[6,16],this);
h.data={e:Y,n:x};D.vl(h);this.Gf(h.data,D)}if(Y==G.qz){var aR=C.add.lsct==bH.nV?bH.$w:bH.nV;if(N.o(e4.h6)){var hV=D.root.nj(D.j.indexOf(C)).parent;
for(var P=0;P<hV.children.length;P++){var cu=hV.children[P].n;if(cu.iO())cu.add.lsct=aR}}else C.add.lsct=aR;
D._P=!0}if(Y==G.x0){if(!D.zF(x))return;var h=new ap(C._V?[6,19]:[6,18],this);h.data={e:Y,n:x};D.vl(h);
if(r.aS==null||r.aS!=C._V)this.Gf(h.data,D);this.track({sv:"groupEvent",Q4:{classID:"GrpL",null:{t:"obj ",v:[dA.W4("Lyr",!0)]}}})}if(Y==G.GF){if(C.px())C.Qk-=32;
else C.Qk+=32;D._P=!0}if(Y==G.NE||Y==G.oL){var h;if(Y==G.NE)h=new ap(C.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(Y==G.oL)h=new ap(C.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);h.data={e:Y,n:x};D.vl(h);this.Gf(h.data,D)}if(Y==G.Gh||Y==G.Ee){var fQ=r.index,h;
if(Y==G.Gh)h=new ap(C.add.lmfx[hz.l9[fQ[0]]].v[fQ[1]].v.enab.v?[6,30]:[6,29],this);if(Y==G.Ee)h=new ap(C.add.SoLd.filterFX.v.filterFXList.v[fQ].v.enab.v?[6,44]:[6,43],this);
h.data={e:Y,n:x,index:r.index};D.vl(h);this.Gf(h.data,D)}if(Y==G.bu){if(r.src==r.q5)return;var iy=D.j[r.src],gr=D.j[r.q5],cp=iy.add.lmfx?JSON.stringify(iy.add.lmfx):"",gP=gr.add.lmfx?JSON.stringify(gr.add.lmfx):"";
if(gr.add.lmfx==null){gr.add.lmfx=JSON.parse(hz.default);for(var P=0;P<hz.order.length;P++)gr.add.lmfx[hz.l9[P]]={t:"VlLs",v:[]}}if(r.EB==null){gr.add.lmfx=JSON.parse(cp);
if(!w)delete iy.add.lmfx}else{var g7=r.EB[0],j8=hz.l9[g7];if(hz.c8.indexOf(hz.order[g7])==-1)gr.add.lmfx[j8].v=[];
gr.add.lmfx[j8].v.push(iy.add.lmfx[j8].v[r.EB[1]]);if(!w)iy.add.lmfx[j8].v.splice(r.EB[1],1)}var dg=iy.add.lmfx?JSON.stringify(iy.add.lmfx):"",gR=gr.add.lmfx?JSON.stringify(gr.add.lmfx):"";
if(!gr.px())gr.Qk+=32;var h=new ap("Move Layer Styles",this);h.data={e:Y,pL:r.src,ha:r.q5,aky:cp,ap2:gP,ae2:dg,an1:gR};
D.vl(h);this.Gf(h.data,D)}if(Y==G.Bq){if(r.src!=null)x=r.src;var X=D.j[x],em=JSON.stringify(X.add.SoLd),fr=JSON.parse(em),aU=fr.filterFX.v.filterFXList.v;
aU.splice(r.EB,1);var h=new ap([6,53],this);h.data={e:G._q,Pg:[{h7:x,tP:[em,JSON.stringify(fr)]}]};D.vl(h);
this.Gf(h.data,D)}if(Y==G.lF){var bb=w,iy=D.j[r.src],gr=D.j[r.q5],fZ=[];if(iy!=gr&&gr.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(iy==gr&&!bb&&(r.EB==r.DI||r.EB==-1))return;var h1=iy.dw(D),em=JSON.stringify(iy.add.SoLd),fr=JSON.parse(em),aU=fr.filterFX.v.filterFXList.v;
if(iy==gr){aU.splice(r.DI,0,aU[r.EB]);if(!bb)aU.splice(r.EB+(r.EB<r.DI?0:1),1);fZ.push({h7:r.src,tP:[em,JSON.stringify(fr)]})}else if(r.EB==-1){var ar=fr.filterFX;
if(!bb){delete fr.filterFX;fZ.push({h7:r.src,tP:[em,JSON.stringify(fr)],XX:[h1,null]})}var gt=gr.ri()?gr.dw(D):null,gX=dl.zb(h1),dK=JSON.stringify(gr.add.SoLd),ay=JSON.parse(dK);
ay.placed.v=gX.id;ay.filterFX=ar;fZ.push({h7:r.q5,tP:[dK,JSON.stringify(ay)],XX:[gt,gX]})}else{var hh=aU[r.EB];
if(!bb){aU.splice(r.EB,1);fZ.push({h7:r.src,tP:[em,JSON.stringify(fr)]})}var dK=JSON.stringify(gr.add.SoLd),ay=JSON.parse(dK);
if(ay.filterFX==null)ay.filterFX=ij.Sq();var b7=ay.filterFX.v.filterFXList.v;b7.splice(r.DI,0,hh);var cV={h7:r.q5,tP:[dK,JSON.stringify(ay)]};
if(!gr.ri()){var gX=dl.l5(gr.add.SoLd.placed.v);cV.XX=[null,gX]}fZ.push(cV)}var h=new ap([6,52],this);
h.data={e:G._q,Pg:fZ};D.vl(h);this.Gf(h.data,D)}if(Y==G.gJ){var ac=C.BG(),h=new ap(ac.Tt?[6,26]:[6,25],this);
h.data={e:Y,n:x};D.vl(h);this.Gf(h.data,D);this.track({sv:"set",Q4:{classID:"setd",null:{t:"obj ",v:[dA.W4("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:ac.Tt}}}}})}if(Y==G.Px){var ac=C.add.vmsk,h=new ap(ac.Tt?[6,28]:[6,27],this);
h.data={e:Y,n:x};D.vl(h);this.Gf(h.data,D)}if(Y==G.Te){var bj=[],h;for(var P=0;P<D.R.length;P++){var V=D.R[P],W=D.j[V];
if(W.add.vogk)bj.push(V,JSON.stringify(W.add.vogk))}for(var P=0;P<D.rO.length;P++){var V=D.rO[P],W=D.ou[V];
if(W.add.vogk)bj.push(-1-V,JSON.stringify(W.add.vogk))}R.Bu.aao(D,r.JO,r.ai_);var bW=[];for(var P=0;
P<D.R.length;P++){var V=D.R[P],W=D.j[V];if(W.add.vogk)bW.push(V,JSON.stringify(W.add.vogk))}for(var P=0;
P<D.rO.length;P++){var V=D.rO[P],W=D.ou[V];if(W.add.vogk)bW.push(-1-V,JSON.stringify(W.add.vogk))}var i=D.Nt();
if(i&&i.data&&i.data.e==Y){var bu=!0;for(var P=0;P<bj.length;P+=2)if(bj[P]!=i.data.Ii[P])bu=!1;if(bu){h=i;
h.data.WN=bW}}if(h==null){var h=new ap([12,91,1],this);h.data={e:Y,Ii:bj,WN:bW};D.vl(h)}this.Gf(h.data,D)}if(Y==G.gh){var da=JSON.stringify(C.add.artb),dj=JSON.stringify(r.C3),h;
D.j[x].add.artb=JSON.parse(dj);var e_=new bf(0,0,D.d,D.r),de=I.rh.Wz(D),i=D.Nt();if(i&&i.data&&i.data.e==Y&&i.data.n==x){h=i;
h.data.C3=dj}if(h==null){var h=new ap("Editing Artboard",this);h.data={e:Y,n:x,akI:da,C3:dj,Gx:e_};D.vl(h)}h.QH=de;
this.Gf(h.data,D)}if(Y==G.$c){var bW=D.c9.slice(0),aM=D.cz.slice(0),g2=D.c,g9=D.c;if(r.Ix=="fromAction"){var hr=r.m.sv,bD=r.m.Q4;
if(hr=="make"||hr=="duplicate"){var iG=bW.length,i3=!1,bI=!1;if(D.jc())iG--;var iF=new G.Jz;iF.name="Alpha "+(iG+1);
if(hr=="make"){var fE=bD.Nw.v;iF.color=255;aM=[iG];iF.zo=!0;iF.PR=fE.Opct.v;if(fE.Nm)iF.name=fE.Nm.v;
if(fE.classID=="SCch"){i3=!0;g9=null;iF.bW=1}}else{var ih=bD.null.v[0].v;if(ih.keyID=="fsel")i3=!0;else{var dD=I.Vm.Ci(D);
g9=I.Vm.Ei(D,dD);iF.color=0;iF.rect=g9.rect;iF.channel=g9.channel}}if(i3){iF.color=0;if(D.c){iF.rect=D.c.rect.clone();
iF.channel=D.c.channel.slice(0)}if(bI){iF.color=255-iF.color;R.gq(iF.channel)}}bW.splice(iG,0,iF)}else if(hr=="delete"){if(C&&C.BG()&&C.Cz==1){this.k_({e:G.MY},j,D,N,b);
return}var M=D.cz;M.sort(function(h,cO){return cO-h});if(M.length==0)return;for(var P=0;P<M.length;P++)bW.splice(M[P],1);
aM=[]}else if(hr=="hide"){bW[aM[0]]=bW[aM[0]].clone();bW[aM[0]].zo=!1}}if(r.Ix=="rnm"){bW[r.wd]=bW[r.wd].clone();
bW[r.wd].name=r.name}var h=new ap("Channel Edit",this);h.data={e:Y,Ii:D.c9.slice(0),fC:D.cz.slice(0),WN:bW,D4:aM,Ni:g2,OI:g9};
this.Gf(h.data,D);D.vl(h)}if(Y==G.Dg){var aQ=new bf(0,0,D.d,D.r),h=new ap(r.NL,this);h.data={e:G.Dg,Lq:D.j.slice(0),uJ:r.uJ,uD:D.R.slice(0),Fv:r.OI};
D.vl(h);this.Gf(h.data,D);var dn=I.rh.Dw(D);if(dn){h.data.Gx=aQ;h.data.QH=dn}}if(Y==G.VY){var df=D.FP(null,r.n),h8=1e10;
if(df.length==0)return;if(D.j.length==df.length){alert("Project must have at least 1 layer");return}var ba=[];
for(var P=0;P<D.j.length;P++)if(df.indexOf(P)==-1)ba.push(D.j[P]);for(var P=0;P<df.length;P++)h8=Math.min(h8,df[P]);
h8=Math.max(h8-1,0);while(ba[h8].name=="</Layer group>")h8++;this.track({sv:"delete",Q4:{classID:"Dlt",null:dA.W4("Lyr",!0)}});
var h=new ap([6,31],this);h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:[h8]};D.vl(h);this.Gf(h.data,D)}if(Y==G.jW){if(!N.o(e4.$P))return;
var h=new ap("Switch Layer Link",this);h.data={e:Y,n:r.n};D.vl(h);this.Gf(h.data,D)}if(Y==G.t2){var M=r.aiu?r.aiu:D.R,eS=0,dB=!1;
if(M.length==0)return;if(M.length==1&&D.j[M[0]].xU==0){alert(e9.get([15,7,5]));return}var ek=[];for(var P=0;
P<D.j.length;P++){var c9=D.j[P].xU;ek.push(c9);eS=Math.max(eS,c9)}var bU=-1,fp=-1;for(var P=0;P<M.length;
P++){var c9=D.j[M[P]].xU;if(c9==0)dB=!0;else if(bU==-1||bU==c9)bU=c9;else fp=c9}if(!dB)for(var P=0;P<M.length;
P++)D.j[M[P]].xU=0;else if(bU!=-1&&fp==-1)for(var P=0;P<M.length;P++)D.j[M[P]].xU=bU;else for(var P=0;
P<M.length;P++)D.j[M[P]].xU=eS+1;var i7=[];for(var P=0;P<D.j.length;P++){var c9=D.j[P].xU;if(i7[c9]==null)i7[c9]=0;
i7[c9]++}for(var P=0;P<D.j.length;P++){var c9=D.j[P].xU;if(i7[c9]==1)D.j[P].xU=0}var h7=ek;ek=[];for(var P=0;
P<D.j.length;P++){var c9=D.j[P].xU;ek.push(c9);eS=Math.max(eS,c9)}var h=new ap(dB?[6,54,0]:[6,54,1],this);
h.data={e:G.t2,a3n:h7,aju:ek};D.vl(h);this.Gf(h.data,D)}if(Y==G.b7&&(r.n!=null||D.R.length!=0)||Y==G.o7){var h_=D.w9(Y==G.b7?r.n:x,null,r.akK),jy;
if(Y==G.o7){var X=h_[0],hr=X.add.SoLd.Idnt.v,fs=D.pZ(hr).clone();X.add.SoLd.Idnt.v=fs.FZ=dl.U1()+hr.slice(8);
D.add.lnk2.push(fs)}if(Y==G.b7){var ir={sv:"duplicate",Q4:{classID:"null",null:dA.W4("Lyr",!0)}};if(r.l6){h_[0].Lp(r.l6);
ir.Nm={t:"TEXT",v:r.l6}}this.track(ir);r.apm=r.n}Y=G.Ai;r.j=h_;r.lp=D;r.qa=D}if(Y==G.Ai){var bk,aO,iL=r.lp,dX=r.qa,bS=0,bg=0,ev=!1,dx=0,hp=0;
if(iL!=dX){console.log("ADDLAYERS different projs");var bk=new bf(0,0,iL.d,iL.r),aO=new bf(0,0,dX.d,dX.r),cj=[],ha=[];
for(var P=0;P<r.j.length;P++){var X=r.j[P];if(X.add.SoLd==null)continue;var hr=X.add.SoLd.Idnt.v;if(cj.indexOf(hr)==-1){cj.push(hr);
ha.push(dl.U1()+hr.slice(8))}X.add.SoLd.Idnt.v=ha[cj.indexOf(hr)];var h1=X.dw(iL);if(h1){iL.yk(h1);dX.oY(h1)}}if(cj.length>0){if(dX.add.lnk2==null)dX.add.lnk2=[];
for(var P=0;P<cj.length;P++){var ja=iL.pZ(cj[P]),fs=ja.clone();fs.FZ=ha[P];dX.add.lnk2.push(fs)}}}var g2=dX.R.slice(0);
g2.sort(function(h,cO){return h-cO});var ba=dX.j.slice(0),g9=[],ad=-1;for(var P=0;P<g2.length;P++)ad=Math.max(ad,g2[P]);
if(r.apm!=null)ad=r.apm;var aB=iL.sg();if(r.VB){ad=r.VB-1;var jz=dX.j[r.VB].tT();bS+=jz.x;bg+=jz.y}if(aB!=-1&&(iL!=dX||r.VB)){var eB=iL.j[aB].tT();
bS-=eB.x;bg-=eB.y}var c4=dX.Yd();ad++;for(var P=0;P<r.j.length;P++){var W=r.j[P],cZ=W.add.artb;ba.splice(ad,0,W);
g9.push(ad);ad++;if(cZ){var aI=cZ.guideIndeces;if(aI){aI=aI.v;console.log(aI);for(var ju=0;ju<aI.length;
ju++){c4[0].push(iL.Pc[aI[ju].v].slice(0));c4[1].push(ba.indexOf(W));ev=!0}}}}for(var P=0;P<r.j.length;
P++){var W=r.j[P];if(W.name=="</Layer group>"){if(dx==0)hp++;dx++}else if(W.iO())dx--}if(hp==1)g9=[ad-1];
var h=new ap([6,0],this);h.data={e:G.Dg,Lq:dX.j.slice(0),uJ:ba,uD:g2,Fv:g9};if(ev){h.data.gt=[dX.Yd(),c4]}dX.vl(h);
this.Gf(h.data,dX);if(bS!=0||bg!=0)I.w8.oX(dX,dX.FP(),null,bS,bg)}if(Y==G.SI){var cH=r.n!=null?[r.n]:D.FP(),ba=D.j.slice(0);
for(var P=0;P<cH.length;P++){var W=D.j[cH[P]].clone();W.Wk(D);ba.splice(cH[P],1,W)}var h=new ap([6,8],this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:D.R.slice(0)};D.vl(h);this.Gf(h.data,D)}if(Y==G.ZZ){var ba=D.j.slice(0),W=ba[D.R[0]]=ba[D.R[0]].clone(),dm=W.add.lmfx,eN=0;
delete W.add.lmfx;var hW=R.O(W.rect.Z());R.ni(W.buffer,hW,3);var bO=fx.sP(dm,null,hW,W.rect,D,W.rect).type;
for(var P=0;P<hz.order.length;P++){var cv=hz.order[P],bd=bO[cv],h$=P>7;for(var ju=0;ju<bd.length;ju++){var fI=bd[ju],g=D.Xp();
g.yp=fI.cm;g.opacity=Math.round(255*fI.Uf);g._V=!h$;g.buffer=fI.Iz;g.rect=fI.dS;g.rect.offset(W.rect.x,W.rect.y);
g.Lp(W.getName()+"'s "+e9.get(hz.names[P]));ba.splice(D.R[0]+(h$?0:1),0,g);if(h$)eN++}}var h=new ap("Styles to Layers",this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:[D.R[0]+eN]};D.vl(h);this.Gf(h.data,D)}if(Y==G.tL){var cH=D.FP(),ba=D.j.slice(0),aF=new bf(0,0,D.d,D.r);
for(var P=0;P<cH.length;P++){var hJ=D.j[cH[P]],i2=hJ.Xy();hJ.yE(!0);var gs=D.root.nj(cH[P]);if(hJ.iO())continue;
if(gs==null)continue;var W=hJ.clone();W.Wk(D);var dy=gs.q7(D,!0),c0=D.j;D.HQ([hJ]);D.P();D.wR();W.buffer=R.O(dy.Z()*4);
R.UB(D.Ez(),aF,W.buffer,dy);W.rect=dy;W.opacity=255;W.add.iOpa=255;W.yp="norm";W.P();W.Nl.NR=!0;D.HQ(c0);
if(W.add.lmfx)delete W.add.lmfx;W.B=W.UJ=null;ba.splice(cH[P],1,W);W.yE(i2);hJ.yE(i2)}var h=new ap([6,34],this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:D.R.slice(0)};D.vl(h);this.Gf(h.data,D)}if(Y==G.gI){var cH=D.FP(),ba=D.j.slice(0);
for(var P=0;P<cH.length;P++){var W=D.j[cH[P]],g3=W.add.TySh;if(g3==null)continue;var X=new fu(g3.d1,b.fA),dG=R.K.dJ(iW.O5(X,g3));
for(var ed in dG){var c5=dG[ed],cu=W.clone();delete cu.add.TySh;cu.Qk=cu.Qk|1<<4;cu.add.SoCo=JSON.parse(JSON.stringify(hz.N$[0]));
var fL=cu.add.SoCo.Clr.v;fL.Rd.v=parseInt(ed.slice(1,3),16);fL.Grn.v=parseInt(ed.slice(3,5),16);fL.Bl.v=parseInt(ed.slice(5,7),16);
var gL=new G.$R;gL.W=R.K.CH(c5,!1);if(cu.add.vmsk!=null){cu.add.vmsk.ajh();gL.concat(cu.add.vmsk)}cu.add.vmsk=gL;
cu.add.vstk=JSON.parse(JSON.stringify(hz._O.default));cu.HJ();cu.Fz(D);ba.splice(ba.indexOf(W),0,cu)}ba.splice(ba.indexOf(W),1)}var g9=D.R.slice(0);
for(var P=g9.length-1;P>=0;P--)if(g9[P]>=ba.length)g9.splice(P,1);var h=new ap([6,40],this);h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:g9};
D.vl(h);this.Gf(h.data,D)}if(Y==G.Tx){var io=D.R.length;if(io<2){alert("Select two or more layers.");
return}if(!D.AD())return;var cu=D.j[D.R[0]].clone(),ba=[];for(var P=0;P<D.j.length;P++)if(D.R.indexOf(P)==-1)ba.push(D.j[P]);
ba.splice(D.R[0],0,cu);for(var P=1;P<io;P++)if(D.j[D.R[P]].rect.Z()>2e6){alert("Blended areas are too large.");
return}for(var P=1;P<io;P++){var W=D.j[D.R[P]],gN=W.rect.clone();gN.Fp(1,1);var cO=R.O(gN.Z()*4);R.UB(W.buffer,W.rect,cO,gN);
cu.extend(gN);var iJ=R.O(gN.Z()*4);R.UB(cu.buffer,cu.rect,iJ,gN);var h=R.O(gN.Z());R.ni(cO,h,3);R.round(h,200);
R.zQ(h,cO,3);R.U.tI("norm",cO,gN,iJ,gN,gN,1);R.ul.pA(iJ,h,gN);R.UB(iJ,gN,cu.buffer,cu.rect)}var h=new ap([2,10,0],this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:[D.R[0]]};D.vl(h);this.Gf(h.data,D)}if(Y==G.TY){var ba=D.j.slice(0),aM=D.R.slice(0);
for(var P=0;P<ba.length;P++){var W=ba[P],S=W.add.vmsk;if(W.x2()&&S&&W.add.vstk.strokeEnabled.v&&!W.add.vstk.fillEnabled.v){var cS=S.W,bm=0,cl=-1;
for(var ju=0;ju<cS.length;ju++){if((cS[ju].type==0||cS[ju].type==3)&&cS[ju].va!=-1){bm++;if(cS[ju].type==3&&cl==-1){cS[ju].fU=cS[ju].va=1;
cl=ju}}}if(bm>1&&cl!=-1){console.log("separating an open path into a new layer");W=W.clone();S=W.add.vmsk;
cS=S.W;var g=cS[cl].length,aC=W.clone();aC.add.lyid=D.Jt();S.W=cS.slice(0,2).concat(cS.slice(cl,cl+g+1));
S.R=[];W.Fz(D);W.P();var hc=aC.add.vmsk.W;aC.add.vmsk.W=hc.slice(0,cl).concat(hc.slice(cl+g+1,hc.length));
aC.add.vmsk.R=[];aC.Fz(D);ba[P]=W;ba.splice(P+1,0,aC);for(var ju=0;ju<aM.length;ju++)if(aM[ju]>P)aM[ju]++;
var h9=aM.indexOf(P);if(h9!=-1){aM.splice(h9+1,0,P+1)}}}}if(ba.length!=D.j.length){var h=new ap("Splitting open paths",this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:aM};D.vl(h);this.Gf(h.data,D)}}if(Y==G.z6){this.k_({e:G.TY},j,D,N,b);
var g2=D.R.slice(0),c0=D.j.slice(0),cH=D.FP();if(cH.length==0)return;D.EQ(cH,!1,r.P9);var h=new ap([6,36,0],this);
h.data={e:G.Dg,Lq:c0,uJ:D.j.slice(),uD:g2,Fv:D.R.slice(0)};D.vl(h);this.Gf(h.data,D)}if(Y==G.cV){var em=C.add.SoLd;
if(em==null)return;var hr=em.Idnt.v,iO=D.pZ(hr);iO.Ez(!1);var bM=iO.Du[0],gN=iO.Du[1];if(R.xD(bM)){alert("The smart object contains transparency.");
return}var is=aP.QE("jpg").TL([[bM.buffer]],gN.d,gN.r,[90]);this.k_({e:G.p0,AN:D,data:new Uint8Array(is),id:hr,P9:"jpg"},j,D,N,b);
console.log(D.add);return}if(Y==G.p0){var ja=r.AN.pZ(r.id),fs=ja.clone();fs.raw=r.data;if(r.W8)fs.W8=r.W8;
if(r.P9){fs.WX="    ";fs.cC="    ";fs.W8=fs.W8+"."+r.P9}else{fs.WX="8BIM";fs.cC="8BPB";fs.W8=fs.W8+".psd"}fs.Ez(!1);
ja.Ez(!1);var h=new ap([6,36,1],this);h.data={e:G.p0,id:r.id,J$:ja,_8:fs};r.AN.vl(h);this.Gf(h.data,r.AN)}if(Y==G.YL){var h=new ap([6,36,4],this);
h.data={e:Y,n:x,Gz:C.add.SoLd.Impr.v.classID,aS:r.aS};D.vl(h);this.Gf(h.data,D)}if(Y==G.he){var hk,iz;
if(r.Ox){hk=r.AN;iz=r.Ox}else{r.AN.KE();r.AN.qw();r.AN.P();r.AN.wR();r.AN.Ez();hk=aP.QE("PSD").TL(r.AN,0,0,[!0,!0]);
iz=r.AN.name}if(!(hk instanceof ArrayBuffer))throw"e";hk=new Uint8Array(hk);var K=r.GR;if(K==null){if(D.R.length==0)K=D.R.length;
else{var gu=D.R[D.R.length-1],g=D.j[gu];K=g.iO()?gu:gu+1}}var at=new bf(0,0,D.d,D.r),aa=D.sg();if(aa!=-1)at=D.j[aa].tT();
var gW=D.Ok(hk,iz,0,0,at),ba=D.j.slice(0);ba.splice(K,0,gW);var h=new ap([6,36,2],this);h.data={e:G.Dg,Lq:D.j.slice(),uJ:ba,uD:D.R.slice(0),Fv:[ba.indexOf(gW)]};
D.vl(h);this.Gf(h.data,D)}if(Y==G.QY&&r.Ix=="merge"){var eY=[],g$=D.root.children,dz=0;for(var P=0;P<g$.length;
P++){var U=g$[P],W=U.n,bh=U.children,iw=!0;if(!W.iO()||bh.length==0)continue;for(var ju=0;ju<bh.length;
ju++)if(!bh[ju].n.getName().startsWith("_a_")){iw=!1;break}if(iw)eY.push(D.j.indexOf(W))}var hg=[];for(var P=0;
P<eY.length;P++)if(D.R.indexOf(eY[P])!=-1)hg.push(eY[P]);if(hg.length>=2)eY=hg;if(eY.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var f2=[];for(var P=0;P<eY.length;P++)f2.push(D.j[eY[P]].getName());var bd=[];for(var ch=0;ch<eY.length;
ch++){var U=D.root.nj(eY[ch]),cV=[[],[],0,ch];bd.push(cV);for(var P=0;P<U.children.length;P++){var V=U.children[P].index,W=U.children[P].n,iF=W.getName(),e3=20,f0=iF.split(",");
if(f0.length>1){var fl=parseInt(f0.pop());if(!isNaN(fl)&&fl!=0)e3=fl}cV[0].push(W);cV[1].push(e3);cV[2]+=e3}}bd.sort(function(h,cO){return cO[2]-h[2]});
var f8=bd[0],cY=f8[2];for(var a1=1;a1<bd.length;a1++){var cV=bd[a1],jv=1,ds=cV[1].slice(0),eU=0;while((jv+1)*cV[2]<=f8[2]){jv++;
ds=ds.concat(cV[1])}cV[1]=ds;cV[2]*=jv;var gb=f8[2]/cV[2];for(var P=0;P<cV[1].length;P++){var ip=Math.floor(cV[1][P]*gb);
cV[1][P]=ip;eU+=ip}while(eU<cY){eU++;cV[1][cV[1].length-1]++}cV[2]=eU}var eG=[],ge=[],ip=[];for(var P=0;
P<bd.length;P++){eG.push(0);ge.push(0)}while(dz<cY){var gQ=1e9,iG=-1;for(var P=0;P<bd.length;P++){var en=bd[P][1],bT=eG[P];
if(bT!=en.length&&ge[P]+en[bT]<dz+gQ){iG=P;gQ=ge[P]+en[bT]-dz}}ge[iG]+=bd[iG][1][eG[iG]];eG[iG]++;if(gQ!=0){ip.push(gQ);
dz+=gQ}}for(var P=1;P<ip.length;P++){var bY=ip[P];if(bY<16&&(ip[P-1]<16||P<ip.length-1&&16<=ip[P+1])){ip[P-1]+=bY;
ip.splice(P,1);P--}}var i2=[],aF=new bf(0,0,D.d,D.r);for(var P=0;P<D.j.length;P++){i2[P]=D.j[P].Xy();
D.j[P].yE(!1)}var co=D.R.slice(0);D.R=eY;var df=D.FP();df.sort(function(h,cO){return h-cO});var ba=[];
for(var P=0;P<D.j.length;P++){if(df.indexOf(P)==-1)ba.push(D.j[P])}bd.sort(function(h,cO){return h[3]-cO[3]});
function gc(en,a9){var P=0,bA=0;while(bA+en[P]<=a9){bA+=en[P];P++}return P}dz=0;ba.splice(df[0],0,D.Hc());
for(var fV=0;fV<ip.length;fV++){var F=[];for(var P=0;P<bd.length;P++){var bT=gc(bd[P][1],dz)%bd[P][0].length,W=bd[P][0][bT];
F.push(W)}var W=D.Xp();for(var P=0;P<bd.length;P++){var cP=F[P],hV=D.j[eY[P]];cP.yE(!0);hV.yE(!0)}D.P();
D.wR();var bM=D.Ez();W.rect=R.JN(bM,aF,2);W.buffer=R.O(W.rect.Z()*4);R.UB(bM,aF,W.buffer,W.rect);for(var P=0;
P<bd.length;P++){var cP=F[P],hV=D.j[eY[P]];cP.yE(!1);hV.yE(!1)}W.yE(fV==0);W.Lp("_a_frm"+fV+","+ip[fV]);
ba.splice(df[0]+1+fV,0,W);dz+=ip[fV]}var W=D.Xp();W.Lp(f2.join(" + "));W.yp="pass";W.add.lsct=bH.$w;
W.Qk=24;ba.splice(df[0]+1+ip.length,0,W);for(var P=0;P<D.j.length;P++)D.j[P].yE(i2[P]);var h=new ap([6,12,0],this);
h.data={e:G.Dg,Lq:D.j,uJ:ba,uD:co,Fv:[df[0]+1+ip.length]};D.vl(h);this.Gf(h.data,D)}if(Y==G.fL||Y==G.LF||Y==G.Ba){var c0=D.j.slice(0),g2=D.R.slice(0),ht=!0,gW,g9;
if(Y==G.fL)D.R=[x,x-1];if(Y==G.Ba){D.R=[];for(var P=0;P<D.j.length;P++)if(D.j[P].Xy())D.R.push(P)}var cH=D.FP();
cH.sort(function(h,cO){return h-cO});var bp=new bf,aF=new bf(0,0,D.d,D.r);for(var P=0;P<cH.length;P++){var V=cH[P],W=D.j[V];
ht=ht&&W.x2()&&W.add.vmsk!=null;bp=bp.zs(D.root.nj(V).q7(D,!0))}if(ht){gW=D.j[cH[0]].clone();var S=gW.add.vmsk;
for(var P=1;P<cH.length;P++){var g=D.j[cH[P]],hc=G.$R.wO(g.add.vmsk.W);S.W=S.W.concat(hc.slice(2));gW.add.vogk=gW.add.vogk.concat(JSON.parse(JSON.stringify(g.add.vogk)))}gW.add.vmsk.ZI=!0;
gW.Fz(D)}else if(aF.Ob(bp)){gW=D.Xp();gW.Lp(D.j[cH[cH.length-1]].getName());gW.rect=bp;gW.buffer=R.O(bp.Z()*4);
var a3=D.Ez(cH);R.UB(a3,aF,gW.buffer,bp);gW.H2();gW.P()}else{D.EQ(cH,!0);gW=D.j[D.R[0]];D.j.splice(D.R[0],1);
var iP=D.pZ(gW.add.SoLd.Idnt.v);D.add.lnk2.splice(D.add.lnk2.indexOf(iP),1);delete gW.add.SoLd}var dE=w,fi=-1;
if(r.Q4&&r.Q4.Dplc&&r.Q4.Dplc.v)dE=!0;if(dE&&Y==G.Ba&&D.j[g2[0]].bp()&&D.j[g2[0]].rect.jE()){fi=g2[0]}if(fi!=-1||Y==G.fL){var hf=D.j[fi!=-1?fi:x-1];
gW.Lp(hf.getName());gW.add.lclr=hf.add.lclr}var ba=[];for(var P=0;P<D.j.length;P++)if(dE||cH.indexOf(P)==-1)if(P!=fi)ba.push(D.j[P]);
var jm=cH[cH.length-1],dW=jm==D.j.length-1?null:D.j[jm+1],dY=dW?ba.indexOf(dW):ba.length;ba.splice(dY,0,gW);
g9=[dY];var h=new ap([6,12,0],this);h.data={e:G.Dg,Lq:c0,uJ:ba,uD:g2,Fv:g9};D.vl(h);this.Gf(h.data,D)}if(Y==G.tm){var cu=D.Xp();
cu.rect=new bf(0,0,D.d,D.r);cu.buffer=R.O(cu.rect.Z()*4);R.mh(cu.buffer,4294967295);R.U.tI("norm",D.Ez(),cu.rect,cu.buffer,cu.rect,cu.rect,1);
cu.Lp("Background");cu.add.lspf=1<<2;var h=new ap([6,12,1],this);h.data={e:G.Dg,Lq:D.j.slice(),uJ:[cu],uD:D.R.slice(0),Fv:[0]};
D.vl(h);this.Gf(h.data,D)}if(Y==G.Ym||Y==G.hX||Y==G.CT||Y==G.gX||Y==G.DQ){var W=Y==G.DQ?D.j[D.R[0]].clone():D.Xp(),eC=e9.get([0,3]),cc=r.l6,gD=!1,hS,dV;
if(Y==G.CT)eC=e9.get([12,76,1]);if(Y==G.DQ){var hJ=D.j[D.R[0]],jt=hJ.hH(D,D.c);if(jt==null){alert("Copied area is empty");
return}W.rect=jt.rect;W.buffer=jt.ix;W.Wk(D)}if(Y==G.gX){W.rect=f1.c5.D5(r.ao,D);W.buffer=r.ao.buffer.slice(0);
if(r.AE&&D.c){W.B=new G.Jz;W.B.rect=D.c.rect;W.B.color=0;W.B.channel=D.c.channel.slice(0)}}if(Y==G.Ym){this.track({sv:"make",Q4:{classID:"Mk",null:dA.W4("Lyr")}})}if(Y==G.hX){W.Qk|=16;
var eL=r.Q4.Usng.v,iR=eL.Type.v,gv=cz.U0[iR.classID];eC=e9.get(cz.names[gv]);if(eL.Nm)cc=eL.Nm.v;W.add[gv]=ij.nY(gv);
if(W.add[gv]==null)W.add[gv]={};for(var iA in iR)W.add[gv][iA]=JSON.parse(JSON.stringify(iR[iA]));W.B=f1.c5.T3(D)}if(Y==G.CT){W.Qk|=16;
var bD=r.Q4,eL=bD.Usng.v,d2=eL.Type.v,dq=eL.Shp;if(eL.Nm)cc=eL.Nm.v;if(dq==null){var dC=D.HG(),dG=dC[0],jA=dC[1];
if(jA.length!=0){var bv=dG[jA[0]].add;W.add.vmsk=bv.vmsk.clone();W.add.vstk=JSON.parse(JSON.stringify(hz._O.default));
W.add.vogk=JSON.parse(JSON.stringify(bv.vogk));D.rO=[]}else W.B=f1.c5.T3(D)}else{console.log(eL);W.add.vmsk=new G.$R;
W.add.vstk=JSON.parse(JSON.stringify(eL.strokeStyle?eL.strokeStyle.v:hz._O.default));W.add.vogk=[];if(dq){var fD=R.Bu.bF(dq);
if(fD){W.add.vogk=[fD];W.add.vmsk.W.push({type:0,va:1,length:0});R.Bu.uT(W.add.vogk,W.add.vmsk)}else{dq=dq.v;
var fm=dq.classID;if(fm=="Plgn"){var b3=dq.Cntr.v,eB=dq.corner.v;b3=new gJ(b3.Hrzn.v.val,b3.Vrtc.v.val);
eB=new gJ(eB.Hrzn.v.val,eB.Vrtc.v.val);W.add.vmsk.W=R.b.Lu.Y5(b3.x,b3.y,Math.sqrt(eB.x*eB.x+eB.y*eB.y),Math.atan2(eB.y,eB.x),dq.sides.v,0)}else if(fm=="customShape"){var dU=R.Bu.Ab(dq),cw=dU[2]-dU[0],dZ=dU[3]-dU[1],eq=b.Ut,hU,eE;
for(var P=0;P<eq.length;P++)if(eq[P].y_==dq.Nm.v)hU=eq[P];if(hU){eE=G.$R.wO(hU.W);R.b.ho(eE,new j9(cw,0,0,dZ,dU[0],dU[1]))}else eE=R.b.Lu.Rect(dU[0],dU[1],cw,dZ,0);
W.add.vmsk.W=eE}W.HJ()}}}var dM={solidColorLayer:0,gradientLayer:1,patternLayer:2}[d2.classID],be=["SoCo","GdFl","PtFl"][dM];
W.add[be]=JSON.parse(JSON.stringify(hz.N$[dM]));f1.c5.x9(d2,W.add[be],dM);if(dq==null)eC=e9.get([6,48,0,dM]);
if(be=="PtFl")D.fO(fx.T5(W.add[be].Ptrn.v,b.o$));W.Fz(D)}var io=f1.c5.BU(D,eC+" ");W.Lp(eC+" "+(io+1));
if(cc)W.Lp(cc);var dc=D.R.length==0?D.j.length-1:D.R[D.R.length-1],eW=D.j[dc];if(Y==G.CT&&eW.bp()&&eW.rect.jE()){gD=!0;
W.Lp(eW.getName());hS=dc}else{hS=dc+(Y==G.Ym&&u&&!q?0:1);if(eW&&eW.add.lsct==bH.nV)hS--}if(r.adC)hS=Math.max(0,hS-1);
var ba=D.j.slice(0);ba.splice(hS,gD?1:0,W);var cA=[5,2];if(Y==G.Ym)cA=[6,13];if(Y==G.hX)cA=[6,1];if(Y==G.CT){cA=[6,48,1];
var dq=r.Q4.Usng.v.Shp;if(dq){var gO={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[dq.v.classID];
if(gO)cA=gO}}if(Y==G.DQ){cA=[6,49]}if(Y==G.DQ||Y==G.CT||Y==G.gX)if(D.c)dV=[D.c,null];var h=new ap(cA,this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:[hS],lJ:dV};D.vl(h);this.Gf(h.data,D);if(Y==G.CT&&dq==null&&dM!=0||Y==G.hX){var f3=new iu(y.E.V);
f3.data={e:y.G.sC,SO:e6.kG.EH};j.g(f3)}}if(Y==G.cn){var W=D.Xp(),eC=e9.get([0,4]),io=f1.c5.BU(D,eC+" ");
W.Lp(eC+" "+(io+1));W.yp="pass";W.add.lsct=bH.nV;W.Qk=24;if(r.l6)W.Lp(r.l6);if(r.v7!=null)W.add.lclr=r.v7;
var gp=D.Hc(),dc=x,hS=dc+(u?0:1),ba=D.j.slice(0);ba.splice(hS,0,gp,W);var h=new ap([6,20],this);h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:[hS+1]};
D.vl(h);this.Gf(h.data,D)}if(Y==G.eN||Y==G.vL){var dp=Y==G.eN?r.source:D.R[0],hM,ix,i_=D.R.indexOf(dp)!=-1,c6=w|r.alv,jn,gQ=null;
if(i_)jn=D.FP();else jn=D.pu(dp);jn.sort(function(h,cO){return h-cO});if(Y==G.eN){hM=r.target;ix=r.qn>.5}else if(r.target!=null){hM=r.target;
ix=!0;D.UF=!0}else{var hK=r.Ix;ix=hK>1;if(hK==0){hM=D.j.length-1}if(hK==1){hM=jn[jn.length-1]+1;var g=D.pu(hM);
if(g.indexOf(dp)==-1)hM+=g.length-1}if(hK==2){hM=jn[0]-1;var g=D.pu(hM);if(g.indexOf(dp)==-1)hM-=g.length-1}if(hK==3){hM=0}if(hM<0||hM>D.j.length-1)return;
D.UF=!0}if(jn.indexOf(hM)!=-1&&!c6)return;var g8=f1.c5.Uz(D,jn,hM,ix,c6?D.w9(i_?null:dp):null,Y==G.eN&&r.qn>.8),cx=g8.pop(),aM=g8.pop(),ba=g8.pop(),iZ=D.R;
D.R=[dp];var aB=D.sg();D.R=[hM];var gn=D.sg();if(gn==hM&&!ix)gn=-1;D.R=iZ;if(dp==aB){}else if(aB!=gn){var gQ=new gJ(0,0);
if(aB!=-1){var gN=D.j[aB].tT();gQ.x-=gN.x;gQ.y-=gN.y}if(gn!=-1){var gN=D.j[gn].tT();gQ.x+=gN.x;gQ.y+=gN.y}}var h=new ap(c6?[6,0]:[6,35],this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:aM,Kv:gQ};D.vl(h);this.Gf(h.data,D);var bD={classID:"move",null:dA.W4("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:cx+(ix?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:c6}};
this.track({sv:"move",Q4:bD})}if(Y==G.Mr){if(r.jD){if(C==null||!C.iO())return;var U=D.root.nj(x),iB=D.j.indexOf(U.at9),ba=D.j.slice(0);
ba.splice(x,1);ba.splice(iB,1);var aM=[];for(var P=iB;P<x-1;P++)aM.push(P);var h=new ap("Ungroup Layers",this);
h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:aM};D.vl(h);this.Gf(h.data,D)}else{var W=D.Xp(),hX=e9.get([0,4])+" ";
W.Lp(hX+(f1.c5.BU(D,hX)+1));W.yp="pass";if(r.l6)W.Lp(r.l6);if(r.v7!=null)W.add.lclr=r.v7;W.add.lsct=D.R.length==1?bH.nV:bH.$w;
W.Qk=24;var gp=D.Hc(),jn=D.FP();if(jn.length==0)return;jn.sort(function(h,cO){return h-cO});var ba=[];
for(var P=0;P<D.j.length;P++)if(jn.indexOf(P)==-1)ba.push(D.j[P]);var dc=D.R[D.R.length-1]-jn.length;
ba.splice(dc+1,0,gp);for(var P=0;P<jn.length;P++)ba.splice(dc+2+P,0,D.j[jn[P]]);ba.splice(dc+2+jn.length,0,W);
var h=new ap([6,9],this);h.data={e:G.Dg,Lq:D.j.slice(0),uJ:ba,uD:D.R.slice(0),Fv:[ba.indexOf(W)]};D.vl(h);
this.Gf(h.data,D);var A={sv:"make",Vo:!0};A.Q4={classID:"Mk",null:dA.W4("layerSection"),From:dA.W4("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:W.getName()}}}};
this.track(A)}}if(Y==G.Nn){if(D.R.length!=1)return;var K=D.R[0],fA=w;if(D.j[K].BG()==null&&!N.o(e4.h6)){Y=G.CS;
r.Y3=D.c?!fA?"RvlS":"HdSl":!fA?"RvlA":"HdAl"}else{Y=G.FU;r.a0R=!0}}if(Y==G.CS){if(D.R.length!=1)return;
var K=D.R[0],W=D.j[K];if(W.add.vmsk&&W.B==null)W.Fz(D);var b$=W.BG();if(b$==null||r.a0J){var h=new ap([6,21],this),bC=new G.Jz,cL=r.Y3,az=cL=="RvlS"||cL=="HdSl";
if(cL=="RvlS"||cL=="HdAl"||cL=="Trns")bC.color=0;if(az){bC.channel=D.c.channel.slice(0);bC.rect=D.c.rect.clone();
if(cL=="HdSl")R.gq(bC.channel)}if(cL=="Trns"){bC.rect=W.rect.clone();bC.channel=R.O(W.rect.Z());R.ni(W.buffer,bC.channel,3)}h.data={e:G.Rq,Pi:[K,b$,bC],lJ:az?[D.c,null]:null};
D.vl(h);this.Gf(h.data,D);D.j[K].Cz=1;this.track({sv:"make",Q4:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:cL}}}})}}else if(Y==G.gD){var iy=D.j[r.src],gr=D.j[r.q5],h=new ap([6,21],this),bZ=iy.BG(),hL=gr.BG(),ac=[r.src,bZ,null,r.q5,hL,bZ];
if(w||q){var iF=bZ.clone();if(w)ac=[r.q5,hL,iF];else ac[5]=iF;if(q){R.gq(iF.channel);iF.color=255-iF.color}}h.data={e:G.Rq,Pi:ac};
D.vl(h);this.Gf(h.data,D)}if(Y==G.MY){if(D.R.length!=1)return;var K=x,gA=D.j[K].BG();if(gA!=null){var h=new ap([6,22],this);
h.data={e:G.Rq,Pi:[x,gA,null]};D.vl(h);this.Gf(h.data,D)}}if(Y==G.$V){var c0=D.j.slice(0),cu=C.clone(),v=cu.BG();
R.I8(v.iJ(cu.rect),cu.rect,cu.buffer,cu.rect);f1.c5.Tb(D,cu);cu.H2();D.j[D.R[0]]=cu;var h=new ap([5,8],this);
h.data={e:G.Dg,Lq:c0,uJ:D.j.slice(),uD:D.R.slice(0),Fv:D.R.slice(0)};D.vl(h);this.Gf(h.data,D)}if(Y==G.Ka){if(D.R.length!=1)return;
var K=D.R[0];if(D.j[K].dw(D).B==null){var h=new ap([6,45],this);h.data={e:Y,n:K,B:new G.Jz};D.vl(h);
this.Gf(h.data,D)}}if(Y==G.Br){if(D.R.length!=1)return;var K=D.R[0];if(D.j[K].dw(D).B!=null){var h=new ap([6,46],this);
h.data={e:Y,n:K,B:D.j[K].dw(D).B};D.vl(h);this.Gf(h.data,D)}}if(Y==G.vy){if(r.src==null&&D.R.length!=1)return;
if(r.src!=null)x=r.src;if(D.j[x].ri()){var h=new ap([6,47],this),em=JSON.stringify(D.j[x].add.SoLd),fr=JSON.parse(em);
delete fr.filterFX;h.data={e:G._q,Pg:[{h7:x,tP:[em,JSON.stringify(fr)],XX:[D.j[x].dw(D),null]}]};D.vl(h);
this.Gf(h.data,D)}}if(Y==G.FU){if(D.R.length!=1)return;if(C.add.vmsk==null){var h=new ap([6,23],this),cS=D.HG(),M=cS[1],cS=cS[0],bC,fD;
if(r.a0R&&M.length!=0){var bv=cS[M[0]].add;bC=bv.vmsk.clone();fD=bv.vogk}else{bC=new G.$R;fD=[];bC.W[1].all=r.adf?0:1}h.data={e:Y,n:x,sZ:!0,B:bC,Bu:JSON.stringify(fD),_O:null};
if(C.x2()){h.data._O=JSON.stringify(hz._O.default)}D.vl(h);this.Gf(h.data,D)}}if(Y==G.Qw){var iy=D.j[r.src],gr=D.j[r.q5];
if(gr.add.vmsk)return;var h=new ap([6,23],this),S=iy.add.vmsk;h.data={n:r.q5,sZ:iy.fh,B:S.clone(),Bu:JSON.stringify(iy.add.vogk),_O:iy.add.vstk?JSON.stringify(iy.add.vstk):null};
if(w){h.data.e=G.FU}else{h.data.e=Y;h.data.src=r.src;h.data.q5=r.q5}D.vl(h);this.Gf(h.data,D)}if(Y==G.DZ||Y==G.zD){if(D.R.length!=1)return;
var W=D.j[x],S=W.add.vmsk;if(S!=null){var fY=Y==G.zD,h=new ap(fY?[6,8]:[6,24],this);h.data={e:G.DZ,n:x,sZ:W.fh,B:S,Bu:JSON.stringify(W.add.vogk),_O:W.add.vstk?JSON.stringify(W.add.vstk):null};
if(fY){h.data.UJ=S.BG(W.add.vstk)}D.vl(h);this.Gf(h.data,D)}}if(Y==G.CJ){var h=new ap("Metadata",this);
h.data={e:Y,ai:JSON.stringify(D.y6),ZJ:JSON.stringify(r.ZJ)};D.vl(h);this.Gf(h.data,D)}if(Y==G.HR){var iU=r.q5?r.q5:D,d1=iU.name,cc=r.m+".psd";
if(d1==cc)return;var h=new ap([6,37],this);h.data={e:Y,a7f:d1,l6:cc};if(r.amT!=!0)iU.vl(h);this.Gf(h.data,iU)}if(Y==G.QY&&r.Ix.endsWith("makeframes")){var ca=[],hu=r.Ix.startsWith("make");
for(var P=0;P<D.R.length;P++){var V=D.R[P],W=D.j[V],ic=W.getName(),d9=ic.startsWith("_a_");if(hu==d9||W.add.lsct==bH.ym)continue;
var cR=hu?"_a_"+ic:ic.slice(3);ca.push([V,ic,cR,W.add.lnsr,null])}var h=new ap([6,37],this);h.data={e:G.Hu,Ek:ca};
D.vl(h);this.Gf(h.data,D)}if(Y==G.Hu){var d1=C.getName(),cc=r.name.substring(0,255);if(d1==cc)return;
var h=new ap([6,37],this);h.data={e:Y,Ek:[[x,d1,cc,C.add.lnsr,null]]};D.vl(h);this.Gf(h.data,D);this.track(dA.zt("Nm",{t:"TEXT",v:cc}))}if(Y==G.Ao){var br=D.FP(),i1=[],iM=[];
for(var P=0;P<br.length;P++){i1.push(D.j[br[P]].add.lclr);iM.push(r.a1O)}var h=new ap([6,38],this);h.data={e:Y,j:br,a8O:i1,v7:iM};
D.vl(h);this.Gf(h.data,D)}if(Y==G.zn){var h=D.history[D.Kx];if(h!=null&&h.k==this&&h.data.e==Y&&h.data.n==r.fT&&h.data.aS.hD==r.HK.hD)h.data.aS=r.HK;
else{h=new ap("Mask Density / Feather",this);h.data={e:Y,n:r.fT,Gz:D.j[r.fT].$Y(r.HK.hD),aS:r.HK};D.vl(h)}this.Gf(h.data,D)}if(Y==G.K3){var b4=JSON.stringify(r.m),g_=JSON.parse(b4),h=D.history[D.Kx];
if(h!=null&&h.k==this&&h.data.e==Y&&h.data.Fj==r.Fj&&h.data.bB.join(",")==r.bB.join(",")){for(var P=0;
P<r.bB.length;P++)h.data.Ax[P]=g_;if(h.data.Q4&&g_.cC!=0)f1.c5.x9(g_.ME,h.data.Q4.T.v,g_.cC-1)}else{h=new ap([11,6],this);
h.data={e:Y,bB:r.bB,Fj:r.Fj,a38:[],Ax:[]};var iq=!1;for(var P=0;P<r.bB.length;P++){var V=r.bB[P],W=D.j[V],cX=r.Fj?I.BV.VC(D,V):JSON.parse(JSON.stringify(W.add.vstk));
h.data.a38.push(cX);h.data.Ax.push(g_);if(JSON.stringify(cX)!=b4)iq=!0}if(!iq)return;D.vl(h);if(r.Fj&&g_.cC>0){var bD=h.data.Q4={classID:"setd",null:dA.W4("contentLayer",!0),T:{t:"Objc",v:{}}},be=["SoCo","GdFl","PtFl"][g_.cC-1];
f1.c5.x9(g_.ME,bD.T.v,g_.cC-1);this.track({sv:"set",Q4:bD})}}if(r.Fj&&g_.cC==3)D.fO(fx.T5(g_.ME.Ptrn.v,b.o$));
if(!r.Fj){var dL=g_.strokeStyleContent.v;if(dL.classID==hz._O.AH[2])D.fO(fx.T5(dL.Ptrn.v,b.o$))}this.Gf(h.data,D)}};
f1.c5.Uz=function(r,j,D,N,b,Y){var x=r.j[D],C=[];if(b)C=r.j.slice(0);else for(var P=0;P<r.j.length;P++)if(j.indexOf(P)==-1)C.push(r.j[P]);
var w=C.indexOf(x);if(Y&&x.iO()&&x.add.lsct==bH.$w)w-=r.pu(D).length-1;var q=[];for(var P=0;P<j.length;
P++){var u=w+(N?0:1)+P,h=b?b[P]:r.j[j[P]];C.splice(u,0,h);q.push(u)}return[C,q,w]};f1.c5.x9=function(r,j,D){var N=[hz.kK,hz.bl,hz.CU][D];
if(j.classID==null)j.classID=["solidColorLayer","gradientLayer","patternLayer"][D];for(var P=0;P<N.length;
P++)if(r[N[P]])j[N[P]]=JSON.parse(JSON.stringify(r[N[P]]))};f1.c5.T3=function(r){var j=new G.Jz;if(r.c!=null){j.color=0;
j.channel=r.c.channel.slice(0);j.rect=r.c.rect.clone()}return j};f1.c5.Ri=function(r,j,D,N){var b=N.d/D.d,Y=N.r/D.r,x=N.d/2,C=N.r/2,w=R.K.rR(N).v;
for(var P=0;P<r.j.length;P++){var q=r.j[P],u=q.add.SoLd;if(u==null||u.Idnt.v!=j)continue;if(b!=1||Y!=1){var h=I.T.$i(u.nonAffineTransform),z=R.t.xk(h,N),O=new j9;
O.translate(-x,-C);O.scale(b,Y);O.translate(x,C);var g=R.t.JF(z,R.t.eb(O)),t=w.slice(0);R.t.F(g,t);u.Trnf=I.T.Qn(t);
u.nonAffineTransform=I.T.Qn(t)}q.zX(r)}r.P()};f1.c5.akt=function(r,j,D){j.color=255-j.color;R.gq(j.channel);
j.ZI=!0;r.Fz(D);D.P()};f1.c5.prototype.B$=function(r,j){var D=r.e,N=j.j[r.n];j.DW=!0;if(D==G.p0){j.add.lnk2.splice(j.add.lnk2.indexOf(r._8),1,r.J$);
f1.c5.Ri(j,r.id,r._8.Du[1],r.J$.Du[1])}if(D==G.YL){N.add.SoLd.Impr.v.classID=r.Gz;N.zX(j)}if(D==G.qi){var b=JSON.parse(r.bB);
for(var P=0;P<b.length;P++)j.j[b[P]].yp=r.sO[P];j.P()}if(D==G.e9){var b=JSON.parse(r.bB);for(var P=0;
P<b.length;P++)j.j[b[P]].opacity=r.sO[P];j.P()}if(D==G.oM){var b=JSON.parse(r.bB);for(var P=0;P<b.length;
P++)if(j.j[b[P]].add.lsct!=bH.ym)j.j[b[P]].add.lspf=r.sO[P]}if(D==G.Ec){var Y=r.TH,x=r.aqC;delete N.add[Y[0]];
if(x[0]!="----")N.add[x[0]]=x[1]}if(D==G.Q1){N.add.iOpa=r.sO;j.P()}if(D==G.T6){for(var P=0;P<r.bB.length;
P++){var C=j.j[r.bB[P]];C.yE(!C.Xy())}j.P()}if(D==G.LA){var w=N.BG();w.isEnabled=!w.isEnabled;N.Fz(j);
j.P()}if(D==G.lI){var w=N.dw(j).B;w.isEnabled=!w.isEnabled;N.P();j.P()}if(D==G.t0){var w=N.add.vmsk;
w.isEnabled=!w.isEnabled;if(!w.isEnabled){if(N.UJ){N.B=N.UJ;N.UJ=null}else N.B=null}else if(N.B){N.UJ=N.B;
N.B=null}N.Fz(j);j.P()}if(D==G.x0){N._V=!N._V;j.P()}if(D==G.NE){N.add.lmfx.masterFXSwitch.v=!N.add.lmfx.masterFXSwitch.v;
N.Nl.NR=!0;j.P()}if(D==G.oL){N.add.SoLd.filterFX.v.enab.v=!N.add.SoLd.filterFX.v.enab.v;N.VR(j);j.P()}if(D==G.Gh){var q=r.index,u=N.add.lmfx[hz.l9[q[0]]].v[q[1]].v;
u.enab.v=!u.enab.v;N.Nl.NR=!0;j.P()}if(D==G.bu){var h=j.j[r.pL],z=j.j[r.ha],O=r.aky,g=r.ap2;if(O=="")delete h.add.lmfx;
else h.add.lmfx=JSON.parse(O);if(g=="")delete z.add.lmfx;else z.add.lmfx=JSON.parse(g);h.Nl.NR=!0;z.Nl.NR=!0;
j.P()}if(D==G.Ee){var t=N.add.SoLd.filterFX.v.filterFXList.v[r.index].v;t.enab.v=!t.enab.v;N.VR(j);j.P()}if(D==G.Z$){N.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(r.aeW));
N.VR(j);j.P()}if(D==G.gJ){var w=N.BG();w.Tt=!w.Tt}if(D==G.Px){var w=N.add.vmsk;w.Tt=!w.Tt}if(D==G.Te){var $=r.Ii;
for(var P=0;P<$.length;P+=2){var i=$[P],C=i>=0?j.j[i]:j.ou[-1-i];C.add.vogk=JSON.parse($[P+1]);R.Bu.uT(C.add.vogk,C.add.vmsk);
if(i>=0)C.Fz(j)}j.P()}if(D==G.gh){N.add.artb=JSON.parse(r.akI);j.P();I.rh.DX(j,r)}if(D==G.$c){j.c=r.Ni;
j.c9=r.Ii.slice(0);j.cz=r.fC.slice(0);j.yn=j._P=!0}if(D==G.jW){N.$s=!N.$s}if(D==G.t2){var A=r.a3n;for(var P=0;
P<A.length;P++)j.j[P].xU=A[P]}if(D==G.Dg){if(r.Kv)I.w8.oX(j,j.R,null,-r.Kv.x,-r.Kv.y);if(r.uD)j.R=r.uD;
if(r.lJ)j.c=r.lJ[0];j.m$=null;j.P();j.HQ(r.Lq);I.rh.DX(j,r);if(r.gt)j.Er(r.gt[0])}if(D==G.Rq){for(var P=0;
P<r.Pi.length;P+=3)f1.c5.Tb(j,j.j[r.Pi[P]],r.Pi[P+1]);if(r.lJ){var H=r.lJ[0];if(H==null)delete j.c;else j.c=H}}if(D==G.Ka){N.dw(j).B=null;
N.P();j.P()}if(D==G.Br){N.dw(j).B=r.B;N.P();j.P()}if(D==G._q){f1.c5.Ld(j,r.Pg,0)}if(D==G.FU){f1.c5.kC(j,N,!0)}if(D==G.Qw){f1.c5.kC(j,j.j[r.q5],r.B.isEnabled);
f1.c5.GA(j,j.j[r.src],r)}if(D==G.DZ){if(r.UJ)f1.c5.Tb(j,N,null);f1.c5.GA(j,N,r)}if(D==G.CJ){j.y6=JSON.parse(r.ai)}if(D==G.HR){j.name=r.a7f}if(D==G.Hu){for(var P=0;
P<r.Ek.length;P++){var F=r.Ek[P],C=j.j[F[0]];C.Lp(F[1]);if(F[3])C.add.lnsr=F[3];else delete C.add.lnsr}}if(D==G.Ao){for(var P=0;
P<r.j.length;P++)j.j[r.j[P]].add.lclr=r.a8O[P]}if(D==G.K3){var T=r.a38;for(var P=0;P<r.bB.length;P++){var C=j.j[r.bB[P]],_=T[P];
if(!r.Fj)C.add.vstk=JSON.parse(JSON.stringify(_));else I.BV._3(C,JSON.parse(JSON.stringify(_)));C._t(j)}j.P()}if(D==G.zn){N.Be(r.Gz);
N.Fz(j);j.P()}j._P=!0};f1.c5.prototype.Gf=function(r,j){var D=r.e,N=j.j[r.n];j.DW=!0;if(D==G.p0){j.add.lnk2.splice(j.add.lnk2.indexOf(r.J$),1,r._8);
f1.c5.Ri(j,r.id,r.J$.Du[1],r._8.Du[1])}if(D==G.YL){N.add.SoLd.Impr.v.classID=r.aS;N.zX(j)}if(D==G.qi){var b=JSON.parse(r.bB);
for(var P=0;P<b.length;P++)j.j[b[P]].yp=r.aS;j.P()}if(D==G.e9){var b=JSON.parse(r.bB);for(var P=0;P<b.length;
P++)j.j[b[P]].opacity=r.aS;j.P()}if(D==G.oM){var b=JSON.parse(r.bB);for(var P=0;P<b.length;P++)if(j.j[b[P]].add.lsct!=bH.ym)j.j[b[P]].add.lspf=r.aS[P]}if(D==G.Ec){var Y=r.aqC,x=r.TH;
delete N.add[Y[0]];if(x[0]!="----")N.add[x[0]]=x[1]}if(D==G.Q1){N.add.iOpa=r.aS;j.P()}if(D==G.T6){for(var P=0;
P<r.bB.length;P++){var C=j.j[r.bB[P]];C.yE(!C.Xy())}j.P()}if(D==G.LA){var w=N.BG();w.isEnabled=!w.isEnabled;
N.Fz(j);j.P()}if(D==G.lI){var w=N.dw(j).B;w.isEnabled=!w.isEnabled;N.P();j.P()}if(D==G.t0){var w=N.add.vmsk;
w.isEnabled=!w.isEnabled;if(!w.isEnabled){if(N.UJ){N.B=N.UJ;N.UJ=null}else N.B=null}else if(N.B){N.UJ=N.B;
N.B=null}N.Fz(j);j.P()}if(D==G.x0){N._V=!N._V;j.P()}if(D==G.NE){N.add.lmfx.masterFXSwitch.v=!N.add.lmfx.masterFXSwitch.v;
N.Nl.NR=!0;j.P()}if(D==G.oL){N.add.SoLd.filterFX.v.enab.v=!N.add.SoLd.filterFX.v.enab.v;N.VR(j);j.P()}if(D==G.Gh){var q=r.index,u=N.add.lmfx[hz.l9[q[0]]].v[q[1]].v;
u.enab.v=!u.enab.v;N.Nl.NR=!0;j.P()}if(D==G.bu){var h=j.j[r.pL],z=j.j[r.ha],O=r.ae2,g=r.an1;if(O=="")delete h.add.lmfx;
else h.add.lmfx=JSON.parse(O);if(g=="")delete z.add.lmfx;else z.add.lmfx=JSON.parse(g);h.Nl.NR=!0;z.Nl.NR=!0;
j.P()}if(D==G.Ee){var t=N.add.SoLd.filterFX.v.filterFXList.v[r.index].v;t.enab.v=!t.enab.v;N.VR(j);j.P()}if(D==G.Z$){N.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(r.ar5));
N.VR(j);j.P()}if(D==G.gJ){var w=N.BG();w.Tt=!w.Tt}if(D==G.Px){var w=N.add.vmsk;w.Tt=!w.Tt}if(D==G.Te){var $=r.WN;
for(var P=0;P<$.length;P+=2){var i=$[P],C=i>=0?j.j[i]:j.ou[-1-i];C.add.vogk=JSON.parse($[P+1]);R.Bu.uT(C.add.vogk,C.add.vmsk);
if(i>=0)C.Fz(j)}j.P()}if(D==G.gh){N.add.artb=JSON.parse(r.C3);j.P();I.rh.R9(j,r)}if(D==G.$c){j.c=r.OI;
j.c9=r.WN.slice(0);j.cz=r.D4.slice(0);j.yn=j._P=!0}if(D==G.jW){N.$s=!N.$s}if(D==G.t2){var A=r.aju;for(var P=0;
P<A.length;P++)j.j[P].xU=A[P]}if(D==G.Dg){var H=r.uJ,F=0,T;for(var P=0;P<H.length;P++){var C=H[P],_=C.add.lsct;
if(_==bH.ym)F++;else if(_==bH.nV||_==bH.$w)F--;if(C.add.artb&&F!=0)T="Artboards can not be inside folders."}if(T){j.history.pop();
j.Kx--;alert(T);return}I.rh.R9(j,r);if(r.Fv)j.R=r.Fv;if(r.lJ)j.c=r.lJ[1];j.m$=null;j.P();j.HQ(r.uJ);
if(r.Kv)I.w8.oX(j,j.R,null,r.Kv.x,r.Kv.y);if(r.gt)j.Er(r.gt[1])}if(D==G.Rq){for(var P=0;P<r.Pi.length;
P+=3)f1.c5.Tb(j,j.j[r.Pi[P]],r.Pi[P+2]);if(r.lJ){var V=r.lJ[1];if(V==null)delete j.c;else j.c=V}}if(D==G.Ka){N.dw(j).B=r.B;
N.Cz=0;N.P();j.P()}if(D==G.Br){N.dw(j).B=null;N.Cz=0;N.P();j.P()}if(D==G._q){f1.c5.Ld(j,r.Pg,1)}if(D==G.FU){f1.c5.GA(j,N,r)}if(D==G.Qw){f1.c5.kC(j,j.j[r.src],r.B.isEnabled);
f1.c5.GA(j,j.j[r.q5],r)}if(D==G.DZ){f1.c5.kC(j,N,r.B.isEnabled);if(r.UJ)f1.c5.Tb(j,N,r.UJ)}if(D==G.CJ){j.y6=JSON.parse(r.ZJ)}if(D==G.HR){j.name=r.l6}if(D==G.Hu){for(var P=0;
P<r.Ek.length;P++){var X=r.Ek[P],C=j.j[X[0]];C.Lp(X[2]);if(X[4])C.add.lnsr=X[4];else delete C.add.lnsr}}if(D==G.Ao){for(var P=0;
P<r.j.length;P++)j.j[r.j[P]].add.lclr=r.v7[P]}if(D==G.K3){var o=r.Ax;for(var P=0;P<r.bB.length;P++){var C=j.j[r.bB[P]],c=o[P];
if(!r.Fj)C.add.vstk=JSON.parse(JSON.stringify(c));else I.BV._3(C,JSON.parse(JSON.stringify(c)));C._t(j)}j.P()}if(D==G.zn){N.Be(r.aS);
N.Fz(j);j.P()}j._P=!0};f1.c5.BU=function(r,j){var D=0;for(var P=0;P<r.j.length;P++){var N=r.j[P].getName();
if(N.startsWith(j)){var b=N.slice(j.length).trim(),Y=parseInt(b);if(!isNaN(Y)&&Y+""==b)D=Y}}return D};
f1.c5.Ld=function(r,j,D){for(var P=0;P<j.length;P++){var N=j[P],b=r.j[N.h7];if(N.tP){b.add.SoLd=JSON.parse(N.tP[D])}if(N.XX){if(N.XX[1-D]!=null)r.yk(N.XX[1-D]);
if(N.XX[D]!=null)r.oY(N.XX[D]);else b.Cz=0}b.zX(r)}};f1.c5.D5=function(r,j){var D=r.i6,N=r.rect.clone();
if(D!=null&&(D.x!=j.d||D.y!=j.r)){N.x=Math.floor((j.d-N.d)/2);N.y=Math.floor((j.r-N.r)/2)}return N};
f1.c5.a3w=function(r,j){if(j.UJ)j.UJ=null;else j.B=null;j.Fz(r);r.P();j.Cz=0};f1.c5.Tb=function(r,j,D){var N=j.BG();
if(N==null&&D==null)return;if(N)f1.c5.a3w(r,j);if(D==null)return;if(j.B)j.UJ=D;else j.B=D;j.Fz(r);r.P()};
f1.c5.kC=function(r,j,D){if(j.UJ&&D){j.B=j.UJ;j.UJ=null}else if(j.B&&D){j.B=null}delete j.add.vogk;delete j.add.vstk;
delete j.add.vmsk;j.Fz(r);j.fh=!1;r.m$=[];r.P()};f1.c5.GA=function(r,j,D){j.add.vogk=JSON.parse(D.Bu);
if(D._O)j.add.vstk=JSON.parse(D._O);else delete j.add.vstk;j.add.vmsk=D.B.clone();if(j.B&&j.add.vmsk.isEnabled)j.UJ=j.B;
j.Fz(r);j.fh=D.sZ;r.m$=[r.j.indexOf(j)];r.rO=[];r.P()};f1.K8=function(){f1.Go.call(this,I.i3);this.vw=null;
this.ts=null;this.sV=null;this._5=[];this.ln=null};f1.K8.prototype=new f1.Go;f1.K8.prototype.k_=function(r,j,D,N,b){var Y=r.n;
if(Y==null)Y=D.R[0];var x=D.j[Y],C=r.wd;if(this.vw==null){this.sV=f1.K8.IW(D,x);this.vw=JSON.stringify(this.sV);
if(x.add.lmfx)this.ts=JSON.stringify(x.add.lmfx)}if(x.add.lmfx==null){x.add.lmfx=JSON.parse(hz.default);
for(var P=0;P<hz.order.length;P++)x.add.lmfx[hz.l9[P]]={t:"VlLs",v:[]}}if(r.e=="scaleeffects"){if(r.m=="confirm"||r.m=="cancel"){this.k_({e:r.m},j,D,N,b);
return}x.add.lmfx=JSON.parse(this.ts);fx.Ub(x.add.lmfx,r.m/100)}else if(r.e=="changeprop"){var w=null;
if(C!=0){var q=this._5[C[0]];if(q==null)q=hz._5[C[0]];q=JSON.parse(q);var u=x.add.lmfx[hz.l9[C[0]]].v;
if(u[C[1]]==null)u[C[1]]={t:"Objc",v:q};w=u[C[1]].v;for(var h in q)if(w[h]==null)w[h]=q[h]}if(r.e=="changeprop"){if(C==0){this.sV[r.fI].v=r.m;
f1.K8.WB(D,x,this.sV)}else if(r.fI=="lagl"){if(w.uglg&&w.uglg.v){D.lg(r.m.val);this.sV.aow=D.ta()}else w[r.fI].v=r.m}else if(r.fI=="Lald"){if(w.uglg.v){D.ak(r.m.val);
this.sV.adF=D.O0()}else w[r.fI].v=r.m}else if((C[0]==3||C[0]==8)&&(r.fI=="Clr"||r.fI=="Grad")){if(r.fI=="Clr"){w.Clr={t:"Objc",v:r.m};
delete w.Grad}if(r.fI=="Grad"){w.Grad={t:"Objc",v:r.m};delete w.Clr}}else{w[r.fI].v=r.m}if(C!=0)this._5[C[0]]=JSON.stringify(w)}if(C!=0)if(w.Ptrn)D.fO(fx.T5(w.Ptrn.v,b.o$))}else if(r.e=="setstl"){var z=r.m.Lefx;
if(z)fx.Es(z,D,b.o$);fx.RH(r.m,x);this.sV=f1.K8.IW(D,x)}else if(r.e=="st_dupsingle"){var O=x.add.lmfx[hz.l9[r.As[0]]].v;
if(O[r.As[1]]==null)return;var g=JSON.parse(JSON.stringify(O[r.As[1]]));O.splice(r.As[1],0,g)}else if(r.e=="st_movsingle"){var t=r.As[1],O=x.add.lmfx[hz.l9[r.As[0]]].v;
if(O[r.As[1]]==null)return;var $=Math.max(0,Math.min(O.length-1,t+r.agf)),i=O[$];O[$]=O[t];O[t]=i}else if(r.e=="cancel"){if(this.ts==null)delete x.add.lmfx;
else x.add.lmfx=JSON.parse(this.ts);f1.K8.WB(D,x,JSON.parse(this.vw));this.vw=null;this.ts=null}else if(r.e=="confirm"){var A=JSON.stringify(x.add.lmfx),H=new ap([11,6],this);
H.data={j:[Y],uM:[this.ts],Da:[A],L8:[this.vw],Yb:[JSON.stringify(this.sV)]};D.vl(H);this.vw=null;this.ts=null;
if(A!=null){var F=JSON.parse(A);js.bb(F);F.classID="Lefx";delete F.masterFXSwitch;var T=new iu(y.E.PN);
T.bJ=!0;T.data={sv:"set",Vo:!0};var _=dA.W4("Lyr",!0);_.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
T.data.Q4={__name:"Set",classID:"setd",null:_,T:{t:"Objc",v:F}};j.g(T)}}else if(r.e=="st_copy"){this.ln=[this.vw,this.ts];
this.vw=null;this.ts=null}else if(r.e=="st_paste"||r.e=="st_clear"){if(r.e=="st_paste"&&this.ln==null)return;
var V=r.n!=null?[r.n]:D.R.slice(0),X=[],o=[],c=[],E=[];for(var P=0;P<V.length;P++){var x=D.j[V[P]],f=f1.K8.IW(D,x);
X.push(x.add.lmfx?JSON.stringify(x.add.lmfx):null);c.push(JSON.stringify(f));if(r.e=="st_paste"){o.push(this.ln[1]);
E.push(this.ln[0])}else{o.push(null);f.lrMd.v=0;f.Opct.v.val=100;f.iOpa.v.val=100;f.blIf={v:[]};for(var d=0;
d<10;d++)f.blIf.v.push(0,0,255,255);E.push(JSON.stringify(f))}}var H=new ap([11,6],this);H.data={j:V,uM:X,Da:o,L8:c,Yb:E};
this.Gf(H.data,D);D.vl(H);this.vw=null;this.ts=null}else{var s=this.sV,F=null;if(r.e=="st_delsingle"){F=JSON.parse(this.ts);
F[hz.l9[r.As[0]]].v.splice(r.As[1],1);F=JSON.stringify(F)}if(F==null)delete x.add.lmfx;else x.add.lmfx=JSON.parse(F);
if(s!=null)f1.K8.WB(D,x,s);var H=new ap([11,6],this);H.data={j:[r.n],uM:[this.ts],Da:[F],L8:[this.vw],Yb:[JSON.stringify(s)]};
D.vl(H);this.vw=null;this.ts=null}x.Nl.NR=!0;D.DW=!0;D.P()};f1.K8.IW=function(r,j){if(j.add.iOpa==null)j.add.iOpa=255;
if(j.add.brst==null)j.add.brst=[1,1,1];var D=j.iO()?["pass"].concat(by.n4):by.n4;return{lrMd:{v:D.indexOf(j.yp)},Opct:{v:{type:"#Prc",val:Math.round(j.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(j.add.iOpa*100/255)},t:"UntF"},blIf:{v:j.UE.slice(0)},brst:{v:j.add.brst},aow:r.ta(),adF:r.O0(),iO:j.iO()}};
f1.K8.WB=function(r,j,D){var N=j.iO()?["pass"].concat(by.n4):by.n4;j.yp=N[D.lrMd.v];j.opacity=Math.round(D.Opct.v.val*255/100);
j.add.iOpa=Math.round(D.iOpa.v.val*255/100);j.UE=D.blIf.v.slice(0);j.add.brst=D.brst.v.slice(0);r.lg(D.aow);
r.ak(D.adF)};f1.K8.prototype.B$=function(r,j){for(var P=0;P<r.j.length;P++){var D=j.j[r.j[P]],N=r.uM[P];
if(N==null)delete D.add.lmfx;else D.add.lmfx=JSON.parse(N);f1.K8.WB(j,D,JSON.parse(r.L8[P]));D.Nl.NR=!0}j.DW=!0;
j.P()};f1.K8.prototype.Gf=function(r,j){for(var P=0;P<r.j.length;P++){var D=j.j[r.j[P]],N=r.Da[P];if(N==null)delete D.add.lmfx;
else D.add.lmfx=JSON.parse(N);f1.K8.WB(j,D,JSON.parse(r.Yb[P]));D.Nl.NR=!0}j.DW=!0;j.P()};f1.fp=function(){f1.Go.call(this,I.qL)};
f1.fp.prototype=new f1.Go;f1.fp.prototype.k_=function(r,j,D,N){var b=JSON.parse(JSON.stringify(D._m)),Y=JSON.parse(JSON.stringify(D._m)),x=null,C=null,w=null,q=-1,u=!1;
if(r.e=="delLC"){var h=f1.fp.s8(D._m,r.wd),z=D._m.lastAppliedComp?D._m.lastAppliedComp.v:0;Y.list.v.splice(h,1);
if(z==r.wd)delete Y.lastAppliedComp;x="Delete Layer Comp"}if(r.e=="editLC"){var h=f1.fp.s8(D._m,r.wd),O=Y.list.v[h].v;
if(r.l6!=null)O.Nm.v=r.l6;if(r.abm!=null){var g=r.abm,t=O.capturedInfo.v,$=t&(1<<g)-1;t=t>>g;if((t&1)==1)t--;
else t++;O.capturedInfo.v=(t<<g)+$}x="Layer Comp properties"}if(r.e=="setLC"){f1.fp.zi(D);if(r.wd==0)delete Y.lastAppliedComp;
else Y.lastAppliedComp={t:"long",v:r.wd};x="Switch Layer Comp";u=!0}if(r.e=="updLC"){f1.fp.zi(D);C=f1.fp.abN(D,r.wd);
w=f1.fp.dH(D,r.wd);Y.lastAppliedComp={t:"long",v:r.wd};x="Update Layer Comp";q=r.wd;u=!0}if(r.e=="addLC"){f1.fp.zi(D);
var i=1;for(var P=0;P<Y.list.v.length;P++)i=Math.max(i,Y.list.v[P].v.compID.v)+1;i+=Math.floor(Math.random()*1e4);
var A={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(Y.list.v.length+1)},compID:{t:"long",v:i},capturedInfo:{t:"long",v:7}}};
Y.list.v.push(A);Y.lastAppliedComp={t:"long",v:i};x="New Layer Comp";var H=f1.fp.dH(D,i);f1.fp.J2(D,H,i)}var F=new ap(x,this);
F.data={a4d:b,a4y:Y,a5J:C,agc:w,wd:q,sT:u};this.Gf(F.data,D);D.vl(F)};f1.fp.prototype.Gf=function(r,j){j._m=r.a4y;
j.DW=!0;if(r.agc)f1.fp.J2(j,r.agc,r.wd);if(r.sT){var D=j._m.lastAppliedComp?j._m.lastAppliedComp.v:0,N=f1.fp.s8(j._m,D),b=N==-1?null:j._m.list.v[N].v,Y=b?b.capturedInfo.v:7;
f1.fp.DR(j,D,Y);j.P()}};f1.fp.prototype.B$=function(r,j){j._m=r.a4d;j.DW=!0;if(r.a5J)f1.fp.J2(j,r.a5J,r.wd);
if(r.sT){var D=j._m.lastAppliedComp?j._m.lastAppliedComp.v:0,N=f1.fp.s8(j._m,D),b=N==-1?null:j._m.list.v[N].v,Y=b?b.capturedInfo.v:7;
f1.fp.DR(j,D,Y);j.P()}};f1.fp.zi=function(r){if(r._m.lastAppliedComp!=null||!r.hC)return;var j=f1.fp.dH(r,0);
f1.fp.J2(r,j,0);r.hC=!1};f1.fp.X2=function(r,j,D){r.v.Hrzn.v+=j;r.v.Vrtc.v+=D};f1.fp.s8=function(r,j){var D=r.list.v;
for(var P=0;P<D.length;P++)if(D[P].v.compID.v==j)return P;return-1};f1.fp.a8n=function(r){var j=r.layerSettings.v,b=null;
if(j.length==0)return;var D="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),N=j[0].v;
if(N.enab==null)N.enab={t:"bool",v:!0};if(N.Ofst==null)N.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var P=0;P<j.length;P++){var Y=j[P].v;if(b==null)b=JSON.parse(JSON.stringify(Y));else for(var x=0;
x<D.length;x++){var C=D[x];if(Y[C])b[C]=JSON.parse(JSON.stringify(Y[C]))}j[P].v=JSON.parse(JSON.stringify(b))}};
f1.fp.cs=function(r,j){var D=r.add.shmd.cmls,N=D.layerSettings.v;for(var b=0;b<N.length;b++){var Y=N[b].v,x=Y.compList.v[0].v;
if(x==j)return b}return-1};f1.fp.jl=function(r,j){var D=f1.fp.cs(r,j);return D==-1?null:r.add.shmd.cmls.layerSettings.v[D].v};
f1.fp.DR=function(r,j,D){for(var P=0;P<r.j.length;P++){var N=r.j[P],b=N.add.shmd.cmls;if(b==null)continue;
var Y=b.layerSettings.v,x=f1.fp.jl(N,j);if(x==null){N.yE(!1);continue}if((D&1)!=0){if(x.enab)N.yE(x.enab.v);
else N.yE(!0)}if((D&2)!=0){if(x.Ofst){var C=x.Ofst.v,w=N.dk(r),q=Math.round(C.Hrzn.v-w.x),u=Math.round(C.Vrtc.v-w.y);
if(q!=0||u!=0)I.w8.oX(r,[P],null,q,u)}}if((D&4)!=0){if(x.Lefx){var h=JSON.parse(JSON.stringify(x.Lefx.v));
js.ZO(h);if(JSON.stringify(h)!=JSON.stringify(N.add.lmfx)){N.add.lmfx=h;N.Nl.NR=!0}}else delete N.add.lmfx;
if(x.blendOptions){var z=x.blendOptions.v;if(z.Opct)N.opacity=Math.round(255*z.Opct.v.val/100);if(z.fillOpacity)N.add.iOpa=Math.round(255*z.fillOpacity.v.val/100);
if(z.Md)N.yp=N.add.lsct==bH.ym?"norm":by.fG(z.Md.v.BlnM)}else{N.opacity=255;N.yp=N.iO()?"pass":"norm";
N.add.iOpa=255}}}};f1.fp.abN=function(r,j){var D={};for(var P=0;P<r.j.length;P++){var N=r.j[P];if(N.add.shmd==null||N.add.shmd.cmls==null)continue;
D["l"+N.add.lyid]=JSON.parse(JSON.stringify(f1.fp.jl(N,j)))}return D};f1.fp.dH=function(r,j){var D={};
for(var P=0;P<r.j.length;P++){var N=r.j[P],b=N.add.lyid;D["l"+b]=f1.fp.kd(r,N,j)}return D};f1.fp.kd=function(r,j,D){var N=j.add.shmd?j.add.shmd.cmls:null,b={classID:"null"},Y=j.dk(r),x={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:Y.x},Vrtc:{t:"long",v:Y.y}}};
b.compList={t:"VlLs",v:[{t:"long",v:D}]};b.enab={t:"bool",v:j.Xy()};b.Ofst=JSON.parse(JSON.stringify(x));
b.FXRefPoint=JSON.parse(JSON.stringify(N&&N.origFXRefPoint?N.origFXRefPoint:x));b.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:by.B9(j.yp)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*j.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:j.add.iOpa!=null?100*j.add.iOpa/255:100}}}};
if(j.add.vmsk){b.vectorMask={t:"Objc",v:{classID:"null"}};b.vectorMask.v.Ofst=JSON.parse(JSON.stringify(x))}if(j.add.lmfx){b.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(j.add.lmfx))};
js.bb(b.Lefx.v)}return b};f1.fp.a0v=function(r,j){var D=j.add.lyid;if(j.add.shmd==null)j.add.shmd={};
if(j.add.shmd.cmls==null){j.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:D},layerSettings:{t:"VlLs",v:[{t:"Objc",v:f1.fp.kd(r,j,0)}]}}}};
f1.fp.J2=function(r,j,D){for(var P=0;P<r.j.length;P++){var N=r.j[P],b=N.add.lyid;f1.fp.a0v(r,N);var Y=N.add.shmd.cmls,x=Y.layerSettings.v,C=j["l"+b];
if(C!=null)C={t:"Objc",v:JSON.parse(JSON.stringify(C))};var w=f1.fp.cs(N,D);if(w==-1){if(C==null)continue;
else x.push(C)}else{if(C==null)x.splice(w,1);else x[w]=C}}};f1.fp.EK=function(r,j){for(var P=0;P<r.j.length;
P++){var D=r.j[P],N=D.add.lyid;if(D.add.shmd==null||D.add.shmd.cmls==null)continue;var b=D.dk(r),Y=Math.round(b.x),x=Math.round(b.y);
if(!j){Y=-Y;x=-x}var C=D.add.shmd.cmls,w=C.layerSettings.v;if(C.origFXRefPoint)f1.fp.X2(C.origFXRefPoint,-Y,-x);
for(var q=0;q<w.length;q++){var u=w[q].v;f1.fp.X2(u.Ofst,Y,x);var h=u.imageMask,z=u.vectorMask;if(h&&h.v.Ofst)f1.fp.X2(h.v.Ofst,Y,x);
if(z&&z.v.Ofst)f1.fp.X2(z.v.Ofst,Y,x)}}};f1.s2=function(){f1.Go.call(this,I.tJ);this.ZJ=null;this.Yj=null};
f1.s2.prototype=new f1.Go;f1.s2.V4=function(r,j,D,N){if(N)j/=4;var b=0,Y=0,x=255,C=0,w=0,q=255;while(Y+r[b]<j){Y+=r[b];
b++}while(C+r[x]<j){C+=r[x];x--}if(N){b-=Math.round(r[b]/(D/32));x+=Math.round(r[x]/(D/32));if(b<0)w=Math.round(-b*255/(x-b));
if(x>255)q=255-Math.round((x-255)*255/(x-b))}return[Math.max(b,0),Math.min(x,255),w,q,100]};f1.s2.prototype.k_=function(r,j,D,N,b){var Y=r.e;
if(Y=="auto"){var x=r.Zz,C=f1.s2.getData(D);for(var P=0;P<C.length;P++){var w=C[P],q;if(x<3){}else{var u=ij.nY("hue2");
je.Gm(u,0,[0,-100,0]);q=cz.jX("hue2",u)}cz.Bh(q,w.ix,w.bO,w.DN)}f1.s2.Ap(D,C);f1.s2.tX(D,C,x<3?[4,16,x]:[19,7,0],this);
D.P()}if(Y=="edit_layer")this.a5g(r,j,D,N);if(Y=="edit"||Y=="confirm"||Y=="cancel")this.it(r,j,D,b,!0);
if(Y=="start"){if(D.R.length==0)return;var h=D.j[D.R[0]];if(h.add.SoLd&&h.Cz<=0&&D.cz.length==0){var z=new iu(y.E.w,!0);
z.k=I.MK;z.data={e:"start",fJ:r.Ep,sr:r.sr};j.g(z);return}if(!D.AD(j,null,!0))return;if(k[r.Ep]&&r.sr==null){if(D.R.length!=1)alert("Will be applied to "+D.R.length+" layers.");
var z=new iu(y.E.V,!0);z.data={e:y.G.gl,SO:"afw_"+r.Ep};j.g(z)}else{this.it({e:"edit",sr:r.sr,fJ:r.Ep},j,D,b);
this.it({e:"confirm",fJ:r.Ep},j,D,b)}}};f1.s2.prototype.a5g=function(r,j,D,N){var b=r.e,Y=D.R[0],x=D.j[Y],C=cz.get(x.add),w=JSON.parse(JSON.stringify(r.m)),h;
for(var q in cz.U0)if(cz.U0[q]==C)w.classID=q;var u=D.history[D.Kx];if(u&&u.k==this&&u.data.Gz!=null&&u.data.n==Y)h=u;
else{var z=new iu(y.E.PN,!0),O={classID:"setd",null:dA.W4("AdjL",!0),T:{t:"Objc",v:w}};z.data={Vo:!0,sv:"set",Q4:O};
j.g(z);var h=new ap([6,39],this);h.data={n:Y,Gz:x.add[C],aS:r.m,Eh:O};D.vl(h)}h.data.aS=r.m;h.data.Eh.T.v=w;
this.Gf(h.data,D)};f1.s2.getData=function(r,j,D){var N=[],b=new bf(0,0,r.d,r.r),Y=r.cz.length!=0?[-1-r.cz[0]]:r.R;
for(var P=0;P<Y.length;P++){var x=Y[P],C=x<0?null:r.j[x],w={n:x,V2:x<0?1:C.Cz};N.push(w);var q=r.c9[-1-x];
if(0<=x)q=C.Cz<=0?null:C.Cz==1?C.BG():C.dw(r).B;var u=q?q.rect:C.rect;if(r.c)w.DN=q!=null?r.c.rect.su(b):r.c.rect.su(u);
else w.DN=j||q!=null?u.zs(b):u.clone();if(D)w.DN=D[P].DN.clone();var h=w.DN.Z();w.ix=R.O(h*4);if(q)I.oi.Yi(q.channel,q.rect,q.color,w.ix,w.DN);
else R.UB(C.buffer,u,w.ix,w.DN);w.bO=w.ix.slice(0);if(r.c){w.Pi=R.O(h);R.YO(r.c.channel,r.c.rect,w.Pi,w.DN)}}return N};
f1.s2.a1Z=function(r,j,D){if(j==null)return j;var N=cz.Gq(r,j),Y;if(N==-1)return j;var b=D.length>>>2,x=R.mb(D),C=.001*b;
if(N==0||N==2)Y=[[0,255,0,255,100],f1.s2.V4(x[1],C,b,N==2),f1.s2.V4(x[2],C,b,N==2),f1.s2.V4(x[3],C,b,N==2)];
if(N==1)Y=[f1.s2.V4(x[0],C*.33,b,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var w=ij.nY("levl");
for(var P=0;P<4;P++)cI.Gm(w,P,Y[P]);return w};f1.s2.prototype.it=function(r,j,D,N){if(this.ZJ==null){if(r.fJ=="aply")D.j[D.R[0]].extend(new bf(0,0,D.d,D.r));
this.ZJ=f1.s2.getData(D,null,r.fJ=="fade"?D.Nt().data:null);if(r.fJ=="aply")this.ZJ[0].eC=D.Ez()}if(r.e=="edit"){this.Yj=[r.fJ,r.sr];
var b=this.ZJ[0],Y=f1.s2.a1Z(r.fJ,r.sr,b.ix),x=cz.jX(r.fJ,Y);if(r.fJ=="fade"||r.fJ=="aply")x=r.sr;if(x!=null){for(var P=0;
P<this.ZJ.length;P++){var C=this.ZJ[P];if(r.A6)R.kZ(C.ix,C.bO);else if(r.fJ=="fade"){var w=by.fG(r.sr.Md.v.BlnM),q=r.sr.Opct.v.val/100,u=D.Nt().data[P];
R.kZ(u.ix,C.bO);if(w=="norm")R.U.yI(C.ix,C.DN,C.bO,C.DN,null,null,null,C.DN,q);else{var h=fx.Lo();h.IB=!0;
for(var P=0;P<u.ix.length;P+=4)if(u.ix[P+3]!=C.ix[P+3]){h=null;break}R.U.tI(w,C.ix,C.DN,C.bO,C.DN,C.DN,q,h)}}else if(r.fJ=="aply"){x=x.With.v;
var z=x.T.v,O,g;if(z[1].t=="name"){var t=0;for(var $=0;$<D.j.length;$++)if(D.j[$].getName()==z[1].v.val)t=$;
if(t==C.n){O=C.ix;g=C.DN}else{var i=D.j[t];O=i.buffer;g=i.rect}}else{g=new bf(0,0,D.d,D.r);O=C.eC}var A=x.Clcl?x.Clcl.v.Clcn:null,w=A?by.fG(A):"norm",q=x.Opct?x.Opct.v.val/100:1,H=["RGB","Rd","Grn","Bl","Trsp"].indexOf(z[0].v.enum),Y=x.Invr&&x.Invr.v;
if(Y||H!=0){O=O.slice(0);if(Y)R.a6b(O);if(H!=0){var F=R.O(g.Z());R.ni(O,F,H-1);if(H==4)R.gq(F);for(var $=0;
$<3;$++)R.zQ(F,O,$)}}if(A=="Add"||A=="Sbtr"){var T=1/x.Scl.v,_=x.Ofst.v,V=A=="Add"?1:-1,X=new Uint8ClampedArray(C.bO.buffer);
for(var P=0;P<O.length;P+=4){X[P]=(C.ix[P]+V*O[P])*T+_;X[P+1]=(C.ix[P+1]+V*O[P+1])*T+_;X[P+2]=(C.ix[P+2]+V*O[P+2])*T+_}}else{var h=fx.Lo();
h.IB=x.PrsT&&x.PrsT.v;C.bO.fill(0);C.bO.set(C.ix);R.U.tI(w,O,g,C.bO,C.DN,C.DN,q,h)}}else cz.Bh(x,C.ix,C.bO,C.DN)}f1.s2.Ap(D,this.ZJ)}}if(r.e=="cancel"){f1.s2.MU(D,this.ZJ);
this.ZJ=null}if(r.e=="confirm"){var o=r.fJ=="fade"?[2,11]:r.fJ=="aply"?[2,12]:cz.names[r.fJ],c=cz.Gq(r.fJ,this.Yj[1]);
if(c!=-1)o=[4,16,c];f1.s2.tX(D,this.ZJ,o,this);this.ZJ=null;if(c==-1)f1.s2.Vx(j,this.Yj)}D.P()};f1.s2.Vx=function(r,j){var D=j[0],N=j[1],b,Y;
if(cz.Le[D]){b=cz.Le[D];if(k[D])Y=N}if(ij.Le[D]){b=ij.Le[D];if(k[D])Y=N}if(D=="fade"){b="fade";Y=N}if(D=="aply"){b="applyImageEvent";
Y=N}if(b==null)return;var x=new iu(y.E.PN,!0);x.data={Vo:!0,sv:b};if(Y){Y=JSON.parse(JSON.stringify(Y));
Y.classID="null";delete Y.__name;x.data.Q4=Y}r.g(x)};f1.s2.MU=function(r,j){f1.s2.fk(r,j)};f1.s2.tX=function(r,j,D,N){for(var P=0;
P<j.length;P++){var b=j[P],Y=r.j[b.n],x=b.n<0?r.c9[-1-b.n]:b.V2<=0?null:b.V2==1?Y.BG():Y.dw(r).B;if(x){x.H2();
x.ZI=!0;if(Y)Y.Fz(r)}else{Y.H2();Y.P()}delete b.bO;delete b.Pi}var C=new ap(D,N);C.data=j;r.vl(C);r.DW=!0};
f1.s2.Ap=function(r,j,D){for(var P=0;P<j.length;P++){var N=j[P],b=r.j[N.n],Y=D?N.ix:N.bO,x=N.DN;if(N.V2==0){b.extend(x);
if(N.Pi){R.UB(N.ix,x,b.buffer,b.rect);R.U.yI(Y,x,b.buffer,b.rect,N.Pi,x,0,x,1)}else R.UB(Y,x,b.buffer,b.rect)}else{var C=N.n<0?r.c9[-1-N.n]:N.V2==1?b.BG():b.dw(r).B;
C.extend(x);if(N.Pi){var w=R.O(x.Z()*4);R.kZ(N.ix,w);R.U.yI(Y,x,w,x,N.Pi,x,0,x,1);I.oi.k0(w,x,C)}else I.oi.k0(Y,x,C);
C.ZI=!0;if(b)b.Fz(r)}if(b)b.P()}if(!D)f1.s2.kR(r,j)};f1.s2.fk=function(r,j){for(var P=0;P<j.length;P++){var D=j[P],N=r.j[D.n],b=D.DN,Y=R.O(b.Z()*4);
if(D.V2==0){R.UB(N.buffer,N.rect,Y,b);N.extend(b);R.UB(D.ix,b,N.buffer,N.rect);N.H2()}else{var x=D.n<0?r.c9[-1-D.n]:D.V2==1?N.BG():N.dw(r).B;
I.oi.Yi(x.channel,x.rect,x.color,Y,b);x.extend(b);I.oi.k0(D.ix,b,x);x.H2();x.ZI=!0;if(N)N.Fz(r)}D.ix=Y;
if(N)N.P()}r.DW=!0};f1.s2.kR=function(r,j){var D=f1.s2.kf(r),N=~D;if(D==16777215)return;for(var P=0;
P<j.length;P++){var b=j[P],Y=r.j[b.n],x=b.DN;if(b.V2!=0)continue;Y.extend(x);var C=x.x-Y.rect.x,w=x.y-Y.rect.y,q=Y.rect.d,u=new Uint32Array(b.ix.buffer),h=new Uint32Array(Y.buffer.buffer);
for(var z=0;z<x.r;z++)for(var O=0;O<x.d;O++){var g=z*x.d+O,t=(z+w)*q+(O+C);h[t]=h[t]&D|u[g]&N}Y.H2();
Y.P()}r.P()};f1.s2.kf=function(r){var j=r.z.Cs;return j[2]*16711680|j[1]*65280|j[0]*255};f1.s2.prototype.B$=function(r,j){var D=j.j[r.n];
if(r.Gz!=null)D.add[cz.get(D.add)]=r.Gz;else f1.s2.fk(j,r);j.P()};f1.s2.prototype.Gf=function(r,j){var D=j.j[r.n];
if(r.Gz!=null)D.add[cz.get(D.add)]=r.aS;else f1.s2.fk(j,r);j.P()};f1.o8=function(){f1.Go.call(this,I.MK);
this.ZJ=null;this.Q$=null;this.e=null;this.Yj=null};f1.o8.prototype=new f1.Go;f1.o8.prototype.k_=function(r,j,D,N,b){if(r.e=="start"){if(D.R.length==0)return;
var Y=D.j[D.R[0]];if(Y.add.SoLd&&Y.Cz<=0&&D.cz.length==0){}else if(!D.AD(j,null,!0))return;var x=r.fJ;
if((k[x]||ij.L[x])&&r.sr==null){if(D.R.length!=1)alert("Will be applied to "+D.R.length+" layers.");
var C=new iu(y.E.V,!0);C.data=f1.o8.MZ(x,this.Vf(D,x));j.g(C)}else{var w={e:"edit",fJ:x,sr:r.sr,mI:this.Vf(D)};
this.k_(w,j,D,N,b);w.e="confirm";delete w.sr;this.k_(w,j,D,N,b)}}if(r.e=="edit"||r.e=="cancel"||r.e=="confirm"){if(r.e=="edit")this.Yj=[r.fJ,r.sr];
if(r.mI)this.ac$(r,D,b);else this.apq(r,j,D,b)}if(r.e=="applylast"&&this.Yj!=null){var w={e:"edit",fJ:this.Yj[0],sr:this.Yj[1],mI:this.Vf(D)};
this.k_(w,j,D,N,b);w.e="confirm";delete w.sr;this.k_(w,j,D,N,b)}};f1.o8.MZ=function(r,j){var D=ij.L[r];
if(D)return{e:y.G.T$,k:D,EE:{mI:j}};else return{e:y.G.gl,SO:"afw_"+r,mI:j}};f1.o8.prototype.Vf=function(r,j){var D=r.j[r.R[0]],N;
if(D.add.SoLd&&D.Cz<=0&&r.cz.length==0){N={n:r.R[0],index:0};if(D.add.SoLd.filterFX!=null){var b=D.add.SoLd.filterFX.v.filterFXList.v;
N.index=b.length;for(var P=0;P<b.length;P++)if(ij.nZ(b[P].v)==j&&ij.L[j])N.index=P}}return N};f1.o8.prototype.ac$=function(r,j,D){var N=j.j[r.mI.n],b=r.fJ;
if(r.e=="edit"){if(this.e==null){var Y=ij.names[b];if(Y==null)Y=cz.names[b];if(b=="blendOptions")Y=[14,10];
this.e=new ap(Y,this);this.e.data={mI:r.mI,ac8:JSON.parse(JSON.stringify(N.add.SoLd))}}if(!N.ri()){N.add.SoLd.filterFX=ij.Sq();
this.e.data.XX=dl.l5(N.add.SoLd.placed.v);j.oY(this.e.data.XX);N.zX(j)}var x=N.add.SoLd.filterFX.v.filterFXList.v;
if(x[r.mI.index]==null){x.push(ij.ka(b,D))}if(r.sr){x[r.mI.index].v.enab.v=r.A6!=!0;if(b=="blendOptions")x[r.mI.index].v.blendOptions.v=r.sr;
else x[r.mI.index].v.Fltr.v=r.sr}this.e.data.as$=JSON.parse(JSON.stringify(N.add.SoLd));this.Gf(this.e.data,j)}if(r.e=="cancel"){if(this.e)this.B$(this.e.data,j);
this.e=null}if(r.e=="confirm"){if(this.e)j.vl(this.e);this.e=null}};f1.o8.prototype.RU=function(r){return{a:r>>>16,p:r>>>8&255,M:r&255}};
f1.o8.prototype.apq=function(r,j,D,N){if(this.ZJ==null){var b=ij.Ux(r.fJ,r.sr);this.ZJ=f1.s2.getData(D,b.x!=0||b.y!=0)}if(r.e=="edit"){var Y=JSON.stringify(r.sr);
if((r.sr==null||Y!=this.Q$)&&r.A6!=!0)for(var P=0;P<this.ZJ.length;P++){var x=this.ZJ[P],C={rect:x.DN,buffer:x.ix},w={rect:x.DN,buffer:x.bO};
if(r.fJ=="Avrg"&&x.Pi){C.buffer=x.ix.slice(0);R.R1(x.Pi,C.buffer)}ij.Bh(r.fJ,C,r.sr,this.RU(N.xg),this.RU(N.mL),w,[D.add.lnk2?D.add.lnk2:[],D.j[D.R[0]].BG(),D.c9,D.HG()]);
if(r.fJ=="Avrg"&&x.Pi){var q=x.ix.length;for(var P=0;P<q;P+=4)x.bO[P+3]=x.ix[P+3]}this.Q$=Y}f1.s2.Ap(D,this.ZJ,r.A6)}if(r.e=="cancel"){f1.s2.MU(D,this.ZJ);
this.ZJ=null;this.Q$=null}if(r.e=="confirm"){f1.s2.tX(D,this.ZJ,ij.names[r.fJ],this);this.ZJ=null;this.Q$=null;
f1.s2.Vx(j,this.Yj)}D.P();D.DW=!0};f1.o8.prototype.B$=function(r,j){if(r.mI){var D=j.j[r.mI.n];if(r.XX)j.yk(r.XX);
D.add.SoLd=JSON.parse(JSON.stringify(r.ac8));if(D.ri())D.VR(j);else{D.zX(j);D.Cz=0}}else f1.s2.fk(j,r);
j.P();j.DW=!0};f1.o8.prototype.Gf=function(r,j){if(r.mI){var D=j.j[r.mI.n];if(r.XX)j.oY(r.XX);D.add.SoLd=JSON.parse(JSON.stringify(r.as$));
if(D.ri())D.VR(j);else D.zX(j);if(!D.px())D.Qk+=32}else f1.s2.fk(j,r);j.P();j.DW=!0};var e5={Cr:"0",cL:"1",dv:"2",Fe:"3",HX:"4",ag:"5",ct:"6",V_:"7",w:"8",fZ:"8.5",SN:"8.8",ZG:"9",YB:"10",cA:"11",l0:"12",fQ:"13",KY:"14",ee:"15",Qe:"16",pN:"21",EW:"22",Uh:"23",VN:"23.0",_i:"23.1",vc:"23.2",Yk:"23.3",rj:"23.4",sR:"23.5",jh:"23.6",Lg:"30",aj:"31",wv:"40",jK:"41",da:"42"};
e5.ay={};e5.ay[e5.cL]=["abr","brushes",f4,[9,3]];e5.ay[e5.dv]=["grd","gradients",d0,[12,37]];e5.ay[e5.Fe]=["shc","contours",e7,[12,21]];
e5.ay[e5.HX]=["asl","styles",jx,[12,22]];e5.ay[e5.ag]=["pat","patterns",j3,[12,62]];e5.ay[e5.ct]=["csh","shapes",fC,[12,77]];
e5.ay[e5.V_]=["aco","swatches",dh,[9,8]];e5.ay[e5.w]=["atn","actions",ex,[9,9]];e5.ay[e5.fZ]=["tpl","tpresets",bV,[9,12]];
e5.ay[e5.SN]=["icc","profiles",eI,"ICCs"];function ap(r,j,D){if(D==null)D=!1;this.name=r;this.k=j;this.Df=D;
this.data=null;this.asZ=Date.now()}var dA={};dA.W4=function(r,j){var D={t:"Clss",v:{classID:r}};if(j)D={t:"Enmr",v:{classID:r,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[D]}};dA.zt=function(r,j){var D={classID:"Lyr"};D[r]=j;return{sv:"set",Q4:{classID:"null",null:dA.W4("Lyr",!0),T:{t:"Objc",v:D}}}};
dA.aei=function(r,j,D,N,b){var Y=new iu(y.E.PN,!0),x=[],P=0,C=dA.sU(j,D,N,x);while(x.length!=0){var w=x.pop();
P++;if(!w.N)continue;if(w.sv=="conditional"){var q=r.j[r.R[0]],u=w.Q4.null.v.Cndt,h=!1;if(u=="Bckg")h=!1;
else if(u=="Pxel"&&r.Kf(!1))h=!0;else if(u=="Adjs"&&cz.get(q.add))h=!0;else if(u=="Shp"&&q.add.vogk)h=!0;
else if(u=="Grup"&&q.iO())h=!0;else if(u=="Opn"&&r!=null)h=!0;else if(u=="32Bt")h=!1;else if(u=="RGB")h=!0;
var z=w.Q4.then,O=w.Q4.else;if(h&&z)dA.sU(j,z.v[0].v.val,z.v[1].v.val,x);if(!h&&O)dA.sU(j,O.v[0].v.val,O.v[1].v.val,x)}else if(w.sv=="stop"){if(w.Q4.Cntn&&w.Q4.Cntn.v==!0)window.confirm(w.Q4.Msge.v);
else{alert(w.Q4.Msge.v);break}}else if(w.sv=="play"){var g=w.Q4.null.v,t=new iu(y.E.V,!0);t.data={e:y.G.Vy,oO:[g[0].v.val,g[1].v.val]};
b.g(t)}else{Y.data={sv:w.sv,Q4:w.Q4};b.g(Y)}}};dA.sU=function(r,j,D,N){var b;for(var P=0;P<r.length;
P++){if(r[P].NL!=D)continue;var Y=r[P].lk;for(var x=0;x<Y.length;x++){if(Y[x].NL!=j)continue;b=Y[x].lk}}var C=b.length;
for(var P=0;P<C;P++)N.push(b[C-1-P])};dA.a89=function(r){var j=r.sv,D=r.Q4,N,x,C,w,q,u;if(D&&D.null)N=D.null.v[0];
if(D&&N==null&&D.At)N=D.At.v[0];if(N&&N.t=="obj ")N=N.v[0];var b=N?N.v.classID:null,Y=["purge"];if(Y.indexOf(j)!=-1)return j[0].toUpperCase()+j.slice(1);
u=cz.Le;for(x in u)if(u[x]==j)C=x;u=ij.Le;for(x in u)if(u[x]==j)w=x;u=cQ.Le;for(x in u)if(u[x]==j)q=x;
if(C){var h=cz.Gq(C,D);if(h!=-1)return[4,16,h];return cz.names[C]}if(w)return ij.names[w];if(q)return cQ.names[q];
var z=dA.rY;if(j=="make"){if(N){if(b=="AdjL")return[6,1];else if(b=="layerSection")return D.From?[6,9]:[6,20];
else if(b=="Lyr")return[6,13];else if(b=="Chnl"&&N.v.enum=="Msk")return[6,2];else if(b=="contentLayer")return[6,48,1];
else if(b=="BckL")return"Make Background Layer";else if(b=="Path")return"Make Path";else if(b=="TxLr")return"Make Text Layer";
else if(b=="slice")return"Make Slices"}if(D.Nw){b=D.Nw.v.classID;if(b=="Dcmn")return[11,7];else if(b=="Chnl"||b=="SCch")return"New Channel"}}else if(j=="select"){if(b=="Chnl")return"Select "+(N.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(b=="Mn")return"Select Panel \""+N.v.enum+"\"";else if(b=="Lyr"){console.log(N);if(N.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[N.v.enum]+" Layer";
return"Select Layer \""+N.v.val+"\""}else if(b=="Dcmn")return"Select Document"}else if(z[j]&&b=="Chnl"){var O=N.v.keyID=="fsel";
return z[j]+" "+(O?"Selection":"Channel")}else if(j=="set"){if(b=="Lyr")return"Set Current Layer";else if(b=="AdjL")return[6,39];
else if(b=="contentLayer")return[6,48,2];else if(b=="Prpr")return[11,6];else if(b=="Clr")return"Set "+(N.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(b=="Brsh")return"Set Brush";else console.log(b)}else if(j=="move"){if(b=="Lyr")return"Move Layer"}else if(j=="show"||j=="hide"){var g="";
if(b=="Lyr")+"Layer";if(b=="Chnl")+"Channel";return(j=="show"?"Show":"Hide")+" "+g}else if(j=="reset"){if(b=="Clr")return"Reset Colors"}else if(j=="exchange"){if(b=="Clr")return[22,7,0]}else if(j=="rotateEventEnum")return[2,5];
else if(j=="flip"){var t=D.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,t?2:3]]}if(b=="Chnl"){if(j=="duplicate"){if(N.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(j=="delete")return"Delete Channel"}if(j=="transform")return N&&N.v.keyID=="fsel"?[7,10]:[10,16];
var $={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],save:[1,2],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:D?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},i=$[j];
if(i==null)i=dA.KM[j];if(i)return i;return j};dA.KM={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
dA.rY={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
dA.aaW=function(r,j,D,N){var b=r.sv,Y=r.Q4,x=new iu(y.E.w,!0),q,u,h,z,O,t;x.k=I.C5;var C=new iu(y.E.V,!0),w=["purge","updatePlacedLayer","convertMode"];
if(w.indexOf(b)!=-1)return;O=cz.Le;for(q in O)if(O[q]==b)u=q;O=ij.Le;for(q in O)if(O[q]==b)h=q;O=cQ.Le;
for(q in O)if(O[q]==b)z=q;if(b=="fade")u=b;if(b=="applyImageEvent")u="aply";if(u){x.k=I.tJ;x.data={e:"start",Ep:u,sr:Y}}else if(h){x.k=I.MK;
x.data={e:"start",fJ:h,sr:Y}}else if(z){x.k=I.MK;x.data={e:"start",fJ:"GEfc",sr:Y}}else if(b=="imageSize"||b=="canvasSize"||b=="revealAll"||b=="trim"||b=="crop"){x.k=I.a1;
x.data={e:"fromAction",Rf:r}}else if(b=="fill"||b=="delete"&&Y==null){x.k=I.cL;x.data={e:"fromAction",Rf:r}}else if(b=="colorRange"){x.k=I.Fx;
x.data={e:"fromAction",Rf:r}}else if(dA.KM[b]||dA.rY[b]&&(!1||Y.With&&Y.With.v[0].v.keyID=="fsel"||Y.From&&Y.From.v[0].v.keyID=="fsel"||Y.null&&Y.null.v[0].v.keyID=="fsel"||Y.T.v[0]&&Y.T.v[0].v.keyID=="fsel")){x.k=I.Fx;
x.data={e:"fromAction",Rf:r}}var g={copyToLayer:G.DQ,mergeLayersNew:N&&N.R.length==1?G.fL:G.LF,rasterizeLayer:G.SI,mergeVisible:G.Ba,flattenImage:G.tm,newPlacedLayer:G.z6};
if(g[b])x.data={e:g[b],Q4:Y};if(x.data){j.g(x);return}if(b=="desaturate"){x.k=I.tJ;x.data={e:"auto",Zz:3};
if(N&&N.j[N.R[0]].add.SoLd==null)j.g(x);return}if(b=="close"){if(Y.Svng.v.YsN=="Ys"){C.data={e:y.G.sE};
j.g(C)}C.data={e:y.G.vN,WW:N};j.g(C);return}if(b=="save"){C.data={e:y.G.sE};j.g(C);return}if(b=="copyMerged"){C.data={e:y.G.cX,dI:!0,PE:!0};
j.g(C);return}var g={placedLayerEditContents:y.G.a7p,copyEvent:y.G.cX,paste:y.G.aE};if(g[b])C.data={e:g[b],PE:!0};
if(C.data){j.g(C);return}if(Y.null||Y.At)t=(Y.null?Y.null:Y.At).v;else t=[{t:"----",v:Y}];if(t[0].t=="obj "){if(t.length!=1)throw"e";
t=t[0].v}for(var $=0;$<t.length;$++){var i=t[$],A=i.v.classID;x.data=null;if(b=="make"){if(Y.null==null&&Y.Nw)A=Y.Nw.v.classID;
if(A=="AdjL"){x.data={e:G.hX,Q4:Y}}else if(A=="layerSection"){x.data=Y.From?{e:G.Mr}:{e:G.cn};if(Y.Usng){var H=Y.Usng.v;
if(H.Nm)x.data.l6=H.Nm.v;if(H.Clr)x.data.v7=dA.uP(H)}}else if(A=="Lyr"){if(Y.Usng&&Y.Usng.v.length==2)x.data={e:G.ZZ};
else{x.data={e:G.Ym};if(Y.Usng)x.data.l6=Y.Usng.v.Nm.v;if(Y.below&&Y.below.v)x.data.adC=!0}}else if(A=="Chnl"&&i.v.enum=="Msk"){x.data={e:G.CS,Y3:Y.Usng.v.UsrM}}else if(A=="Chnl"||A=="SCch"){x.data={e:G.$c,Ix:"fromAction",m:r}}else if(A=="contentLayer"){x.data={e:G.CT,Q4:Y}}else if(A=="BckL"){N.j[N.R[0]].aa_();
continue}else if(A=="Dcmn"){var F=Y.Nw.v;C.data={e:y.G.uk,AN:dl.ac0(F,D)}}else if(A=="Ptrn")C.data={e:y.G.sJ,Ek:0};
else if(A=="Path"){x.k=I.Ml;x.data={e:"pathedit",Ix:"fromsel"}}else if(A=="TxLr"){x.k=I.pP;x.data={e:"fromAction",Rf:r}}else if(A=="slice"){x.k=I.TX;
x.data={e:"fromAction",Rf:r}}else if(A=="SnpS"){continue}else{console.log(b,A,Y);throw"e"}}else if(b=="select"){var T={PcTl:I.wh,magicWandTool:I.eD};
if(A=="Lyr"){var _=Y.selectionModifier,V=_?_.v.selectionModifierType:null,X=dA.Mc(N,i);if(X==-1){alert("Layer "+i.v.val+" does not exist.");
throw"e"}x.data={e:G.GO,n:X,ab_:V?["addToSelection","addToSelectionContinuous"].indexOf(V):null,K9:0,ak7:!0}}else if(A=="Chnl"){x.data={e:G.GO,n:X,K9:1}}else if(A=="Dcmn"){if(j.Xl.length<2)return;
C.data={e:y.G.amP,dir:Y.null.v[0].v.val}}else if(T[A]){C.data={e:y.G.T$,k:T[A]}}}else if((b=="set"||b=="reset"||b=="exchange")&&A=="Clr"){C.data={e:y.G.VD,Ek:e5.pN,Ix:b=="reset"?3:2};
if(b=="set"){C.data.Ix=i.v.keyID=="FrgC"?0:1;var o=R._.z2(Y.T.v);C.data.m=o.a<<16|o.p<<8|o.M}}else if(b=="set"){if(A=="AdjL"){var c=Y.T.v.classID;
c=cz.U0[c];x.k=I.tJ;if(c)x.data={e:"edit_layer",m:Y.T.v}}else if(A=="Lyr"){var E=Y.T.v,X=dA.Mc(N,i);
if(E.Nm)x.data={e:G.Hu,name:E.Nm.v};else if(E.Opct)x.data={e:G.e9,aS:Math.round(E.Opct.v.val*255/100)};
else if(E.fillOpacity)x.data={e:G.Q1,aS:Math.round(E.fillOpacity.v.val*255/100)};else if(E.Md)x.data={e:G.qi,aS:by.zT.indexOf(E.Md.v.BlnM)+(N.j[X].iO()?1:0)};
else if(E.Usrs)x.data={e:G.gJ,n:X};else if(E.Blnd){x.k=I.i3;x.data={e:"setstl",n:X,m:{blendOptions:{t:"objc",v:E}}};
j.g(x);x.data={e:"confirm",n:X}}else if(E.Clr){var f=dA.uP(E);x.data={e:G.Ao,a1O:f}}else if(t[0].t=="prop")continue;
else{console.log(Y);throw"e"}var d=N.j[X];d.ag1()}else if(A=="Prpr"){var E=JSON.parse(JSON.stringify(Y.T.v));
if(i.v.keyID=="TxtS"){var X=dA.Mc(N,Y.null.v[1]),d=N.j[X],s=d.add.TySh,B=JSON.parse(JSON.stringify(s.d1)),a=cU.g2(B),U=cU.eZ(B,0,a.length-2);
if(E.Undl&&E.Undl.v.Undl=="underlineOnLeftInVertical")U.WQ.Underline=!0;cU.lc(B,0,a.length-1,U);x.k=I.pP;
x.data={e:"newED",I6:X,zJ:B};$=1e9}else{for(var M in E)if(E[M].v){if(M=="Scl")E[M].v.val=100;if(E[M].v.TrnS&&E[M].v.TrnS.v.Crv==null){E[M].v.TrnS=JSON.parse(hz._5[9]).TrnS}}js.ZO(E);
if(E.masterFXSwitch==null)E.masterFXSwitch={t:"bool",v:!0};var X=dA.Mc(N,Y.null.v[1]);x.k=I.i3;x.data={e:"setstl",n:X,m:{Lefx:{t:"objc",v:E}}};
j.g(x);x.data={e:"confirm",n:X}}}else if(A=="contentLayer"){var X=dA.Mc(N,i),E=Y.T.v;if(E.classID=="shapeStyle")E=E.FlCn.v;
var W={solidColorLayer:0,gradientLayer:1,patternLayer:2}[E.classID],h=JSON.parse(JSON.stringify(hz.N$[W]));
f1.c5.x9(E,h,W);x.data={e:G.K3,bB:[X],Fj:!0,m:{cC:W+1,ME:h}}}else if(A=="Brsh"){var n=JSON.parse(JSON.stringify(D.j_.EU)),e=Y.T.v;
if(e.masterDiameter)n.Brsh.v.Dmtr.v.val=e.masterDiameter.v.val;else console.log("unknown brush parameters");
C.data={e:y.G.VD,Ek:e5.KY,ER:n}}else{console.log(i,Y);throw A}}else if(b=="move"){if(A=="Lyr"){var E=Y.T.v;
if(E.classID=="Ofst"){x.data={e:"trsl",a9B:E.Hrzn.v.val,a7w:E.Vrtc.v.val};x.k=I.t3}else{var Q,J;if(E[0].t=="Enmr"){if(E[0].v.enum=="Frnt")J=0;
else if(E[0].v.enum=="Nxt")J=1;else if(E[0].v.enum=="Prvs")J=2;else if(E[0].v.enum=="Back")J=3;else throw"e"}else Q=E[0].v.val;
x.data={e:G.vL,target:Q,Ix:J,alv:Y.Dplc?Y.Dplc.v:!1}}}}else if(b=="groupEvent")x.data={e:G.x0};else if(b=="show"||b=="hide"){console.log(Y);
if(A=="Lyr"){var X=dA.Mc(N,i);if(X==-1)continue;var m=N.j[X].Xy();if(b=="show"&&m||b=="hide"&&!m)continue;
x.data={e:G.T6,n:X}}else if(A=="Chnl"){x.data={e:G.$c,Ix:"fromAction",m:r}}else if(A=="filterFX"){if(i.v.val!=null)x.data={e:G.Ee,index:i.v.val-1};
x.data={e:G.oL};t=[t[0]]}}else if(b=="rotateEventEnum"){x.k=I.a1;var p=Y.Angl.v.val;x.data={e:"rot",NL:[2,5],m:-p*Math.PI/180}}else if(b=="flip"){x.k=I.a1;
var L=Y.Axis.v.Ornt=="Hrzn",S=L?new gJ(-1,1):new gJ(1,-1);x.data={e:"scl",NL:[[2,6],[22,4,L?2:3]],m:S}}else if(b=="transform"){var eJ=1,v=1,ff=0,K=0,jo=0,g5=0,fQ=0;
if(Y.Wdth)eJ=Y.Wdth.v.val/100;if(Y.Hght)v=Y.Hght.v.val/100;if(Y.Skew){var iT=Y.Skew.v;ff=iT.Hrzn.v.val;
K=iT.Vrtc.v.val}if(Y.Ofst){var ac=Y.Ofst.v;g5=ac.Hrzn.v.val;fQ=ac.Vrtc.v.val}if(Y.Angl)jo=Y.Angl.v.val;
var aR=new j9;aR.concat(new j9(eJ,eJ*Math.tan(K*Math.PI/180),v*Math.tan(ff*Math.PI/180),v,0,0));aR.rotate(-jo*Math.PI/180);
aR.translate(g5,fQ);var hV={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[Y.FTcs.v.QCSt];
if(hV==null)throw Y.FTcs.v.QCSt;var i=Y.null;if(i&&i.v instanceof Array)i=i.v[0];var X=i?dA.Mc(N,i):null;
if(X==-1)X=null;x.k=i&&i.v.keyID=="fsel"?I.od:I.YW;x.data={e:"mat",eg:hV,m:aR}}else if(A=="Chnl"){x.data={e:G.$c,Ix:"fromAction",m:r}}else if(b=="duplicate")x.data={e:G.b7,l6:Y.Nm?Y.Nm.v:null};
else if(b=="delete"){if(A=="filterFX"){if(i.v.val!=null)x.data={e:G.Bq,EB:i.v.val-1};else x.data={e:G.vy}}else x.data={e:G.VY};
t=[t[0]]}else if(b=="align"){if(Y.Aply&&Y.Aply.v.projection=="Auto"){x.k=I.a1;x.data={e:"auto-align"}}else{x.k=I.t3;
var u={AdLf:0,AdRg:2}[Y.Usng.v.ADSt];if(u==null)throw"e";x.data={e:"algn",m:u}}}else if(b=="applyLocking"){var cu=Y.layerLocking.v,iy;
if(cu.protectTransparency)iy=[[cu.protectTransparency.v],[0]];else if(cu.protectNone)iy=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(cu);throw"e"}x.data={e:G.oM,aS:iy}}if(x.data)j.g(x);else if(C.data)j.g(C);else{console.log(r);
alert("Unknown action \""+b+"\"");throw"e"}}};dA.uP=function(r){var j={Rd:1,Ylw:3,Grn:4,Vlt:6}[r.Clr.v.Clr];
if(j==null)throw r.Clr.v.Clr;return j};dA.Mc=function(r,j){var D=1e6,N=0;for(var P=0;P<r.R.length;P++){D=Math.min(D,r.R[P]);
N=Math.max(N,r.R[P])}var b=j.t,Y=-1;if(b=="name"){var x=j.v.val,Y=-1;for(var P=0;P<r.j.length;P++)if(r.j[P].getName()==x){Y=P;
break}}if(b=="Enmr"&&r.R.length!=0)Y=r.R[0];if(b=="Enmr"&&j.v.enum=="Frwr")Y=N+1;if(b=="Enmr"&&j.v.enum=="Bckw")Y=D-1;
if(b=="prop"){if(j.v.keyID=="Bckg")Y=0}return Y};var cz={};cz.get=function(r){for(var j in cz.names)if(r[j]!=null)return j;
return null};cz.jX=function(r,j){var D=cz.um,N;if(r=="brit"){var b=j.Brgh?j.Brgh.v:0,Y=j.Cntr?j.Cntr.v:0,x=j.useLegacy?j.useLegacy.v:!1;
if(x){var C=b/255,w=1+Y/100;if(w>1)w=1+Math.tan(Math.PI/2*Y/101);var q=(1-w)/2,u=R.ft.dC(C,C,C),h=[w,0,0,q,0,w,0,q,0,0,w,q,0,0,0,1],z=R.ft.multiply(u,h),O=new R.oj(256);
for(var P=0;P<256;P++)O.a[P]=P;R.ft.transform(O,O,z);N={type:D.Yp,Uk:O.a,Vc:O.a,cm:O.a,Fk:!1,Oz:!1}}else{var g=1024,t=-30+60*(Y+100)/200,$=[];
for(var P=0;P<4;P++)$.push(R.I7.wV(P/3*255,P/3*255,!0));$[1].v.Hrzn.v=64;$[1].v.Vrtc.v=64-t;$[2].v.Hrzn.v=128+64;
$[2].v.Vrtc.v=128+64+t;$.sort(function(bS,bg){return bS.v.Hrzn.v-bg.v.Hrzn.v});var i=R.I7.OG($,g);function A(bS,g){var $=[],eK=3;
for(var P=0;P<eK+1;P++)$.push(R.I7.wV(P/eK*255,P/eK*255,!0));$[1].v.Hrzn.v=130-bS*26;$[1].v.Vrtc.v=130+bS*51;
$[2].v.Hrzn.v=233-bS*48;$[2].v.Vrtc.v=233+bS*10;return R.I7.OG($,g)}var H=A(Math.abs(b)/100,g);if(b<0){var F=[],T=1/g;
for(var P=0;P<g;P++){var _=P*T,V=P;while(H[V]>_&&V>1)V--;F[P]=V*T}H=F}var X=new Uint8Array(g);for(var P=0;
P<g;P++){var o=Math.round((g-1)*H[P]);X[P]=Math.round(255*i[o])}N={type:D.Yp,Uk:X,Vc:X,cm:X,Fk:!1,Oz:!1}}}if(r=="levl"){var c=[],E,f,u,d,s,B;
for(var P=0;P<4;P++)c.push(cI.GG(j,P));E=-c[0][0]/255;f=1/(c[0][1]/255-c[0][0]/255);u=R.ft.multiply(R.ft.mU(f,f,f),R.ft.dC(E,E,E));
d=R.ft.mU(1/(c[1][1]/255-c[1][0]/255),1/(c[2][1]/255-c[2][0]/255),1/(c[3][1]/255-c[3][0]/255));s=R.ft.dC(-c[1][0]/255,-c[2][0]/255,-c[3][0]/255);
B=R.ft.multiply(d,s);var X=new R.oj(256);for(var P=0;P<256;P++)X.a[P]=X.p[P]=X.M[P]=P;var a=1/(c[0][4]/100),U=1/(c[1][4]/100),M=1/(c[2][4]/100),W=1/(c[3][4]/100);
R.ft.transform(X,X,B);for(var P=0;P<256;P++){X.a[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.a[P]/255,U))));
X.p[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.p[P]/255,M))));X.M[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.M[P]/255,W))))}R.ft.transform(X,X,u);
for(var P=0;P<256;P++){X.a[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.a[P]/255,a))));X.p[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.p[P]/255,a))));
X.M[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(X.M[P]/255,a))))}E=c[0][2]/255;f=c[0][3]/255-c[0][2]/255;
u=R.ft.multiply(R.ft.dC(E,E,E),R.ft.mU(f,f,f));d=R.ft.mU(c[1][3]/255-c[1][2]/255,c[2][3]/255-c[2][2]/255,c[3][3]/255-c[3][2]/255);
s=R.ft.dC(c[1][2]/255,c[2][2]/255,c[3][2]/255);B=R.ft.multiply(s,d);R.ft.transform(X,X,R.ft.multiply(u,B));
N={type:D.Yp,Uk:X.a,Vc:X.p,cm:X.M,Fk:!1,Oz:!1}}if(r=="curv"){var n=jf.GG(j,0).length==256?1:0,e=[];if(n==0){var Q=R.I7.Is(jf.GG(j,0),256);
for(var P=1;P<4;P++){var J=R.I7.Is(jf.GG(j,P),256);e.push(R.I7.De(J,Q))}}else{var m=[];for(var P=0;P<4;
P++){var L=new Uint8Array(256);m.push(L);var S=jf.GG(j,P);for(var V=0;V<256;V++)L[V]=S[V]}for(var P=1;
P<4;P++)e.push(R.I7.De(m[P],m[0]))}N={type:D.Yp,Uk:e[0],Vc:e[1],cm:e[2],Fk:!1,Oz:!1}}if(r=="expA"){var eJ=j.Exps,hy=j.Ofst,v=j.gammaCorrection,ff=eJ?eJ.v:0,K=hy?hy.v:0,jo=v?v.v:1,X=new Uint8Array(256);
for(var P=0;P<256;P++){var j=P/255,g5=Math.pow(Math.abs(K),1/(Math.PI/2));if(K>0){j=Math.max(K/Math.E,j);
j=j*Math.exp(K/1.75+ff/Math.PI);j=(1-g5)*j+g5*1}else{j=j*Math.exp(-K*1.75+ff/Math.PI);j=j+-g5*1.14}j=Math.pow(j,1/jo);
j=Math.max(0,Math.min(1,j));X[P]=Math.round(j*255)}N={type:D.Yp,Uk:X,Vc:X,cm:X,Fk:!1,Oz:!1}}if(r=="vibA"){N={type:D.uO,Ek:[j.vibrance?j.vibrance.v:0,j.Strt?j.Strt.v:0]}}if(r=="hue2"){var fQ=[],iT=[],ac=[],aR=j.Clrz?j.Clrz.v:!1;
for(var P=0;P<256;P++){fQ[P]=P/255;iT[P]=0;ac[P]=0}var hV=je.GG(j,0),cu=cz.NG(hV[1]/100);if(aR){var iy=hV[0]/360;
for(var P=0;P<256;P++){fQ[P]=iy;iT[P]=cu}}else{for(var P=0;P<256;P++){var gr=fQ[P],cp=iT[P];fQ[P]+=hV[0]/360;
for(var V=0;V<6;V++){var gP=je.GG(j,V+1),g7=gP.f0,j8=gP.z3,g5=0;for(var dg=1;dg<4;dg++)if(j8[dg]<j8[0])j8[dg]+=360;
var gR=j8[0],em=j8[1],fr=j8[2],aU=j8[3],bb=gr*360;if(bb<j8[0])bb+=360;var fZ=(bb-gR)/(em-gR),h1=(bb-fr)/(aU-fr);
if(fZ<0)g5=0;else if(fZ<1)g5=fZ;else if(h1<0)g5=1;else if(h1<1)g5=1-h1;else g5=0;var w=cz.NG(g7[1]/100);
fQ[P]+=g5*g7[0]/360;iT[P]+=g5*w;ac[P]+=g5*g7[2]/100}}for(var P=0;P<256;P++){iT[P]=(1+iT[P])*(1+cu)-1;
ac[P]=Math.max(-1,Math.min(1,ac[P]))}}var ar=new Uint8Array(256),gt=new Uint8Array(256),gX=new Uint8Array(256);
for(var P=0;P<256;P++){var dK=fQ[P],ay=iT[P],hh=ac[P];if(dK>1)dK--;if(dK<0)dK++;ay=cz.asD(ay);ay=(1+ay)*.5;
hh=(1+hh)*.5;ar[P]=Math.round(255*dK);gt[P]=Math.round(255*ay);gX[P]=Math.round(255*hh)}var b7=hV[2]/100,cV=b7<0?-b7:b7,bj=b7<0?0:1;
N={type:D.Ih,aiC:ar,IP:gt,a6J:gX,asv:cV*bj,_S:1-cV,asC:hV[2]/100,aeb:aR?1:0}}if(r=="nvrt"){var X=new Uint8Array(256);
for(var P=0;P<256;P++)X[P]=255-P;N={type:D.Yp,Uk:X,Vc:X,cm:X,Fk:!1,Oz:!1}}if(r=="post"){var bW=j.Lvls.v,X=new Uint8Array(256),g5=bW/255.001,bu=255/(bW-1);
for(var P=0;P<256;P++)X[P]=Math.floor(P*g5)*bu;N={type:D.Yp,Uk:X,Vc:X,cm:X,Fk:!1,Oz:!1}}if(r=="grdm"){var da=j.Grad.v,dj=j.Rvrs,e_=R._.Ve(da.Clrs.v,0,0),g=1024,de=R._.AR(da,e_,g,dj?dj.v:!1),aM=R.O(g),g2=R.O(g),g9=R.O(g);
R.ni(de,aM,0);R.ni(de,g2,1);R.ni(de,g9,2);N={type:D.Yp,Uk:aM,Vc:g2,cm:g9,Fk:!0,Oz:!1}}if(r=="selc"){var hr=new Float32Array(9*3*2),bD=j.Mp,iG=j.Mthd?j.Mthd.v.CrcM=="Absl":!1;
for(var V=0;V<9;V++){var iF=V*6,i3=dQ.GG(j,V),bI=i3[0]/100,fE=i3[1]/100,ih=i3[2]/100,dD=i3[3]/100;if(iG){hr[iF]=hr[iF+1]=hr[iF+2]=1;
hr[iF+3]=bI*(1+dD)+dD;hr[iF+4]=fE*(1+dD)+dD;hr[iF+5]=ih*(1+dD)+dD}else{hr[iF+0]=(1+bI)*(1+dD);hr[iF+1]=(1+fE)*(1+dD);
hr[iF+2]=(1+ih)*(1+dD)}}N={type:D.Hl,anM:hr}}if(r=="blwh"){var aQ="Rd Yllw Grn Cyn Bl Mgnt".split(" "),N=[],eS=0,ek=0;
for(var P=0;P<6;P++)N.push(j[aQ[P]].v);N.push(j.useTint.v,j.tintColor.v);var dn=[];for(var P=0;P<6;P++)dn.push((N[P]-50)/50);
var df=R._.z2(N[7]);df.a/=255;df.p/=255;df.M/=255;var ba=R.d$(df.a,df.p,df.M),hh=R.le(R.Xa(ba.qg,1,.5)),h8=ba.z1*ba.sr;
if(hh==.5)eS=ek=.5;else{eS=h8*(.5-hh)/(.5/hh-1);ek=1-h8*(.5-hh)-1/(2*(1-hh));ek/=1-1/(2*(1-hh))}N={type:D.pd,afF:dn,Jh:N[6]?1:0,acI:ba.qg,le:hh,alI:h8,LX:eS,adt:ek}}if(r=="blnc"){var c=[],c9=["ShdL","MdtL","HghL"];
for(var P=0;P<3;P++){if(j[c9[P]]==null){c[P]=[0,0,0];continue}var bW=j[c9[P]].v,dB=bW[0].v/100,gd=bW[1].v/100,bU=bW[2].v/100,fp=j.PrsL==null||j.PrsL.v?(Math.min(dB,gd,bU)+Math.max(dB,gd,bU))/2:0;
c[P]=[dB-fp,gd-fp,bU-fp]}var e=[R.O(256),R.O(256),R.O(256)];for(var V=0;V<3;V++)for(var P=0;P<256;P++){var _=P*(1/255),i7=0,t=0,h7=0;
t=c[2][V];h7=Math.abs(t);if(t<0)i7=Math.pow(_,Math.SQRT2);else i7=1.63*(Math.pow(_+.04,.5)-.2);_=h7*i7+(1-h7)*_;
t=c[1][V];h7=Math.abs(t);if(t<0)i7=Math.pow(_,2);else i7=Math.min(2.35*(Math.pow(_+.09,.5)-.3),Math.pow(_,1/2));
_=h7*i7+(1-h7)*_;t=c[0][V];h7=Math.abs(t);if(t<0)i7=_<.4?0:Math.pow((_-.4)/.6,Math.SQRT2);else i7=Math.pow(_,Math.SQRT2/2);
_=h7*i7+(1-h7)*_;_=Math.max(0,Math.min(1,_));e[V][P]=Math.round(_*255)}N={type:D.Yp,Uk:e[0],Vc:e[1],cm:e[2],Fk:!1,Oz:!1}}if(r=="phfl"){var h_=R._.z2(j.Clr.v),jy=[h_.a/255,h_.p/255,h_.M/255],fs=j.Dnst.v/100,e=[R.O(256),R.O(256),R.O(256)];
for(var V=0;V<3;V++)for(var P=0;P<256;P++){var _=P*(1/255),ir=_*jy[V];ir=Math.max(0,Math.min(1,ir));
_=fs*ir+(1-fs)*_;e[V][P]=Math.round(_*255)}N={type:D.Yp,Uk:e[0],Vc:e[1],cm:e[2],Fk:!1,Oz:j.PrsL.v}}if(r=="thrs"){var X=R.O(256);
for(var P=j.Lvl.v;P<256;P++)X[P]=255;N={type:D.Yp,Uk:X,Vc:X,cm:X,Fk:!0,Oz:!1}}if(r=="mixr"){var bk=cz.YE(j),z=[];
for(var P=0;P<bk.m.length;P++)if(P%5!=3)z.push(bk.m[P]/100);if(bk.O_){for(var aO=1;aO<3;aO++)for(var _=0;
_<4;_++)z[aO*4+_]=z[_]}N={type:D.nX,sW:z}}if(r=="rplc"){var iL=j.Mnm.v,dX=j.Mxm.v;N={type:D.T_,LS:[iL.Lmnc.v,iL.A.v,iL.B.v],hZ:[dX.Lmnc.v,dX.A.v,dX.B.v],shift:[j.H.v/360,j.Strt.v/100,j.Lght.v/100],BM:j.Fzns.v/150}}if(r=="clrL"&&j.profile){var cj=new Uint8Array(j.profile.v),ha=ICC.R(cj.buffer),ja=[],ad=17,ja=ICC.U.sampleLUT(ha,ad);
N={type:D.R4,ix:ICC.U.rgba8LUT(ja,ad),aqZ:ja,vM:ad}}return N};cz.Gq=function(r,j){var D=-1;if(r!="levl"||j==null)D=-1;
else if(j.Auto)D=0;else if(j.AuCo)D=1;else if(j.autoBlackWhite)D=2;return D};cz.um={Yp:0,Ih:1,uO:2,Hl:3,pd:4,nX:5,T_:6,R4:7};
cz.NG=function(r){if(r<0)return r;return Math.pow(Math.tan(Math.PI/2*r),1.3)};cz.asD=function(r){if(r<0)return r;
r=Math.pow(r,1/1.3);return Math.atan2(r,1)/(Math.PI/2)};cz.Bh=function(r,j,D,N){var b=cz.um,Y=Date.now();
if(Z.DB&&N.Z()>300*300&&r.type!=b.Yp&&r.type!=b.R4){N=N.clone();N.x=N.y=0;var x=Z.tf(0,N.d,N.r);x.set(j);
Z.Wq(x,N);x.l3(N);cz.j$(r,x.aH,N);x.get(D);return}if(r.type==b.R4){var C=r.aqZ,w=r.vM;ICC.U.applyLUT(C,w,j,D);
var q=j.length;for(var P=0;P<q;P+=4)D[P+3]=j[P+3]}if(r.type==b.nX)R.ft.v9(j,D,r.sW);if(r.type==b.pd){var u=r.alI,h=r.le,z=r.LX,O=r.adt,q=j.length;
for(var P=0;P<q;P+=4){var N=j[P]*(1/255),g=j[P+1]*(1/255),t=j[P+2]*(1/255),$=R.zy(N,g,t),i=0;for(var A=0;
A<6;A++)i+=Math.min(1,1.7*(1-$.w$))*$.z1*r.afF[A]*cz.zP($.qg,A*(1/6));var H=Math.max(0,Math.min(1,$.w$*(1+i)));
if(r.Jh==1){var F=0;if(H<z)F=H*(.5/h);else if(H<O)F=H+u*(.5-h);else F=1-(1-H)*.5/(1-h);$.qg=r.acI;$.z1=Math.min(1,u+3*u*Math.abs(H-.5*(z+O)));
$.w$=F}else{$.qg=0;$.z1=0;$.w$=H}var T=R.Xa($.qg,$.z1,$.w$);D[P]=Math.round(T.a*255);D[P+1]=Math.round(T.p*255);
D[P+2]=Math.round(T.M*255)}}if(r.type==b.Hl){var _=r.anM,q=j.length,V=1/255;for(var P=0;P<q;P+=4){var N=j[P]*V,g=j[P+1]*V,t=j[P+2]*V,$=R.zy(N,g,t),X=Math.max(N,Math.max(g,t)),o=Math.min(N,Math.min(g,t)),c=1-N,E=1-g,f=1-t,d=0,s=0,B=0;
for(var A=0;A<9;A++){var a=A*6,n=0;if(_[a]==1&&_[a+1]==1&&_[a+2]==1&&_[a+3]==0&&_[a+4]==0&&_[a+5]==0)continue;
var U=c*_[a]+_[a+3],M=E*_[a+1]+_[a+4],W=f*_[a+2]+_[a+5];if(A<6)n=cz.zP($.qg,A*(1/6))*$.z1*2*Math.min($.w$,1-$.w$);
else if(A==6)n=Math.max(0,o-.5)*2;else if(A==7)n=1-(Math.abs(X-.5)+Math.abs(o-.5));else n=Math.max(0,.5-X)*2;
d+=(Math.max(0,Math.min(1,U))-c)*n;s+=(Math.max(0,Math.min(1,M))-E)*n;B+=(Math.max(0,Math.min(1,W))-f)*n}c=Math.max(0,Math.min(1,c+d));
E=Math.max(0,Math.min(1,E+s));f=Math.max(0,Math.min(1,f+B));N=1-c;g=1-E;t=1-f;D[P]=Math.round(N*255);
D[P+1]=Math.round(g*255);D[P+2]=Math.round(t*255)}}if(r.type==b.Yp){R.a03(j,D,r.Uk,r.Vc,r.cm,r.Fk,r.Oz)}if(r.type==b.Ih){var e=new Uint32Array(j.buffer),Q=new Uint32Array(D.buffer),q=e.length;
if(cz.pJ==null){cz.pJ=new Float64Array(256);for(var P=0;P<256;P++)cz.pJ[P]=cz.NG(-1+2*P/255)}var J=cz.pJ;
for(var P=0;P<q;P++){var m=e[P],N=(m&255)*(1/255),g=(m>>>8&255)*(1/255),t=(m>>>16&255)*(1/255),p=m>>>24,L=Math.min(N,g,t),S=Math.max(N,g,t),eJ=0,hy=0,v=0;
eJ=R.zy(N,g,t).qg;var ff=~~(eJ*255+.5),K=r.aiC[ff]*(1/255),jo=r.IP[ff]*(1/255)*2-1,g5=r.a6J[ff]*(1/255)*2-1,i=-g5,fQ=L;
if(0<g5){i=g5;fQ=S}var iT=r.asv+r._S*i*fQ,ac=r._S*(1-i);N=iT+ac*N;g=iT+ac*g;t=iT+ac*t;S=Math.max(N,g,t);
L=Math.min(N,g,t);v=(S+L)*.5;if(S!=L){var aR=S-L;hy=v>.5?aR/(2-(S+L)):aR/(S+L)}var hV=jo;if(r.aeb==0){jo=J[Math.floor((1+jo)*127.5)];
hV=Math.min(hy*(1+jo),1)}var T=R.Xa(K,hV,v);N=T.a;g=T.p;t=T.M;Q[P]=p<<24|t*255<<16|g*255<<8|N*255}}if(r.type==b.T_){R.kZ(j,D);
var e=new Uint32Array(j.buffer),Q=new Uint32Array(D.buffer),q=e.length,cu=r.BM,iy=1/cu,gr={lD:r.LS[0],kD:r.LS[1],M:r.LS[2]},cp={lD:r.hZ[0],kD:r.hZ[1],M:r.hZ[2]};
for(var P=0;P<q;P++){var m=e[P],gP=m&255,g7=m>>>8&255,j8=m>>>16&255,N=gP*(1/255),g=g7*(1/255),t=j8*(1/255),p=m>>>24,dg=R.WS(gP,g7,j8),gR=R.Nc(dg,gr,cp,cu,iy);
if(gR==0)continue;var $=R.zy(N,g,t),K=2+$.qg+r.shift[0];$.qg=K-~~K;$.z1=Math.max(0,Math.min(1,$.z1+r.shift[1]));
$.w$=Math.max(0,Math.min(1,$.w$+r.shift[2]));var T=R.Xa($.qg,$.z1,$.w$);N=(1-gR)*N+gR*T.a;g=(1-gR)*g+gR*T.p;
t=(1-gR)*t+gR*T.M;Q[P]=p<<24|t*255<<16|g*255<<8|N*255}}if(r.type==b.uO){var e=new Uint32Array(j.buffer),Q=new Uint32Array(D.buffer),q=e.length,em=r.Ek[0]/100,fr=r.Ek[1]/100;
for(var P=0;P<q;P++){var m=e[P],N=(m&255)*(1/255),g=(m>>>8&255)*(1/255),t=(m>>>16&255)*(1/255),p=m>>>24,$=R.d$(N,g,t),eJ=$.qg,hy=$.z1,v=$.sr,aU=0,bb=45/360,fZ=eJ<bb?Math.cos(Math.PI/2*(eJ-bb/2)/(bb/2)):0;
hy=hy+.2*(1-.4*fZ)*em*Math.max(0,Math.sin(hy*Math.PI));hy=hy*(1+fr);hy=Math.max(0,Math.min(1,hy));var T=R.uz(eJ,hy,v);
N=T.a;g=T.p;t=T.M;Q[P]=p<<24|t*255<<16|g*255<<8|N*255}}};cz.j$=function(r,j,D){Z.Ep.j$(r,j)};cz.zP=function(r,j){var D=R.u6(j,r)*6;
return Math.max(0,Math.min(1,D<0?1+D:1-D))};cz.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
cz.SA=["expA","clrL","selc"];cz.R5=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];cz.aaf=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
cz.r8=[[13,1,1],[13,1,4],[13,1,5]];cz.v5={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
cz.U0=function(){var r=JSON.parse(JSON.stringify(cz.v5));delete r.GrMp;r.GdMp="grdm";return r}();cz.Le={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
cz.keys={levl:[e4.h6,e4.lD],curv:[e4.h6,e4.G1],hue2:[e4.h6,e4._J],nvrt:[e4.h6,e4.ky],blnc:[e4.h6,e4.St]};
cz.Jr=function(r){var j=ij.nY("mixr");j.Mnch={t:"bool",v:r.O_};function D(N,P){var b={classID:"ChMx"},Y={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in Y)b[x]={t:"UntF",v:{type:"#Prc",val:N[P+Y[x]]}};return{t:"Objc",v:b}}if(r.O_)j.Gry=D(r.m,0);
else{j.Rd=D(r.m,0);j.Grn=D(r.m,5);j.Bl=D(r.m,10)}return j};cz.YE=function(r){function j(N,b,P){var Y={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in Y)if(N[x])b[P+Y[x]]=N[x].v.val}var D={O_:!1,m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(r.Mnch&&r.Mnch.v)D.O_=!0;if(D.O_)j(r.Gry.v,D.m,0);else{j(r.Rd.v,D.m,0);j(r.Grn.v,D.m,5);j(r.Bl.v,D.m,10)}return D};
var ij={};ij.nZ=function(r){var j=r.filterID.v;return j>16777215?l.aio(j):r.Fltr.v.classID};ij.eQ=[{ME:"GEfc"},{ME:"LnCr"},{ME:"LqFy",E4:!0},{Z5:"3D",XB:["lightFilterGradient"]},{Z5:[24,2],XB:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Z5:[24,4],XB:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Z5:[24,6],XB:["AdNs","Dspc","DstS","Mdn "]},{Z5:[24,8],XB:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Z5:[24,10],XB:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Z5:[24,12],XB:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Z5:[24,14],XB:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Z5:[24,16],XB:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")},{Z5:"Fourier",XB:["dDFT","iDFT"]}];
ij.Le={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
ij.Qo={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
ij.L={rigidTransform:I.Ia};ij.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
ij.nY=function(r){var j=null;if(r=="GEfc")j={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:cQ.nY("GlwE")}]}};
if(r=="LqFy"){var D={oW:5,qg:5,map:new Float32Array(5*5*2)},N=new Uint8Array(j5.FD(D)),b=[];for(var P=0;
P<N.length;P++)b.push(N[P]);j={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:b}}}if(r=="rigidTransform"){j={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(r=="LnCr")j={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(r=="adaptCorrect")j={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(r=="Dfs ")j={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(r=="Fbrs")j={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(r=="Embs")j={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(r=="oilPaint")j={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(r=="TrcC")j={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(r=="Wnd ")j={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(r=="lightFilterGradient")j={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(r=="boxblur")j={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(r=="GsnB")j={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(r=="Bokh")j={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(r=="MtnB")j={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(r=="RdlB")j={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(r=="surfaceBlur")j={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(r=="Dspl")j={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(r=="Pnch")j={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(r=="Plr ")j={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(r=="Rple")j={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(r=="Shr ")j={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(r=="Sphr")j={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(r=="Twrl")j={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(r=="Wave")j={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(r=="ZgZg")j={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(r=="AdNs")j={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(r=="DstS")j={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(r=="Mdn ")j={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(r=="ClrH")j={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(r=="Crst")j={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(r=="Mztn")j={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(r=="Msc ")j={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(r=="Pntl")j={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(r=="LnsF")j={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(r=="Adobe Camera Raw Filter")j={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(r=="smartSharpen")j={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(r=="UnsM")j={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(r=="HghP")j={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(r=="HsbP")j={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(r=="Mxm ")j={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(r=="Mnm ")j={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(r=="Ofst")j={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(r=="Rept")j={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(r=="Flam")j={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(r=="Ctoa")j={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(r=="brit")j={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(r=="levl")j={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(r=="curv")j={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(r=="expA")j={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(r=="vibA")j={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(r=="hue2")j={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(r=="blnc")j={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(r=="blwh")j={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(r=="phfl")j={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(r=="grdm")j={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(hz._5[6]).Grad};
if(r=="selc")j={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(r=="thrs")j={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(r=="mixr")j={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(r=="clrL")j={__name:"Color Lookup",classID:"colorLookup"};if(r=="post")j={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(r=="rplc")j={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(r=="fade")j={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(r=="aply")j={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(r=="blendOptions")j={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return j};ij.OQ={sFlam:function(r,j){j[0]=r.Type.v;j[1]=r.Leng.v;j[2]=r.RndL.v;j[3]=r.Widt.v;j[4]=r.Angl.v;
j[5]=r.Intr.v;j[6]=r.Adpt.v;j[7]=r.Clr.v;j[8]=r.Qual.v;j[9]=r.Turb.v;j[10]=r.Jag.v;j[11]=r.Opct.v.val;
j[12]=r.Lins.v;j[13]=r.Botm.v;j[14]=r.Styl.v;j[15]=r.Shap.v;j[16]=r.RnSh.v;j[17]=r.Arng.v},gFlam:function(r,j){r.Type.v=j[0];
r.Leng.v=j[1];r.RndL.v=j[2];r.Widt.v=j[3];r.Angl.v=j[4];r.Intr.v=j[5];r.Adpt.v=j[6];r.Clr.v=j[7];r.Qual.v=j[8];
r.Turb.v=j[9];r.Jag.v=j[10];r.Opct.v.val=j[11];r.Lins.v=j[12];r.Botm.v=j[13];r.Styl.v=j[14];r.Shap.v=j[15];
r.RnSh.v=j[16];r.Arng.v=j[17]},sAdNs:function(r,j){j[0]=r.Nose.v.val;j[1]=["Gsn","Unfr"].indexOf(r.Dstr.v.Dstr);
j[2]=r.Mnch.v},gAdNs:function(r,j){r.Nose.v.val=j[0];r.Dstr.v.Dstr=["Gsn","Unfr"][j[1]];r.Mnch.v=j[2]},sDstS:function(r,j){j[0]=r.Rds.v;
j[1]=r.Thsh.v},gDstS:function(r,j){r.Rds.v=j[0];r.Thsh.v=j[1]},sGsnB:function(r,j){j[0]=r.Rds.v.val},gGsnB:function(r,j){r.Rds.v.val=j[0]},sHghP:function(r,j){j[0]=r.Rds.v.val},gHghP:function(r,j){r.Rds.v.val=j[0]},sHsbP:function(r,j){var D=["RGBC","HSBl","HSLC"];
j[0]=D.indexOf(r.Inpt.v.ClrS);j[1]=D.indexOf(r.Otpt.v.ClrS)},gHsbP:function(r,j){var D=["RGBC","HSBl","HSLC"];
r.Inpt.v.ClrS=D[j[0]];r.Otpt.v.ClrS=D[j[1]]},"sMxm ":function(r,j){var D="preserveShape";j[0]=r.Rds.v.val;
j[1]=r[D]?["squareness","Rndn"].indexOf(r[D].v[D]):0},"gMxm ":function(r,j){var D="preserveShape";r.Rds.v.val=j[0];
r[D]={t:"enum",v:{preserveShape:["squareness","Rndn"][j[1]]}}},"sMnm ":function(r,j){var D="preserveShape";
j[0]=r.Rds.v.val;j[1]=r[D]?["squareness","Rndn"].indexOf(r[D].v[D]):0},"gMnm ":function(r,j){var D="preserveShape";
r.Rds.v.val=j[0];r[D]={t:"enum",v:{preserveShape:["squareness","Rndn"][j[1]]}}},sMtnB:function(r,j){j[0]=[r.Angl.v];
j[1]=r.Dstn.v.val;console.log(j)},gMtnB:function(r,j){r.Angl.v=typeof j[0]=="number"?j[0]:j[0][0];r.Dstn.v.val=j[1]},sOfst:function(r,j){j[0]=r.Hrzn.v;
j[1]=r.Vrtc.v;j[2]=["Rpt","Bckg","Wrp"].indexOf(r.Fl.v.FlMd)},gOfst:function(r,j){r.Hrzn.v=j[0];r.Vrtc.v=j[1];
r.Fl.v.FlMd=["Rpt","Bckg","Wrp"][j[2]]},sPnch:function(r,j){j[0]=r.Amnt.v},gPnch:function(r,j){r.Amnt.v=j[0]},"sPlr ":function(r,j){j[0]=["RctP","PlrR"].indexOf(r.Cnvr.v.Cnvr)},"gPlr ":function(r,j){r.Cnvr.v.Cnvr=["RctP","PlrR"][j[0]]},sRple:function(r,j){j[0]=r.Amnt.v;
j[1]=["Sml","Mdm","Lrg"].indexOf(r.RplS.v.RplS)},gRple:function(r,j){r.Amnt.v=j[0];r.RplS.v.RplS=["Sml","Mdm","Lrg"][j[1]]},sTwrl:function(r,j){j[0]=r.Angl.v},gTwrl:function(r,j){r.Angl.v=j[0]},sZgZg:function(r,j){j[0]=r.Amnt.v;
j[1]=r.NmbR.v;j[2]=["ArnC","OtFr","PndR"].indexOf(r.ZZTy.v.ZZTy)},gZgZg:function(r,j){r.Amnt.v=j[0];
r.NmbR.v=j[1];r.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][j[2]]},sUnsM:function(r,j){j[0]=r.Amnt.v.val;j[1]=r.Rds.v.val;
j[2]=r.Thsh.v},gUnsM:function(r,j){r.Amnt.v.val=j[0];r.Rds.v.val=j[1];r.Thsh.v=j[2]}};ij.a8b=function(r){var j=new gJ(0,0);
if(r.enab.v==!1)return j;var D=r.filterFXList.v;for(var P=0;P<D.length;P++){var N=D[P].v;if(N.enab.v==!1)continue;
var b=ij.nZ(N),Y=ij.Ux(b,N.Fltr?N.Fltr.v:null);if(Y.x>j.x)j.x=Y.x;if(Y.y>j.y)j.y=Y.y}return j};ij.Ux=function(r,j){var D=0,N=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(r)!=-1){var b=j.Rds.v.val;D=N=b*2.57}if(r=="MtnB")D=N=j.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(r)!=-1){D=N=1e4}if(r=="GEfc")return cQ.Ux(j);
return new gJ(Math.ceil(D),Math.ceil(N))};ij.Sq=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ij.ka=function(r,j){var D={a:j.xg>>16,p:j.xg>>8&255,M:j.xg&255},N={a:j.mL>>16,p:j.mL>>8&255,M:j.mL&255},b=ij.names[r];
if(b==null)b=cz.names[r];var Y=r;for(var x in cz.v5)if(cz.v5[x]==r)Y=x;var C={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:e9.get(b)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:R._.XJ(D)},BckC:{t:"Objc",v:R._.XJ(N)},filterID:{t:"long",v:Y.length==4?l.a2q(Y):777}}},w=ij.nY(r);
if(w)C.v.Fltr={t:"Objc",v:w};return C};ij.nd=function(r,j,D,N){R.je(D);if(r<1){var b=Math.round(r*5),Y=[1,2,1,2,[40,26,13,6,4,2][b],2,1,2,1];
Y=R.tK.KP(Y);var x=D.slice(0);R.tK.nT(x,D,N.d,N.r,Y,255)}else j(D,N,r);R.GQ(D)};ij.ad2=function(r,j,D,N){for(var P=0;
P<r.length;P++){D[P]=r[P]*(1/255);N[P]=0}FFT.fft2d(D,N);var b=j>>>1,Y=16384,x=128,w=100;while(x<j){x<<=1;
Y<<=2}var C=255/Math.log(Y),q=-100;for(var u=0;u<j;u++)for(var h=0;h<b;h++){var z=j+b+u&j-1,O=D[z*j+h],g=N[z*j+h],t=Math.sqrt(O*O+g*g),$=Math.atan2(g,O);
r[u*j+h]=Math.round(C*Math.log(t+1));r[u*j+b+h]=Math.round((Math.PI+$)*(255*.5/Math.PI))}};ij.aiw=function(r,j,D,N){D.fill(0);
N.fill(0);var b=j>>>1,Y=16384,x=128;while(x<j){x<<=1;Y<<=2}var C=255/Math.log(Y),w=[],q=[],u=[];for(var P=0;
P<256;P++){w[P]=Math.exp(P/C)-1;var h=P*(2*Math.PI/255)-Math.PI;q[P]=Math.sin(h);u[P]=Math.cos(h)}for(var z=0;
z<j;z++)for(var O=0;O<b;O++){var g=j+b+z&j-1,t=w[r[z*j+O]],h=r[z*j+b+O],$=t*u[h],i=t*q[h];D[g*j+O]=$;
N[g*j+O]=i;if(O!=0){var A=g==0?g*j+j-O:(j-g)*j+(j-O);D[A]=$;N[A]=-i}}FFT.ifft2d(D,N);for(var P=0;P<r.length;
P++){r[P]=Math.max(0,Math.min(255,~~(.5+255*D[P])))}};ij.lH=new ArrayBuffer(512);ij.apv=function(r){var j=ij.lH,D=r.length;
if(j.byteLength<D)ij.lH=j=new ArrayBuffer(D);var N=new Uint8Array(j);for(var P=0;P<D;P+=4){N[P]=r[P];
N[P+1]=r[P+1];N[P+2]=r[P+2];N[P+3]=r[P+3]}return j};ij.Bh=function(r,j,D,N,b,Y,x){if(Y==null)Y={buffer:R.O(j.buffer.length),rect:j.rect.clone()};
R.kZ(j.buffer,Y.buffer);var C=D&&D.RndS?D.RndS.v>>>1:0;if(r=="GEfc"){var w=[];if(D.GEfs){var q=D.GEfs.v;
for(var P=0;P<q.length;P++){var u=q[P].v;if(u.GELv&&u.GELv.v==!1)continue;w.push(u)}}else w=[D];for(var P=0;
P<w.length;P++){var h;if(P==0)cQ.Bh(r,j,w[P],N,b,Y,x);else{if(h==null)h={buffer:R.O(j.buffer.length),rect:j.rect.clone()};
R.kZ(Y.buffer,h.buffer);cQ.Bh(r,h,w[P],N,b,Y,x)}}}if(r=="Adobe Camera Raw Filter"){var z=j.rect,O=z.d,g=z.r,t=O*g,$=t*4,i=t*3,A=new Float32Array(O*g*3),H=j.buffer;
for(var P=0;P<t;P++){var F=P*3,T=P*4;A[F]=H[T]*(1/255);A[F+1]=H[T+1]*(1/255);A[F+2]=H[T+2]*(1/255)}var _=JSON.parse(JSON.stringify(D));
delete _.Upri;delete _.GuUr;var V=A.slice(0);A=V;H=Y.buffer;for(var P=0;P<t;P++){var F=P*3,T=P*4;H[T]=255*Math.max(0,Math.min(1,A[F]));
H[T+1]=255*Math.max(0,Math.min(1,A[F+1]));H[T+2]=255*Math.max(0,Math.min(1,A[F+2]))}}if(r=="adaptCorrect"){var z=j.rect,O=z.d,g=z.r,t=O*g,$=t*4,X=D.sdwM.v,o=X.Amnt.v.val/100,c=X.Wdth.v.val/100,E=X.Rds.v,f=D.hglM.v,s=f.Amnt.v.val/100,B=f.Wdth.v.val/100,a=f.Rds.v;
R.uS.a2l(j.buffer,Y.buffer,O,g,o,c,E,s,B,a,D.ClrC.v/100,D.Cntr.v/100)}if(r=="HsbP"){var U=D.Inpt.v.ClrS,M=D.Otpt.v.ClrS,z=j.rect,O=z.d,g=z.r,t=O*g;
for(var P=0;P<t;P++){var T=P*4,W=j.buffer[T]*(1/255),n=j.buffer[T+1]*(1/255),e=j.buffer[T+2]*(1/255);
if(U=="RGBC"){}else if(U=="HSLC"){var V=R.Xa(W,n,e);W=V.a;n=V.p;e=V.M}else if(U=="HSBl"){var V=R.arH(W,n,e);
W=V.a;n=V.p;e=V.M}var Q=W,J=n,m=e;if(M=="RGBC"){}else if(M=="HSLC"){var V=R.zy(W,n,e);Q=V.qg;J=V.z1;
m=V.w$}else if(M=="HSBl"){var V=R.a5x(W,n,e);Q=V.qg;J=V.z1;m=V.M}Y.buffer[T]=~~(255*Q);Y.buffer[T+1]=~~(255*J);
Y.buffer[T+2]=~~(255*m)}}if(r=="Fbrs"){var z=j.rect,O=z.d,g=z.r;R.D.a3B(j.buffer,O,g,Y.buffer,[D.Vrnc.v,D.Strg.v,C]);
var p=R.O(O*g);R.ni(Y.buffer,p,0);R.gq(p);cQ.aG(p,Y.buffer,N,b)}if(r=="Frgm"){var z=j.rect,O=z.d,g=z.r,L=j.buffer.slice(0);
R.je(L);R.D.afg(L,O,g,Y.buffer);R.GQ(Y.buffer)}if(r=="Flam"){var z=j.rect,O=z.d,g=z.r,S=D.Clr.v,eJ={type:D.Type.v+1,length:D.Leng.v,arj:D.RndL.v,IN:D.Widt.v,akT:D.Angl.v,a8J:D.Intr.v,a0j:D.Adpt.v,color:{a:S.Rd.v,p:S.Grn.v,M:S.Bl.v},$y:D.Qual.v+1,dh:D.Turb.v,U4:D.Jag.v,opacity:D.Opct.v.val,ob:D.Lins.v,ajj:D.Botm.v,style:D.Styl.v+1,shape:D.Shap.v+1,a7J:D.RnSh.v,ah5:D.Arng.v,a7u:!1},hy=x[3],v=hy[0],ff=hy[1],K=v[ff.length!=0?ff[0]:0];
if(K==null){alert("Make a path first");return}var jo=K.add.vmsk.W,g5=R.b.yo(jo),fQ=[];for(var iT=0;iT<g5;
iT++){var ac=R.b.Kk(jo,iT),aR=jo[ac];if(aR.length<2)continue;var hV=[];fQ.push(hV);var cu=aR.length-(aR.type==3?1:0);
for(var iy=0;iy<cu;iy++){var gr=jo[ac+1+iy],cp=iy==aR.length-1?jo[ac+1]:jo[ac+1+iy+1],gP=gr.Q,g7=gr.TU,j8=cp.IR,dg=cp.Q,gR=Math.round(gJ.tA(gP,dg)/5);
for(var em=0;em<gR;em++){var fr=em/gR,aU=1-fr,bb=aU*aU*aU*gP.x+3*aU*aU*fr*g7.x+3*aU*fr*fr*j8.x+fr*fr*fr*dg.x,fZ=aU*aU*aU*gP.y+3*aU*aU*fr*g7.y+3*aU*fr*fr*j8.y+fr*fr*fr*dg.y;
hV.push(bb,fZ)}}}var h1=[fQ,eJ],ar=Date.now(),gt=b2(h1);cd(j.buffer,O,g,Y.buffer,gt,h1)}if(r=="Dfs "){var z=j.rect,O=z.d,g=z.r,gX=["Nrml","DrkO","LghO","anisotropic"].indexOf(D.Md.v.DfsM);
if(gX<3)R.D.abB(j.buffer,O,g,Y.buffer,[gX]);else{var h1=[1.4,1.6,1,4,!1,2,[0,0,.001]],z=j.rect.clone();
z.x=z.y=0;R.ML.filter(j.buffer,z,Y.buffer,h1)}}if(r=="TrcC"){var z=j.rect,O=z.d,dK=O<<2,g=z.r,ay=D.Lvl.v,hh=D.Edg.v.CntE=="Lwr",b7=j.buffer,cV=Y.buffer;
R.mh(cV,16777215,4278190080);function bj(iA,dq){bu(iA,dq);bu(iA+1,dq+1);bu(iA+2,dq+2)}function bW(iA,dq){da(iA,dq);
da(iA+1,dq+1);da(iA+2,dq+2)}function bu(iA,dq){var Q=b7[iA],J=b7[dq];if(Q>=ay&&J<ay)cV[iA]=0;if(Q<ay&&J>=ay)cV[dq]=0}function da(iA,dq){var Q=b7[iA],J=b7[dq];
if(Q>ay&&J<=ay)cV[dq]=0;if(Q<=ay&&J>ay)cV[iA]=0}if(hh)for(var fZ=1;fZ<g;fZ++)for(var bb=1;bb<O;bb++){var T=fZ*O+bb<<2;
bj(T,T-4);bj(T,T-dK)}else for(var fZ=1;fZ<g;fZ++)for(var bb=1;bb<O;bb++){var T=fZ*O+bb<<2;bW(T,T-4);
bW(T,T-dK)}}if(r=="Embs"){var z=j.rect,O=z.d,g=z.r,dj=-D.Angl.v*Math.PI/180,e_=D.Hght.v,de=D.Amnt.v/100;
e_/=2;var aM=Math.cos(dj)*e_,g2=Math.sin(dj)*e_,b7=j.buffer,cV=Y.buffer;cV.fill(0);var g9=new Uint32Array(b7.buffer),V=new Uint8Array(4),hr=new Uint32Array(V.buffer);
for(var fZ=0;fZ<g;fZ++)for(var bb=0;bb<O;bb++){var iG=0,iF=0,i3=0;if(0<=bb+aM&&bb+aM<O&&0<=fZ+g2&&fZ+g2<g){R.t.L5(bb+aM+.5,fZ+g2+.5,g9,O,g,hr,0,0);
iG+=V[0]-128;iF+=V[1]-128;i3+=V[2]-128}if(0<=bb-aM&&bb-aM<O&&0<=fZ-g2&&fZ-g2<g){R.t.L5(bb-aM+.5,fZ-g2+.5,g9,O,g,hr,0,0);
iG-=V[0]-128;iF-=V[1]-128;i3-=V[2]-128}var T=fZ*O+bb<<2;cV[T]=Math.max(0,Math.min(255,iG*de+128));cV[T+1]=Math.max(0,Math.min(255,iF*de+128));
cV[T+2]=Math.max(0,Math.min(255,i3*de+128));cV[T+3]=b7[T+3]}}if(r=="ShrE"){var z=j.rect,O=z.d,g=z.r;
R.D.a12(j.buffer,O,g,Y.buffer)}if(r=="Dspc"){var z=j.rect,O=z.d,g=z.r;R.D.aok(j.buffer,O,g,Y.buffer)}if(r=="Slrz"){var bI=Y.buffer,fE=128;
for(var P=0;P<bI.length;P+=4){if(bI[P]>fE)bI[P]=255-bI[P];if(bI[P+1]>fE)bI[P+1]=255-bI[P+1];if(bI[P+2]>fE)bI[P+2]=255-bI[P+2]}}if(r=="Wnd "){var z=j.rect,O=z.d,g=z.r,ih=["Wnd","Blst","Stgr"],dD=D.WndM.v.WndM;
R.D.SO(j.buffer,O,g,Y.buffer,[ih.indexOf(dD),D.Drct.v.Drct!="Left"])}if(r=="Bokh"){var z=j.rect,O=z.d,g=z.r,t=O*g,$=t*4,aQ=j.buffer.slice(0),dn=D.BkDi.v.BtDi,df=D.BkDc,ba=D.BkDp.v/255;
if(dn=="BeIn")ba=0;var h8=57*(.3+.7*((O+g)/2)/1750)*(D.BkIb.v/100)*(1+.2*Math.pow(ba,.1)),eK=parseInt(D.BkIs.v.BtIs.slice(3)),eS=-D.BkIr.v*Math.PI/180,ek=[];
for(var P=0;P<8;P++){var c9=eS+P*(Math.PI*2/eK),dB=eS+(P+1)*(Math.PI*2/eK),gd=Math.cos(c9),bU=Math.sin(c9),fp=Math.cos(dB),i7=Math.sin(dB),h7=[0,0,0];
R.sW.st([[gd,bU,1,0],[fp,i7,1,0],[1,1,1,1]],h7);if(h7[2]>0){h7[0]*=-1;h7[1]*=-1;h7[2]*=-1}ek.push(h7[0],h7[1],h7[2],0)}if(dn=="BeIn"){R.mh(aQ,0,16777215);
ba=1}else if(dn=="BeIt"&&df.v.BtDc=="BeCt"){}else{var h_;if(dn=="BeIt"&&df.v.BtDc=="BeCm")h_=x[1];else if(dn=="BeIa")h_=x[2][df.v];
if(h_==null){R.mh(aQ,0,16777215)}else{var jy;if(h_.rect.gy(z))jy=h_.channel;else jy=h_.iJ(z);R.zQ(jy,aQ,3)}}if(Z.DB){var fs=aQ,ir=O,bk=g,aO=1,iL=(D.BkSb.v==0||D.BkSt.v==255)&&dn=="BeIn";
if(!iL){var dX=0;for(var P=0;P<$;P+=4)dX+=Math.abs(ba-aQ[P+3]*(1/255));dX=dX/t*h8;var cj=3.14*dX*dX*O*g/3e6;
if(cj>2e3){alert("too large radius");return}}while(iL&&3*(h8/aO)*(h8/aO)*O*g>500*2e3*2e3){var ha=R.Y6(aQ,new bf(0,0,ir,bk));
aQ=ha.Iz;ir=ha.rect.d;bk=ha.rect.r;aO*=2}var ar=Date.now(),ja=Z.tf(0,ir,bk);ja.set(aQ);var ad=Z.tf(1,O,g);
Z.Wq(ad);Z.filter.j$({type:Z.filter.asp,vR:new Float32Array([1/ir,1/bk]),a85:ba,O2:h8/aO,amz:new Float32Array([D.BkSb.v/100,D.BkSt.v/255]),a3$:new Float32Array([D.BkNa.v/100,D.BkNt.v.BtNt=="BeNu"?0:1,D.BkNm.v?1:0]),a0X:new Float32Array(ek.slice(0,16)),alj:new Float32Array(ek.slice(16))},ja.q2);
ad.get(Y.buffer);var bS=Y.buffer;for(var P=0;P<$;P+=4)bS[P+3]=j.buffer[P+3]}}if(r=="rigidTransform"){var ar=Date.now(),bg=ij.apv,ja=j.buffer.slice(0),cZ=0,aI=0;
R.je(ja);R.mh(Y.buffer,0);var O=j.rect.d,g=j.rect.r,aB=D.puppetShapeList.v,jz=[],eB=[],c4=[],ev=[];for(var iy=0;
iy<aB.length;iy++){var ju=aB[iy].v,dx=cZ*2,F=aI*3,hp=ju.originalVertexArray.v.length>>>2,cH=ju.indexArray.v.length>>>2,dm=new Float32Array(bg(ju.originalVertexArray.v));
for(var P=0;P<hp;P++)jz[dx+P]=dm[P];var hW=new Float32Array(bg(ju.deformedVertexArray.v));for(var P=0;
P<hp;P++)eB[dx+P]=hW[P];var bO=new Uint32Array(bg(ju.indexArray.v));for(var P=0;P<cH;P++)c4[F+P]=cZ+bO[P];
var eN=[],cv=[],bd=ju.PnDp.v;for(var P=0;P<bd.length;P++){eN.push(ju.pinVertexIndices.v[P].v);cv.push(bd[P].v)}var h$=R.hJ.aeA(dm,bO,eN,cv);
for(var P=0;P<h$.length;P++)ev[cZ+P]=h$[P];cZ+=hp>>>1;aI+=~~(cH/3)}var W=j.rect,O=W.d,g=W.r;R.hJ.hA(ja,O,g,Y.buffer,O,g,jz,eB,ev,c4);
R.GQ(Y.buffer)}if(r=="lightFilterGradient"){function fI(gP){var fW=1/Math.sqrt(gP[0]*gP[0]+gP[1]*gP[1]+gP[2]*gP[2]);
gP[0]*=fW;gP[1]*=fW;gP[2]*=fW}var O=j.rect.d,g=j.rect.r,t=O*g,ar=Date.now(),aF=R.O(t),J=.3,m=.7;R.$d(Y.buffer,aF);
var hJ=R.O(t);R.Fg.hU(aF,hJ,Y.rect,16);var i2=R.O(t);R.Fg.hU(aF,i2,Y.rect,8);var gs=aF,dy=new Float32Array(t),c0=D.Dtl.v,g3=c0[2].v,dG=c0[1].v,ed=c0[0].v,c5=D.Scl.v*40*D.textureScale.v/(g3+dG+ed);
g3*=c5;dG*=c5;ed*=c5;for(var P=0;P<t;P++){var fL=hJ[P]*(1/255),gL=i2[P]*(1/255),io=gs[P]*(1/255);io=io*io;
dy[P]=g3*fL+dG*gL+ed*io}var gN=D.blur.v;if(gN!=0){var cO=dy.slice(0);R.Fg.LK(cO,dy,Y.rect,gN)}var iJ=O-1,cS=g-1;
for(var fZ=1;fZ<cS;fZ++)for(var bb=1;bb<iJ;bb++){var P=fZ*O+bb,T=P*4,bm=dy[P],aM=J*(dy[P+1]-bm)+m*(bm-dy[P-1]),g2=J*(dy[P+O]-bm)+m*(bm-dy[P-O]),gP=[1,0,aM],g7=[0,1,g2];
fI(gP);fI(g7);var dB=gP[0],cl=gP[2],aC=g7[1],hc=g7[2],h9=-cl*aC,iO=-dB*hc,bM=dB*aC;Y.buffer[T]=~~(127.5+h9*127.5);
Y.buffer[T+1]=~~(127.5+iO*127.5);Y.buffer[T+2]=~~(127.5+bM*127.5)}}if(r=="dDFT"||r=="iDFT"){function hZ(eK){if(eK==0)return 1;
eK--;eK|=eK>>1;eK|=eK>>2;eK|=eK>>4;eK|=eK>>8;eK|=eK>>16;return eK+1}var O=j.rect.d,g=j.rect.r,is=hZ(Math.max(O,g)),hk=is>>>1,iz=new bf(0,0,is,is),gu=new bf(0,0,O,g);
gu.y=is-g>>>1;var at=O>>>1,aa=new bf(0,gu.y,at,g),gW=new R.oj(O*g);R.wJ(j.buffer,gW);var eY=new Float64Array(is*is),g$=new Float64Array(is*is),jy=R.O(is*is);
FFT.init(is);var bh=[gW.a,gW.p,gW.M];for(var P=0;P<3;P++){var iw=bh[P];jy.fill(0);if(r=="dDFT"){R.YO(iw,gu,jy,iz);
ij.ad2(jy,is,eY,g$);R.YO(jy,iz,iw,gu,aa);aa.x+=at;iz.x-=hk-at;R.YO(jy,iz,iw,gu,aa);aa.x-=at;iz.x+=hk-at}else{R.YO(iw,gu,jy,iz,aa);
aa.x+=hk;gu.x+=hk-at;R.YO(iw,gu,jy,iz,aa);aa.x-=hk;gu.x-=hk-at;ij.aiw(jy,is,eY,g$);R.YO(jy,iz,iw,gu)}}R.Ke(gW,Y.buffer)}if(r=="Avrg"){var hg=0,f2=0,ch=0,e3=0,f0=1;
for(var P=0;P<j.buffer.length;P+=4){var fl=j.buffer[P+3];ch+=j.buffer[P]*fl;f2+=j.buffer[P+1]*fl;hg+=j.buffer[P+2]*fl;
e3+=fl}var f8=1/e3;hg=Math.round(f0*(hg*f8)+(1-f0)*255);f2=Math.round(f0*(f2*f8)+(1-f0)*255);ch=Math.round(f0*(ch*f8)+(1-f0)*255);
R.mh(Y.buffer,hg<<16|f2<<8|ch,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(r)!=-1){var cY=D.Rds.v.val,a1=r=="boxblur"?R.Fg.eB:R.Fg.as5;
ij.nd(cY,a1,Y.buffer,Y.rect);if(r=="UnsM"||r=="smartSharpen"){var de=D.Amnt.v.val/100,jv=0;if(r=="UnsM")jv=D.Thsh.v;
else de*=.75;for(var P=0;P<j.buffer.length;P++){if((P&3)==3){Y.buffer[P]=j.buffer[P];continue}var ds=j.buffer[P],gb=Y.buffer[P],eU=de*(ds-gb);
if(eU>0)eU=Math.max(0,eU-jv);else eU=Math.min(0,eU+jv);Y.buffer[P]=Math.max(0,Math.min(255,ds+eU))}}if(r=="HghP")for(var P=0;
P<j.buffer.length;P++){if((P&3)==3){Y.buffer[P]=j.buffer[P];continue}var ds=j.buffer[P],gb=Y.buffer[P];
Y.buffer[P]=Math.max(0,Math.min(255,128+ds-gb))}}if(r=="AdNs"){var ip=new Uint8ClampedArray(Y.buffer.buffer),dz=255*D.Nose.v.val/100,eG;
if(D.Dstr.v.Dstr=="Gsn")eG=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else eG=function(){return Math.random()*2-1};for(var P=0;P<ip.length;P+=4){var W=ip[P],n=ip[P+1],e=ip[P+2],ge,gQ,en;
if(D.Mnch.v){ge=gQ=en=eG()}else{ge=eG();gQ=eG();en=eG()}W+=dz*ge;n+=dz*gQ;e+=dz*en;ip[P]=W;ip[P+1]=n;
ip[P+2]=e}}var ar=Date.now();if(r=="Mdn "||r=="DstS"||r=="Mxm "||r=="Mnm "||r=="surfaceBlur"){var W=0,bT=D.Thsh,ju=0;
if(bT)bT=bT.v;else bT=0;if(r=="Mdn "||r=="Mxm "||r=="Mnm "||r=="surfaceBlur")W=D.Rds.v.val;else W=D.Rds.v;
var bY=D.preserveShape;if(bY&&bY.v.preserveShape=="Rndn")ju=1;var O=j.rect.d,g=j.rect.r,co=["Mnm ","Mxm ","surfaceBlur"].indexOf(r),gc=(ju==0?1:.75)*[.73,.73,1][co]*(O*g*W*W)/1722387,fV=[.73,.9,1.4][co]*(O*g*Math.sqrt(W))/6500;
if(Z.DB&&co!=-1&&(gc<fV||ju==1)&&gc<1500){var ja=Z.tf(0,O,g);ja.set(j.buffer);var h=Z.tf(1,O,g);Z.Wq(h);
Z.filter.j$({type:Z.filter.AK,vR:new Float32Array([1/O,1/g]),O2:W,aaI:bT/255,EE:[ju,co,10*Math.ceil(W/10)]},ja.q2);
h.get(Y.buffer)}else{W=Math.round(W);R.ml.H1=.5;var a1=R.ml.qr;if(r=="Mxm ")a1=R.ml.rU;if(r=="Mnm ")a1=R.ml.hi;
if(r=="surfaceBlur")a1=R.ml.h4;R.ml.aQ(j.buffer,Y.buffer,O,g,W,a1,[bT]);if(r=="DstS")for(var P=0;P<O*g*4;
P++){var cP=Math.abs(j.buffer[P]-Y.buffer[P]);if(cP<=bT)Y.buffer[P]=j.buffer[P]}}}if(r=="ClrH"){var aa=j.rect.clone();
aa.x=aa.y=0;var W=D.Rds.v;W=Math.round(W*Math.sqrt(2));var O=aa.d,g=aa.r,gW=new R.oj(O*g);R.wJ(j.buffer,gW);
R.gq(gW.a);R.gq(gW.p);R.gq(gW.M);var ht=y.C("canvas","");ht.width=O;ht.height=g;var bp=ht.getContext("2d"),bS=R.O(O*g*4);
for(var a3=0;a3<3;a3++){var jy=a3==0?gW.a:a3==1?gW.p:gW.M,dj=Math.PI*D["Ang"+(a3+1)].v/180,iP=new j9(1/W,0,0,1/W,0,0);
iP.rotate(dj);R.zQ(jy,bS,3);var V=I.T.Kn([bS,aa],iP,!0),gu=V.rect;bp.clearRect(0,0,O,g);var dE=Math.sin(dj),fi=Math.cos(dj);
for(var P=0;P<gu.r;P++)for(var em=0;em<gu.d;em++){var bb=(em+gu.x+.5)*W,fZ=(P+gu.y+.5)*W,hf=bb,jm=fZ;
bb=fi*hf-dE*jm;fZ=dE*hf+fi*jm;var t=V.buffer[(P*gu.d+em<<2)+3]*(1/255),cY=W*Math.sqrt(t*(1/Math.PI));
bp.beginPath();bp.arc(bb,fZ,cY,0,2*Math.PI);bp.fill()}var dW=bp.getImageData(0,0,O,g);R.ni(dW.data,jy,3)}R.gq(gW.a);
R.gq(gW.p);R.gq(gW.M);R.Ke(gW,Y.buffer)}if(r=="Crst"||r=="Pntl"){var O=j.rect.d,g=j.rect.r,a1=r=="Crst"?R.sd.alP:R.sd.afC;
a1(j.buffer,O,g,Y.buffer,D.ClSz.v,[Math.round(b.a),Math.round(b.p),Math.round(b.M)])}if(r=="Mztn"){var O=j.rect.d,g=j.rect.r,t=O*g,gW=new R.oj(t),dY=[gW.a,gW.p,gW.M];
R.wJ(j.buffer,gW);var dD=D.MztT.v.MztT,eC={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[dD],ar=Date.now(),cc=[];
for(var P=0;P<t;P++){cc[P]=Math.random()}var t=O*g,jt=Math.round(t*eC[0]),eL=t-O-1;for(var P=0;P<jt;
P++){var iR=Math.random(),gv=1;if(iR<.5){gv=O;iR*=2}else iR=2*(iR-.5);var iA=Math.floor(iR*eL),dq=iA+gv;
cc[iA]=cc[dq]}var dC=Math.round(O*eC[1]);for(var fZ=0;fZ<g;fZ++)for(var P=0;P<dC;P++){var iR=R.U.pf(fZ*t+P),iA=fZ*O+Math.floor(iR*(O-1));
cc[iA]=cc[iA+1]}var jA=new Float64Array(256);for(var P=0;P<256;P++){var bv=P/255,fD=2*(bv<.5?bv:1-bv);
fD=eC[2]+Math.pow(fD,eC[3])*(1-eC[2]);bv=bv<.5?fD*.5:1-fD*.5;jA[P]=bv}for(var fm=0;fm<3;fm++){var jy=dY[fm];
for(var fZ=0;fZ<g;fZ++){for(var bb=0;bb<O;bb++){var P=fZ*O+bb,b3=jy[P],bv=jA[b3],iR=cc[P];jy[P]=iR>bv?0:255}}}R.Ke(gW,Y.buffer)}if(r=="Msc "){var g5=D.ClSz.v.val,O=j.rect.d,g=j.rect.r,dU=Math.ceil(O/g5),cw=Math.ceil(g/g5),dZ=R.O(dU*cw*4);
R.scale.Ad(j.buffer,O,g,dZ,dU,cw,1/g5);R.scale.Ad(dZ,dU,cw,Y.buffer,O,g,g5)}if(r=="Clds"||r=="DfrC"){var O=Y.rect.d,g=Y.rect.r,t=O*g,hU=R.O(t);
if(r=="Clds")R.mh(Y.buffer,4278190080);var eE=R.O(256*4);for(var P=0;P<256;P++){var T=P<<2,dM=P/255,bO=1-dM;
eE[T]=Math.round(dM*N.a+bO*b.a);eE[T+1]=Math.round(dM*N.p+bO*b.p);eE[T+2]=Math.round(dM*N.M+bO*b.M)}R.D.anh(j.buffer,O,g,hU);
var be=Y.buffer;for(var P=0;P<t;P++){var T=P<<2,fm=hU[P]<<2,W=eE[fm],n=eE[fm+1],e=eE[fm+2];if(r=="Clds"){be[T]=W;
be[T+1]=n;be[T+2]=e}else{be[T]=Math.abs(be[4*P]-W);be[T+1]=Math.abs(be[4*P+1]-n);be[T+2]=Math.abs(be[4*P+2]-e)}}}if(r=="LnsF"){var O=j.rect.d,g=j.rect.r,dD=["Zm","Nkn","Nkn1","PnVs"].indexOf(D.Lns.v.Lns),dc=D.FlrC.v,eW=[Math.min(dD,2),D.Brgh.v/100,dc.Hrzn.v,dc.Vrtc.v],ar=Date.now();
R.a2V(j.buffer,O,g,Y.buffer,eW)}var gD=["Blr ","BlrM","Shrp","ShrM"].indexOf(r);if(gD!=-1){var hS=gD>1,O=j.rect.d,g=j.rect.r,cA=R.tK.dc[gD],dV=j.buffer.slice(0);
if(!hS)R.je(dV);R.tK.nT(dV,Y.buffer,O,g,cA,255,!1,hS);if(!hS)R.GQ(Y.buffer)}if(r=="MtnB"){var gO=-D.Angl.v*Math.PI/180,f3=D.Dstn.v.val/2,ar=Date.now(),O=j.rect.d,g=j.rect.r,z=j.rect.clone();
z.x=z.y=0;if(Z.DB){var ar=Date.now(),gp=Y.buffer;gp.set(j.buffer);R.je(gp);var dp=Z.tf(0,O,g);dp.set(gp);
var b7=R.O(4);b7[0]=Math.round(128+127*Math.cos(gO));b7[1]=Math.round(128+127*Math.sin(gO));new Uint32Array(gp.buffer).fill(new Uint32Array(b7.buffer)[0]);
var hM=Z.tf(1,O,g);hM.set(gp);Z.Wq(dp,z);dp.l3(z);Z.filter.j$({type:Z.filter.LO,M1:hM.q2,vR:new Float32Array([1/O,1/g]),app:f3/2,aeh:1},dp.aH);
dp.get(gp);R.GQ(gp)}else{var iP=new j9;iP.rotate(gO);var V=I.T.Kn([j.buffer,j.rect],iP,!1,null,!0);ij.nd(f3,R.Fg.pX,V.buffer,V.rect);
iP.gq();V=I.T.Kn([V.buffer,V.rect],iP,!1,Y.buffer.buffer,!0,Y.rect)}console.log(Date.now()-ar)}if(r=="RdlB"){var O=j.rect.d,g=j.rect.r,de=D.Amnt.v,ix=D.BlrM.v.BlrM=="Zm",a3=D.Cntr.v,i_=a3.Hrzn.v,c6=a3.Vrtc.v,aM=Math.max(i_,1-i_)*O,g2=Math.max(c6,1-c6)*g,cY=Math.sqrt(aM*aM+g2*g2),jn=2*Math.PI*cY*1.5,hK=Math.round(jn),g8=Math.round(cY),aa=new bf(0,0,hK,g8),cx=R.O(hK*g8*4),iZ=ix?4:1,gn=ix?.6:8*((O+g)/2)/1400,hX=.1,aO=1,b$=1;
R.t.xp(j.buffer,O,g,cx,hK,g8,i_,c6,iZ,hX,aO,b$);var bC=ix?R.O(hK*g8*4):null;if(ix){R.t.Vd(cx,bC,hK,g8);
var fr=bC;bC=cx;cx=fr;aa.d=g8;aa.r=hK}ij.nd(gn*de,R.Fg.pX,cx,aa);if(ix){R.t.Vd(cx,bC,g8,hK);var fr=bC;
bC=cx;cx=fr;aa.d=hK;aa.r=g8}R.t.EG(cx,hK,g8,Y.buffer,O,g,i_,c6,iZ,hX,aO,b$)}if(r=="Plr "){var O=j.rect.d,g=j.rect.r;
if(D.Cnvr.v.Cnvr=="RctP")R.t.EG(j.buffer,O,g,Y.buffer,O,g,.5,.5,1,0,2,O/g);else R.t.xp(j.buffer,O,g,Y.buffer,O,g,.5,.5,1,0,2,O/g)}if(r=="FndE"){var O=j.rect.d,g=j.rect.r;
R.tK.ny(j.buffer,Y.buffer,O,g)}if(r=="oilPaint"){var dj=D.LghD.v*Math.PI/180,cL=[Math.cos(dj),Math.sin(dj),.001],h1=[D.stylization.v,D.cleanliness.v,D.brushScale.v,D.microBrush.v,D.lightingOn.v,D.specularity.v,cL],z=j.rect.clone();
z.x=z.y=0;R.ML.filter(j.buffer,z,Y.buffer,h1)}if(r=="Ofst"){var O=j.rect.d,g=j.rect.r,az=new Uint32Array(j.buffer.buffer),bZ=new Uint32Array(Y.buffer.buffer),hf=D.Hrzn.v,jm=D.Vrtc.v,hL=D.Fl.v.FlMd;
R.mh(bZ,0);if(hL=="Bckg"||hL=="Rpt"){var aa=j.rect.clone();aa.offset(hf,jm);R.UB(az,aa,bZ,Y.rect)}if(hL=="Rpt"){var gd,bU,fp,i7,gA;
hf=Math.max(-O,Math.min(O,hf));jm=Math.max(-g,Math.min(g,jm));gd=hf>0?hf:0;fp=hf>0?O:O+hf;bU=jm>0?0:jm+g;
i7=jm>0?jm:g;gA=jm>0?0:O*(g-1);for(var fZ=bU;fZ<i7;fZ++)for(var bb=gd;bb<fp;bb++)bZ[fZ*O+bb]=az[gA+bb-hf];
gd=hf>0?0:O+hf;fp=hf>0?hf:O;bU=jm>0?jm:0;i7=jm>0?g:g+jm;gA=hf>0?0:O-1;for(var fZ=bU;fZ<i7;fZ++)for(var bb=gd;
bb<fp;bb++)bZ[fZ*O+bb]=az[gA+O*(fZ-jm)];if(hf>=0&&jm>=0){gd=0;fp=hf;bU=0;i7=jm;gA=0}if(hf>=0&&jm<0){gd=0;
fp=hf;bU=g+jm;i7=g;gA=O*(g-1)}if(hf<0&&jm>=0){gd=O+hf;fp=O;bU=0;i7=jm;gA=O-1}if(hf<0&&jm<0){gd=O+hf;
fp=O;bU=g+jm;i7=g;gA=O*g-1}for(var fZ=bU;fZ<i7;fZ++)for(var bb=gd;bb<fp;bb++)bZ[fZ*O+bb]=az[gA]}if(hL=="Wrp"){hf=(hf+100*O)%O;
jm=(jm+100*g)%g;var aa=new bf(hf-O,jm-g,O,g);R.UB(az,aa,bZ,Y.rect);aa.offset(O,0);R.UB(az,aa,bZ,Y.rect);
aa.offset(0,g);R.UB(az,aa,bZ,Y.rect);aa.offset(-O,0);R.UB(az,aa,bZ,Y.rect)}}if(r=="Rept"){var fY=D.Rsft.v.val/100,d1=D.SpcX.v.val/100;
d1=Math.max(d1,-.99);var ca=D.SpcY.v.val/100;ca=Math.max(ca,-.99);var aO=D.Scl.v.val/100,iP=new j9;iP.rotate(D.Angl.v*Math.PI/180);
iP.scale(aO,aO);var hu={buffer:j.buffer,rect:j.rect};R.jS(hu);if(hu.rect.jE()){hu.buffer=j.buffer;hu.rect=j.rect}var be=hu.buffer,aa=hu.rect,ic=R.JN(be,aa,0),d9=new Uint32Array(be.buffer)[0];
if(!ic.jE()&&!ic.gy(aa)){var cR=R.O(ic.Z()*4);R.UB(be,aa,cR,ic);be=cR;aa=ic}aa.x=aa.y=0;d9=d1==0&&ca==0||D.SpcC.v?d9:0;
function br(bb){return bb<0?Math.ceil(bb):Math.floor(bb)}var i1=iP.OT(new gJ(aa.d,0));i1.x=br(i1.x);
i1.y=br(i1.y);var g_=iP.OT(new gJ(0,aa.r));g_.x=br(g_.x);g_.y=br(g_.y);var V=I.T.Kn([be,aa],iP,!1),gu=V.rect,cV=V.buffer,e0=Math.round(gu.x),iq=Math.round(gu.y),cX=Math.max(Y.rect.d,Y.rect.r)/Math.min(aa.d*aO*(1+d1),aa.r*aO*(1+ca));
cX=Math.ceil(cX*1.7);R.mh(Y.buffer,d9);for(var fZ=-cX;fZ<cX;fZ++){for(var bb=-cX;bb<cX;bb++){var dL=(bb+fZ*fY)*(1+d1),a9=fZ*(1+ca);
gu.x=e0+Math.round(dL*i1.x+a9*g_.x);gu.y=iq+Math.round(dL*i1.y+a9*g_.y);if(gu.CI(Y.rect))R.U.tI("norm",cV,gu,Y.buffer,Y.rect,gu,1)}}}if(r=="Ctoa"){var b=R._.z2(D.Clr.v),bT=D.Trsp.v.val/100,bA=D.Opct.v.val/100;
bT=bA==0?0:bT/bA;var O=j.rect.d,g=j.rect.r,jh=~~b.a,ft=~~b.p,eZ=~~b.M,gA=j.buffer,dk=Y.buffer;for(var fZ=0;
fZ<g;fZ++)for(var bb=0;bb<O;bb++){var P=fZ*O+bb,T=P<<2,aa=gA[T],bB=gA[T+1],be=gA[T+2],fz=Math.abs(jh-aa),e1=Math.abs(ft-bB),cq=Math.abs(eZ-be),aG=Math.max(fz,e1,cq)*(1/255);
aG=Math.max(0,Math.min(1,aG/bA));var aJ=aG==0?0:1/aG,gI=bT==1?1:Math.max(0,Math.min(1,(aG-bT)/(1-bT)));
dk[T]=Math.max(0,Math.min(255,(aa-jh*(1-aG))*aJ));dk[T+1]=Math.max(0,Math.min(255,(bB-ft*(1-aG))*aJ));
dk[T+2]=Math.max(0,Math.min(255,(be-eZ*(1-aG))*aJ));dk[T+3]=~~(.5+gI*255)}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(r)!=-1){var cK=x[0],O=j.rect.d,g=j.rect.r,jA,fb=0;
if(r=="LqFy")jA=j5.$g(new Uint8Array(D.LqMe.v).buffer);else{var af=3;jA={oW:Math.floor(O/af),qg:Math.floor(g/af)};
jA.map=new Float32Array(jA.oW*jA.qg*2);if(r=="LnCr"){var i_=.5*(jA.oW-1),c6=.5*(jA.qg-1),iC=Math.max(Math.abs(0-i_),Math.abs(1-i_)),fh=Math.max(Math.abs(0-c6),Math.abs(1-c6)),ig=Math.sqrt(iC*iC+fh*fh),gq=0,cy=0,eo=-1,hw=2,aO=D.LnSi.v/100,ix=1/aO,es=D.LnIa.v/100,c1=es==0?1e-6:es*4.6,bq=ix/ig;
for(var fZ=0;fZ<jA.qg;fZ++){for(var bb=0;bb<jA.oW;bb++){var aM=(bb-i_)*bq,g2=(fZ-c6)*bq,W=Math.sqrt(aM*aM+g2*g2)*c1,aA=Math.atan(W),av=es>0?aA/W:W/aA,b$=i_+ig*av*aM,di=c6+ig*av*g2,P=fZ*jA.oW+bb<<1;
jA.map[P]=b$-bb;jA.map[P+1]=di-fZ}}}else if(r=="Dspl"&&cK.length!=0){fb=D.UndA.v.UndA=="WrpA"?2:1;var eA=D.DspF.v.pth,iK;
for(var P=0;P<cK.length;P++)if(cK[P].FZ==eA)iK=cK[P];if(iK==null)iK=cK[0];iK.Ez();var fz=iK.Du[1],cN=R.O(fz.Z());
R.$d(iK.Du[0],cN);var dP=fz.d,aq=fz.r;jA={oW:dP,qg:aq};jA.map=new Float32Array(jA.oW*jA.qg*2);var dR=2.54*D.HrzS.v*dP/O,eu=2.54*D.VrtS.v*aq/g;
for(var fZ=0;fZ<jA.qg;fZ++){for(var bb=0;bb<jA.oW;bb++){var cP=-.5+cN[fZ*dP+bb]*(1/255),P=fZ*jA.oW+bb<<1;
jA.map[P]=cP*dR;jA.map[P+1]=cP*eu}}}else if(r=="Pnch"||r=="Twrl"||r=="Sphr"||r=="ZgZg"){var de=1,gO=Math.PI,he=0,j4=1,h3=0,a3=3,g5=1.53,av=1;
if(r=="Pnch"||r=="Sphr"||r=="ZgZg")de=D.Amnt.v/100;if(r=="ZgZg"){j4=D.NmbR.v;h3=["ArnC","OtFr","PndR"].indexOf(D.ZZTy.v.ZZTy)}if(r=="Twrl")gO=D.Angl.v*Math.PI/180;
if(r=="Sphr")he=["Nrml","HrzO","VrtO"].indexOf(D.SphM.v.SphM);function a1(bb){bb=Math.pow(bb,1-bb*.3-bb*bb*(bb*bb)*.5);
return-.225*Math.sin(bb*Math.PI)}function aV(g,fW,W,gd,bU,fp,i7,av){var aM=fp-gd,g2=i7-bU,gS=gd-g,hm=bU-fW,dM=aM*aM+g2*g2,e=2*(aM*gS+g2*hm),a3=gS*gS+hm*hm-W*W,fK=Math.sqrt(e*e-4*dM*a3),ei=av/(2*dM),a_=(-e+fK)*ei,dv=(-e-fK)*ei;
return av*Math.min(a_,dv)}var dU=jA.oW,cw=jA.qg,jp=jA.oW/2,cS=jA.qg/2,iD=1/jp,W=Math.sqrt(a3*a3+1)/a3,iw=a3+Math.sqrt(1/(a3*a3));
if(de<0){a3=1.72;W=1;iw=a3;g5=-1;av=-1}for(var fZ=0;fZ<cw;fZ++){var g2=(fZ-cS)/cS;for(var bb=0;bb<dU;
bb++){var aM=(bb-jp)*iD;if(he==1)g2=0;else if(he==2)aM=0;var b5=Math.sqrt(aM*aM+g2*g2);if(b5<1&&b5!=0){var P=fZ*jA.oW+bb<<1;
if(r=="Pnch"){var el=-de*a1(b5)/b5;jA.map[P]=aM*el*jp;jA.map[P+1]=g2*el*cS}else if(r=="Sphr"){var fr=aV(0,iw,W,0,0,b5,a3,av),hP=g5*de*(fr-1);
jA.map[P]=aM*hP*jp;jA.map[P+1]=g2*hP*cS}else if(r=="Twrl"){var dj=Math.atan2(g2,aM)-gO*(1-b5)*(1-b5),aZ=Math.cos(dj),hq=Math.sin(dj);
jA.map[P]=(b5*aZ-aM)*jp;jA.map[P+1]=(b5*hq-g2)*cS}else if(r=="ZgZg"){var aZ=0,hq=0,d6=de*(.5-.5*Math.cos(b5*j4*2*Math.PI))*(1-b5);
if(h3==0){var dj=Math.atan2(g2,aM)-3.5*d6;aZ=b5*Math.cos(dj);hq=b5*Math.sin(dj)}if(h3==1){d6=100/O*d6/b5;
aZ=(1-d6)*aM;hq=(1-d6)*g2}if(h3==2){var i4=512/O*d6*Math.PI/4;aZ=i4+aM;hq=i4+g2}jA.map[P]=(aZ-aM)*jp;
jA.map[P+1]=(hq-g2)*cS}}}}}else if(r=="Shr "){var jo=JSON.parse(JSON.stringify(D.ShrP.v));R.I7.F(jo,new j9(0,255/127,255/127,0,-2,0));
var dT=R.I7.OG(jo,jA.qg,!0);fb=D.UndA.v.UndA=="WrpA"?2:1;for(var fZ=0;fZ<jA.qg;fZ++){var aM=-dT[fZ]*jA.oW;
for(var bb=0;bb<jA.oW;bb++){var P=fZ*jA.oW+bb<<1;jA.map[P]=aM}}}else if(r=="Wave"){var gK=D.NmbG.v,hQ=D.WLMn.v,eO=D.WLMx.v,fj=D.AmMn.v*(Math.PI/4),cD=D.AmMx.v*(Math.PI/4),aK=D.SclH.v/100,bi=D.SclV.v/100,dD=D.Wvtp.v.Wvtp,d6=Math.sin;
if(dD=="WvTr")d6=function(bb){bb*=2/Math.PI;return-.5+Math.abs(bb%2-1)};if(dD=="WvSq")d6=function(bb){bb*=2/Math.PI;
return 1+2*Math.floor(bb%2-1)};var jc=[],a6=new R.U.iv(D.RndS.v);for(var P=0;P<gK;P++){jc.push(a6.get()*10);
jc.push(Math.PI*af/(hQ+a6.get()*(eO-hQ)));jc.push(aK*(fj+a6.get()*(cD-fj))/af);jc.push(a6.get()*10);
jc.push(Math.PI*af/(hQ+a6.get()*(eO-hQ)));jc.push(bi*(fj+a6.get()*(cD-fj))/af)}var iX=[],gT=[],bL=Math.max(jA.oW,jA.qg);
for(var P=0;P<bL;P++){var aM=0,g2=0;for(var em=0;em<gK;em++){var eR=em*6;aM+=jc[eR+2]*d6(jc[eR]+P*jc[eR+1]);
g2+=jc[eR+5]*d6(jc[eR+3]+P*jc[eR+4])}iX[P]=g2;gT[P]=aM}for(var fZ=0;fZ<jA.qg;fZ++){for(var bb=0;bb<jA.oW;
bb++){var P=fZ*jA.oW+bb<<1;jA.map[P]=gT[fZ];jA.map[P+1]=iX[bb]}}fb=D.UndA.v.UndA=="WrpA"?2:1}else if(r=="Rple"){fb=1;
var de=D.Amnt.v/100,fG=4,hn=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],fa=1,fU=1,gS=0,dw=["Sml","Mdm","Lrg"].indexOf(D.RplS.v.RplS);
if(dw==0){fa=1;fU=.2;gS=3}if(dw==2){fa=1;fU=2;gS=-1;hn=hn.reverse()}var eQ=function(bb,fZ){var a3=Math.cos,c5=0;
for(var P=0;P<fG;P++)for(var em=0;em<fG;em++)c5+=hn[P*fG+em]*a3(bb*(P+gS)-fZ*(em+gS));return c5},iY=Math.floor(50/af),d3=new Float32Array(iY*iY*2),fM=fU*de*.5/af;
for(var fZ=0;fZ<iY;fZ++)for(var bb=0;bb<iY;bb++){var i_=fa*bb*2*Math.PI/iY,c6=fa*fZ*2*Math.PI/iY,c3=eQ(i_,c6),aM=(eQ(i_+.01,c6)-c3)*100,g2=(eQ(i_,c6+.01)-c3)*100,P=(fZ*iY+bb)*2;
d3[P]=aM*fM;d3[P+1]=g2*fM}for(var fZ=0;fZ<jA.qg;fZ++)for(var bb=0;bb<jA.oW;bb++){var hq=fZ%iY,aZ=bb%iY,P=fZ*jA.oW+bb<<1,fw=hq*iY+aZ<<1;
jA.map[P]=d3[fw];jA.map[P+1]=d3[fw+1]}}}R.IV.Ah(j.buffer,Y.buffer,O,g,null,jA.map,jA.oW,jA.qg,fb)}return Y};
var cQ={};cQ.bv="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");cQ.m8="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
cQ.WO=["ScrC","ScrD","ScrL"];cQ.Fb=["SDRD","SDHz","SDLD","SDVt"];cQ.so="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
cQ._b="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");cQ.$L="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
cQ.Le={PntD:"paintDaubs"};cQ.eQ=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];cQ.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
cQ.nY=function(r){var j;if(r=="ClrP")j={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(r=="Ct")j={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(r=="DryB")j={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(r=="FlmG")j={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(r=="Frsc")j={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(r=="NGlw")j={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(r=="PntD")j={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(r=="PltK")j={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(r=="PlsW")j={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(r=="PstE")j={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(r=="RghP")j={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(r=="SmdS")j={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(r=="Spng")j={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(r=="Undr")j={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(r=="Wtrc")j={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(r=="AccE")j={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(r=="AngS")j={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(r=="Crsh")j={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(r=="DrkS")j={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(r=="InkO")j={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(r=="Smie")j={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(r=="Spt")j={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(r=="SprS")j={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(r=="DfsG")j={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(r=="Gls")j={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(r=="OcnR")j={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(r=="BsRl")j={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(r=="ChlC")j={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(r=="Chrc")j={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(r=="Chrm")j={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(r=="CntC")j={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(r=="GraP")j={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(r=="HlfS")j={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(r=="NtPr")j={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(r=="Phtc")j={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(r=="Plst")j={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(r=="Rtcl")j={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(r=="Stmp")j={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(r=="TrnE")j={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(r=="WtrP")j={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(r=="GlwE")j={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(r=="Crql")j={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(r=="Grn")j={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(r=="MscT")j={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(r=="Ptch")j={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(r=="StnG")j={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(r=="Txtz")j={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
j.__name="Filter Gallery";j.classID="GEfc";j.GEfk={t:"enum",v:{GEft:r}};j.GELv={t:"bool",v:!0};return j};
cQ.Fk=function(r,j){for(var P=0;P<j.length;P++)~~(j[P]=(r[4*P]+r[4*P+1]+r[4*P+2])*(1/3))};cQ.Bh=function(r,j,D,N,b,Y,x){r=D.GEfk.v.GEft;
var C=j.rect,w=C.d,q=C.r,u=w*q,h=D.FlRs?D.FlRs.v>>>1:0;function z(_){return _.a<<24|_.p<<16|_.M<<8|255}if(r=="ClrP")R.D.a2O(j.buffer,w,q,Y.buffer,[D.Pncl.v,D.StrP.v,D.PprB.v]);
if(r=="Ct"){var O=D.NmbL.v,g=D.EdgS.v,t=UPNG.quantize(j.buffer.buffer,O*2);t={BX:t.inds,KS:t.plte};var $=Math.floor((w+q)*.015);
if($!=0)R.Dh.hq(t.BX,w,q,$);var i=new Uint8Array((w+2)*(q+2));R.YO(t.BX,new bf(1,1,w,q),i,new bf(0,0,w+2,q+2));
var A=R.K.Zk(i,w+2,q+2,g,!1),H=new j9(1,0,0,1,-1,-1);for(var P=0;P<A.length;P++)R.K.F(A[P].path.v,H,A[P].path.v);
var F=[],T=t.KS;for(var P=0;P<T.length;P++){var _=T[P].est.q;F.push({a:Math.round(255*_[0]),p:Math.round(255*_[1]),M:Math.round(255*_[2]),kD:Math.round(255*_[3])})}var V=R.NH(w,q);
for(var P=0;P<A.length;P++){var X=A[P],_=F[X.color];if(_.kD==0)continue;V.fillStyle="rgba("+_.a+","+_.p+","+_.M+","+_.kD/255+")";
V.beginPath();Typr.U.pathToContext({crds:X.path.v,cmds:X.path.J},V);V.fill()}if(!C.jE()){var o=V.getImageData(0,0,w,q);
R.kZ(o.data,Y.buffer)}}if(r=="DryB")R.D.ahM(j.buffer,w,q,Y.buffer,[D.BrsS.v,D.BrsD.v,D.Txtr.v]);if(r=="FlmG")R.D.afe(j.buffer,w,q,Y.buffer,[D.Grn.v,D.HghA.v,D.Intn.v,h]);
if(r=="Frsc")R.D.a1i(j.buffer,w,q,Y.buffer,[D.BrsS.v,D.BrsD.v,D.Txtr.v]);if(r=="NGlw")R.D.ajY(j.buffer,w,q,Y.buffer,[D.Sz.v,D.Brgh.v,z(R._.z2(D.Clr.v)),z(N),z(b)]);
if(r=="PltK")R.D.afi(j.buffer,w,q,Y.buffer,[D.StrS.v,D.StDt.v,D.Sftn.v]);if(r=="PstE")R.D.ai5(j.buffer,w,q,Y.buffer,[D.EdgT.v,D.EdgI.v,D.Pstr.v]);
if(r=="RghP")R.D.ajT(j.buffer,w,q,Y.buffer,[D.StrL.v,D.StDt.v,cQ.so.indexOf(D.TxtT.v.TxtT),D.Scln.v,D.Rlf.v,cQ.m8.indexOf(D.LghD.v.LghD),D.InvT.v]);
if(r=="SmdS")R.D.a9F(j.buffer,w,q,Y.buffer,[D.StrL.v,D.HghA.v,D.Intn.v,D.FlRs.v,h]);if(r=="Spng")R.D.a32(j.buffer,w,q,Y.buffer,[D.BrsS.v,D.Dfnt.v,D.Smth.v,D.FlRs.v,h]);
if(r=="Undr")R.D.ata(j.buffer,w,q,Y.buffer,[D.BrsS.v,D.TxtC.v,cQ.so.indexOf(D.TxtT.v.TxtT),D.Scln.v,D.Rlf.v,cQ.m8.indexOf(D.LghD.v.LghD),D.InvT.v]);
if(r=="Wtrc")R.D.apK(j.buffer,w,q,Y.buffer,[D.BrsD.v,D.ShdI.v,D.Txtr.v]);if(r=="AccE")R.D.ad_(j.buffer,w,q,Y.buffer,[D.EdgW.v,D.EdgB.v,D.Smth.v]);
if(r=="AngS")R.D.ao3(j.buffer,w,q,Y.buffer,[D.DrcB.v,D.StrL.v,D.Shrp.v]);if(r=="Crsh")R.D.ash(j.buffer,w,q,Y.buffer,[D.StrL.v,D.Shrp.v,D.Strg.v]);
if(r=="DrkS")R.D.ane(j.buffer,w,q,Y.buffer,[D.Blnc.v,D.BlcI.v,D.WhtI.v]);if(r=="InkO")R.D.a7y(j.buffer,w,q,Y.buffer,[D.StrL.v,D.DrkI.v,D.LghI.v]);
if(r=="Smie")R.D.ap7(j.buffer,w,q,Y.buffer,[D.StrW.v,D.StrP.v,D.Cntr.v]);if(r=="DfsG")R.D.a7O(j.buffer,w,q,Y.buffer,[D.Grns.v,D.GlwA.v,D.ClrA.v,z(b),h]);
if(r=="CntC")R.D.a0U(j.buffer,w,q,Y.buffer,[D.FrgL.v,D.BckL.v,cQ.so.indexOf(D.TxtT.v.TxtT),D.Scln.v,D.Rlf.v,cQ.m8.indexOf(D.LghD.v.LghD),D.InvT.v,z(b),z(N)]);
if(r=="ChlC")R.D.a0L(j.buffer,w,q,Y.buffer,[D.ChrA.v,D.ChlA.v,D.StrP.v,h,z(b),z(N)]);var c=r=="GraP"||r=="Chrc"||r=="Plst"||r=="Rtcl"||r=="Stmp"||r=="TrnE";
if(c){var E=R.O(w*q);if(r=="GraP")R.D.asF(j.buffer,w,q,Y.buffer,[D.StrL.v,D.LgDr.v,cQ.Fb.indexOf(D.SDir.v.StrD),h]);
if(r=="Chrc")R.D.a1F(j.buffer,w,q,Y.buffer,[D.ChAm.v,D.Dtl.v,D.LgDr.v]);if(r=="Plst")R.D.a6c(j.buffer,w,q,Y.buffer,[D.ImgB.v,cQ._b.indexOf(D.LghP.v.LghP),D.Smth.v]);
if(r=="Rtcl")R.D.ahz(j.buffer,w,q,Y.buffer,[D.Dnst.v,D.BlcL.v,D.WhtL.v,h]);if(r=="Stmp")R.D.a2d(j.buffer,w,q,Y.buffer,[D.LgDr.v,D.Smth.v]);
if(r=="TrnE")R.D.a8m(j.buffer,w,q,Y.buffer,[D.ImgB.v,D.Smth.v,D.Cntr.v,h]);R.ni(Y.buffer,E,0);cQ.aG(E,Y.buffer,N,b)}if(r=="NtPr")R.D.a5l(j.buffer,w,q,Y.buffer,[D.ImgB.v,D.Grns.v,D.Rlf.v,z(N),z(b),h]);
if(r=="WtrP")R.D.a1N(j.buffer,w,q,Y.buffer,[D.FbrL.v,D.Brgh.v,D.Cntr.v,h>>>1]);if(r=="Crql")R.D.akQ(j.buffer,w,q,Y.buffer,[D.CrcS.v,D.CrcD.v,D.CrcB.v,h]);
if(r=="Grn")R.D.asI(j.buffer,w,q,Y.buffer,[D.Intn.v,cQ.$L.indexOf(D.Grnt.v.Grnt),D.Cntr.v,z(N),z(b),h]);
if(r=="MscT")R.D.ada(j.buffer,w,q,Y.buffer,[D.TlSz.v,D.GrtW.v,D.LghG.v,h]);if(r=="Ptch")R.D.a0Q(j.buffer,w,q,Y.buffer,[D.SqrS.v,D.Rlf.v,h]);
if(r=="Phtc"){function f(bu,da,C,h7){R.Fg.Af(bu,da,C,h7);for(var P=0;P<u;P++)da[P]=Math.max(0,Math.min(255,128+bu[P]-da[P]))}var d=D.Dtl.v,s=D.Drkn.v,B=R.O(u);
R.$d(j.buffer,B);var a=R.O(u);f(B,a,C,1);var U=R.O(u);f(B,U,C,d);for(var P=0;P<u;P++)B[P]=Math.max(0,Math.min(255,255-(a[P]-U[P])*s));
cQ.aG(B,Y.buffer,N,b)}if(r=="Spt"||r=="SprS"){var M,W=1,n=1;M={oW:Math.floor(w/n),qg:Math.floor(q/n)};
M.map=new Float32Array(M.oW*M.qg*2);var e=new R.U.iv(D.FlRs.v),Q=new Float32Array(8192),J=D.SprR.v,m=J<20?.018*J:.36+(J-20)*.128;
if(r=="SprS"){m=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][J]}for(var P=0;
P<8192;P++)Q[P]=(-1+2*e.get())*m*70;for(var p=0;p<q;p++)for(var L=0;L<w;L++){var S=p*w+L<<1;M.map[S]=Q[S%7919];
M.map[S+1]=Q[(S+1)%7919]}var eJ=M.map.slice(0),hy=r=="Spt"?D.Smth.v-1:1;if(r=="Spt"&&hy!=0){cQ.oy(M.map,eJ,w,q,hy);
cQ.tC(eJ,M.map,w,q,hy)}if(r=="SprS"){var v=D.StrL.v>>>1,ff=v==0?2:1;cQ.oy(M.map,eJ,w,q,ff);cQ.tC(eJ,M.map,w,q,ff);
if(v!=0){var K=cQ.Fb.indexOf(D.SDir.v.StrD),jo=[1,1,1,0][K],g5=[-1,0,1,1][K],fQ=2*v+1,iT=1/fQ;for(var p=0;
p<q;p++)for(var L=0;L<w;L++){var S=p*w+L<<1,ac=0,aR=0;for(var P=0;P<fQ;P++){var hV=Math.max(0,Math.min(w-1,L-(v+P)*jo)),cu=Math.max(0,Math.min(q-1,p-(v+P)*g5)),iy=cu*w+hV<<1;
ac+=M.map[iy];aR+=M.map[iy+1]}eJ[S]=ac*iT;eJ[S+1]=aR*iT}M.map=eJ}}R.IV.Ah(j.buffer,Y.buffer,w,q,null,M.map,M.oW,M.qg,W)}if(r=="BsRl"||r=="PlsW"||r=="Chrm"){var gr=Date.now(),cp=R.O(u),gP=cp.slice(0);
R.$d(j.buffer,cp);var d=D.Dtl.v,g7=D.Smth.v;if(d!=15){R.Fg.hU(cp,gP,C,Math.round((15-d)*.5));R.kZ(gP,cp)}var j8=1.4/w,dg=1.4/q,gR=new Float32Array(u),em=new Float32Array(u),fr=new Float32Array(Y.buffer.buffer);
for(var p=0;p<q;p++)for(var L=0;L<w;L++){var P=p*w+L,jo=L==w-1?cp[P]-cp[P-1]:cp[P+1]-cp[P],g5=p==q-1?cp[P]-cp[P-w]:cp[P+w]-cp[P],aU=L*j8-.7,bb=p*dg-.7;
gR[P]=jo==0?aU:jo*.4;em[P]=g5==0?bb:g5*.4}if(r=="BsRl"){var fZ=(2+cQ.m8.indexOf(D.LghD.v.LghD))*Math.PI*.25,ac=Math.cos(fZ);
if(Math.abs(ac)<.1)ac=0;ac=Math.sign(ac);var aR=Math.sin(fZ);if(Math.abs(aR)<.1)aR=0;aR=Math.sign(aR);
var h1=1/(ac*ac+aR*aR);for(var p=0;p<q;p++)for(var L=0;L<w;L++){var P=p*w+L,ar=Math.max(-1,Math.min(1,ac*gR[P])),gt=Math.max(-1,Math.min(1,aR*em[P]));
gP[P]=128+127*(ar+gt)*h1}if(g7!=1){R.Fg.hU(gP,cp,C,Math.round((g7-1)*.5));R.kZ(cp,gP)}cQ.aG(gP,Y.buffer,N,b)}else{if(r=="Chrm")g7=5+g7;
if(g7>1)cQ.nd(gR,em,fr,C,g7-1);if(r=="PlsW"){var gX=new Uint8Array(gR.buffer);for(var P=0;P<u;P++){var dK=P<<2,jo=gR[P],g5=em[P],ay=1/(Math.sqrt(1+jo*jo)*Math.sqrt(1+g5*g5)),hh=ay*ay,b7=hh*hh,_=~~(255*(b7*b7*hh));
gX[dK+0]=_;gX[dK+1]=_;gX[dK+2]=_;gX[dK+3]=_}Y.buffer.set(j.buffer);R.U.tI("norm",gX,C,Y.buffer,C,C,D.HghS.v/20)}else if(r=="Chrm"){var cV=Y.buffer,bj=w>>>1,bW=q>>>1;
for(var P=0;P<u;P++){var dK=P<<2,jo=gR[P],g5=em[P],bu={x:1,y:0,Fu:jo};fx.i5(bu);var da={x:0,y:1,Fu:g5};
fx.i5(da);var dj=fx.$U(bu,da),e_=1/dj.Fu,de=~~Math.max(0,Math.min(w-1,bj-dj.x*e_*bj)),aM=~~Math.max(0,Math.min(q-1,bW-dj.y*e_*bW)),_=cp[aM*w+de];
cV[dK+0]=_;cV[dK+1]=_;cV[dK+2]=_}}}}if(r=="Gls"||r=="OcnR"||r=="Txtz"){var g2=r=="OcnR"?2:cQ.so.indexOf(D.TxtT.v.TxtT),g9=cQ.Eq(g2),hr=g9[0],cp=g9[1],iG=hr.d,iF=hr.r,fQ=24,ba=0,h8,eS;
function i3(hW,bO,eN){return~~(bI*(hW+bO)+8192)&127}var gR=new Float32Array(u),em=new Float32Array(u),fr=new Float32Array(Y.buffer.buffer),bI=r=="OcnR"?1/(1+(D.RplS.v-1)*.1):100/D.Scln.v;
if(g2==3)bI*=32/22.2;var gr=Date.now(),fE=bI,j8=1.4/w,dg=1.4/q;if(r=="Txtz"){fE*=1/255;fQ=256}for(var p=0;
p<q;p++){var ih=i3(p,C.y,iF),cu=ih+1&127;for(var L=0;L<w;L++){var P=p*w+L,dD=i3(L,C.x,iG),hV=dD+1&127,aQ=0,dn=0,df=0;
if(r=="Txtz"){aQ=R.t.zm(bI*L,bI*p,cp,128,128);dn=R.t.zm(bI*L,bI*p+1,cp,128,128);df=R.t.zm(bI*L+1,bI*p,cp,128,128)}else{aQ=cp[ih*iG+dD];
dn=cp[cu*iG+dD];df=cp[ih*iG+hV]}gR[P]=Math.max(-fQ,Math.min((df-aQ)*fE,fQ));em[P]=Math.max(-fQ,Math.min((dn-aQ)*fE,fQ))}}if(r=="Txtz")cQ.rB(gR,em,fr,C,6);
else cQ.nd(gR,em,fr,C,r=="Txtz"?1:r=="OcnR"?3.5/bI:D.Smth.v);if(r=="Txtz")ba=D.InvT.v?-1:1;else if(r=="Gls"){ba=[1,.4,.5,.5][g2]*(Math.exp(D.Dstr.v*.155)-1);
if(D.InvT.v)ba=-ba}else{ba=.5*(Math.exp(D.RplM.v*.155)-1)}var cV=Y.buffer;if(r=="Txtz"){var fZ=(2+cQ.m8.indexOf(D.LghD.v.LghD))*Math.PI*.25,ac=Math.cos(fZ),aR=Math.sin(fZ);
h8={x:ac,y:aR,Fu:0};fx.i5(h8);eS=D.Rlf.v;eS=eS/4+Math.max(0,(eS-35)*2)}function ek(bu,da,dB){var iL=R.U.overF(da,bu,1),hW=(1-dB)*bu+dB*(dB*da+(1-dB)*iL);
return hW*255}for(var p=0;p<q;p++)for(var L=0;L<w;L++){var P=p*w+L,dK=P<<2,jo=gR[P],g5=em[P],bu={x:1,y:0,Fu:jo};
fx.i5(bu);var da={x:0,y:1,Fu:g5};fx.i5(da);var dj=fx.$U(bu,da);if(r=="Txtz"){var c9=fx.a7N(dj,h8)*ba,dB=1,_=1;
if(c9<0){_=0;c9=-c9}dB=Math.min(1,c9*eS);cV[dK+0]=~~ek(j.buffer[dK]*(1/255),_,dB);cV[dK+1]=~~ek(j.buffer[dK+1]*(1/255),_,dB);
cV[dK+2]=~~ek(j.buffer[dK+2]*(1/255),_,dB)}else{var e_=ba/dj.Fu,de=~~Math.max(0,Math.min(w-1,L-dj.x*e_)),aM=~~Math.max(0,Math.min(q-1,p-dj.y*e_)),gd=aM*w+de<<2;
cV[dK+0]=j.buffer[gd];cV[dK+1]=j.buffer[gd+1];cV[dK+2]=j.buffer[gd+2]}}}if(r=="PntD"){var bU=D.Shrp.v*.4,fp=D.BrsT.v.BrsT,i7={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[fp],h7=Math.round(D.Sz.v*.5);
R.ml.H1=i7[0];var h_=R.ml.qr;R.ml.aQ(j.buffer,Y.buffer,w,q,h7,h_,[]);var jy=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
jy=R.tK.KP(jy);var fs=Y.buffer.slice(0);R.tK.nT(fs,Y.buffer,w,q,jy,0);for(var P=0;P<j.buffer.length;
P++){var ir=Y.buffer[P]-fs[P];Y.buffer[P]=Math.max(0,Math.min(255,fs[P]+bU*ir))}}if(r=="GlwE"){var bk=Y.buffer.slice(0);
R.ml.H1=.5;var h_=R.ml.qr;R.ml.aQ(j.buffer,bk,w,q,D.Smth.v>>>1,h_,[]);R.tK.ny(bk,Y.buffer,w,q);R.kZ(Y.buffer,bk);
R.gq(bk);R.mh(bk,4278190080,16777215);R.ml.aQ(bk,Y.buffer,w,q,D.EdgW.v>>>1,R.ml.rU,[]);var aO=D.EdgB.v/10;
for(var P=0;P<bk.length;P++){if((P&3)==3)continue;var iL=Y.buffer[P];Y.buffer[P]=Math.max(0,Math.min(255,iL*aO))}}if(r=="StnG"){R.sd.ad5(j.buffer,w,q,Y.buffer,D.ClSz.v,[Math.round(N.a),Math.round(N.p),Math.round(N.M)],D.BrdT.v)}if(r=="HlfS"){var dX=D.HlSz.v,cj=dX*2+1,ha=D.Cntr.v,ja=cQ.WO.indexOf(D.ScrT.v.ScrT),u=w*q,ad=u*4,bS=R.O(u),bg=j.buffer,ev=0,cZ=0;
cQ.Fk(bg,bS);var aB=bS.slice(0);R.Fg.pY(aB,bS,C,dX);var jz=Math.PI/cj,eB=new Float64Array(w),ac=new Float64Array(w),c4=new Float64Array(2*w);
for(var L=0;L<w;L++){var dD=(L-(w>>>1))*jz;eB[L]=dD*dD;ac[L]=Math.cos(dD);var jo=L<<1;c4[jo]=Math.sin(jo*(1/4.5));
c4[jo+1]=Math.sin((jo+1)*(1/4.5))}for(var p=0;p<q;p++){var ih=(p-(q>>>1))*jz,aR=Math.cos(ih),aI=ih*ih;
for(var L=0;L<w;L++){var _=aR;if(ja==0){var ju=.5+Math.sqrt(eB[L]+aI)*4.5;_=c4[~~ju]}else if(ja==1){_=ac[L]*aR}var P=p*w+L,dx=bS[P]*(.75+.25*_),dB=bg[(P<<2)+3]*(1/255),hp=Math.max(0,Math.min(255,~~dx));
ev+=hp*dB,cZ+=dB;bS[P]=hp}}ev/=cZ;var cH=128+1.26*(ev-128),aO=.08+.25*Math.abs((128-ev)/128),dm=1+aO*ha;
for(var P=0;P<u;P++){var dx=cH+(bS[P]-cH)*dm;bS[P]=Math.max(0,Math.min(255,~~dx))}if(ha>46)R.round(bS);
cQ.aG(bS,Y.buffer,N,b)}for(var P=0;P<j.buffer.length;P+=4)Y.buffer[P+3]=j.buffer[P+3]};cQ.aG=function(r,j,D,N){var b=r.length,Y=D.a,x=D.p,C=D.M,w=N.a,q=N.p,u=N.M;
for(var P=0;P<b;P++){var h=r[P]*(1/255),z=1-h,O=P<<2;j[O]=~~(Y*z+w*h);j[O+1]=~~(x*z+q*h);j[O+2]=~~(C*z+u*h)}};
cQ.Eq=function(r){if(r==6)r=2;var j="blocks canvas frosted tinylens brick burlap".split(" ")[r];if(cQ.$e==null)cQ.$e=[];
if(cQ.$e[r]==null){var D,N;if(r==2){N=new bf(0,0,128,128);var b=ij.nY("AdNs");b.Mnch.v=!0;b.Dstr.v.Dstr="Gsn";
b.Nose.v.val=50;var D=R.O(N.Z()*4),Y=D.slice(0);new Uint32Array(Y.buffer).fill(4286611584);ij.Bh("AdNs",{buffer:Y,rect:N},b,0,0,{buffer:D,rect:N})}else{var x=aP.zN.get("tex/"+j,!0)[0];
N=x.Yn;D=new Uint8Array(x.data)}var C=R.O(N.Z());R.ni(D,C,0);cQ.$e[r]=[N,C]}return cQ.$e[r]};cQ.nd=function(r,j,D,N,b){if(b<=1){b=Math.round(b);
cQ.rB(r,j,D,N,[1,16,4][b]);return}var Y=b*.42;if(r){R.Fg.LK(r,D,N,Y,3);r.set(D)}if(j){R.Fg.LK(j,D,N,Y,3);
j.set(D)}};cQ.rB=function(r,j,D,N,b){var Y=R.tK.KP([1,2,1,2,b,2,1,2,1]);if(r){D.set(r);R.tK.Or(r,D,N.d,N.r,Y);
r.set(D)}if(j){D.set(j);R.tK.Or(j,D,N.d,N.r,Y);j.set(D)}};cQ.Ux=function(r){if(r==null)return new gJ(0,0);
var j=0,D=r.GEfs?r.GEfs.v:[{v:r}];for(var P=0;P<D.length;P++){var N=D[P].v,Y=1e4;if(N.GELv&&!N.GELv.v)continue;
var b=N.GEfk.v.GEft;if(b=="GlwE"||b=="Phtc"||b=="BsRl"||b=="PlsW"||b=="Chrm"||b=="Gls"||b=="OcnR")Y=0;
j=Math.max(j,Y)}return new gJ(j,j)};cQ.t1=function(r){var j=[0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][r];
for(var P=0;P<13;P++){var N=P-6;j[P]=1/(D*Math.sqrt(2*Math.PI))*Math.exp(-.5*(N/D)*(N/D))}return j};
cQ.oy=function(r,j,D,N,b){var Y=cQ.t1(b),x=6,C=13;for(var w=0;w<N;w++)for(var q=0;q<D;q++){var u=w*D+q<<1,h=0,z=0;
for(var P=0;P<C;P++){var O=q+P-x,g=O<0?0:O>=D?D-1:O,t=(w*D+g)*2,$=Y[P];h+=$*r[t];z+=$*r[t+1]}j[u]=h;
j[u+1]=z}};cQ.tC=function(r,j,D,N,b){var Y=cQ.t1(b),x=6,C=13;for(var w=0;w<N;w++)for(var q=0;q<D;q++){var u=w*D+q<<1,h=0,z=0;
for(var P=0;P<C;P++){var O=w+P-x,g=O<0?0:O>=N?N-1:O,t=(g*D+q)*2,$=Y[P];h+=$*r[t];z+=$*r[t+1]}j[u]=h;
j[u+1]=z}};function by(){}by.Mi=[2,5,5,7,4,4];by.n4="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
by.zT="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
by.OF=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
by.Zo=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
by.fG=function(r){if(r=="passThrough")return"pass";return by.n4[by.zT.indexOf(r)]};by.B9=function(r){if(r=="pass")return"passThrough";
return by.zT[by.n4.indexOf(r)]};by.getName=function(r){return by.OF[by.n4.indexOf(r)]};function G(){this.rect=null;
this.yp="norm";this.opacity=255;this._V=!1;this.Qk=0;this.xU=0;this.$s=!0;this.UE=[];for(var P=0;P<10;
P++)this.UE.push(0,0,255,255);this.name=null;this.add={};this.buffer=null;this.qW=null;this.dX=null;
this.B=null;this.UJ=null;this.aa1=30;this.nK=G.v6();this.a5r=G.v6();this.abe=G.v6();this.acC=G.v6();
this.Cz=0;this.fh=!1;this.Ye=null;this.Nl=new G.aL}G.v6=function(){var r=y.C("canvas");r.width=r.height=30;
return r.getContext("2d")};G.aL=function(){this.RM=!0;this.NR=!0;this.k2=R.O(0);this.a5a=R.O(0);this.l4=null;
this.LZ={};this.a20=null;this.vY=null;this.Wm=null;this.du=null;this.mq=null;this.m4=null;this.LR=null;
this.S9=null;this.aU=null;this.OM=null;this.d9=null;this.C8=null;this.xE=!1};G.aL.prototype.bM=function(){this.RM=!1;
this.NR=!1;this.l4=null;this.xE=Z.DB};G.aL.prototype.ahe=function(){fx.xI(this.LZ);this.k2=R.O(0);this.a5a=R.O(0);
if(this.du)this.du.delete();if(this.mq)this.mq.delete();this.du=null;this.mq=null;var r=[this.m4,this.LR,this.S9,this.aU,this.OM,this.d9];
for(var P=0;P<6;P++)if(r[P]!=null&&r[P]instanceof Z.oj)r[P].delete();this.m4=null;this.LR=null;this.S9=null;
this.aU=null;this.OM=null;this.d9=null};G.prototype.P=function(r){if(r==null)r=this.rect.clone();if(this.Nl.l4==null)this.Nl.l4=r;
else this.Nl.l4=this.Nl.l4.zs(r)};G.prototype.iO=function(){return this.add.lsct==bH.nV||this.add.lsct==bH.$w};
G.prototype.x2=function(){var r=this.add;return r.SoCo!=null||r.GdFl!=null||r.PtFl!=null};G.prototype.Se=function(){var r=this.add.lmfx;
if(r==null)return;var j=["GrFl","patternFill"];for(var P=0;P<j.length;P++){var D=hz.l9[hz.order.indexOf(j[P])],N=r[D].v;
if(N.length==0)continue;for(var b=0;b<N.length;b++){var Y=N[b].v;if(Y.enab.v&&(Y.Algn==null||!Y.Algn.v))this.Nl.NR=!0}}};
G.prototype.PB=function(){var r=this.B;if(this.x2())r=this.BG();if(!Z.DB)return r.e_();if(this.Nl.mq==null||this.Nl.RM||Z.DB!=this.Nl.xE){if(this.Nl.mq)this.Nl.mq.delete();
this.Nl.mq=new Z.$T(r.q7().d,r.q7().r);this.Nl.mq.set(r.e_())}return this.Nl.mq};G.prototype.QR=function(r){var j=this.rect,D=this.buffer;
if(!Z.DB){var N=this.UN(r,D,j);if(N){D=N.Iz;j=N.rect}return D}if(this.Nl.l4!=null||Z.DB!=this.Nl.xE){var N=this.UN(r,D,j);
if(N){D=N.Iz;j=N.rect}var b=j;if(Z.DB!=this.Nl.xE||this.Nl.du==null||this.Nl.du.d!=b.d||this.Nl.du.r!=b.r){if(this.Nl.du)this.Nl.du.delete();
this.Nl.du=new Z.oj(b.d,b.r);this.Nl.du.set(D)}else{var Y=this.Nl.l4.clone();Y.offset(-j.x,-j.y);this.Nl.du.set(D,Y)}}return this.Nl.du};
G.prototype.Dn=function(){var r=this.B;if(this.x2())r=this.BG();return r!=null&&r.isEnabled&&(!r.rect.jE()||r.z2()!=255)};
G.prototype.UN=function(r,j,D){if(this.ri()){var N=this.dw(r);if(N.B&&N.B.isEnabled&&(!N.B.rect.jE()||N.B.color==0)){var b=this.add.SoLd.filterFX.v;
N.B.jO=b.filterMaskDensity?b.filterMaskDensity.v:255;N.B.wt=b.filterMaskFeather?b.filterMaskFeather.v:0;
var Y=N.buffer,x=N.rect;if(x.Z()<D.Z()){x=D;Y=R.O(x.Z()*4);R.UB(N.buffer,N.rect,Y,x)}var C=N.B.iJ(D);
R.gq(C);j=j.slice(0);R.U.yI(Y,x,j,D,C,D,0,D,1);return{Iz:j,rect:D}}}};G.prototype.aeN=function(){var r={HP:!1,Pb:!1,vt:0,la:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)r.Pb=!0;if(this.BG()&&this.BG().isEnabled)r.HP=!0;if(r.HP&&r.Pb){r.vt=this.BG().rect.x-this.add.vmsk.BG().rect.x;
r.la=this.BG().rect.y-this.add.vmsk.BG().rect.y}return r};G.prototype.Fz=function(r){if(this.add.lsct==bH.ym)return;
var j=this,D=this.BG()!=null&&this.BG().ZI,N=this.add.vmsk!=null&&this.add.vmsk.ZI,b=this.aeN(),Y=JSON.stringify(b)!=this.Nl.a20||b.HP&&D||b.Pb&&N;
if(Y){if(b.Pb){var x=this.add.vmsk.BG();if(b.HP){this.B=this.BG().JF(x);this.Nl.vY=new gJ(this.B.rect.x-this.BG().rect.x,this.B.rect.y-this.BG().rect.y)}else this.B=x}if(this.B)this.Nl.RM=!0;
if(this.B)this.Nl.Wm=new gJ(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);if(b.HP)this.BG().ZI=!1;
if(b.Pb)this.add.vmsk.ZI=!1;this.P()}else{if(b.HP&&b.Pb){this.B.rect.x=this.BG().rect.x+this.Nl.vY.x;
this.B.rect.y=this.BG().rect.y+this.Nl.vY.y}}if(j.x2()){this._t(r)}if(j.bp()){var C;if(this.B)C=new gJ(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);
if(this.B&&this.B.isEnabled&&(this.Nl.Wm==null||!C.gy(this.Nl.Wm))){this.Nl.Wm=C;this.P();this.Nl.RM=!0}}if(cz.get(j.add)!=null)this.Nl.RM=!0;
this.Nl.a20=JSON.stringify(b)};G.prototype._t=function(r){var j=this,D=j.add.vstk,N=new bf(0,0,r.d,r.r),b,Y=j.add.vmsk?this.add.vmsk.BG():null,w=!0;
if(Y&&Y.isEnabled&&Y.z2()==0)b=Y.q7().clone();else b=N;var x=j.BG();if(x&&x.isEnabled&&x.z2()==0)b=b.su(j.B.q7());
var C=Y&&D;if(D&&(!D.strokeEnabled.v||D.strokeStyleLineWidth.v.val==0))C=!1;if(D&&!D.fillEnabled.v&&C)w=!1;
var q=R.O(b.Z()*4);if(w){if(j.add.SoCo)fx.BN(q,j.add.SoCo.Clr.v);if(j.add.GdFl){var u=Y&&Y.color==0?R.b.sl(j.add.vmsk.W,null,!0):null;
fx.Bc(j.add.GdFl,q,b,r,null,u)}if(j.add.PtFl)fx.ab(j.add.PtFl,q,b,r.add.Patt,j.add.fxrp)}if(Y){var h=Y.jO;
if(C)Y.jO=255;var z=R.O(b.Z());if(Y.z2()!=0)z.fill(Math.round(Y.z2()));if(Y&&Y.isEnabled){var O=Y.q7(),g=Y.e_();
if(O.gy(b))R.kZ(g,z);else R.YO(g,O,z,b)}if(j.add.SoCo&&w){R.zQ(z,q,3)}else R.I8(z,b,q,b);if(C)Y.jO=h}j.buffer=q;
j.rect=b;if(C){var t=hz._O.io.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment),$=D.strokeStyleContent.v,i=hz._O.AH.indexOf($.classID),A=this.add.vmsk.BG(D);
if(j.rect.gy(N))j.rect=j.rect;else if(t!=0){var H=j.rect.zs(A.q7()),F=R.O(H.Z()*4);R.UB(j.buffer,j.rect,F,H);
j.buffer=F;j.rect=H}var h=A.jO;A.jO=255;var T=A.iJ(j.rect);A.jO=h;if(A.color==255)R.gq(T);var _=R.O(j.rect.Z()*4);
if(i==0)fx.BN(_,$.Clr.v);if(i==1)fx.Bc($,_,j.rect,r,null,Y.color==0?Y.rect:null);if(i==2)fx.ab($,_,j.rect,r.add.Patt,j.add.fxrp);
var V=D.strokeStyleOpacity.v.val/100;if(V!=1)R.jU(T,V);if(A.color==255)t=2-t;if(t<2){R.U.yI(_,j.rect,j.buffer,j.rect,T,j.rect,255,j.rect,1,!1);
if(t==0)R.R1(z,j.buffer)}if(t==2){R.R1(T,_);R.gq(z);R.U.yI(_,j.rect,j.buffer,j.rect,z,b,255,j.rect,1,!1);
R.gq(z)}if(A.jO!=255){var X=_.slice(0);R.mh(X,4278190080,16777215);R.U.tI("norm",X,j.rect,j.buffer,j.rect,j.rect,1-A.jO/255)}h=Y.jO;
Y.jO=255;this.a5a=Y.iJ(j.rect);Y.jO=h}this.P()};G.prototype.zX=function(r,j){var D=this,N=D.add.SoLd.Idnt.v,b=D.add.SoLd,Y=R.K.mN(I.T.$i(b.nonAffineTransform)),x=r.oz(N,b.Crop?b.Crop.v:null,[Y.d,Y.r],b.Impr.v.classID);
if(x==null)return;var C=x.Du;b.Sz.v.Wdth.v=C[1].d;b.Sz.v.Hght.v=C[1].r;var w=b.warp.v,q=I.T.$i(b.nonAffineTransform),u=R.t.xk(q,C[1]);
if(w&&!R.s_.JM(w)){var Y=R.K.mN(R.s_.MM(w)),h=Y.x,z=Y.y,O=1/Y.d,g=1/Y.r;u=R.t.xk(q);u=R.t.JF(u,[O,0,-h*O,0,g,-z*g,0,0])}var t=I.T.zH(C,j?0:1,u,w,null,null,null,j);
if(t==null){D.buffer=R.O();D.rect=new bf}else if(D.ri()){var $=D.dw(r);$.buffer=t.buffer;$.rect=t.rect.clone();
this.VR(r,j)}else{D.buffer=t.buffer;D.rect=t.rect}D.Fz(r);D.P();r.P()};G.prototype.VR=function(r,j){if(j==null)j=!1;
var D=this.dw(r),N=this.add.SoLd.filterFX.v,b=ij.a8b(N),Y=new bf(0,0,r.d,r.r),x=D.rect.zs(Y),C=D.rect.clone();
C.Fp(b.x,b.y);var w={buffer:null,rect:x.su(C)};w.buffer=R.O(w.rect.Z()*4);R.UB(D.buffer,D.rect,w.buffer,w.rect);
if(N.enab.v&&j==!1){var q=N.filterFXList.v;for(var P=0;P<q.length;P++){var u=q[P].v;if(u.enab.v==!1)continue;
var h=u.blendOptions.v,z=by.fG(h.Md.v.BlnM),O=h.Opct.v.val/100,g=R._.z2(u.FrgC.v),t=R._.z2(u.BckC.v),$=ij.nZ(u),i={buffer:R.O(w.buffer.length),rect:w.rect.clone()},A=u.Fltr?u.Fltr.v:null;
if(cz.v5[$]!=null){var H=cz.v5[$],F=cz.jX(H,A);if(F)cz.Bh(F,w.buffer,i.buffer,w.rect)}else ij.Bh($,w,A,g,t,i,[r.add.lnk2?r.add.lnk2:[],this.BG(),r.c9]);
if(z=="norm"&&O==1)w=i;else if(z=="norm"){R.U.yI(i.buffer,i.rect,w.buffer,w.rect,null,null,null,w.rect,O)}else{R.U.tI(z,i.buffer,i.rect,w.buffer,w.rect,w.rect,O)}}}this.rect=w.rect;
this.buffer=w.buffer;this.H2();this.P();r.P()};G.prototype.mB=function(r,j,D){this.Ye=this.pH(r,j,D)};
G.prototype.hH=function(r,j){var D=this.pH(r,j,!0);if(D==null)return null;var N={K9:D.Cz,ix:D.dA,rect:D.zw};
if(N.K9==1||N.K9==3){var b=N.rect,Y=R.O(b.d*b.r*4);R.zQ(N.ix,Y,0);R.zQ(N.ix,Y,1);R.zQ(N.ix,Y,2);R.Oa(r.c.channel,r.c.rect,Y,b);
N.ix=Y}return N};G.prototype.pH=function(r,j,D){var N,b,Y,x,C,w,q;if(this.Cz<=0){var u=R.O(this.rect.Z());
R.ni(this.buffer,u,3);N=R._1.na(j,{channel:u,rect:this.rect},3);if(N==null)return null;var h=R.FV(N.channel,N.rect);
x=N.rect.clone();C=this.rect.clone();b=R.O(x.Z()*4);R.UB(this.buffer,C,b,x);R.zQ(N.channel,b,3);Y=this.buffer.slice(0);
if(!D){var z=j.channel.slice(0);R.gq(z);R.I8(z,j.rect,Y,C)}w=this.buffer.slice(0);q=this.rect.clone()}if(this.Cz==1||this.Cz==3){var O=this.Cz==1?this.BG():this.dw(r).B;
x=j.rect.clone();C=O.rect.clone();b=O.Sh(x);var Y=O.channel.slice(0);if(!D)R.U.RP(O.color==255?R.TJ(x.Z()):R.eH(x.Z()),x,Y,C,j.channel,x,1);
w=O.channel.slice(0);q=O.rect.clone()}return{Cz:this.Cz,dA:b,zw:x,JO:Y,nt:C,Tv:w,Np:q}};G.prototype.Qs=function(r,j){var D=this.Ye;
if(D.Cz==0){this.rect=D.Np;this.buffer=D.Tv;this.P()}if(D.Cz==1||D.Cz==3){var N=D.Cz==1?this.BG():this.dw(r).B;
N.channel=D.Tv;N.rect=D.Np;if(this.Cz==1){N.ZI=!0;this.Fz(r)}if(this.Cz==3)this.P()}this.Ye=j};G.prototype.QZ=function(r,j){if(this.Cz<=0&&j.rect.gy(this.rect)){var D=R.O(this.rect.Z());
R.ni(this.buffer,D,3);if(R.gy(r.c.channel,D)){var N=this.rect,b=this.buffer;this.Ye={Cz:this.Cz,dA:b.slice(0),zw:N.clone(),JO:R.O(0),nt:new bf,Tv:R.O(0),Np:new bf};
return!0}}var Y=this.Ye;if(Y==null)return!1;if(Y.Cz!=this.Cz)return!1;if(!j.rect.gy(Y.zw))return!1;var x=Y.nt.zs(Y.zw);
if(Y.Cz<=0){if(!x.gy(this.rect))return!1;var C=R.O(Y.dA.length>>2);R.ni(Y.dA,C,3);if(!R.gy(j.channel,C))return!1;
var w=R.O(x.d*x.r*4);R.UB(Y.JO,Y.nt,w,x);R.U.tI("norm",Y.dA,Y.zw,w,x,x,1);return R.gy(w,this.buffer)}if(Y.Cz==1||Y.Cz==3){var q=Y.Cz==1?this.BG():this.dw(r).B;
if(!x.gy(q.rect))return!1;var u=R.O(x.Z());u.fill(q.color);R.YO(Y.JO,Y.nt,u,x);R.U.RP(Y.dA,Y.zw,u,x,j.channel,x,1);
return R.gy(u,q.channel)}};G.prototype.ne=function(r,j,D,N){var b=this.Ye;b.zw.offset(j,D);var Y=b.nt.zs(b.zw);
if(b.Cz<=0){var x=R.O(Y.Z()*4);R.UB(b.JO,b.nt,x,Y);R.U.tI("norm",b.dA,b.zw,x,Y,Y,1);this.buffer=x;this.rect=Y;
this.P()}else{var C=this.Cz==1?this.BG():this.dw(r).B,w=R.O(Y.Z());w.fill(C.color);R.YO(b.JO,b.nt,w,Y);
R.U.RP(b.dA,b.zw,w,Y,N.channel,Y,1);C.channel=w;C.rect=Y.clone();if(this.Cz==1){C.ZI=!0;this.Fz(r)}if(this.Cz==3)this.P()}};
G.prototype.Sw=function(){var r=[-1,0,1,2];if(this.B)r.push(-2);if(this.UJ)r.push(-3);return r};G.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
G.prototype.Lp=function(eK){this.add.luni=this.name=eK};G.prototype.jn=function(r){var j=this.add.lnsr,D=this.add.TySh;
if(j=="rend"&&D)this.Lp(cU.g2(D.d1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};G.prototype.Xy=function(){return(this.Qk&1<<1)==0};
G.prototype.bp=function(){return(this.Qk&1<<4)==0};G.prototype.px=function(){return(this.Qk&1<<5)!=0};
G.prototype.aa_=function(){var r=this;if(r.add.lnsr!="bgnd"){r.add.lnsr="bgnd";r.Lp("Background");r.add.lspf=1<<2}};
G.prototype.ag1=function(){var r=this;if(r.add.lnsr=="bgnd"){delete r.add.lnsr;r.Lp("Layer 0");r.add.lspf=0}};
G.prototype.OL=function(r){var j=this.add.lspf;return j==null?!1:(j>>r&1)!=0};G.prototype.yE=function(r){if(r&&!this.Xy())this.Qk-=2;
if(!r&&this.Xy())this.Qk+=2};G.prototype.jf=function(){var r=this.add.lmfx;if(r==null)return!1;for(var j in r){if(j=="masterFXSwitch")continue;
if(j=="Scl")continue;if(j=="classID")continue;if(r[j].v.length>0)return!0}return!1};G.prototype.ri=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
G.prototype.RC=function(){var r=this.add.lmfx;if(r==null)return!1;if(!r.masterFXSwitch.v)return!1;for(var j in r){if(j=="masterFXSwitch")continue;
if(j=="Scl")continue;if(j=="classID")continue;var D=r[j].v;for(var P=0;P<D.length;P++)if(D[P].v.enab.v)return!0}return!1};
G.prototype.dk=function(r,j,D,N,b){var Y=new bf,x=this.Gl(r,D,N);if(x.indexOf(0)!=-1)Y=Y.zs(this.rect);
if(x.indexOf(1)!=-1){var C=this.BG(),w=C.q7();Y=D&&C.z2()==0?Y.jE()?w:Y.su(w):Y.zs(w)}if(x.indexOf(2)!=-1){var q=this.add.vmsk,u;
if(j){if(q.cW.length>1){var h=R.b.W_(q.W,null,q.cW);u=R.K.mN(h)}else u=R.b.sl(q.W,q.R.length!=0?q.R:null)}else u=R.b.sl(q.W);
Y=Y.zs(u)}if(x.indexOf(3)!=-1)Y=Y.zs(this.dw(r).B.q7());if(x.length==0&&this.x2())Y=b?new bf(0,0,0,0):new bf(0,0,r.d,r.r);
return Y};G.prototype.Qr=function(){var r=this.add.artb,j=r.artboardBackgroundType.v,D=0;if(j==1)D=4294967295;
else if(j==2)D=4278190080;else if(j==3)D=0;else if(j==4){D=r.Clr.v;D=255<<24|D.Bl.v<<16|D.Grn.v<<8|D.Rd.v}else throw j;
return D};G.prototype.tT=function(){var r=this.add.artb.artboardRect.v,j=r.Btom.v,D=r.Left.v,N=r.Rght.v,top=r.Top.v;
return new bf(D,top,N-D,j-top)};G.prototype.OD=function(r){var j=G.gn(r);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=j};G.gn=function(r){var j={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
j.Btom.v=r.y+r.r;j.Left.v=r.x;j.Rght.v=r.x+r.d;j.Top.v=r.y;return j};G.prototype.Gl=function(r,j,D){var N=[],b=this,Y=this.fh;
if(!j&&b.fh&&D){N.push(2)}else if(b.Cz<=0||j){if(b.bp())if(!this.rect.jE())N.push(0);if(b.BG()&&!b.BG().rect.jE())if(b.BG().Tt||j)N.push(1);
if(b.add.vmsk)if(b.add.vmsk.Tt||j)N.push(2);if(b.ri()&&b.dw(r).B&&!b.dw(r).B.rect.jE())N.push(3)}else if(b.Cz==1){N.push(1);
if(b.BG().Tt&&!b.BG().rect.jE()){if(b.bp())if(!this.rect.jE())N.push(0);if(b.add.vmsk)if(b.add.vmsk.Tt)N.push(2)}}else if(b.Cz==3&&!b.dw(r).B.rect.jE())N.push(3);
if(b.add.artb&&N.indexOf(0)==-1)N.push(0);N.sort();return N};G.prototype.BG=function(){var r=this;return r.UJ?r.UJ:r.add.vmsk&&r.add.vmsk.isEnabled?null:r.B};
G.prototype.dw=function(r){var j=this.add.SoLd.placed.v,D=r.add.FEid;if(D==null)return null;for(var P=0;
P<D.length;P++)if(D[P].id==j)return D[P];return null};G.prototype.extend=function(r){R.a33(this,r)};
G.prototype.gF=function(r,j,D){var N=r.clone();if(this.RC()){var b=this.add.lmfx,Y=j.root.nj(j.j.indexOf(this)),x=b.gradientFillMulti.v,C=!1;
for(var P=0;P<x.length;P++)if(x[P].v.enab.v&&x[P].v.Algn.v)C=!0;if(C)N=N.zs(Y.q7(j,!1));var w=fx.ajZ(this,j,D);
N.offset(w.x,w.y);N.d+=w.d;N.r+=w.r}return N};G.prototype.H2=function(){if(this.bp())R.jS(this);var r=this.BG();
if(r)r.H2()};G.prototype.clone=function(){var r=new G;r.rect=this.rect.clone();r.buffer=this.buffer.slice(0);
r.yp=this.yp;r.opacity=this.opacity;r._V=this._V;r.Qk=this.Qk;r.name=this.name;r.UE=this.UE.slice(0);
if(this.B)r.B=this.B.clone();if(this.UJ)r.UJ=this.UJ.clone();for(var j in this.add)r.add[j]=js.clone(j,this.add[j]);
return r};G.prototype.Wk=function(r){var j=this;if(j.add.TySh)delete j.add.TySh;if(j.add.SoLd){var D=this.UN(r,this.buffer,this.rect);
if(D){this.buffer=D.Iz;this.rect=D.rect;this.P()}delete j.add.SoLd}if(j.add.SoCo||j.add.GdFl||j.add.PtFl){if(j.add.vogk)delete j.add.vogk;
if(j.add.SoCo)delete j.add.SoCo;if(j.add.GdFl)delete j.add.GdFl;if(j.add.PtFl)delete j.add.PtFl;if(j.add.vmsk){console.log(j.UJ,j.B);
delete j.add.vmsk;if(j.UJ==null&&j.B)delete j.B;else if(j.UJ!=null&&j.B!=null){j.B=j.UJ;delete j.UJ}}}if(!j.iO()&&cz.get(j.add)==null&&!this.bp())this.Qk-=16};
G.prototype.$Y=function(r){var j=255,D=0;if(r==2){var N=this.add.SoLd.filterFX.v;if(N.filterMaskDensity)j=N.filterMaskDensity.v;
if(N.filterMaskFeather)D=N.filterMaskFeather.v}else{var b=r==0?this.BG():this.add.vmsk;j=b.jO;D=b.wt}return{hD:r,B1:j,z4:D}};
G.prototype.Be=function(r){if(r.hD==2){var j=this.add.SoLd.filterFX.v;if(r.B1==255)delete j.filterMaskDensity;
else j.filterMaskDensity={t:"long",v:r.B1};if(r.z4==0)delete j.filterMaskFeather;else j.filterMaskFeather={t:"doub",v:r.z4};
this.P()}else{var D=r.hD==0?this.BG():this.add.vmsk;D.jO=r.B1;D.wt=r.z4;D.ZI=!0}};G.prototype.HJ=function(){var r=this,j=r.add.vmsk;
if(j==null)return;r.add.vogk=G.HJ(j.W)};G.HJ=function(r){var j=[],D=R.b.yo(r);for(var N=0;N<D;N++)j.push(R.Bu.eH());
return j};var bH={kx:0,nV:1,$w:2,ym:3};G.Jz=function(){this.name="Mask";this.zo=!1;this.h_={a:255,p:0,M:0};
this.PR=50;this.bW=0;this.color=255;this.Tt=!0;this.isEnabled=!0;this.QV=!1;this.jO=255;this.wt=0;this.rect=new bf;
this.channel=R.O(0);this.Hy=null;this.a1M=null;this.ZI=!0};G.Jz.prototype.JF=function(r){if(!this.isEnabled)return r;
var j=new G.Jz;j.color=Math.round(this.z2()*r.z2()/255);if(this.z2()==0&&r.z2()==0)j.rect=this.q7().su(r.q7());
else if(r.z2()==0)j.rect=r.q7().clone();else if(this.z2()==0)j.rect=this.q7().clone();else j.rect=this.q7().zs(r.q7());
j.channel=this.iJ(j.rect);j.jO=255;j.wt=0;var D=r.iJ(j.rect);R.amg(D,j.rect,j.channel,j.rect);return j};
G.Jz.prototype.q7=function(){if(this.wt==0)return this.rect;var r=Math.ceil(this.wt*2.2),j=this.rect.clone();
j.Fp(r,r);return j};G.Jz.prototype.e_=function(){if(this.wt==0&&this.jO==255)return this.channel;if(this.wt==0){var r=this.channel.slice(0);
R.gq(r);R.jU(r,this.jO/255);R.gq(r);return r}var j=this.q7(),D=this.Sh(j),r=R.O(j.Z());R.Fg.hU(D,r,j,this.wt);
if(this.jO!=255){R.gq(r);R.jU(r,this.jO/255);R.gq(r)}return r};G.Jz.prototype.z2=function(){return Math.round(255-(255-this.color)*(this.jO/255))};
G.Jz.prototype.extend=function(r){R.extend(this,r,this.color)};G.Jz.prototype.H2=function(){if(this.color==255)R.gq(this.channel);
R.H2(this);if(this.color==255)R.gq(this.channel)};G.Jz.prototype.clone=function(){var r=new G.Jz;r.name=this.name;
r.zo=this.zo;r.h_=this.h_;r.PR=this.PR;r.bW=this.bW;r.color=this.color;r.Tt=this.Tt;r.isEnabled=this.isEnabled;
r.QV=this.QV;r.jO=this.jO;r.wt=this.wt;r.rect=this.rect.clone();r.channel=this.channel.slice(0);return r};
G.Jz.prototype.Sh=function(r,j){if(j==null)j=R.O(r.Z());j.fill(this.color);R.YO(this.channel,this.rect,j,r);
return j};G.Jz.prototype.iJ=function(r,j){var D=this.q7(),N=this.e_();if(j==null)j=R.O(r.Z());j.fill(this.z2());
R.YO(N,D,j,r);return j};G.$R=function(){this.Tt=!0;this.isEnabled=!0;this.jO=255;this.wt=0;this.W=[{type:6},{type:8,all:0}];
this.qE=[-3,-3];this.iI=!1;this.UJ=null;this.ZI=!0;this.R=[];this.cW=[]};G.$R.prototype.offset=function(r,j){this.UJ=this.BG();
R.b.ho(this.W,new j9(1,0,0,1,r,j));this.UJ.rect.offset(r,j)};G.$R.prototype.BG=function(r){if(!this.ZI&&this.UJ&&r==null){this.UJ.isEnabled=this.isEnabled;
return this.UJ}var j=R.b.sl(this.W),D="strokeStyleLineAlignment",N="strokeStyleLineJoinType";if(j.Z()>3e4*3e4)j=new bf(0,0,100,100);
if(r&&r[D].v[D]!="strokeStyleAlignInside"){var b=1;if(r[N].v[N]=="strokeStyleMiterJoin"){var Y=R.b.alO(this.W),x=Y/2,C=Math.sin(x),w=Math.cos(x);
w/=C;C=1;var b=Math.sqrt(w*w+C*C);if(isNaN(b)||b<1)b=1}b*=r[D].v[D]=="strokeStyleAlignOutside"?1:.5;
var q=Math.ceil(r.strokeStyleLineWidth.v.val*b);q=Math.min(q,600);j.Fp(q,q)}j=R.K.yB(j);var u=new G.Jz;
u.color=R.b.h2(this.W)?0:255;u.Tt=this.Tt;u.isEnabled=this.isEnabled;u.QV=!0;u.rect=j;u.jO=this.jO;u.wt=this.wt;
u.channel=R.O(u.rect.Z());if(!j.jE())R.b.aoV(this.W,u.channel,u.rect,r);if(r==null){this.UJ=u;this.ZI=!1}return u};
G.$R.prototype.clone=function(){var r=new G.$R;r.Tt=this.Tt;r.isEnabled=this.isEnabled;r.jO=this.jO;
r.wt=this.wt;r.W=G.$R.wO(this.W);r.qE=this.qE.slice(0);r.iI=this.iI;r.R=this.R.slice(0);r.cW=this.cW.slice(0);
return r};G.$R.prototype.concat=function(r){var j=r.W.slice(2);if(j.length==0)return;j[0].va=3;this.W=this.W.concat(j)};
G.$R.wO=function(r){var j=[];for(var P=0;P<r.length;P++){var D=r[P];if(D.type>5||D.type==0||D.type==3)j.push(JSON.parse(JSON.stringify(D)));
else j.push({type:D.type,IR:D.IR.clone(),Q:D.Q.clone(),TU:D.TU.clone()})}return j};G.$R.a7K=function(r,j,D){if(r.length!=j.length)return!1;
for(var P=2;P<r.length;P++){var N=r[P],b=j[P];if(N.type!=b.type)return!1;if(N.type==0||N.type==3){if(N.length!=b.length||!D&&N.va!=b.va)return!1}else if(!N.IR.gy(b.IR)||!N.Q.gy(b.Q)||!N.TU.gy(b.TU))return!1}return!0};
G.$R.prototype.ajh=function(){var r=this.W;for(var P=3;P<r.length;P++)if(r[P].type==0||r[P].type==3)r[P].va=-1};
G.cU=function(){this.type=null;this.zA=2;this.FZ=null;this.W8="";this.cC="";this.WX="";this.open=0;this.raw=null;
this.Du=null;this.alh=""};G.cU.prototype.clone=function(){var r=new G.cU;r.type=this.type;r.zA=this.zA;
r.FZ=this.FZ;r.W8=this.W8;r.cC=this.cC;r.WX=this.WX;r.open=this.open;r.raw=new Uint8Array(this.raw.buffer.slice(0));
return r};G.cU.prototype.Ez=function(r,j,D){if(D==null)D="none";var N=this,b=aP.rF(N.raw.buffer),Y=b=="svg"||b=="pdf";
if(N.Du){var x=j&&Y&&Math.max(N.Du[1].d,N.Du[1].r)<Math.max(j[0],j[1]);if(!x&&D==this.alh)return}this.alh=D;
if(!Y)r=0;if(b==null){alert("Unsupported format: "+l.Km(N.raw,0,4));return null}var C=aP.QE(b);if(C.Xg){var w=new dl(name+(b=="psd"?"":"-"+b)+".psd"),q;
C.G$(N.raw.buffer,w,j);var u=new bf(0,0,w.d,w.r);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(D)!=-1){var h=[];
for(var P=0;P<w.j.length;P++){var z=w.j[P],O=z.buffer;if(!z.rect.gy(u)){O=R.O(u.Z()*4);R.UB(z.buffer,z.rect,O,u);
console.log("resizing")}h.push(O)}q=R.O(u.Z()*4);R.stack.stack(h,q,D)}else{for(var P=0;P<w.j.length;
P++)if(w.j[P].x2())w.j[P].Fz(w);w.KE();w.P();w.wR();q=w.Ez()}N.Du=[q,u]}else if(C){var g=C.G$(N.raw.buffer)[0];
N.Du=[new Uint8Array(g.data),g.Yn]}if(N.Du){if(r==1){var O=N.Du[0],t=N.Du[1],$=R.O(t.Z());R.ni(O,$,3);
var i=R.FV($,t),A=R.O(i.Z()*4);R.UB(O,t,A,i);N.Du=[A,i]}R.aA(N.Du)}};G.b7="0";G.VY="2";G.t2="2.5";G.jW="2.6";
G.z6="3";G.p0="4";G.YL="4.5";G.cV="4.6";G.he="5";G.o7="5.5";G.SI="6";G.tL="7";G.ZZ="7.5";G.fL="8";G.LF="9";
G.Ba="9.3";G.tm="9.5";G.QY="9.6";G.LA="10";G.t0="11";G.lI="12";G.CS="13";G.MY="13.1";G.gD="13.2";G.$V="13.3";
G.Rq="13.4";G.FU="14";G.DZ="14.1";G.Qw="14.2";G.zD="14.3";G.gJ="17";G.Px="18";G.Nn="19";G.Te="19.5";
G.$c="19.6";G.gh="19.7";G.qi="20";G.e9="21";G.oM="21.5";G.Q1="22";G.Ec="22.5";G.T6="23";G.a5P="24";G.GO="25";
G.qz="26";G.GF="27";G.NE="28";G.Gh="29";G.Ai="30";G.x0="31";G.Ym="32";G.cn="33";G.hX="34";G.gX="35";
G.eN="36";G.bu="36.5";G.Mr="37";G.vL="37.5";G.aqj="37.6";G.Hu="38";G.HR="38.5";G.CJ="38.6";G.Dg="39";
G.Ao="40";G.gI="41";G.Tx="42";G.oL="50";G.Ee="51";G.Ka="52";G.Br="53";G.vy="54";G.lF="54.5";G.Bq="54.6";
G.Z$="54.7";G._q="54.8";G.K3="55";G.CT="56";G.DQ="57";G.zn="58";G.TY="59";function b6(){this.depth=0;
this.index=-1;this.n=null;this.at9=null;this.nz=-1;this.children=null;this.parent=null;this.pz=null}b6.prototype.br=function(r,j){if(this.depth!=0)r.push(this.n.getName());
if(this.children)for(var P=0;P<this.children.length;P++)this.children[P].br(r,j);if(r.length>j.sr.length)j.sr=r.slice(0);
if(this.depth!=0)r.pop()};b6.prototype.asM=function(){var r=0;if(this.n.iO()){for(var P=0;P<this.children.length;
P++)r+=this.children[P].asM()}else if(this.n.buffer)r+=this.n.buffer.length;return r};b6.prototype.nj=function(r){var j=this.pz[r];
return this.pz[r]};b6.prototype.UH=function(r,j){var D=this.n;if(!D.Xy()||D.OL(2)||D.OL(31))return null;
if(D.Dn()){var N=D.B.rect.CI(r);if(!N&&D.B.color==0)return}if(D.iO()){for(var P=0;P<this.children.length;
P++){var eK=this.children[P];eK.UH(r,j)}}else if(D.rect.CI(r))j.push(this.index)};b6.prototype.U2=function(r,j){var D=this.n;
if(!D.Xy()||D.OL(2)||D.OL(31))return null;if(D.Dn()){if(D.B.rect.yZ(r)){if(!R.U2(r,D.B.channel,D.B.rect))return null}else if(D.B.color==0)return null}if(D.iO()){if(D.add.artb&&!D.tT().yZ(r))return null;
for(var P=this.children.length-1;P>=0;P--){var eK=this.children[P],N=eK.U2(r,j);if(N&&j==null)return N}return null}else if(D.add.TySh&&D.rect.yZ(r)||R.a3r(r,D.buffer,D.rect)){if(j==null)return this;
else j.push(this.index)}return null};b6.prototype.aqt=function(r){var j=this.n;if(!j.Xy()||j.OL(2)||j.OL(31))return null;
var D=j.add.vmsk;if(D&&D.isEnabled){var N=R.b.U2(D.W,r).wd;if(N!=-1)return{a3Y:this,a0n:N}}if(j.iO()){if(j.add.artb&&!j.tT().yZ(r))return null;
for(var P=this.children.length-1;P>=0;P--){var eK=this.children[P],b=eK.aqt(r);if(b)return b}return null}return null};
b6.prototype.nW=function(r,j){r.push(this.index);if(this.n.iO()){r.push(this.nz);if(j)if(this.n.Cz==1&&this.n.BG().Tt==!1)return;
for(var P=0;P<this.children.length;P++)this.children[P].nW(r)}};b6.prototype.af=function(r,j,D){var N=this.n,b,Y;
if(N.iO()&&N.add.artb!=null)j=N.tT();if(j.d>j.r){b=D;Y=Math.floor(D*(j.r/j.d))}else{b=Math.floor(D*(j.d/j.r));
Y=D}if(N.x2()&&N.add.vmsk==null||N.add.TySh)b=Y=Math.max(Y,16);else{b=Math.max(b,6);Y=Math.max(Y,6)}var x=Y,C=N.x2()&&N.add.vmsk;
if(C){var w=N.rect.clone(),h,z;if(w.jE())w=new bf(0,0,20,20);var q=w.d,u=w.r;if(q>u){h=D;z=Math.floor(D*(u/q))}else{h=Math.floor(D*(q/u));
z=D}if(h*z==0)h=z=16;R.Jx.Am(N.nK,h,z,w,N.buffer,N.rect,!1);R.Jx.aqp(N.nK,h,z);x=z}else if(N.add.TySh){R.Jx.agw(N.nK,x,x,N.add.TySh)}else if(N.add.SoCo){x=Math.max(16,Math.min(b,Y));
R.Jx.aoM(N.nK,x,x,N.add.SoCo)}else if(N.add.GdFl){R.Jx.aeS(N.nK,x,x,N.add.GdFl)}else if(N.add.PtFl){R.Jx.aqu(N.nK,x,x,N.add.PtFl,r)}else if(cz.get(N.add)!=null){R.Jx.alA(N.nK,x,x,N.add)}else if(N.add.SoLd){R.Jx.Am(N.nK,b,Y,j,N.buffer,N.rect,!1);
R.Jx.aj6(N.nK,b,Y,N.add.SoLd)}else if(N.iO()){x=16}else{if(N.bp())R.Jx.Am(N.nK,b,Y,j,N.buffer,N.rect,!1);
else{R.Jx.aa3(N.nK,x,x)}}var O=N.BG();if(O)R.Jx.Al(N.a5r,b,Y,j,O);if(N.ri()&&N.dw(r)&&N.dw(r).B){var g=N.dw(r).B;
R.Jx.Al(N.acC,b,Y,j,g)}if(!C&&N.add.vmsk){R.Jx.Al(N.abe,b,Y,j,N.add.vmsk.BG(),!0)}if(N.add.vmsk||O)x=Math.max(x,Y);
N.aa1=Math.max(x,16);if(N.iO()&&N.add.lsct==bH.nV)for(var P=0;P<this.children.length;P++)this.children[P].af(r,j,D)};
b6.prototype.Zl=function(r,j,D,N){this.depth=D;var b=r[j];if(N==null)N=[];this.pz=N;if(b.add.lsct==bH.ym){this.at9=b;
this.nz=j-1;this.children=[];var P=j+1;while(!0){var Y=r[P];if(Y==null)console.log(P,r.length);if(Y.add.lsct==bH.nV||Y.add.lsct==bH.$w){if(b.add.lyid==Y.add.lyid)b.add.lyid+=16777215;
this.n=Y;this.index=P-1;N[this.index]=this;N[j-1]=this;break}var x=new b6;x.parent=this;P=x.Zl(r,P,D+1,N);
this.children.push(x)}return P+1}else{this.n=b;this.index=j-1;N[this.index]=this;return j+1}};b6.prototype.l2=function(r,j,D,N){var b=this.nj(D),Y=r;
while(b.parent!=null){Y=b.n.gF(Y,j,N);b=b.parent}return Y};b6.prototype.q7=function(r,j){var D=this.n,N=new bf;
if(!D.Xy())return N;var b=D.BG();if(D.iO())for(var P=0;P<this.children.length;P++){var Y=this.children[P].q7(r,!0);
N=N.zs(Y)}else if(cz.get(D.add)!=null)N=D.Dn()&&D.B.color==0?D.B.q7().clone():new bf(0,0,r.d,r.r);else if(D.x2()&&D.add.vmsk&&D.add.vmsk.isEnabled&&D.add.vstk){N=D.rect.clone()}else if(D.x2()&&b&&b.isEnabled&&b.z2()!=0)N=new bf(0,0,r.d,r.r);
else{N=D.dk(r,!1,!0);if(D.add.vmsk)N=R.K.yB(N)}return j?D.gF(N,r):N};b6.prototype.SV=function(r,j,D,N,b){var Y=this.n,x=fx.IW(Y);
if(!Y.Xy())return;if(Y.opacity==255){this.wk(r,j,D,N,b);return}var C=r.slice(0);this.wk(C,j,D,N,b);R.U.yI(C,j,r,j,null,null,0,D,Y.opacity/255,Y.yp=="diss")};
b6.prototype.wk=function(r,j,D,N,b){var Y=this.n,x=fx.IW(Y),C=cz.get(Y.add)!=null,h,g;if(Y.iO()&&Y.yp=="pass"&&!Y.Dn()&&!(b.length>0||x.fill!=1||Y.RC())){this.Hq(r,j,D,N);
return}var w=Y.iO()&&Y.yp=="pass"&&(b.length>0||x.fill!=1||Y.RC()),q=Y.rect,u=Y.buffer;if(Y.iO()){q=this.q7(N,!1);
var z=R.O(q.Z()*4);h=R.O(q.Z());this.Hq(z,q,D,N);R.ni(z,h,3)}else if(C){q=j.clone();h=R.O(q.Z());h.fill(255)}else{q=Y.rect;
h=R.O(q.Z());R.ni(u,h,3)}if(Y.Dn()){var O=Y.B.iJ(q);R.Zh(O,h)}if(Y.RC())g=fx.sP(Y.add.lmfx,Y.add.fxrp,h,q,N);
if(Y.RC())fx.Bv(Y.add.lmfx,g,q,r,j,D);if(Y.iO()){u=R.O(q.Z()*4);if(Y.yp=="pass")R.UB(r,j,u,q);if(w){var z=R.O(q.Z()*4);
this.Hq(z,q,D,N);var t=R.O(q.Z());R.ni(z,t,3);R.I8(t,q,u,q)}this.Hq(u,q,D,N)}if(C){u=r.slice(0);R.mh(u,4278190080,16777215);
var $=cz.get(Y.add),i=cz.jX($,Y.add[$]);cz.Bh(i,u,u,q)}var A=u.slice(0);R.mh(A,4278190080,16777215);
for(var P=0;P<b.length;P++)b[P].SV(A,q,D,N,[]);var H=R.O(q.Z()*4);R.UB(r,j,H,q);if(C)x.IB=!0;R.U.tI(Y.yp=="pass"?"norm":Y.yp,A,q,H,q,D,1,x);
if(Y.RC()){var F=Y.Nl.LZ.type.FrFX,T=null;if(F.length!=0){T=F[0];for(var P=0;P<F.length;P++)if(F[P].Bp.d>T.Bp.d)T=F[P];
var _=R.O(T.Bp.d*T.Bp.r*4);R.UB(r,j,_,T.Bp)}fx.sN(Y.add.lmfx,g,q,r,j,D,H,_,T?T.Bp:null)}R.U.yI(H,q,r,j,h,q,0,D,1,Y.yp=="diss")};
b6.prototype.Hq=function(r,j,D,N){var b=this.children;for(var P=0;P<b.length;P++){var Y=[];for(var x=P+1;
x<b.length;x++)if(b[x].n._V)Y.push(b[x]);else break;b[P].SV(r,j,D,N,Y);P+=Y.length}};b6._J={delete:function(r){if(r&&r.d)r.delete()},O:function(r,j){return Z.DB?new Z.oj(r,j):R.O(r*j*4)},E8:function(r,j,D){if(Z.DB){if(r==null||r.d!=j||r.r!=D){b6._J.delete(r);
return new Z.oj(j,D)}}else{if(r==null||!(r instanceof Uint8Array)||r.length!=j*D*4){b6._J.delete(r);
return R.O(j*D*4)}}return r},YO:function(r,j,D,N,b){(Z.DB?Z.WL:R.UB)(r,j,D,N,b)},yI:function(r,j,D,N,b,Y,x,C,P,w,q){(Z.DB?Z.U.Ay:R.U.yI)(r,j,D,N,b,Y,x,C,P,w,q)},tI:function(r,j,D,N,b,Y,x,C){if(Z.DB)Z.U._$(r,j,D,N,b,Y,x,C);
else R.U.tI(r,j,D,N,b,Y,x,C)},mh:function(r,j,D){if(Z.DB){Z.Wq(r);Z.a9(j,D)}else R.mh(r,j,D)},a6G:function(r,j,D,N,b){if(Z.DB){Z.U.Ay(null,null,N,b,r,j,D,b,1,!1)}else{if(D==255)R.I8(r,j,N,b);
else{var Y=R.O(j.Z());R.Wv(N,b,Y,j);R.Zh(r,Y);R.mh(N,0,16777215);R.Oa(Y,j,N,b)}}},qj:function(r,j,D,N){if(Z.DB)Z.U.Ay(null,null,D,N,r,j,0,N,1,!1);
else R.qj(r,j,D,N)}};b6.prototype.p7=function(r,j,D,N,b,Y){var x=typeof Y=="number";if(!this.n.iO()&&(x&&this.index>Y||!x&&Y.indexOf(this.index)==-1)){return}var C=this.n,w=fx.IW(C),q=b6._J,u=C.x2()?C.BG():C.B;
if(!C.Xy())return;if(C.Dn()&&u.rect.jE()&&u.z2()==0){return}if(C.add.vstk==null&&this.q7(N,!1).jE()){return}var h=this.q7(N,!0).su(D);
if(!j.gy(D)&&!D.CI(h))return;if(C.iO()&&C.add.artb){var z=C.tT();D=D.su(z)}var O=b6.hy(C,b,w);if(!O){this.SY(r,j,D,N,b,Y);
return}C.Nl.m4=q.E8(C.Nl.m4,h.d,h.r);q.YO(r,j,C.Nl.m4,h,D);this.SY(C.Nl.m4,h,D,N,b,Y);q.yI(C.Nl.m4,h,r,j,null,null,0,D,C.opacity/255,C.yp=="diss",w.m_)};
b6.hy=function(r,j,D){if(D.m_[0]*D.m_[1]*D.m_[2]==0)return!0;return r.opacity!=255&&(j.length!=0||r.iO()||r.RC())};
b6.a9n={Nl:{}};b6.prototype.SY=function(r,j,D,N,b,Y){var x=this.n,C=fx.IW(x),w=cz.get(x.add)!=null,q=b6._J,u=b6.hy(x,b,C),h=u?1:x.opacity/255,z=x.x2()?x.BG():x.B,O=x.iO()&&x.yp=="pass"&&!(b.length>0||C.fill!=1||x.RC()),g=!x.iO()&&!w&&!x.RC()&&b.length==0,t=w&&!x.RC()&&b.length==0,T=null,_=null,V=null,E;
if(O||g||t){var $=r,i=j;if(x.Dn()){i=this.q7(N,!1);$=x.Nl.aU=q.E8(x.Nl.aU,i.d,i.r);q.YO(r,j,x.Nl.aU,i)}if(O)this.oN($,i,D,N,Y);
if(g)q.tI(x.yp,x.QR(N),x.rect,$,i,D,h,C);if(t){var A=x.Dn()&&z.z2()==0?z.q7().clone():i.clone(),H=x.Nl;
if(A.gy(new bf(0,0,N.d,N.r)))H=b6.a9n;H.S9=this.xn($,i,H.S9,A,x.add);C.IB=!0;q.tI(x.yp,H.S9,A,$,i,D,h,C)}if(x.Dn())q.yI($,i,r,j,x.PB(),z.q7(),z.z2(),D,1,x.yp=="diss");
x.Nl.bM();return}var F=x.iO()&&x.yp=="pass"&&(b.length>0||C.fill!=1||x.RC()),A=x.rect;if(x.iO()){A=this.q7(N,!1);
V=x.Nl.S9=q.E8(x.Nl.S9,A.d,A.r);q.mh(V,0);this.oN(V,A,A,N,Y);_=q.E8(x.Nl.LR,A.d,A.r);q.YO(V,A,_,A)}else if(w){A=x.Dn()&&z.z2()==0?z.q7().clone():j.clone();
_=q.E8(x.Nl.LR,A.d,A.r);q.mh(_,4294967295)}else{A=x.rect;T=x.QR(N);_=q.E8(x.Nl.LR,A.d,A.r);q.YO(T,A,_,A)}x.Nl.LR=_;
if(x.Dn())q.a6G(x.PB(),z.q7(),z.z2(),_,A);if(x.RC())if(x.Nl.l4||x.Nl.NR||x.Nl.xE!=Z.DB||x.Nl.RM||x.iO()){var X=R.O(A.d*A.r);
if(fx.rc(x.add.lmfx)){if(Z.DB){if(!x.iO()&&x.BG()==null&&x.rect.gy(A)&&x.add.vmsk==null)R.ni(x.buffer,X,3);
else{var o=R.O(A.d*A.r*4);_.get(o);R.ni(o,X,3)}}else R.ni(_,X,3)}if(x.Nl.NR||x.Nl.xE!=Z.DB||!R.gy(X,x.Nl.k2)){var c=null;
if(x.x2()&&x.add.vmsk&&x.add.vmsk.isEnabled&&x.add.vmsk.BG().color==0)c=x.add.vmsk.BG().rect;fx.a7W(x.Nl.LZ,X,A,x.add.lmfx,x.add.fxrp,N,c);
x.Nl.k2=X;x.Nl.apf=A}}if(x.RC())fx.Bv(x.add.lmfx,x.Nl.LZ,A,r,j,D);if(x.iO()){T=q.E8(x.Nl.aU,A.d,A.r);
q.mh(T,0);if(x.yp=="pass")q.YO(r,j,T,A);if(F)q.qj(V,A,T,A);this.oN(T,A,D,N,Y);x.Nl.aU=T}if(w){T=x.Nl.aU=this.xn(r,j,x.Nl.aU,A,x.add)}if(x.iO()||w)E=T;
else{E=q.E8(x.Nl.aU,A.d,A.r);q.YO(T,A,E,A,D);x.Nl.aU=E}q.mh(E,4278190080,16777215);for(var P=0;P<b.length;
P++)b[P].p7(E,A,D,N,[],Y);var f=x.Nl.OM=q.E8(x.Nl.OM,A.d,A.r);q.YO(r,j,f,A,D);if(w)C.IB=!0;q.tI(x.yp=="pass"?"norm":x.yp,E,A,f,A,D,1,C);
if(x.RC()){var d=x.Nl.LZ.type.FrFX,s=null;if(d.length!=0){s=d[0];for(var P=0;P<d.length;P++)if(d[P].Bp.d>s.Bp.d)s=d[P];
x.Nl.d9=q.E8(x.Nl.d9,s.Bp.d,s.Bp.r);q.YO(r,j,x.Nl.d9,s.Bp,D);x.Nl.C8=q.E8(x.Nl.C8,s.Bp.d,s.Bp.r)}fx.sN(x.add.lmfx,x.Nl.LZ,A,r,j,D,f,x.Nl.d9,x.Nl.C8,s?s.Bp:null)}if(!Z.DB){var B=R.O(A.Z());
R.ni(_,B,3);_=B}q.yI(f,A,r,j,_,A,0,D,1,x.yp=="diss");x.Nl.bM()};b6.prototype.xn=function(r,j,D,N,b){var Y=cz.get(b),x;
if(Y)x=cz.jX(Y,b[Y]);var C=b6._J;D=C.E8(D,N.d,N.r);if(!(Z.DB&&j.gy(N)))C.YO(r,j,D,N);if(x){if(Z.DB){var w=N.clone();
w.x=w.y=0;if(j.gy(N)){Z.Wq(D,w);cz.j$(x,r.q2,w)}else{Z.Wq(D,N);D.l3(N);cz.j$(x,D.aH,w)}}else cz.Bh(x,D,D,N)}return D};
b6.prototype.oN=function(r,j,D,N,b){var Y=this.children;for(var P=0;P<Y.length;P++){var x=[];for(var C=P+1;
C<Y.length;C++)if(Y[C].n._V)x.push(Y[C]);else break;Y[P].p7(r,j,D,N,x,b);P+=x.length}};function dl(r){this.jY="psd";
this.ef=!1;this.name=r;this.Em=-1;this.jB=null;this.ZQ=null;this.gY=null;this.zW=null;this.d=0;this.r=0;
this.j=[];this.Rb={};this.add={};this.buffer=null;this.J0=4;this.FN=null;this.TB=72;this.y6={};this.R=[];
this.Pc=[];this.H3=!1;this.hB=[];this.Xf=[];this.ou=[dl.wP("Work Path")];this.rO=[];this.m$=null;this._m={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.BC=null;this.Fc=!1;this.adw=!1;this.akp=!1;this.hC=!1;this.Lx=!1;this.yn=!1;this._P=!1;
this.DW=!1;this.Zn=!1;this.UF=!1;this.l4=null;this.Dj=null;this.Ye={};this.c=null;this.c9=[];this.cz=[];
this.I={Qa:{},D$:[],adZ:[],jz:[],Zr:[],M3:null,wS:null,EY:null,xu:null,lL:[],Js:[],IM:null};this.history=[new ap([1,0],null)];
this.Kx=0;this.kN=0;this.z=new d_(this)}dl.prototype.Yd=function(){var r=this.Pc,j=[];for(var P=0;P<r.length;
P++)j[P]=-1;var D=this.root.children;for(var P=0;P<D.length;P++){var N=D[P],b=N.n.add.artb;if(b==null)continue;
var Y=b.guideIndeces;Y=Y?Y.v:[];for(var x=0;x<Y.length;x++)j[Y[x].v]=N.index}return[JSON.parse(JSON.stringify(r)),j]};
dl.prototype.Er=function(r){this.Pc=JSON.parse(JSON.stringify(r[0]));var j=r[1],D=this.root.children;
for(var P=0;P<D.length;P++){var N=D[P],b=N.n.add.artb;if(b==null)continue;b.guideIndeces={t:"VlLs",v:[]}}for(var P=0;
P<j.length;P++)if(j[P]!=-1)this.j[j[P]].add.artb.guideIndeces.v.push({t:"long",v:P})};dl.prototype.QF=function(r){var j=this;
if(r[0])j.add.lnk2=r[0];else delete j.add.lnk2;if(r[1])j.add.FEid=r[1];else delete j.add.FEid;if(r[2])j.add.Patt=r[2];
else delete j.add.Patt};dl.prototype.afD=function(r){var j=this,D=[],N=[],b=[],g=null,t=null,$=null;
for(var P=0;P<r.length;P++){var Y=r[P];if(Y.add.SoLd){D.push(Y.add.SoLd.Idnt.v);N.push(Y.add.SoLd.placed.v)}if(Y.add.PtFl)b.push(Y.add.PtFl.Ptrn.v.Idnt.v);
if(Y.add.lmfx){for(var x=0;x<hz.l9.length;x++){var C=Y.add.lmfx[hz.l9[x]].v;for(var w=0;w<C.length;w++)if(C[w].v.Ptrn){var q=C[w].v;
if(q.classID=="FrFX"&&q.PntT.v.FrFl!="Ptrn")continue;b.push(q.Ptrn.v.Idnt.v)}}}var u=Y.add.vstk;if(u&&u.strokeStyleContent.v.classID=="patternLayer"){b.push(u.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var h=j.add.lnk2,z=j.add.FEid,O=j.add.Patt;
if(h){g=[];for(var P=0;P<h.length;P++)if(D.indexOf(h[P].FZ)!=-1)g.push(h[P]);if(g.length==0)g=null}if(z){t=[];
for(var P=0;P<z.length;P++)if(N.indexOf(z[P].id)!=-1)t.push(z[P]);if(t.length==0)t=null}if(O){$=[];for(var P=0;
P<O.length;P++)if(b.indexOf(O[P].id)!=-1)$.push(O[P]);if($.length==0)$=null}return[g,t,$]};dl.prototype.jc=function(){var r=this.c9,j=this.c9.length;
if(j!=0&&r[j-1].name=="Quick Mask")return r[j-1]};dl.prototype.zq=function(){return this.jY==y.Yo("% |/!)")||this.jY==y.R3("gP")};
dl.prototype.WD=function(r){var j=this.add.artd;if(r!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:r},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};dl.prototype.oY=function(r){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(r)==-1)this.add.FEid.push(r)};
dl.prototype.yk=function(r){var j=this.add.FEid.indexOf(r);this.add.FEid.splice(j,1);if(this.add.FEid.length==0)delete this.add.FEid};
dl.prototype.P=function(r){if(r==null)r=new bf(0,0,this.d,this.r);if(this.l4==null)this.l4=r;else this.l4=this.l4.zs(r)};
dl.prototype.afK=function(r){return this.l4!=null};dl.prototype.zF=function(r){var j=this.j[r],D=this.root.nj(r);
if(D==null)return!1;if(j.iO()||D.parent.children.indexOf(D)==0)return!1;return!0};dl.ach=function(r){if(r.add.lnk2)for(var P=0;
P<r.add.lnk2.length;P++){var j=r.add.lnk2[P].FZ;r.add.lnk2[P].FZ=dl.U1()+j.slice(8);for(var D=0;D<r.j.length;
D++){var N=r.j[D].add.SoLd;if(N&&N.Idnt.v==j)N.Idnt.v=r.add.lnk2[P].FZ}}};dl.prototype._N=function(r,j,D){r.sort(function(h,z){return h-z});
var top=r[r.length-1],N=this.j.slice(0),b=this.R.slice(0),Y=[],x=[];for(var P=0;P<this.j.length;P++){if(r.indexOf(P)!=-1)x.push(this.j[P]);
else Y.push(this.j[P])}this.HQ(x);this.R=[];var C=this.root.q7(this,!0);if(j)C=C.su(j);if(D)C=C.zs(D);
if(C.jE())C=new bf(0,0,100,100);var w=new bf(-C.x,-C.y,this.d,this.r),q=new Uint8Array(aP.QE("PSD").TL(this,0,0,[!0,!1]));
this.HQ(N);this.R=b;var u=new dl(this.j[top].getName());aP.QE("PSD").G$(q.buffer,u);delete u.add.artd;
u.hB=[];u.HQ(u.j);u.Er([[],[]]);dl.ach(u);I.rh.yX(u,C);u.P();u.wR();u.Ez();return[u,C,Y,top]};dl.prototype.EQ=function(r,j,D){var N=this._N(r),b=N[0],Y=N[1],x=N[2],top=N[3],C;
if(D=="jpg")C=new Uint8Array(aP.QE("JPG").TL([[b.Ez().buffer]],b.d,b.r,[80]));else C=new Uint8Array(aP.QE("PSD").TL(b,null,null,[!0,!1]));
if(j)x=this.j.slice(0);var w=this.Ok(C,b.name,Y.x,Y.y);if(top==this.j.length-1)x.push(w);else x.splice(j?top+1:top-r.length+1,0,w);
this.HQ(x);this.R=[x.indexOf(w)]};dl.U1=function(r){if(r==null)r="";var j="";while(j==r){j="";for(var P=0;
P<8;P++)j+=Math.floor(Math.random()*16).toString(16)}return j};dl.prototype.fO=function(r){if(r==null)return;
if(this.add.Patt==null)this.add.Patt=[];var j=this.add.Patt;for(var P=0;P<j.length;P++)if(j[P].id==r.id)return;
j.push(r)};dl.prototype.Ok=function(r,j,D,N,b){if(this.add.lnk2==null)this.add.lnk2=[];var Y=null,h=!1;
for(var P=0;P<this.add.lnk2.length;P++)if(R.gy(r,this.add.lnk2[P].raw)){Y=this.add.lnk2[P].FZ;break}if(Y==null){var x=aP.rF(r.buffer);
Y=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f";var C=new G.cU;C.FZ=Y;C.WX=x=="psd"?"8BIM":"    ";C.W8=j+"."+x;
C.cC=x=="psd"?"8BPB":"    ";C.open=0;C.raw=r;C.type="liFD";C.zA=2;this.add.lnk2.push(C)}var w=this.oz(Y),q=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f",u=this.Xp();
u.Lp(j);if(w!=null){var z=0,O=0,g=this.d,t=this.r;if(b){z=b.x;O=b.y;g=b.d;t=b.r}var $=u.rect=w.Du[1].clone();
$.offset(z+D,O+N);var i=Math.max($.d/g,$.r/t),h=b!=null&&i>1.0001;if(h){$.d=Math.round($.d/i);$.r=Math.round($.r/i);
$.x=Math.round(z+(g-$.d)/2);$.y=Math.round(O+(t-$.r)/2)}else if(b!=null&&aP.rF(r.buffer)=="pdf"&&this.TB!=144){var i=144/this.TB;
$.d=Math.round($.d/i);$.r=Math.round($.r/i);h=!0}u.buffer=R.O($.Z()*4);if(!h)R.kZ(w.Du[0],u.buffer)}u.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:Y},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:q},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:R.s_.O(w?w.Du[1]:u.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:u.rect.d},Hght:{t:"doub",v:u.rect.r}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var A=R.K.rR(u.rect).v;u.add.SoLd.Trnf=I.T.Qn(A);u.add.SoLd.nonAffineTransform=I.T.Qn(A);if(h)u.zX(this,!1);
return u};dl.prototype.Ez=function(r){if(r!=null){this.P();this.wR(r);var j=this.buffer;if(Z.DB)this.BC.get(j);
else j=j.slice(0);this.P();this.wR();return j}if(this.l4){this.wR();this.l4=null}if(Z.DB&&this.Dj){this.BC.get(this.buffer);
this.Dj=null;this._P=!0}return this.buffer};dl.prototype.gL=function(){for(var P=0;P<this.j.length;P++)this.j[P].Se();
this.P()};dl.prototype.XE=function(){for(var P=0;P<this.j.length;P++)if(this.j[P].add.lmfx)this.j[P].Nl.NR=!0};
dl.prototype.Jt=function(){var r=this.Rb.r1044;if(r==null){r=this.Rb.r1044=new Uint8Array(4);var j=0;
for(var P=0;P<this.j.length;P++)j=Math.max(j,this.j[P].add.lyid);l.$$(r,0,j)}var D=l.q(r,0);l.$$(r,0,D+1);
return D+1};dl.prototype.Kf=function(r,j,D){if(r==null)r=!0;var N=this;if(N.cz.length!=0)return!0;if(N.R.length!=1){if(r)alert(N.R.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.AD(r,j,D)};dl.prototype.AD=function(r,j,D){if(r==null)r=!0;if(j==null)j=!1;var N=this;
if(N.cz.length!=0)return!0;for(var P=0;P<N.R.length;P++){var b=N.j[N.R[P]],Y=j||b.Cz<=0;if(b.add.lsct!=null&&b.add.lsct!=bH.kx&&b.Cz!=1){if(r)alert(e9.get([15,7,2]));
return!1}if(Y&&!b.bp()){if(r)alert(e9.get([15,7,2]));return!1}if(Y&&b.add.TySh){return this.Ja(r,[15,7,3],D)}if(Y&&b.add.SoLd){return this.Ja(r,[15,7,4],D)}if(b.OL(1)||b.OL(31)){if(r)alert(e9.get([6,57,0]));
return!1}}return!0};dl.prototype.Ja=function(r,j,D){if(r&&typeof r=="object"){var N=window.confirm(e9.get(j)+". "+e9.get([6,8])+"?");
if(N){var b=new iu(y.E.PN,!0);b.data={sv:"rasterizeLayer",Q4:{classID:"rasterizeLayer",null:dA.W4("Lyr",!0)}};
r.g(b)}return D?N:!1}if(r)alert(e9.get(j));return!1};dl.prototype.Ui=function(r){var j=this.root.nj(r);
if(j.parent)return j.n.Xy()&&this.Ui(j.parent.index);else return j.n.Xy()};dl.prototype.sg=function(){var r=this;
if(r.add.artd&&r.R.length!=0){var j=r.root.nj(r.R[0]);while(j.parent.parent)j=j.parent;if(j.n.add.artb)return j.index}return-1};
dl.prototype.c6=function(){var r=this.j[this.R[0]];if(r.Cz<=0&&!r.rect.CI(this.c.rect)){alert("Selected area is empty.");
return!1}if(this.R.length==1&&this.c){var j=R.O(this.c.channel.length);R.Wv(r.buffer,r.rect,j,this.c.rect);
R.Zh(this.c.channel,j);if(R.eR(j,0)){alert("Selected area is empty.");return!1}}return!0};dl.prototype.ta=function(){if(this.Rb["r"+1037]==null)this.lg(30);
return l.iV(this.Rb["r"+1037],0)};dl.prototype.lg=function(r){if(this.Rb["r"+1037]==null)this.Rb["r"+1037]=new Uint8Array(4);
if(l.iV(this.Rb["r"+1037],0)==r)return;l.u_(this.Rb["r"+1037],0,r);this.XE()};dl.prototype.O0=function(){if(this.Rb["r"+1049]==null)this.ak(30);
return l.iV(this.Rb["r"+1049],0)};dl.prototype.ak=function(r){if(this.Rb["r"+1049]==null)this.Rb["r"+1049]=new Uint8Array(4);
if(l.iV(this.Rb["r"+1049],0)==r)return;l.u_(this.Rb["r"+1049],0,r);this.XE()};dl.prototype.pZ=function(r){if(this.add.lnk2==null)return null;
for(var P=0;P<this.add.lnk2.length;P++)if(this.add.lnk2[P].FZ==r)return this.add.lnk2[P];return null};
dl.prototype.a77=function(r){var j=this.pZ(r);if(j==null)return!1;var D=aP.rF(j.raw.buffer);if(D==null)return!1;
if(aP.QE(D)!=null||D=="psd")return!0;return!1};dl.prototype.oz=function(r,j,D,N){var b=this.pZ(r);if(b==null)return null;
b.Ez(j,D,N);if(b.Du)return b};dl.prototype.Il=function(){var r=this.d,j=this.r;if(Z.DB&&this.BC==null)this.BC=new Z.oj(r,j,!0);
if(this.buffer==null||this.buffer.length!=r*j*4||Z.DB&&(this.BC.d!=r||this.BC.r!=j)){this.buffer=R.O(r*j*4);
if(this.BC)this.BC.delete();if(Z.DB)this.BC=new Z.oj(r,j,!0)}};dl.prototype.arA=function(){this.Il();
if(Z.DB){this.BC.set(this.buffer)}};dl.prototype.wR=function(r){var j=this.d,D=this.r,N=new bf(0,0,j,D),b=N.su(this.l4);
this.Il();if(b.jE())return;if(!b.gy(N)){if(!Z.DB){var Y=R.eH(b.Z()*4);R.UB(Y,b,this.buffer,N)}if(Z.DB){Z.Wq(this.BC,b);
Z.a9(0)}}else{if(Z.DB){this.BC.set(null)}else{this.buffer.fill(0)}}var x=Date.now(),C=Z.DB?this.BC:this.buffer;
if(r==null)r=1e9;var w=this.root.children;for(var P=0;P<w.length;P++){var q=w[P].n;if(q.Xy()&&q.add.artb){var u=q.tT(),h=b.su(u),z=q.Qr();
if(z!=0){if(Z.DB){Z.Wq(C,h);Z.a9(z);Z.a9(z)}else R.aen(C,N,h,z)}}}this.root.p7(C,N,b,this,[],r);this.Dj=this.l4.clone()};
dl.prototype.Xp=function(r){var j=new G;j.rect=new bf(0,0,0,0);j.buffer=R.O(1);j.add.luni=new gJ(0,0);
if(r!=!0)j.add.lyid=this.Jt();j.add.lsct=bH.kx;j.add.lclr=0;j.add.fxrp=new gJ(0,0);return j};dl.prototype.Hc=function(r){var j=this.Xp(r);
j.Lp("</Layer group>");j.add.lsct=bH.ym;j.Qk=24;return j};dl.prototype.uh=function(){return this.Kx!=this.kN};
dl.prototype.vl=function(r){while(this.history.length>this.Kx+1)this.history.pop();if(this.kN>this.Kx)this.kN=-1;
if(r.k.id!=I.qL){this.hC=!0;if(this._m.lastAppliedComp){delete this._m.lastAppliedComp;this._P=!0}}this.history.push(r);
this.Kx++;this._P=!0;var j=cM.pC()?60:30,D=0;for(var P=this.history.length-1;P>=0;P--){var N=this.history[P];
if(N.Df)continue;D++;if(D==j){this.Kx-=P;this.history=this.history.slice(P);break}}};dl.prototype.Nt=function(){if(this.Kx!=this.history.length-1)return null;
return this.history[this.history.length-1]};dl.prototype.FP=function(r,j,D,N){if(r==null)r=!1;var b=j!=null?[j]:this.R.slice(0);
if(N){var Y=[];for(var P=0;P<b.length;P++){var x=this.j[b[P]],C=x.xU;if(x.$s&&C!=0&&Y.indexOf(C)==-1)Y.push(C)}if(Y.length!=0)for(var P=0;
P<this.j.length;P++){var x=this.j[P],C=x.xU;if(x.$s&&C!=0&&Y.indexOf(C)!=-1&&b.indexOf(P)==-1)b.push(P)}}var w=[];
for(var P=0;P<b.length;P++){var q=this.pu(b[P],r);for(var u=0;u<q.length;u++)if(w.indexOf(q[u])==-1)w.push(q[u]);
if(D){var eK=this.root.nj(b[P]);while(eK.parent!=null&&eK.parent.parent!=null){eK=eK.parent;if(w.indexOf(eK.index)==-1){w.push(eK.index,eK.nz)}}}}return w};
dl.prototype.w9=function(r,j,D){var N=this,b=N.FP(!1,r,null,D);b.sort(function(A,H){return A-H});var Y={};
for(var x=0;x<N.j.length;x++){var C=N.j[x].getName();Y[C]=!0}var w=[];for(var P=0;P<b.length;P++){var q=N.j[b[P]].clone(),t,$;
q.add.lyid=N.Jt();q.add.lspf=0;if(q.ri()){var u=q.dw(N),h=dl.zb(u);N.oY(h);q.add.SoLd.placed.v=h.id}q.Fz(N);
var z=q.getName(),O=z.length;while(48<=z.charCodeAt(O-1)&&z.charCodeAt(O-1)<=57)O--;var g=parseInt(z.slice(O));
if(isNaN(g)){if(z.endsWith(" copy")){g=1;t=z.slice(0,z.length-5)}else{g=0;t=z}}else if(z.slice(0,O).endsWith(" copy ")){g=g;
t=z.slice(0,O-6)}else{g=0;t=z}g++;while(!0){$=t+" copy"+(g==1?"":" "+g);if(Y[$]==null)break;g++}var i=b.indexOf(this.root.nj(b[P]).parent.index)!=-1;
if(z=="Background"&&N.j.length==1)$="Layer 1";if(j!=!0&&!i)q.Lp($);Y[$]=!0;w.push(q)}return w};dl.zb=function(r){return{id:dl.U1(r.id.slice(0,8))+r.id.slice(8),buffer:r.buffer.slice(0),rect:r.rect.clone(),B:r.B?r.B.clone():null}};
dl.l5=function(r){return{id:r,rect:new bf,buffer:R.O(1),B:new G.Jz}};dl.wP=function(r,j){if(j==null)j={vmsk:new G.$R};
if(j.vogk==null){j.vogk=[];var D=R.b.yo(j.vmsk.W);for(var N=0;N<D;N++)j.vogk.push(R.Bu.eH())}return{name:r,wd:0,add:j}};
dl.prototype.HG=function(r){var j=[],D=[],N=this,Y=0;for(var P=1;P<N.ou.length;P++){var b=N.ou[P];b.wd=-1-P;
j.push(b);if(N.rO.indexOf(P)!=-1)D.push(j.length-1)}if(N.ou[0].add.vmsk.W.length>2){var b=N.ou[0];b.wd=-1;
j.push(b);if(N.rO.indexOf(0)!=-1)D.push(j.length-1)}var x=N.m$==null;if(x)N.m$=[];for(var P=N.R.length-1;
P>=0;P--){var C=N.j[N.R[P]],w=C.add.TySh;if(C.add.vmsk!=null&&(C.fh||C.x2())){var b=dl.wP("\""+C.getName()+"\" Shape Path",C.add);
b.wd=N.R[P];j.push(b);if(x)N.m$.push(Y);if(N.m$.indexOf(Y)!=-1)D.push(j.length-1);Y++}if(r!=!0&&w&&w.add&&R.s_.JM(w.z8)){var b=dl.wP("\""+C.getName().slice(0,10)+"..\" Text Path",w.add);
b.wd=1e6+N.R[P];j.push(b);D.push(j.length-1);Y++}}if(D.length==0&&r){N.ou[0].wd=-1;N.rO=[0];D.push(j.length);
j.push(N.ou[0])}return[j,D]};dl.prototype.pu=function(P,r){var j=[],eK=this.root.nj(P);if(eK)eK.nW(j,r);
return j};dl.prototype.qw=function(){this.root.af(this,new bf(0,0,this.d,this.r),32)};dl.prototype.HQ=function(r){for(var P=0;
P<this.j.length;P++){var j=this.j[P];if(r.indexOf(j)==-1){j.Nl.ahe();j.P()}}var D=0;for(var P=0;P<r.length;
P++)if(r[P].add.artb)D++;this.WD(D);this.j=r.slice(0);this.KE()};dl.prototype.KE=function(){var r=this.j,j=r.length;
this.root=new b6;var D=this.Xp(!0);D.yp="pass";D.add.lsct=bH.nV;var N=this.Hc(!0),b=[N];for(var P=0;
P<j;P++)b.push(r[P]);b.push(D);this.root.Zl(b,0,0);if(this.R.length==0)this.R=[j-1]};dl.prototype.ZS=function(){if(this.R.length!=1)return;
var r=this.root.nj(this.R[0]);while(r.parent!=null){var j=r.parent.n;j.add.lsct=bH.nV;r=r.parent}this.yn=this.aqr=!0};
dl.prototype.aos=function(){this.KE();var r=[this.root],hG=0;while(r.length!=0){var top=r.pop();hG++;
if(top.n.add.lsct==bH.nV)for(var P=0;P<top.children.length;P++)r.push(top.children[P])}if(hG>1e3){var j=this.root.children;
for(var P=0;P<j.length;P++)if(j[P].n.add.lsct==bH.nV)j[P].n.add.lsct=bH.$w}};dl.fi=function(r,j,D,N,b,Y){var x={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:N},artboard:{t:"bool",v:Y},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:r}},Hght:{t:"UntF",v:{type:"#Rlt",val:j}},Rslt:{t:"UntF",v:{type:"#Rsl",val:D}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:b}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{sv:"make",Q4:x}};dl.ac0=function(r,j){var D=0,N=0,b=72,Y=j.ajR,x=r.preset&&r.preset.v=="Clipboard";
if(x){D=Y.d;N=Y.r}else{D=r.Wdth.v.val;N=r.Hght.v.val;b=r.Rslt.v.val}var C=new dl((r.Nm?r.Nm.v:e9.get([11,7]))+".psd");
C.d=D;C.r=N;C.TB=b;var w=r.Fl?r.Fl.v.Fl:"Wht";if(r.artboard&&r.artboard.v){var q=C.Xp();q.Lp("Artboard 1");
q.add.lsct=bH.nV;q.OD(new bf(0,0,D,N));q.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1}[w]};
q.yp="pass";q.Qk=24;C.HQ([C.Hc(),q]);C.WD(1)}else{var u=C.Xp();u.Lp("Background");C.HQ([u]);u.add.lspf=1<<2;
if(w!="Trns"){var h=j.mL;h=(h&255)<<16|(h>>>8&255)<<8|h>>>16;u.rect=new bf(0,0,D,N);u.buffer=R.O(D*N*4);
R.mh(u.buffer,{Wht:4294967295,Blck:4278190080,BckC:255<<24|h}[w])}}C.buffer=R.O(D*N*4);return C};function d_(r){this.AN=r;
this.S=0;this.dW=1;this.u=new gJ(0,0);this.Sj=new gJ(0,0);this.yS=0;this.Cs=[1,1,1];this.lk=new bf(0,0,1,1);
this.a8k=new bf(0,0,r.d,r.r);this.h0=null;this.il=null;this.iW=new Uint32Array(0);this._y=null;this.We=null;
this.wg=R.O(0);this.v8=null;this.lC=null}d_.prototype.LW=function(r){var j=new j9,D=this.lk,N=this.AN,b=r?this.dW:this.S,Y=r?this.Sj:this.u,x=Math.round((D.d-N.d*b)/2+Y.x),C=Math.round((D.r-N.r*b)/2+Y.y);
j.translate(-x,-C);j.scale(1/b,1/b);var w=N.d/2,q=N.r/2;j.translate(-w,-q);j.rotate(this.yS);j.translate(w,q);
return j};d_.prototype.vu=function(r){var j=this.lk,D=this.AN,N=Math.atan2(-r.M,r.kD),b=D.d/2,Y=D.r/2;
r.translate(-b,-Y);r.rotate(-N);r.translate(b,Y);var x=1/r.zR();r.scale(x,x);var C=-r.Db,w=-r.aF,q=Math.round(C-(j.d-D.d*x)/2),u=Math.round(w-(j.r-D.r*x)/2);
if(Math.abs(x-Math.round(x))<1e-6)x=Math.round(x);this.yS=N;this.S=x;this.u=new gJ(q,u)};d_.prototype.K$=function(r,j){var D=this.LW();
return D.OT(new gJ(r,j))};d_.prototype.lY=function(r,j){var D=this.LW();D.gq();return D.OT(new gJ(r,j))};
function hz(){}hz.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");hz.l9="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
hz.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];hz.c8=["DrSh","IrSh","SoFi","GrFl","FrFX"];
hz.kK=["Clr"];hz.bl="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");hz.CU=["Ptrn","Scl","Algn","phase"];
hz.i_={$M:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",gw:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",Ta:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",eG:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
hz.i_.$M="\"Clr\": "+hz.i_.$M;hz.i_._="\"Grad\":"+hz.i_.gw+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
hz.i_.eG="\"Ptrn\":"+hz.i_.eG+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
hz.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
hz._5=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+hz.i_.$M+","+hz.i_._+","+hz.i_.eG+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hz.i_.$M+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hz.i_._+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hz.i_.eG+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
hz._={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
hz.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],WT:["SClr","GrFl","Ptrn"],ahV:[[13,0],[12,37],[12,62]]};
hz.QO={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],vf:["SrcC","SrcE"],akO:[[19,5,1],[12,69]]};hz.h5={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],A5:["SfBL","PrBL","Slmt"],asl:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
hz._O={DD:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],io:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],AH:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+hz.i_.$M+"}")},strokeStyleResolution:{t:"doub",v:72}}};
hz.N$=[{classID:"null",Clr:JSON.parse(hz._5[5]).Clr},{classID:"null",Grad:JSON.parse(hz._5[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(hz._5[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var fx={};fx.YC=function(r,j){function D(r,z){if(r==null)return null;var O=r[z].v,g;if(O.length!=0){g=O[0].v;
if(!g.enab.v)g=null}return g}var N=j.SoCo,b=j.GdFl,Y=D(r,"solidFillMulti"),x=D(r,"gradientFillMulti");
if(Y==null&&x==null)return[N,b];var C=fx.a6R;if(N&&Y&&x==null){var w=JSON.parse(JSON.stringify(N));w.Clr.v=C(Y.Clr.v,N.Clr.v,Y);
return[w,null]}if(b&&Y&&x==null){var q=JSON.parse(JSON.stringify(b)),u=q.Grad.v.Clrs.v;for(var P=0;P<u.length;
P++){var h=u[P].v.Clr;h.v=C(Y.Clr.v,h.v,Y)}return[null,q]}if(N&&x){var q=JSON.parse(JSON.stringify(x)),u=q.Grad.v.Clrs.v;
for(var P=0;P<u.length;P++){var h=u[P].v.Clr;h.v=C(h.v,N.Clr.v,x)}return[null,q]}return[Y,x]};fx.aoP={gc:R.O(4),OW:R.O(4),a:new bf(0,0,1,1)};
fx.a6R=function(r,j,D){var N=by.fG(D.Md.v.BlnM),b=D.Opct.v.val/100,Y=fx.aoP;r=R._.z2(r);j=R._.z2(j);
Y.gc[0]=r.a;Y.gc[1]=r.p;Y.gc[2]=r.M;Y.gc[3]=255;Y.OW[0]=j.a;Y.OW[1]=j.p;Y.OW[2]=j.M;Y.OW[3]=255;R.U.tI(N,Y.gc,Y.a,Y.OW,Y.a,Y.a,b);
return{classID:"RGBC",Rd:{t:"doub",v:Y.OW[0]},Grn:{t:"doub",v:Y.OW[1]},Bl:{t:"doub",v:Y.OW[2]}}};fx.jP=function(r,j,D){var N=r;
r=r.slice(0);var b=by.n4[by.zT.indexOf(j.Md.v.BlnM)],Y=R._.z2(j.Clr.v),x=4278190080|Math.round(Y.M)<<16|Math.round(Y.p)<<8|Math.round(Y.a),C=R.O(D.Z()*4);
R.mh(C,x);R.U.tI(b,C,D,r,D,D,j.Opct.v.val/100);for(var P=0;P<r.length;P+=4)r[P+3]=N[P+3];return r};fx.Ub=function(r,j){var D=["Sz","blur","Sftn","Dstn"];
for(var P=0;P<hz.order.length;P++){var N=hz.order[P],b=r[hz.l9[P]].v;for(var Y=0;Y<b.length;Y++){var x=b[Y].v;
for(var C=0;C<D.length;C++){var w=x[D[C]];if(w){var q=w.v.val,u=q;u=Math.max(q==0?0:1,u*j);if(N=="ChFX")u=Math.min(u,250);
if(N=="ebbl"){if(D[C]=="blur")u=Math.min(u,250);if(D[C]=="Sftn")u=Math.min(u,16)}w.v.val=Math.round(u)}}if(N=="ebbl"||N=="patternFill"||N=="FrFX")if(x.Ptrn&&x.Scl)x.Scl.v.val=Math.max(1,Math.min(1e3,x.Scl.v.val*j))}}};
fx.ajZ=function(r,j,D){var N=new bf(-.5,-.5,1,1),b=r.add.lmfx;for(var P=0;P<hz.order.length;P++){var Y=hz.order[P],x=b[hz.l9[P]].v;
for(var C=0;C<x.length;C++){var w=x[C].v,z;if(!w.enab.v)continue;var q=w.blur?w.blur.v.val+1:0,u=w.Ckmt?w.Ckmt.v.val/100:0,h=Math.round(q*u);
if(Y=="DrSh"||Y=="IrSh"&&D){z=new bf(-.5,-.5,1,1);z.Fp(q,q);fx.YP(z,w,j,0)}if(Y=="OrGl"||Y=="IrGl"&&D){z=new bf(-.5,-.5,1,1);
z.Fp(q,q)}if(Y=="FrFX"){var O=fx.mP(w),g=O[1];if(D)g=Math.max(O[0],g);z=new bf(-.5,-.5,1,1);z.Fp(Math.ceil(g),Math.ceil(g))}if(Y=="ebbl"){var q=w.blur.v.val,t=w.bvlS.v.BESl;
if(t=="Embs"||t=="PlEb")q/=2;var $=["OtrB","InrB","Embs","PlEb","strokeEmboss"],i=["SfBL","PrBL","Slmt"],A=["In","Out"],H=w.bvlT.v.bvlT!="SfBL"?q:q*.43,F=Math.round(q);
z=new bf(-F-1,-F-1,2*F+2,2*F+2)}if(D&&Y=="ChFX"){z=new bf(-.5,-.5,1,1);z.Fp(q,q);var T=z.clone();fx.YP(z,w,j,0);
fx.YP(T,w,j,Math.PI);z=z.zs(T)}if(z)N=N.zs(z)}}if(N.x!=Math.ceil(N.x)){N.x=Math.ceil(N.x);N.d-=1}if(N.y!=Math.ceil(N.y)){N.y=Math.ceil(N.y);
N.r-=1}N.d=Math.floor(N.d);N.r=Math.floor(N.r);return N};fx.mP=function(r){var j=0,D=0,N=r.Styl.v.FStl,b=r.Sz.v.val;
if(N=="OutF")D=b;if(N=="InsF")j=b;if(N=="CtrF")j=D=b/2;return[j,D]};fx.xI=function(r){if(r.all==null)return;
for(var P=0;P<r.all.length;P++){var j=r.all[P];if(j.Gd)j.Gd.delete();if(j.yQ)j.yQ.delete();if(j.Z0)j.Z0.delete()}};
fx.a7W=function(r,j,D,N,b,Y,x){fx.xI(r);var C=fx.sP(N,b,j,D,Y,x);r.type=C.type,r.all=C.all;if(Z.DB)for(var P=0;
P<r.all.length;P++){var w=r.all[P];w.Gd=new Z.oj(w.dS.d,w.dS.r);w.Gd.set(w.Iz);delete w.Iz;if(w.gg){w.yQ=new Z.$T(w.dS.d,w.dS.r);
w.yQ.set(w.gg);delete w.gg}if(w.JB){w.Z0=new Z.$T(w.dS.d,w.dS.r);w.Z0.set(w.JB);delete w.JB}}};fx.rc=function(r){for(var P=0;
P<hz.order.length;P++){var j=hz.order[P],D=hz.l9[P],N=r[D].v;for(var b=0;b<N.length;b++){var Y=N[b].v;
if(Y.enab.v&&["patternFill","GrFl","SoFi"].indexOf(j)==-1)return!0}}return!1};fx.sP=function(r,j,D,N,b,Y){if(Y==null)Y=N;
var x=0,C=0;for(var P=0;P<hz.order.length;P++){var w=hz.order[P],q=hz.l9[P],u=r[q].v;for(var h=0;h<u.length;
h++){var z=u[h].v;if(w=="DrSh"&&z.enab.v&&z.Ckmt.v.val>0&&z.blur.v.val>0)x=Math.max(x,Math.ceil(z.Ckmt.v.val*z.blur.v.val/100));
if(w=="OrGl"&&z.enab.v&&z.Ckmt.v.val>0&&z.blur.v.val>0&&z.GlwT.v.BETE=="SfBL")x=Math.max(x,Math.ceil(z.Ckmt.v.val*z.blur.v.val/100));
if(w=="OrGl"&&z.enab.v&&z.blur.v.val>0&&z.GlwT.v.BETE=="PrBL")x=Math.max(x,z.blur.v.val);if(w=="FrFX"&&z.enab.v&&z.Sz.v.val>0){if(z.Styl.v.FStl=="OutF")x=Math.max(x,z.Sz.v.val);
if(z.Styl.v.FStl=="CtrF")x=Math.max(x,Math.ceil(z.Sz.v.val/2));C=Math.max(C,fx.mP(z)[1])}}}var O=new fx.at(D,N,x,fx.rc(r)),g=-N.x,t=-N.y,$={type:{},all:[]};
for(var i=0;i<hz.order.length;i++){var w=hz.order[i],q=hz.l9[i];$.type[w]=[];for(var A=r[q].v.length-1;
A>=0;A--){var H=r[q].v[A].v;if(!H.enab.v)continue;var F=H.blur?H.blur.v.val:0,T=H.Ckmt?H.Ckmt.v.val/100:0,_=F*T;
if(w=="DrSh"){var V=O.pG(_,F-_,!0),X=V.RB,o=V.DN;o.offset(g,t);fx.H0(X,H,!1);fx.YP(o,H,b,0);var c=R.O(o.Z()*4);
fx.BN(c,H.Clr.v);R.zQ(X,c,3);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100,a8t:H.layerConceals.v};
$.type[w].push(E);$.all.push(E)}if(w=="IrSh"){var V=O.pG(_,F-_,!1);fx.YP(V.DN,H,b,0);var o=O.rect().clone(),X=R.O(o.Z());
X.fill(255);R.YO(V.RB,V.DN,X,o);fx.H0(X,H,!0);var c=R.O(o.Z()*4);fx.BN(c,H.Clr.v);R.zQ(X,c,3);o.offset(g,t);
var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};$.type[w].push(E);$.all.push(E)}if(w=="GrFl"){var c=R.O(O.rect().Z()*4);
fx.Bc(H,c,O.rect(),b,null,Y);var o=O.rect().clone();o.offset(g,t);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};
$.type[w].push(E);$.all.push(E)}if(w=="SoFi"){var c=R.O(O.RB().length*4);fx.BN(c,H.Clr.v);var o=O.rect().clone();
o.offset(g,t);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};$.type[w].push(E);$.all.push(E)}if(w=="ebbl"){var f=!1;
if(f)console.log(H);var d=Date.now(),s=H.bvlS.v.BESl;if(s=="strokeEmboss"){var B=r.frameFXMulti.v;if(B.length==0)continue;
B=B[0].v;if(!B.enab.v)continue;var U=B.Styl.v.FStl;if(U=="OutF")s="OtrB";if(U=="CtrF")s="Embs";if(U=="InsF")s="InrB"}var F=H.blur.v.val;
if(F==0)F=.7;if(s=="Embs"||s=="PlEb")F/=2;var M=["OtrB","InrB","Embs","PlEb","strokeEmboss"],W=["SfBL","PrBL","Slmt"],n=["In","Out"],e=H.bvlT.v.bvlT!="SfBL"?F:F*.45,Q=Math.round(F),J=O.rect().clone(),m=J.clone();
m.Fp(Q,Q);var p=m.d,L=m.r,S=p*L,eJ=R.O(S);R.YO(O.RB(),J,eJ,m);var hy=new Float64Array(S),v=new Float64Array(S);
R.style.jo(eJ,hy,p,L);R.gq(eJ);R.style.jo(eJ,v,p,L);if(f)console.log("distTransform computed",Date.now()-d);
for(var P=0;P<S;P++)v[P]=v[P]-hy[P];for(var P=0;P<S;P++){var ff=v[P];if(ff<-e)v[P]=-e;else if(ff>e)v[P]=e}if(f)console.log("summing + cropping",Date.now()-d);
if(H.bvlT.v.bvlT=="SfBL"){var K=Math.pow(F*.21,1.22);if(!0)K=Math.max(K,2);var jo=R.Fg.Ha(K,2);R.Fg.Uq(v,hy,m,jo[0]>>>1);
R.Fg.Uq(hy,v,m,jo[1]>>>1)}if(f)console.log("blurring",Date.now()-d);var g5=v,fQ=g5.slice(0);if(H.useShape.v){var iT=Math.min(100,H.Inpr.v.val+1)/100;
if(s!="OtrB"&&s!="InrB")iT=1;var ac=R.I7.OG(H.MpgS.v.Crv.v,2e3),aR=Math.round(2e3/iT);ac=R.I7.amM(ac,aR,s=="InrB");
var hV=.5/e;for(var P=0;P<S;P++){var cu=g5[P],iy=.99999*(cu+e)*hV;g5[P]=-e+2*e*ac[~~(iy*(aR-1))]}if(f)console.log("applying shape",Date.now()-d)}if(H.useTexture.v){var gr=R.O(p*L*4);
fx.ab(H,gr,m,b.add.Patt,j);var cp=R.O(p*L);R.$d(gr,cp);var gP=R.O(p*L);R.Fg.pY(cp,gP,m,1);cp=gP;var g7=F*H.textureDepth.v.val*(1/100)*(1/255);
if(H.InvT.v)g7=-g7;for(var P=0;P<S;P++)g5[P]+=-g7*cp[P];if(f)console.log("applying texture",Date.now()-d)}var j8=(H.bvlT.v.bvlT=="SfBL"?1:.5)*(H.bvlD.v.BESs=="In"?1:-1)*H.srgR.v.val/100;
for(var P=0;P<S;P++)g5[P]*=j8;if(f)console.log("scaling",Date.now()-d);var dg=H.uglg&&H.uglg.v?b.ta():H.lagl.v.val;
dg=dg*(Math.PI/180);var gR=H.uglg&&H.uglg.v?b.O0():H.Lald.v.val;gR=gR*(Math.PI/180);var em=Math.cos(dg)*Math.cos(gR),fr=-Math.sin(dg)*Math.cos(gR),aU=Math.sin(gR),bb=new Float64Array(S),fZ=new Float64Array(S),h1=s=="PlEb";
for(var ar=0;ar<L;ar++)for(var gt=0;gt<p;gt++){var P=ar*p+gt,gX=0,dK=0,ay=1;if(ar!=0&&ar!=L-1&&gt!=0&&gt!=p-1){var hh=g5[P-p-1],b7=g5[P-p+1],cV=g5[P+p-1],bj=g5[P+p+1];
gX=-.125*(b7+2*g5[P+1]+bj-(hh+2*g5[P-1]+cV));dK=-.125*(cV+2*g5[P+p]+bj-(hh+2*g5[P-p]+b7))}else{var bW=g5[P];
dK=-(ar==0?g5[P+p]-bW:ar==L-1?bW-g5[P-p]:.5*(g5[P+p]-g5[P-p]));gX=-(gt==0?g5[P+1]-bW:gt==p-1?bW-g5[P-1]:.5*(g5[P+1]-g5[P-1]))}var bu=1/Math.sqrt(gX*gX+dK*dK+1);
gX*=bu;dK*=bu;ay*=bu;var da=gX*em+dK*fr+ay*aU,dj=da;if(h1)dj=-gX*em-dK*fr+ay*aU;if(da>0)bb[P]=da;if(dj>0)fZ[P]=dj}if(f)console.log("raycasting",Date.now()-d);
if(H.Sftn.v.val!=0){R.Fg.LK(bb,hy,m,H.Sftn.v.val*.43);var e_=hy,hy=bb,bb=e_;if(h1){R.Fg.LK(fZ,hy,m,H.Sftn.v.val*.43);
var e_=hy,hy=fZ,fZ=e_}else R.kZ(bb,fZ)}if(f)console.log("softening",Date.now()-d);var ac=R.I7.OG(H.TrnS.v.Crv.v,1024);
for(var P=0;P<S;P++){bb[P]=ac[~~(bb[P]*1024)];fZ[P]=ac[~~(fZ[P]*1024)]}if(f)console.log("contour remap",Date.now()-d);
p=Math.round(p);L=Math.round(L);var de=R.O(p*L*4);fx.BN(de,H.hglC.v);var aM=R.O(p*L*4);fx.BN(aM,H.sdwC.v);
var g2=R.O(p*L*4);fx.BN(g2,H.hglC.v);var g9=R.O(p*L*4);fx.BN(g9,H.sdwC.v);var hr=1/aU,bD=1/(1-aU),hV=1/e,iG=new Float64Array(1e3);
for(var P=0;P<1e3;P++)iG[P]=Math.pow(P*.001,.2);for(var ar=0;ar<L;ar++)for(var gt=0;gt<p;gt++){var P=ar*p+gt,iF=4*P+3,i3=0,bI=0;
i3=bb[P];bI=fZ[P];var fE=Math.max(0,Math.min(.9999,(fQ[P]+e*.993)*hV));fE=iG[Math.floor(fE*1e3)];var ih=fE*(1-Math.min(1,i3*hr)),dD=fE*(1-Math.min(1,(1-i3)*bD)),aQ=fE*(1-Math.min(1,bI*hr)),dn=fE*(1-Math.min(1,(1-bI)*bD));
aM[iF]=Math.round(255*ih);de[iF]=Math.round(255*dD);g9[iF]=Math.round(255*aQ);g2[iF]=Math.round(255*dn)}if(f)console.log("baking textures",Date.now()-d);
m=O.rect().clone();m.Fp(Q,Q);m.offset(g,t);var df={abD:H.bvlS.v.BESl=="strokeEmboss"};if(["InrB","Embs","PlEb"].indexOf(s)!=-1){df.gv={Iz:de,dS:m,cm:by.fG(H.hglM.v.BlnM),Uf:H.hglO.v.val/100};
df.Cg={Iz:aM,dS:m,cm:by.fG(H.sdwM.v.BlnM),Uf:H.sdwO.v.val/100};$.all.push(df.gv,df.Cg)}if(["OtrB","Embs","PlEb"].indexOf(s)!=-1){df.vz={Iz:g2,dS:m,cm:by.fG(H.hglM.v.BlnM),Uf:H.hglO.v.val/100};
df.S7={Iz:g9,dS:m,cm:by.fG(H.sdwM.v.BlnM),Uf:H.sdwO.v.val/100};$.all.push(df.vz,df.S7)}if(f)console.log(Date.now()-d);
$.type[w].push(df)}if(w=="patternFill"){var ba=O.rect(),c=R.O(ba.Z()*4);fx.ab(H,c,ba,b.add.Patt,j);var o=ba.clone();
o.offset(g,t);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};$.type[w].push(E);$.all.push(E)}if(w=="ChFX"){var c=R.O(O.RB().length*4);
fx.BN(c,H.Clr.v);var F=H.blur.v.val,h8=O.rect().clone();h8.Fp(F,F);var eS=R.O(h8.Z()),ek=R.O(h8.Z());
R.YO(O.RB(),O.rect(),ek,h8);R.Fg.hU(ek,eS,h8,F*.43);var c9=R.I7.Is(H.MpgS.v.Crv.v,256,!0);R.RF(eS,c9);
var dB=R.O(O.RB().length),gd=R.O(O.RB().length),bU=O.rect().clone();fx.YP(bU,H,b,0);R.YO(eS,h8,dB,bU);
bU=O.rect().clone();fx.YP(bU,H,b,Math.PI);R.YO(eS,h8,gd,bU);var fp=dB.length;for(var P=0;P<fp;P++)c[4*P+3]=Math.abs(dB[P]-gd[P]);
if(H.Invr.v)for(var P=0;P<fp;P++)c[4*P+3]=255-c[4*P+3];var o=O.rect().clone();o.offset(g,t);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};
$.type[w].push(E);$.all.push(E)}if(w=="OrGl"){var V;if(H.GlwT.v.BETE=="SfBL")V=O.pG(_,F-_,!0);else V=O.US(F,T,!0);
var X=V.RB,o=V.DN,i7=X.slice(0);fx.xh(X,H);var c=R.O(o.Z()*4);if(H.Grad==null){fx.BN(c,H.Clr.v);fx.H0(X,H,!1)}else{fx.H0(X,H,null);
var h7={nQ:X,Jw:255,a4:0,XF:o};fx.Bc(H,c,o,b,h7);var h_=H.Nose.v.val/100,jy=o.d;for(var P=0;P<i7.length;
P++){var fs=255,ir=i7[P];if(ir<32){var bk=(ir+i7[P-1]+i7[P+1]+i7[P-jy]+i7[P+jy])*.2-1;fs=Math.min(255,Math.round(Math.max(0,bk)*8))}X[P]=fs}fx.pb(X,H)}R.zQ(X,c,3);
o.offset(g,t);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};$.type[w].push(E);$.all.push(E)}if(w=="IrGl"){var V;
if(H.GlwT.v.BETE=="SfBL")V=O.pG(_,F-_,!1);else V=O.US(F,T,!1);var X=V.RB,o=V.DN;fx.xh(X,H);if(H.glwS.v.IGSr=="SrcC")R.gq(X);
var c=R.O(o.Z()*4);if(H.Grad==null){fx.BN(c,H.Clr.v);fx.H0(X,H,!0)}else{fx.H0(X,H,null);var h7={nQ:X,Jw:255,a4:0,XF:o};
fx.Bc(H,c,o,b,h7);X.fill(255);fx.pb(X,H)}R.zQ(X,c,3);o.offset(g,t);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100};
$.type[w].push(E);$.all.push(E)}if(w=="FrFX"){var aO=fx.mP(H),iL=aO[0],dX=aO[1],o=O.rect().clone(),cj=null,ha=null;
o.Fp(Math.ceil(C),Math.ceil(C));if(dX>0){var V=O.pG(dX,0,!0);ha=V.RB;if(ha.length<o.Z()){ha=R.O(o.Z());
R.YO(V.RB,V.DN,ha,o)}}if(iL>0){var V=O.pG(iL,0,!1);cj=R.O(o.Z());cj.fill(255);R.YO(V.RB,V.DN,cj,o)}o.offset(g,t);
var c=R.O(o.Z()*4),ja=H.PntT.v.FrFl;if(ja=="SClr")fx.BN(c,H.Clr.v);if(ja=="GrFl")fx.Bc(H,c,o,b,O.a2r(iL,dX));
if(ja=="Ptrn")fx.ab(H,c,o,b.add.Patt,j);var E={Iz:c,dS:o,cm:by.fG(H.Md.v.BlnM),Uf:H.Opct.v.val/100,JB:ha,gg:cj};
$.type[w].push(E);$.all.push(E)}}}return $};fx.i5=function(r){var j=1/Math.sqrt(r.x*r.x+r.y*r.y+r.Fu*r.Fu);
r.x*=j;r.y*=j;r.Fu*=j};fx.$U=function(r,j){return{x:r.y*j.Fu-r.Fu*j.y,y:r.Fu*j.x-r.x*j.Fu,Fu:r.x*j.y-r.y*j.x}};
fx.a7N=function(r,j){return r.x*j.x+r.y*j.y+r.Fu*j.Fu};fx.pb=function(r,j){var D=j.Nose.v.val/100;if(D>0)for(var P=0;
P<r.length;P++){var N=r[P];N=Math.min(510-(1+D)*R.style.pf(P),N);r[P]=N}};fx.IW=function(r){var j=fx.Lo(),D=r.UE,N=!1;
for(var P=0;P<32;P+=8)if(D[P]+D[P+1]+D[P+4]+D[P+5]!=0||D[P+2]+D[P+3]+D[P+6]+D[P+7]!=1020)N=!0;if(N){D=D.slice(0);
for(var P=0;P<40;P+=4){var b=D[P]/255,Y=D[P+1]/255,x=D[P+2]/255,C=D[P+3]/255;D[P]=b-.001;D[P+1]=b==Y?1e6:1/(Y-b);
D[P+2]=x==C?-1e6:1/(x-C);D[P+3]=C+.001}}var w=r.add.iOpa!=null?r.add.iOpa/255:j.fill,q=r.add.vstk;if(q&&!q.fillEnabled.v&&(!q.strokeEnabled.v||q.strokeStyleLineWidth.v.val==0))w=0;
return{fill:w,hT:N?D:null,m_:r.add.brst!=null?r.add.brst:j.m_,a5j:r.add.knko!=null?r.add.knko:j.a5j,style:!1,IB:!1}};
fx.Lo=function(){return{fill:1,hT:null,m_:[1,1,1],a5j:0,style:!1,IB:!1}};fx.T5=function(r,j){if(j==null)return null;
var D=r.Idnt.v,N=null;for(var P=0;P<j.length;P++)if(j[P].id==D)return j[P];return null};fx.Es=function(r,j,D){var N=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var P=0;P<N.length;P++){var b=r.v[N[P]].v;for(var Y=0;Y<b.length;Y++)if(b[Y].v.Ptrn)j.fO(fx.T5(b[Y].v.Ptrn.v,D))}};
fx.anW=function(r,j,D){var N=["patternFillMulti","ebblMulti","frameFXMulti"];for(var P=0;P<N.length;
P++){var b=r.v[N[P]].v;for(var Y=0;Y<b.length;Y++)if(b[Y].v.Ptrn){var x=b[Y].v.Ptrn.v,C=fx.T5(x,D),w=fx.T5(x,j.add.Patt);
if(C==null&&w)D.push(w)}}};fx.ab=function(r,j,D,N,b){var Y=fx.T5(r.Ptrn.v,N);if(Y!=null&&!D.jE()){var x=Y.PT,C=x[0],w=x[1],q=0;
R.aA(x);var u=(r.Scl?r.Scl.v.val:100)/100;while((u<.3||u==.5)&&x[q+2]){u*=w.d/x[q+3].d;q+=2;C=x[q];w=x[q+1]}var h=R.scale.ab(C,w.d,w.r),z=r.phase?r.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},O=-D.x+z.Hrzn.v-1,g=-D.y+z.Vrtc.v-1;
if(r.Algn!=null&&!r.Algn.v){}else{O+=b.x;g+=b.y}R.scale.B_(h,j,D.d,D.r,u,u,O+1,g+1)}};fx.Bc=function(r,j,D,N,b,Y){if(Y==null)Y=D;
var x=r.Type?r.Type.v.GrdT:"shapeburst",C=r.Algn&&r.Algn.v?Y:new bf(0,0,N.d,N.r),w=r.Angl?R._.Ly(r,C):[new gJ(0,0),new gJ(100,0)],q=w[0].x,u=w[0].y,h=w[1].x-q,z=w[1].y-u,O=Math.sqrt(h*h+z*z);
O=1/(2*O*O);var g=[h*O,z*O,-z*O,h*O],t=r.Rvrs?r.Rvrs.v:!1,$=r.Dthr?r.Dthr.v:!1;R._.Jj(r.Grad.v,j,D,g,q,u,t,hz._.types.indexOf(x),0,0,b,$)};
fx.a7t=function(r,j){for(var P=0;P<r.all.length;P++){var D=r.all[P];D.Bp=D.dS.clone();D.Bp.offset(j.x,j.y)}};
fx.Bv=function(r,j,D,N,b,Y){var x=Z.DB?fx.Vw:fx.Fr;fx.a7t(j,D);var C=j.type.DrSh;for(var P=0;P<C.length;
P++)if(!C[P].a8t)x(C[P],N,b,Y)};fx.sN=function(r,j,D,N,b,Y,x,C,w,q){var u=D,h=Z.DB?fx.Vw:fx.Fr,z=Z.DB?Z.U.Ay:R.U.yI,O;
O=j.type.DrSh;for(var P=0;P<O.length;P++)if(O[P].a8t)h(O[P],N,b,Y);O=j.type.OrGl;for(var P=0;P<O.length;
P++)h(O[P],N,b,Y);var g="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var t=0;t<g.length;t++){var O=j.type[g[t]];
for(var P=0;P<O.length;P++)h(O[P],x,u,Y)}var $=j.type.ebbl[0],i=$!=null&&$.abD;O=j.type.FrFX;for(var P=0;
P<O.length;P++){var A=O[P];b6._J.YO(C,q,w,q,Y);h(A,w,q,Y);if(i&&P==O.length-1){if($.S7)h($.S7,w,q,Y);
if($.vz)h($.vz,w,q,Y);if($.Cg)h($.Cg,w,q,Y);if($.gv)h($.gv,w,q,Y)}if(A.gg||A.yQ)z(w,q,x,u,Z.DB?A.yQ:A.gg,A.Bp,0,Y,1);
if(A.JB||A.Z0)z(w,q,N,b,Z.DB?A.Z0:A.JB,A.Bp,0,Y,1)}if(!i&&$!=null){if($.S7)h($.S7,N,b,Y);if($.vz)h($.vz,N,b,Y);
if($.Cg)h($.Cg,x,u,Y);if($.gv)h($.gv,x,u,Y)}};fx.Fr=function(r,j,D,N){var b=fx.Lo();b.fill=r.Uf;b.style=!0;
R.U.tI(r.cm,r.Iz,r.Bp,j,D,N,1,b)};fx.Vw=function(r,j,D,N){var b=fx.Lo();b.fill=r.Uf;b.style=!0;Z.U._$(r.cm,r.Gd,r.Bp,j,D,N,1,b)};
fx.xh=function(r,j){var D=1-j.Inpr.v.val/100,N=1+Math.tan(D*(Math.PI/2)),b=r.length;for(var P=0;P<b;
P++)r[P]=Math.min(255,Math.round(r[P]*N))};fx.H0=function(r,j,D){var N=j.blur.v.val,b=Math.round(N*(j.Ckmt.v.val/100));
if(N>b){var Y=R.I7.Is(j.TrnS.v.Crv.v,256,!0);R.RF(r,Y)}if(D!=null&&j.Nose.v.val>0)R.style.tH(r,j.Nose.v.val/100,D)};
fx.BN=function(r,j,D){if(D==null)D=255;var N=R._.z2(j),b=D<<24|N.M<<16|N.p<<8|N.a,Y=new Uint32Array(r.buffer);
Y.fill(b)};fx.YP=function(r,j,D,N){var b=j.uglg&&j.uglg.v?D.ta():j.lagl.v.val;b=b*Math.PI/180+N;var Y=Math.cos(b)*j.Dstn.v.val,x=Math.sin(b)*j.Dstn.v.val;
r.x-=Math.round(Y);r.y+=Math.round(x)};fx.WU=function(r){if(r==null)return null;var j=r.frameFXMulti.v;
if(j.length==0)return null;j=j[0].v;var D=JSON.parse(JSON.stringify(hz._O.default));fx.vv(j,D);return D};
fx.vv=function(r,j){var D=hz.stroke.WT.indexOf(r.PntT.v.FrFl),N=[hz.kK,hz.bl,hz.CU][D],b=j.strokeStyleContent.v={classID:hz._O.AH[D]};
for(var P=0;P<N.length;P++)b[N[P]]=r[N[P]];j.strokeEnabled=r.enab;j.strokeStyleLineWidth=r.Sz;j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hz._O.io[hz.stroke.types.indexOf(r.Styl.v.FStl)];
j.strokeStyleOpacity=r.Opct;j.strokeStyleBlendMode=r.Md};fx.kA=function(r,j){var D=[];for(var P=0;P<r.length;
P++)D.push({t:"UntF",v:{type:"#Nne",val:Math.round(r[P]*j)}});return D};fx.at=function(r,j,D,N){this.eL=j.clone();
this.aly=j.clone();this.aly.Fp(D,D);if(N){this.eL.Fp(1,1);this.BR=R.O(this.eL.Z());R.YO(r,j,this.BR,this.eL)}else this.BR=r;
this.ro=null;this.CD=null;this.wH=null};fx.at.prototype.RB=function(){return this.BR};fx.at.prototype.rect=function(){return this.eL};
fx.at.prototype.$x=function(){return this.aly};fx.at.prototype.jD=function(){if(this.ro)return this.ro;
this.ro=this.RB().slice(0);R.gq(this.ro);return this.ro};fx.at.prototype.Hz=function(){if(this.CD)return this.CD;
this.CD=new Float64Array(this.rect().Z());R.style.jo(this.jD(),this.CD,this.rect().d,this.rect().r);
return this.CD};fx.at.prototype.No=function(){if(this.wH)return this.wH;var r=this.$x(),j=R.O(r.Z());
R.YO(this.RB(),this.rect(),j,r);this.wH=new Float64Array(r.Z());R.style.jo(j,this.wH,r.d,r.r);return this.wH};
fx.at.prototype.a2r=function(r,j){var D={Jw:-j,a4:r,XF:null,nQ:null};if(j==0){D.XF=this.rect();D.nQ=this.Hz();
return D}var N=this.No().slice(0),b=this.$x();D.XF=b;D.nQ=N;for(var P=0;P<N.length;P++)N[P]=-N[P];if(r==0)return D;
var Y=this.Hz(),x=this.rect();for(var C=0;C<x.r;C++)for(var w=0;w<x.d;w++){var q=C*x.d+w,u=(C+x.y-b.y)*b.d+w+x.x-b.x;
N[u]+=Y[q]}return D};fx.at.prototype.pG=function(r,j,D){var N=Math.ceil(r+j),b={DN:this.rect().clone(),RB:null};
b.DN.Fp(N,N);b.RB=R.O(b.DN.Z());if(r==0&&j==0)R.kZ(D?this.RB():this.jD(),b.RB);else{var Y=R.O(b.DN.Z());
R.YO(this.RB(),this.rect(),Y,b.DN);if(!D)R.gq(Y);if(r!=0){if(D)R.style.FF(Y,b.DN,this.No(),this.$x(),r);
else R.style.FF(Y,b.DN,this.Hz(),this.rect(),r)}if(j!=0)R.Fg.hU(Y,b.RB,b.DN,Math.max(1,j*.43));else b.RB=Y}return b};
fx.at.prototype.US=function(r,j,D){var N=r*(j-.5),b={DN:this.rect().clone(),RB:null};if(D)b.DN.Fp(r,r);
b.RB=R.O(b.DN.Z());var Y=b.DN.d,x=b.DN.r,C=D?this.No():this.Hz(),w=D?this.$x():this.rect(),q=b.DN,u=q.su(w),Y=u.d,x=u.r,h=u.x-q.x,z=u.y-q.y,O=u.x-w.x,g=u.y-w.y,t=1-j*2;
for(var $=0;$<x;$++)for(var i=0;i<Y;i++){var A=C[($+g)*w.d+i+O],H=A/r;b.RB[($+z)*q.d+i+h]=Math.max(0,Math.min(255,255-255*((H+t)/(1+t))))}return b};
fx.RH=function(r,j,D){var N=r.Lefx,b=r.blendOptions;if(N){var Y=j.add.lmfx;if(D==null)D=Y?Y.Scl.v.val:100;
j.add.lmfx=JSON.parse(JSON.stringify(N.v));if(j.add.lmfx.Scl==null)j.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
fx.Ub(j.add.lmfx,D/j.add.lmfx.Scl.v.val);if(Y)j.add.lmfx.Scl.v.val=Y.Scl.v.val}else delete j.add.lmfx;
if(b){b=b.v;if(b.Md)j.yp=by.fG(b.Md.v.BlnM);if(b.Opct)j.opacity=Math.round(b.Opct.v.val*255/100);if(b.fillOpacity)j.add.iOpa=Math.round(b.fillOpacity.v.val*255/100);
if(b.Blnd){var x=[];for(var P=0;P<10;P++)x.push(0,0,255,255);var C=b.Blnd.v,w="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var P=0;P<C.length;P++){var q=C[P].v,u=8*["Gry","Rd","Grn","Bl"].indexOf(q.Chnl.v[0].v.enum);for(var h=0;
h<8;h++){x[u+h]=q[w[h]].v}}j.UE=x}}};fx.kv=function(r){var j="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),D=[],N=r.UE;
for(var P=0;P<4;P++){var b=P*8;if(N[b]+N[b+1]+N[b+4]+N[b+5]==0&&N[b+2]+N[b+3]+N[b+6]+N[b+7]==4*255)continue;
var Y={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][P]}}]}}};
D.push(Y);for(var x=0;x<8;x++)Y.v[j[x]]={t:"long",v:N[P*8+x]}}var C={classID:"blendOptions"};if(r.yp!="norm")C.Md={t:"enum",v:{BlnM:by.B9(r.yp)}};
if(r.opacity!=255)C.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(r.opacity*100/255)}};if(r.add.iOpa!=null)C.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(r.add.iOpa*100/255)}};
if(D.length!=0)C.Blnd={t:"VlLs",v:D};var w={oa:{classID:"null",Idnt:{t:"TEXT",v:dl.U1()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Ce:{classID:"Styl",blendOptions:{t:"Objc",v:C}}},q=r.add.lmfx;
if(q)w.Ce.Lefx={t:"Objc",v:q};return w};function eb(){}eb.x4=function(r){return JSON.parse(JSON.stringify(r))};
eb.g4=function(r){var j=eb.x4(eb.a1n),D=j.Brsh.v;if(r!=null){delete D.Hrdn;D.classID="sampledBrush";
D.Nm={t:"TEXT",v:"layer.png"},D.sampledData={t:"TEXT",v:r}}return j};eb.a1n={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
eb.i5={};eb.i5.check=function(r){var j=eb.i5.Kz;for(var P=0;P<j.length;P++)if(r[j[P]]==null)r[j[P]]=JSON.parse(eb.i5.fj[j[P]]);
var D=[];for(var P=0;P<j.length;P++)D.push(j[P]);var N=eb.i5.dz;for(var P=0;P<N.length;P++){var b=N[P][0],Y=N[P][1],x=!0;
for(var C=0;C<b.length;C++)x=x&&r[b[C]].v==!0;if(x)for(var C=0;C<Y.length;C++){if(r[Y[C]]==null)console.log("Missing conditional parameter "+Y[C]);
else D.push(Y[C])}}for(var w in r)if(D.indexOf(w)==-1)console.log("Extra parameter "+w);r=r.Brsh.v;j=eb.i5.ER.Kz;
for(var P=0;P<j.length;P++)if(r[j[P]]==null)r[j[P]]=JSON.parse(eb.i5.ER.fj[j[P]]);D=[];for(var P=0;P<j.length;
P++)if(r[j[P]])D.push(j[P]);else console.log("Missing default parameter "+j[P]);N=eb.i5.ER.a84[r.classID];
for(var P=0;P<N.length;P++)if(r[N[P]]==null&&N[P]!="dtipsGridSize"&&N[P]!="dtipsErodibleTipHeightMap"&&r.a4Y!=1)console.log("Missing conditional parameter "+N[P]);
else D.push(N[P]);for(var w in r)if(D.indexOf(w)==-1)console.log("Extra parameter "+w)};eb.i5.Wa=function(r){var j=eb.i5.dz;
for(var P=0;P<j.length;P++){var D=j[P][0],N=j[P][1],b=!0;for(var Y=0;Y<D.length;Y++)b=b&&r[D[Y]]&&r[D[Y]].v==!0;
if(b){for(var Y=0;Y<N.length;Y++)if(r[N[Y]]==null){r[N[Y]]=JSON.parse(eb.i5.fj[N[Y]])}}else for(var Y=0;
Y<N.length;Y++)if(r[N[Y]]!=null){delete r[N[Y]]}}};eb.i5.ER={};eb.i5.ER.Kz="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
eb.i5.ER.fj={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};eb.i5.ER.a84={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
eb.i5.dz=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
eb.i5.Kz="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
eb.i5.fj={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function hN(r,j){this.aaK=r;this.yS=j==null?0:j;this.dir=0}hN.prototype.av=function(r,j){var D=this.aaK,N=new gJ(r.x-D.x,r.y-D.y),b=new j9;
b.rotate(-this.yS);N=b.OT(N);if(this.dir==0&&!D.gy(r))this.dir=Math.abs(N.x)<Math.abs(N.y)?1:2;if(j.o(e4.$P)){if(this.dir==1)N.x=0;
if(this.dir==2)N.y=0}b.gq();N=b.OT(N);var Y=new gJ(D.x+N.x,D.y+N.y);return Y};function gU(r,j,D,N,b,Y,x,C){this.fB=j;
this.CL=D;this.mL=Y;this.oO=N;if(N.qV==null)N.qV=[!1,!0];this.eJ=null;this.aZ=null;this.Gp=0;this.amG=0;
this.abz=0;this.AQ=0;this.VK=0;this.als=x;this.Yn=new bf;this.ST=new bf;this.rect=new bf;if(C!=null){this.Iz=C}else{var w=gU.ps;
if(w.length!=x.Z()*4)w=R.O(x.Z()*4);else w.fill(0);this.Iz=gU.ps=w}this.rect=x.clone();this.tt=[];this.V1=[];
this.Wg=null;this.xg=0;this.M=null;this.WY="";this.mX=null;this.X5(r,b)}gU.ps=R.O(16);gU.prototype.X5=function(r,j){this.xg=j;
this.M=r;this.WY=JSON.stringify(r)+JSON.stringify(this.oO.yT);this.mX=gU.ae0(r,this.fB,this.CL)};gU.prototype.moveTo=function(r,j,D){D=this.oR(D);
this.Gp=D;var N=new gJ(r,j),b=this.M.Brsh.v.Dmtr.v.val;this.eJ=N.clone();this.aZ=N.clone();this.Wg=N.clone();
this.tt=[r,j];this.V1=[D];var Y=this.oO.qV;if(this.oO.a0!=gU._Y)this.ZK(this.nq(N,this.xM()*(Y[1]?D:1),this.oO.Wb*(Y[0]?D*.5:1),new gJ(0,0)));
this.AQ=N.clone()};gU.prototype.lineTo=function(r,j,D){D=this.oR(D);var N=this.tt,b=N.length,Y=N[b-2],x=N[b-1];
if(r==Y&&j==x)return;var C=this.M.Brsh.v.Dmtr.v.val,w=Math.ceil(C)+1,q=new bf(Math.round(Y),Math.round(x),0,0);
q.Fp(w,w);var u=new bf(Math.round(r),Math.round(j),0,0);u.Fp(w,w);this.SX(q.zs(u));this.tt.push(r,j);
this.V1.push(D);b+=2;if(b>=6)this.ZK(this.FH(b))};gU.prototype.oR=function(r){if(r==null)r=1;r=Math.max(.05,Math.min(5,r));
if(isNaN(r)){alert("Pressure is not a number");throw"e"}return r};gU.prototype.ZK=function(r){this.Yn=r;
this.ST=this.ST.zs(r)};gU.prototype.finish=function(){var r=this.tt,j=r.length,D;if(j==4)D=this.Nq(r[j-2],r[j-1],this.V1[(j>>1)-1],!0);
if(j>4)D=this.FH(j+2);if(D)this.ZK(D)};gU.prototype.FH=function(r){var j=this.tt,D=this.V1,N=j[r-6],b=j[r-5],Y=j[r-4],x=j[r-3],C=D[(r>>1)-3],w=D[(r>>1)-2],q=new gJ(0,0),u=new gJ(0,0);
if(8<=r)q=gU.rx(j[r-8],j[r-7],N,b,Y,x);if(r<=j.length)u=gU.rx(j[r-2],j[r-1],Y,x,N,b);var h=N+q.x,z=b+q.y,O=Y+u.x,g=x+u.y,t=new bf;
for(var P=0;P<10;P++){var $=(P+1)*.1,i=1-$,A=i*i*i*N+3*$*i*i*h+3*$*$*i*O+$*$*$*Y,H=i*i*i*b+3*$*i*i*z+3*$*$*i*g+$*$*$*x,F=this.Nq(A,H,C+$*(w-C));
t=t.zs(F)}return t};gU.rx=function(r,j,D,N,b,Y){var x=r-D,C=j-N,w=b-D,q=Y-N,u=Math.sqrt(x*x+C*C),h=Math.sqrt(w*w+q*q),z=Math.acos((x*w+C*q)/(u*h))/Math.PI,O=.35,g=.1;
z=g+z*(O-g);var t=b-r,$=Y-j,i=Math.sqrt(t*t+$*$),A=z*h/i;return new gJ(t*A,$*A)};gU.prototype.Nq=function(r,j,D,N){var b=new bf,Y=this.oO.a9P;
if(Y==null)Y=0;if(Y==0||N){b=this.Lt(r,j,D);return b}var x=this.Wg,C=r-x.x,w=j-x.y,q=Math.sqrt(C*C+w*w);
C/=q;w/=q;if(q>Y){var u=x.x+C*(q-Y),h=x.y+w*(q-Y);b=this.Lt(u,h,D);this.Wg.Ho(u,h)}return b};gU.prototype.Lt=function(r,j,D){var N=new bf,b=new gJ(r,j),Y=this.M.Brsh.v.Dmtr.v.val,x=this.oO.a0,C=b.I5(this.aZ);
C.normalize(1);var w=gJ.tA(this.aZ,b),q=-this.amG,u=this.aZ.clone(),h=this.oO.qV;while(!0){var z=this.Gp+(D-this.Gp)*(Math.max(0,q)/w),O=this.xM()*(h[1]?z:1),g=this.aaV()*(O+this.abz)/2;
if(x==gU._Y)g=1;if(q+g<w){q+=g;var t=new gJ(this.aZ.x+C.x*q,this.aZ.y+C.y*q),A=1;if(x==gU._Y){var $=u.clone();
$.x+=C.x>0?1:-1;var i=u.clone();i.y+=C.y>0?1:-1;if(gJ.tA($,t)<gJ.tA(i,t))t=$;else t=i;q=gJ.tA(t,this.aZ)}if(this.M.useScatter.v==!0){A=this.M.Cnt.v;
var H=this.M.countDynamics.v.jitter.v.val/100,F=H*(-1+2*this.u8());A+=Math.round(A*F)}for(var P=0;P<A;
P++){var T=this.nq(t,O,this.oO.Wb*(h[0]?z*.5:1),C);N=N.zs(T)}u=t}else break}this.amG=w-q;this.aZ=b;this.Gp=D;
return N};gU.prototype.aaV=function(){var r=this.M.Brsh.v,j=r.Spcn.v.val,D=Math.max(5,r.Rndn.v.val);
return D/100*(j/100)};gU.prototype.xM=function(){var r=this.M,j=r.Brsh.v.Dmtr.v.val;if(r.useTipDynamics.v){var D=j*(r.minimumDiameter.v.val/100);
j=D+(j-D)*(1-this.u8()*(r.szVr.v.jitter.v.val/100))}return j};gU.prototype.nq=function(r,j,D,N){D=Math.min(1,D);
var b=this.M,Y=this.M.Brsh.v,x=Y.Dmtr.v.val,C=this.oO,w=C.a0,q=C.ahK,u=new j9;u.translate(-this.mX.lW.d/2,-this.mX.lW.r/2);
u.scale(1/this.mX.apn,1/this.mX.apn);u.scale(j/x,j/x);u.scale(1,Math.max(5,Y.Rndn.v.val)/100);if(b.useTipDynamics.v){var h=b.minimumRoundness.v.val/100;
u.scale(1,h+(1-h)*Math.round(100-this.u8()*b.roundnessDynamics.v.jitter.v.val)/100);u.rotate((-.5+this.u8())*4*Math.PI*(b.angleDynamics.v.jitter.v.val/100))}u.rotate(Y.Angl.v.val*(Math.PI/180));
if(b.useScatter.v){var z=(-1+2*this.u8())*b.scatterDynamics.v.jitter.v.val/100;u.translate(-z*j*N.y,z*j*N.x)}u.translate(r.x,r.y);
var O=this.a37(u,r);this.SX(O.rect);var g=O.rect.clone();if(w==null){var t=this.z2(b);R.mh(O.OU,Math.round(t.M*255)<<16|Math.round(t.p*255)<<8|Math.round(t.a*255)<<0,4278190080);
if(this.ST.jE()&&this.rect.gy(O.rect)&&D==1)this.Iz=O.OU.slice(0);else R.U.adH(O.OU,O.rect,this.Iz,this.rect,O.rect,D)}if(w==gU._Y){var $=new gJ(O.rect.x+O.rect.d/2,O.rect.y+O.rect.r/2),i=Math.round($.x-this.AQ.x),A=Math.round($.y-this.AQ.y),H=O.rect.clone();
H.offset(-i,-A);var F=H.su(this.rect);F.offset(i,A);R.UB(this.Iz,this.rect,O.OU,H);R.U.iU(O.OU,O.rect,this.Iz,this.rect,O.nO,O.rect,D)}if(w==gU.dq||w==gU.Oe||w==gU.rD){var T=O.rect.su(this.rect),_;
if(T.gy(O.rect))_=O.nO;else{_=R.O(T.Z());R.YO(O.nO,O.rect,_,T)}var V=R.O(T.Z()*4);R.UB(this.Iz,this.rect,V,T);
if(w==gU.Oe){var X=V.slice(0),o=R.tK.KP([-1,-1,-1,-1,25,-1,-1,-1,-1]);R.tK.nT(V,X,T.d,T.r,o,0);R.kZ(X,V)}else if(w==gU.rD){var c=ij.nY("UnsM");
c.Amnt.v.val=15;c.Thsh.v=0;c.Rds.v.val=5;var X=R.O(V.length);ij.Bh("UnsM",{buffer:V,rect:T},c,0,0,{buffer:X,rect:T});
R.kZ(X,V)}else{ij.nd(1,R.Fg.eB,V,T)}R.U.iU(V,T,this.Iz,this.rect,_,T,D)}this.abz=j;this.AQ=$;return g};
gU.prototype.z2=function(r){var j=gU.vb(this.xg);if(r.useColorDynamics&&r.useColorDynamics.v){var D=1-this.u8()*r.clVr.v.jitter.v.val/100,N=gU.vb(this.mL);
j.a=D*j.a+(1-D)*N.a;j.p=D*j.p+(1-D)*N.p;j.M=D*j.M+(1-D)*N.M;var b=(-.5+this.u8())*r.H.v.val/100,Y=(-1+2*this.u8())*r.Strt.v.val/100,x=(-1+2*this.u8())*r.Brgh.v.val/100,C=R.d$(j.a,j.p,j.M);
C.qg=(C.qg+b+1)%1;C.z1=C.z1+Y;if(C.z1<0)C.z1=-C.z1;if(C.z1>1)C.z1=1-(C.z1-1);C.sr=C.sr+x;if(C.sr<0)C.sr=-C.sr;
if(C.sr>1)C.sr=1-(C.sr-1);j=R.uz(C.qg,C.z1,C.sr)}return j};gU.prototype.i5=function(r){return Math.max(0,Math.min(1,r))};
gU.prototype.u8=function(){this.VK++;return gU.hash(this.VK)};gU.vb=function(r){return{a:(r>>16&255)/255,p:(r>>8&255)/255,M:(r>>0&255)/255}};
gU.hash=function(r){r=r^61^r>>16;r=r+(r<<3);r=r^r>>4;r=r*668265261;r=r^r>>15;return(r&16777215)/16777215};
gU.S1=[];gU.aaB=function(r,eK){var j=r.zR(),D=eK.zR();if(j<D){var N=j;j=D;D=N}var b=r.kD-eK.kD,Y=r.M-eK.M,x=r.Jy-eK.Jy,C=r.oq-eK.oq;
return D!=0&&j-D<.025&&Math.max(b*b,Y*Y,x*x,C*C)<=.01};gU.prototype.a37=function(r,j){var D=null,Y;for(var P=0;
P<gU.S1.length;P++)if(gU.S1[P].WY==this.WY){D=gU.S1[P];gU.S1.splice(P,1)}if(D==null)D={gN:[],WY:this.WY,n$:0,Z:0};
var N=D.gN,b=this.oO.yT;if(b){r=r.clone();r.Db=Math.floor(r.Db);r.aF=Math.floor(r.aF)}var x=gU.JY(r.Db,r.aF);
for(var P=0;P<N.length;P++){var C=N[P];if(!gU.aaB(C.CQ,r))continue;if(gU.aqS(C.kI,x)<.2||C.rect.Z()>2500){Y=C;
break}}var w=Math.round(this.M.Brsh.v.Dmtr.v.val);if(Y){Y.rect.x=Math.round(Y.Gx.x-Y.CQ.Db+r.Db);Y.rect.y=Math.round(Y.Gx.y-Y.CQ.aF+r.aF);
if(b){Y.rect.x=Math.round(j.x-Y.rect.d/2);Y.rect.y=Math.round(j.y-Y.rect.r/2)}Y.n$=Date.now()}else{var q;
if(b&&w<=3){q={buffer:R.O(w*w*4),rect:new bf(Math.round(j.x-w/2),Math.round(j.y-w/2),w,w)};R.mh(q.buffer,4278190080)}else if(r.kD==1&&r.M==0&&r.Jy==0&&r.oq==1){q={buffer:this.mX.OU,rect:this.mX.lW.clone()};
q.rect.x=Math.round(r.Db);q.rect.y=Math.round(r.aF)}else q=I.T.Kn([this.mX.OU,this.mX.lW],r);if(b){for(var P=0;
P<q.buffer.length;P++)q.buffer[P]=q.buffer[P]>127?255:0}if(q==null)q={buffer:R.O(0),rect:new bf};var u=r.Db-Math.floor(r.Db),h=r.aF-Math.floor(r.aF);
Y={OU:q.buffer,nO:R.O(q.rect.Z()),rect:q.rect,Gx:q.rect.clone(),CQ:r,kI:gU.JY(r.Db,r.aF),n$:Date.now()};
R.ni(Y.OU,Y.nO,3);N.push(Y);D.Z+=q.rect.Z();if(N.length>2e3||D.Z>100*100*400){console.log("pruning",D.Z,N.length);
N.sort(function(O,g){return g.n$-O.n$});while(N.length>1e3||D.Z>100*100*200){var z=N.pop();D.Z-=z.rect.Z()}}}D.gN=N;
D.n$=Date.now();gU.S1.push(D);gU.S1.sort(function(O,g){return g.n$-O.n$});while(gU.S1.length>3)gU.S1.pop();
return Y};gU.JY=function(r,j){return new gJ(r-Math.floor(r),j-Math.floor(j))};gU.aqS=function(r,j){var D=j.x,N=j.y,b=Math.abs(D-r.x),Y=Math.abs(N-r.y);
if(Math.abs(D-1-r.x)<b)D--;else if(Math.abs(D+1-r.x)<b)D++;if(Math.abs(N-1-r.y)<Y)N--;else if(Math.abs(N+1-r.y)<Y)N++;
b=r.x-D;Y=r.y-N;return Math.sqrt(b*b+Y*Y)};gU.prototype.SX=function(r){};gU.ae0=function(r,j,D){var N,b,Y,x=r.Brsh.v.Dmtr.v.val;
if(r.Brsh.v.classID=="computedBrush"){var C=r.Brsh.v.Hrdn.v.val/100,w=1+.55*(1-C);Y=x<100?1.2:1;var q=Math.round(Y*x*w);
b=new bf(0,0,q,q);N=R.O(q*q*4);var u=new Uint32Array(N.buffer),h=q/2,z=w/h,O=Date.now(),g=gU.pW(C),t=Math.round(8e3/h),j=g[0],$=g[1]-t,i=g[2]+t,A=Math.min(q,(q>>>1)+1);
for(var P=0;P<A;P++){var H=z*(P-h+.25);H*=H;var F=z*(P-h+.75);F*=F;var T=P*q,_=(q-1-P)*q;for(var V=0;
V<A;V++){var X=z*(V-h+.25),o=Math.floor(Math.sqrt(X*X+H)*(4e3/1.55));if(i<o)continue;else if(o<$){var c=4278190080;
while(V<A){var E=q-1-V;u[T+V]=c;u[T+E]=c;u[_+V]=c;u[_+E]=c;V++}break}else{var f=z*(V-h+.75),d=Math.floor(Math.sqrt(f*f+H)*(4e3/1.55)),s=Math.floor(Math.sqrt(X*X+F)*(4e3/1.55)),B=Math.floor(Math.sqrt(f*f+F)*(4e3/1.55)),c=~~(.5+255*.25*(j[o]+j[d]+j[s]+j[B]))<<24,E=q-1-V;
u[T+V]=c;u[T+E]=c;u[_+V]=c;u[_+E]=c}}}}if(r.Brsh.v.classID=="sampledBrush"){var a,W=0;for(var P=0;P<j.length;
P++)if(j[P].id==r.Brsh.v.sampledData.v)a=j[P];R.aA(a.PT);b=a.PT[1];Y=Math.max(b.d,b.r)/x;N=a.PT[0];var U=b.d,M=b.r;
while(Math.min(U,M)>x*2&&a.PT[W+2]){W+=2;N=a.PT[W];b=a.PT[W+1].clone();Y*=b.d/U;U=b.d;M=b.r}b.x=b.y=0}return{apn:Y,lW:b,OU:N}};
gU.ey=[];gU.pW=function(r){if(gU.ey[r])return gU.ey[r];var j=Math.pow(r,.55),D=new Float64Array(8e3),N=0,b=8e3;
for(var P=0;P<8e3;P++){var Y=gU.anq(P*(1.55/4e3),j);if(Y>=1)N=P;else if(Y<=0&&b==8e3)b=P;D[P]=Y}var x=[D,N,b];
gU.ey[r]=x;return x};gU.anq=function(r,j){var D=r<j?1:gU.ad7((r-j)/Math.pow(1.001-j,.86));return D};
gU.ad7=function(r){var j=r*.85;return Math.exp(-(j*j)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
gU.prototype.q7=function(){return this.rect.clone()};gU.prototype.Vr=function(){return this.Yn.su(this.rect)};
gU.prototype._7=function(){return this.ST.su(this.rect)};gU.prototype.ZM=function(){return this.Iz};
gU.s=null;gU.AF=null;gU.af=function(r,j,D,N,b,Y){var x=gU.s,C=gU.AF;if(x==null){gU.s=x=y.C("canvas","");
gU.AF=C=x.getContext("2d")}if(Y==null)Y=N;if(x.width!=Y||x.height!=b){x.width=Y;x.height=b}else C.clearRect(0,0,Y,b);
C.fillStyle="#000000";C.font=Math.floor(10*y.f())+"px sans-serif";var w=r.Brsh.v.Dmtr.v.val,q=""+w,u=C.measureText(q);
C.fillText(q,(N-u.width)/2,b-2);var h=N,z=b-10*y.f(),O=Math.min(h,z),g=r.Brsh.v.classID;if(g=="computedBrush"){C.translate(h/2,z/2);
C.rotate(-r.Brsh.v.Angl.v.val*Math.PI/180);C.scale(1,.1+.9*r.Brsh.v.Rndn.v.val/100);var t=Math.min(.95*O/2,w/2)+.5,$=.9*r.Brsh.v.Hrdn.v.val/100,i=C.createRadialGradient(0,0,0,0,0,t);
i.addColorStop($,"rgba(0,0,0,1)");i.addColorStop((.5+$)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");
C.fillStyle=i;C.fillRect(-t,-t,2*t,2*t);C.setTransform(1,0,0,1,0,0)}else if(g=="sampledBrush"){var A,V=0;
for(var P=0;P<j.length;P++)if(j[P].id==r.Brsh.v.sampledData.v)A=j[P];var H=A.PT;R.aA(H);var F=H[0],T=H[1].d,_=H[1].r;
while((T>h||_>z)&&H[V+2]){V+=2;F=H[V];T=H[V+1].d;_=H[V+1].r}if(T*_!=0){var X=new ImageData(new Uint8ClampedArray(F.buffer),T,_);
C.putImageData(X,Math.round((h-T)/2),Math.round((z-_)/2))}}else{}return x.toDataURL()};gU.eT=function(r,j,D,N){if(D==0)D=1;
var b=r.Brsh.v,Y=b.Dmtr.v.val,x=b.Dmtr.v.val=Math.min(N!=null?Math.round(N*2.6):3e3,Y*D),C=b.Hrdn?b.Hrdn.v.val/100:1,w=N!=null?N:Math.round(x*(1+.55*(1-C)))+4,h;
w=Math.max(15,Math.min(w,3e3));var q=new bf(0,0,w,w),u=new gU(r,j,null,{Wb:1},16711712,0,q);b.Dmtr.v.val=Y;
u.moveTo(q.d/2,q.r/2);var z=u.ZM(),O=u.q7();if(q.gy(O))h=z;else{h=R.O(q.Z()*4);R.UB(z,O,h,q)}return[h,q,x]};
gU.y2=function(r,j,D,N){var b=j.d,Y=b>>>1;for(var P=0;P<4;P++){var x=6-P;r[b*(Y-x)+Y-1]=N;r[b*(Y-x)+Y]=D;
r[b*(Y-x)+Y+1]=N;r[b*(Y+x)+Y-1]=N;r[b*(Y+x)+Y]=D;r[b*(Y+x)+Y+1]=N;r[b*(Y-1)+Y-x]=N;r[b*Y+Y-x]=D;r[b*(Y+1)+Y-x]=N;
r[b*(Y-1)+Y+x]=N;r[b*Y+Y+x]=D;r[b*(Y+1)+Y+x]=N}};gU.DH=function(r,j,D,N){var b=gU.eT(r,j,D),Y=b[0].slice(0),x=b[1],C=b[2],w=x.Z(),q=R.O(w);
R.ni(Y,q,3);var u=R.O(w);R.c.acc(q,u,x);if(C<3||R.eR(u,0)||N&&C>12){gU.y2(u,x,255,0)}var h=[1,2,1,2,8,2,1,2,1];
h=R.tK.KP(h);R.tK.JE(u,q,x.d,x.r,h);R.mh(Y,4294967295);R.zQ(q,Y,3);for(var P=0;P<w;P++)if(u[P]==255){Y[P<<2]=Y[(P<<2)+1]=Y[(P<<2)+2]=0;
Y[(P<<2)+3]=255}return{eC:Y,DN:x,UZ:new gJ(x.d/2,x.r/2)}};gU._Y="0";gU.dq="1";gU.Oe="2";gU.rD="3";var iW={};
iW.s=document.createElement("canvas");iW.AF=iW.s.getContext("2d");iW.hA=function(r,j){var D=r.q6(),C;
if(D.x==Infinity||D.jE())return{Iz:R.O(0),DN:new bf,DU:new bf};var N=r.q6(),b=iW.O5(r,j),Y=R.K.v_(b.v);
if(Y.jE())return{Iz:R.O(0),DN:new bf,DU:new bf};var x=R.NH(Y.d,Y.r);x.translate(-Y.x,-Y.y);iW.apk(b,x);
if(r.WQ.length!=0){var w=cU.Wr(j),q=x.getImageData(0,0,Y.d,Y.r);C=new Uint8Array(q.data.buffer);if(w==0)for(var P=0;
P<C.length;P+=4)C[P+3]=C[P+3]>80?255:0;if(w==3)for(var P=0;P<C.length;P+=4)C[P+3]=Math.min(255,C[P+3]*1.5)}else C=R.O(Y.Z()*4);
x.resetTransform();x.beginPath();return{Iz:C,DN:Y,DU:N}};iW.O5=function(r,j){var D=j.F,N=j.d1,b=cU.Wr(j),Y=Math.max(D.M*D.M,D.Jy*D.Jy)<1e-9?D:null;
if(b==3||b==4)Y=null;var x={J:[],v:[]};iW.ao6(r,x,Y);x=iW.Ku(x,j,r);return x};iW.Ku=function(r,j,D){if(r==null)return r;
if(D&&D.Uk)R.K.F(r.v,D.Uk,r.v);if(D&&!R.s_.JM(j.z8)){var N=cU.q7(j,D);if(!N.jE()){if(r.J){r=R.K.OC(r);
var b=Math.min(N.d,N.r)/8;if(b<1)b=1;r=R.K.DF(r,b)}var Y=R.s_.MM(j.z8,N);R.rX.F(Y,r.v,N)}}var x=j.F;
R.K.F(r.v,x,r.v);return r};iW.apk=function(r,j){Typr.U.pathToContext({crds:r.v,cmds:r.J},j)};iW.NX=function(r,j){if(!fu.Bz())return;
var D=r.d1,N=D.ResourceDict.FontSet,b=D.ResourceDict.StyleSheetSet[0].StyleSheetData,Y=D.EngineDict.StyleRun.RunLengthArray,x=D.EngineDict.StyleRun.RunArray,C=cU.g2(D),w=!0,q={},u=0;
for(var P=0;P<x.length;P++){var h=x[P].StyleSheet.StyleSheetData.Font;if(h==null)h=b.Font;for(var z=0;
z<Y[P];z++){var O=C.charCodeAt(u+z),g=h+","+(O>128?O:-1);if(q[g]==null){q[g]=1;if(j.qp(N[h].Name,O)==null)w=!1}}u+=Y[P]}return w};
iW.ao6=function(r,j,D){var N=new j9;for(var P=0;P<r.Av.length;P++)iW.adO(r.WQ,r.Av[P],j,N,D)};iW.adO=function(r,j,D,N,b){N.translate(j.kI.x,j.kI.y);
for(var P=0;P<j.vA.length;P++){var Y={},x=j.vA[P];if(!x.Fs)break;var C=N.clone();C.translate(x.kI.x,x.kI.y);
if(b){var w=b.aF+C.aF*b.oq;C.aF=(Math.round(w)-b.aF)/b.oq}for(var q=x.start;q<x.end;q++)iW.a1X(r,j.M2[q],j,Y,D,C)}N.translate(-j.kI.x,-j.kI.y)};
iW.a9E="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
iW.a1X=function(r,j,D,N,b,Y){Y.translate(j.kI.x,j.kI.y);for(var x=j.fq;x<=j.cI;x++){var C=D.Mk[x],w=C.DN.d,q=r[D.aas+C.D2];
if(q.Zu=="\n")continue;var u=q.xt.FontSize/q.KB.head.unitsPerEm,h=cU.z2(q.xt),z=(Math.round(h.a)<<16)+(Math.round(h.p)<<8)+Math.round(h.M);
b.J.push("#"+R.Za(z));var O=Y.clone();O.translate(C.kI.x+C.vt*u,C.kI.y-C.la*u);var g=new j9;g.scale(u,-u);
if(q.XV==1&&iW.a9E.indexOf(q.Zu)!=-1)g.concat(new j9(-1,0,0,1,w,0));if(q.xt.FauxItalic)g.concat(new j9(1,0,-Math.tan(.18),1,0,0));
g.translate(0,q.hc);g.scale(q.scale.x,q.scale.y);if(q.xt.BaselineShift!=null)g.translate(0,-q.xt.BaselineShift);
if(C.yS!=0){g.rotate(-C.yS)}g.concat(O);if(C.path.J.length!=0&&q.Zu!="\t"){if(q.xt.FauxBold){var t=q.xt.FontSize/2048*27*q.scale.x;
g.Db+=t;R.K.concat(b,C.path,g);g.Db-=t+t;R.K.concat(b,C.path,g)}else R.K.concat(b,C.path,g)}if(q.Zu!="\n"){if(q.xt.Underline){if(N.lG==null)N.lG=q.KB.post.underlineThickness;
if(N.aiT==null)N.aiT=q.KB.post.underlinePosition;var $=0,i=N.aiT-N.lG/2,A=C.tu*1.05,H=-N.lG;R.K.concat(b,{J:["M","L","L","L","Z"],v:[$,i,$+A,i,$+A,i+H,$,i+H]},g)}if(q.xt.Strikethrough){var F=q.KB["OS/2"].yStrikeoutSize,T=q.KB["OS/2"].yStrikeoutPosition,$=0,i=T+F/2,A=C.tu*1.05,H=-F;
R.K.concat(b,{J:["M","L","L","L","Z"],v:[$,i,$+A,i,$+A,i+H,$,i+H]},g)}}b.J.push("X")}Y.translate(-j.kI.x,-j.kI.y)};
function fu(r,j){var D=cU.Tl(r),N,b,Y=cU.Nb(r),x=r._LineOrientation==2?new j9:null,u;if(r.Curve)b=fu.s7(r.Curve);
if(D!=0){N=new bf(Y[0],Y[1],Y[2],Y[3]);if(x){var C=N.d;N.d=N.r;N.r=C;x.translate(0,-Y[2])}if(D==2){N.d=b[5]-b[4];
N.r=9999}}this.Av=[];this.WQ=[];this.bW=D;this.Uk=x;var w=this.acV=cU.g2(r),q=-1;for(var P=0;P<w.length;
P++){var h=u,z=cU.a2w(r,P);if(z!=q){q=z;h=u=cU.ajK(r,P)}var O={Zu:w.charAt(P),xt:h,KB:null,A3:-1,ec:cU.a70(r,P),hc:0,scale:new gJ(0,0),qX:0,lineHeight:0,XV:0},g=r.ResourceDict.FontSet[h.Font].Name,t=O.KB=j.qp(g,w.charCodeAt(P));
O.scale.x=h.HorizontalScale==null?1:h.HorizontalScale;O.scale.y=h.VerticalScale==null?1:h.VerticalScale;
var $=t["OS/2"],i=t.hhea;if(h.FontCaps==1&&O.Zu!=O.Zu.toUpperCase()){var A=$.sxHeight?$.sxHeight/$.sTypoAscender:.76;
O.scale.x*=A;O.scale.y*=A}var H=1/t.head.unitsPerEm*h.FontSize;if(h.FontBaseline==1){var A=r.ResourceDict.SuperscriptSize;
O.scale.x*=A;O.scale.y*=A;O.hc-=r.ResourceDict.SuperscriptPosition*h.FontSize}if(h.FontBaseline==2){var A=r.ResourceDict.SubscriptSize;
O.scale.x*=A;O.scale.y*=A;O.hc+=r.ResourceDict.SubscriptPosition*h.FontSize}O.qX=fu.qX(t,g,h);O.lineHeight=h.FontSize*1.2;
if(h.AutoLeading==!1)O.lineHeight=h.Leading;if(O.lineHeight==0)O.lineHeight=.01;this.WQ.push(O)}var F=this.Av,T=[0];
for(var P=0;P<r.EngineDict.ParagraphRun.RunLengthArray.length;P++){var _=new fu.Rt(r,j,this.WQ,P,N,T,D==1?b:null);
F.push(_)}if(x){if(D==0)x.translate(0,F[0].M2[0].qX/2);x.rotate(-Math.PI/2)}if(D==2){var V=r.Curve.Points,X=b[0],o=b[1],c=b[2],f=b[3],d=b[4],s=b[5];
for(var P=0;P<F.length;P++)for(var B=0;B<F[P].vA.length;B++)if(!(P==0&&B==0))F[P].vA[B].Fs=!1;var _=F[0],a=_.vA[0];
_.kI.Ho(0,0);a.kI.Ho(0,0);for(var B=a.start;B<a.end;B++){var U=_.M2[B],M=U.kI.x;U.kI.x=0;for(var W=U.fq;
W<=U.cI;W++){var n=_.Mk[W],e=n.DN.d/2;n.kI.x+=M;var Q=fu.akg(X,(d+n.kI.x+e)%f);n.kI.x=Q[0]-e*Q[2];n.kI.y=Q[1]-e*Q[3];
n.yS=Math.atan2(Q[3],Q[2])}}}}fu.qX=function(r,j,D){var N=r["OS/2"],b=r.hhea,Y=0,Y=0,x=[];x.push(N&&N.sxHeight&&j.toLowerCase().indexOf("capitals")!=-1?N.sxHeight:0);
x.push(N&&N.sCapHeight?N.sCapHeight:0);x.push(N&&N.sTypoAscender?N.sTypoAscender:0);x.push(b.ascender?b.ascender:0);
for(var C=0;C<x.length;C++)if(x[C]!=0){Y=x[C];break}var w=1/r.head.unitsPerEm*D.FontSize;Y=Y*w;if(Y<D.FontSize*.6)Y=D.FontSize*.75;
return Y};fu.prototype.abh=function(){return!this.qt(0)};fu.prototype.ade=function(){return this.qt(1)};
fu.prototype.qt=function(r){var j=this.Av,D=!0,N=0;for(var P=0;P<j.length;P++){var b=j[P].vA,Y=b.length;
N+=Y;for(var x=0;x<Y;x++)D&=b[x].Fs}return[D,N][r]};fu.s7=function(r){var j=r.Points,D=j.length,N=D>>>3,b=r.TextOnPathTRange,Y=r.Reversed,u=0,h=0;
if(Y){var x=j.slice(0);for(var P=0;P<D;P+=2){x[P]=j[D-2-P];x[P+1]=j[D-1-P]}j=x;b=[N-b[1]%N,N-b[0]%N]}var C=[],w=[0],q=[0];
for(var P=0;P<D;P+=8){var z=j[P+6]-j[P+0],O=j[P+7]-j[P+1],g=Math.round(4*Math.sqrt(z*z+O*O));for(var t=0;
t<g;t++){var $=t/g,i=1-$,A=i*i*i*j[P+0]+3*i*i*$*j[P+2]+3*i*$*$*j[P+4]+$*$*$*j[P+6],H=i*i*i*j[P+1]+3*i*i*$*j[P+3]+3*i*$*$*j[P+5]+$*$*$*j[P+7];
C.push(A,H);if(P+t!=0){var z=A-u,O=H-h;q.push(q[q.length-1]+Math.sqrt(z*z+O*O));w.push((P>>>3)+$)}u=A;
h=H}}var F=q.length,T=q[F-1],_=fu.ti(b[0],w),V=fu.ti(b[1]%N,w),X=q[_%F],o=q[V%F];if(X>=o)o+=T;return[C,w,q,T,X,o]};
fu.ti=function(r,j){var P=0;while(j[P]<r)P++;return P};fu.akg=function(r,j){var D=0,P=0,N,b,Y;while(D<j){N=r[P+2]-r[P];
b=r[P+3]-r[P+1];Y=Math.sqrt(N*N+b*b);D+=Y;P+=2}return[r[P],r[P+1],N/Y,b/Y]};fu.prototype.adn=function(r){return this.WQ[r]};
fu.prototype.acs=function(r){for(var j=0;j<this.Av.length;j++){var D=this.Av[j];for(var N=0;N<D.vA.length;
N++){var b=D.vA[N],Y=D.M2[b.start].start,x=D.M2[b.end-1].end;if(Y<r&&r<x)return[Y,x-1]}}return[0,1]};
fu.prototype.Gb=function(r,j){var D=-1,N=this.Av;if(this.bW==2){var b=1e9,Y=0,x=N[0],C=x.vA[0];for(var w=C.start;
w<C.end;w++){var q=x.M2[w];for(var u=q.fq;u<=q.cI;u++){var h=x.Mk[u],z=h.DN.d,O=r.x-h.kI.x,g=r.y-h.kI.y,t=O*O+g*g;
if(t<b){b=t;Y=h.D2}}}if(Y!=0&&this.acV.codePointAt(Y-1)>65535)Y--;return Y}for(var $=0;$<N.length;$++){var x=N[$];
for(var i=0;i<x.vA.length;i++){D++;var C=x.vA[i],A=x.vA[i+1];if(A==null&&$<N.length-1)A=N[$+1].vA[0];
if(j!=null){if(D!=j)continue}else{if(A!=null&&x.kI.y+C.kI.y<r.y)continue}for(var w=C.start;w<C.end;w++){var q=x.M2[w];
for(var u=q.fq;u<=q.cI;u++){var h=x.Mk[u],z=h.DN.d,H=x.kI.x+C.kI.x+q.kI.x,F=H+h.kI.x,T=H+(u<q.cI?x.Mk[u+1].kI.x:h.kI.x+z);
if(r.x<=T||w+1==C.end&&u==q.cI){var _=x.aas+h.D2,V=this.WQ[_],X=V.XV&1;if(V.Zu!="\n"&&(X==0&&r.x>F+z/2||X==1&&r.x<F+z/2))_+=this.acV.codePointAt(_)>65535?2:1;
return _}}}}}};fu.prototype.ru=function(r){var j={DN:new bf,E2:0},D=0;for(var N=0;N<this.Av.length;N++){var b=this.Av[N];
for(var Y=0;Y<b.vA.length;Y++){var x=b.vA[Y];j.E2=D;D++;for(var C=x.start;C<x.end;C++){var w=b.M2[C];
for(var q=w.start;q<w.end;q++){if(q==r){var u=this.WQ[q],h=u.A3,z=b.Mk[h].D2,O=1;while(b.Mk[h]!=null&&b.Mk[h].D2==z){var g=b.Mk[h],t=b.kI.x+x.kI.x+w.kI.x+g.kI.x,$=b.kI.y+x.kI.y+w.kI.y+g.kI.y;
j.DN=j.DN.zs(new bf(t,$-u.lineHeight,g.DN.d,u.lineHeight));j.yS=g.yS;h+=O}return j}}}}}};fu.prototype.q6=function(){var r=Infinity,j=Infinity,D=-Infinity,N=-Infinity;
for(var P=0;P<this.Av.length;P++){var b=this.Av[P];for(var Y=0;Y<b.vA.length;Y++){var x=b.vA[Y];if(!x.Fs)break;
for(var C=x.start;C<x.end;C++){var w=b.M2[C];for(var q=w.fq;q<=w.cI;q++){var u=b.Mk[q],h=u.DN,z=b.kI.x+x.kI.x+w.kI.x+u.kI.x,O=b.kI.y+x.kI.y+w.kI.y+u.kI.y;
r=Math.min(r,z+h.x);j=Math.min(j,O+h.y);D=Math.max(D,z+h.x+h.d);N=Math.max(N,O+h.y+h.r)}}}}return new bf(r,j,D-r,N-j)};
fu.kQ=function(r){return 19968<=r&&r<=40959||12288<=r&&r<=12543};fu.ahO=function(r,j,D,N,b,Y,x){var C=[Y],w=0;
for(var P=Y;P<x;P++){if(D[P]==null)console.log(P,Y,x,D);var q=D[P].Zu,u=q.charCodeAt(0);if(u==32||u==9){C.push(w,P,1,P+1);
w=0}else if(u==3851){C.push(w+1,P+1);w=0}else if(fu.kQ(u)){C.push(w,P);w=1}else if(P!=Y&&D[P].XV!=D[P-1].XV){C.push(w,P);
w=1}else w++}C.push(w);var h=[];for(var P=0;P<C.length;P+=2){var z=C[P],O=C[P+1];if(O==0)continue;h.push(new fu.a1f(r,j,D,N,b,z,O))}return h};
fu.alB=function(r,j,D,N,b,Y,x){var C=[0,j?j.d:1e9],w=[];if(N){var q=r[Y].qX,u=b+(b==0?q:r[Y].lineHeight),h=u-q*.9,z=R.K.lN(N[0],h),O=z.length,g=R.K.lN(N[0],u),t=g.length;
if(O!=0&&t!=0){var $=0,i=0;C=[];while($<O&&i<t){var A=Math.max(z[$],g[i]),H=z[$+1],F=g[i+1],T=Math.min(H,F);
if(A<T)C.push(A,T);if(H<F)$+=2;else i+=2}}}for(var _=0;_<C.length;_+=2){var V=C[_+1]-C[_],X=0,o=Y,c=j?V-D.StartIndent-D.EndIndent-(Y==0?D.FirstLineIndent:0):Infinity;
while(Y!=r.length){var E=r[Y],f=X==0||(E.Nu||E.VX)||X+E.DN.d<c;if(!f)break;X+=E.DN.d;Y++}w.push(Y-o)}x[0]=w;
x[1]=C;x[2]=Y};fu.aku=function(r,j){var D=r.length,N=new Uint32Array(D),b=new Uint8Array(D),Y=0;for(var P=0;
P<D;P++){b[P]=0;var x=r.charCodeAt(P);N[P]=x;if(x>Y)Y=x}if(Y>1424)b=fu.as1(N,j);return b};fu.Rt=function(r,j,D,N,b,Y,x){this.M2=[];
this.vA=[];this.kI=new gJ(0,0);this.Mk=null;this.M2=null;this.xt=cU.aoN(r,N);var C=this.xt,h=0,g="",H=0,F=1,m=0;
if(N!=0){var w=C.SpaceBefore;if(w!=null)Y[0]+=w}var q=r.EngineDict.ParagraphRun.RunLengthArray,u=q[N];
for(var P=0;P<N;P++)h+=q[P];var z=C._Direction?C._Direction:0;this.aas=h;var O=cU.g2(r).slice(h,h+u);
for(var t=0;t<O.length;t++){var $=O.charAt(t);g+=D[h+t].xt.FontCaps==0?$:$.toUpperCase()}O=g;var i=fu.aku(O,z),A=[],T=i[P]&1,_=D[h].KB;
D[h].XV=i[0];for(var P=1;P<O.length;P++){var $=D[h+P],V=i[P];$.XV=V;if(V!=T||$.KB!=_){A.push(H,F);H=P;
F=1;T=V;_=$.KB}else F++}A.push(H,F);var X=this.Mk=[];for(var P=0;P<A.length;P+=2){var o=A[P],c=A[P+1],f=(D[h+o].XV&1)==0,d=O.slice(o,o+c),s=Typr.U.shapeHB(D[h+o].KB,d,f),B=[],M=0;
for(var t=0;t<s.length;t++){var a=s[t];B.push({p:a.g,D2:a.cl,tu:a.ax,rW:a.ay,vt:a.dx,la:a.dy})}s=B;var U=s.slice(0);
if(!f)U.reverse();for(var t=0;t<d.length;t++){while(M+1<U.length&&U[M+1].D2<=t){M++}while(M>0&&U[M-1].D2==t)M--;
D[h+o+t].A3=X.length+(f?M:U.length-M-1)}for(var t=0;t<s.length;t++){X.push(s[t]);s[t].D2+=o;var $=D[h+s[t].D2];
if($.ec!=-1){s[t].p=$.ec;var W=$.KB.hmtx;if(W){var n=Object.keys(W)[0];s[t].tu=W[n][$.ec]}}if($.Zu=="\n")s[t].tu=0;
if($.Zu=="\t")s[t].tu=$.KB.head.unitsPerEm*36/$.xt.FontSize}}var e=cU.Cq(C),Q=this.M2=fu.ahO(r,j,D,h,X,h,h+u),J=this.vA,p=-1,g=[null,null,0];
while(m<Q.length){fu.alB(Q,b,C,x,Y[0],m,g);p++;var L={start:m,end:0,DN:new bf,kI:new gJ(0,0),Fs:!0},gr=0,cp=0;
J.push(L);L.end=g[2];var S=L.end==Q.length;function eJ(U,o,j8){var dg=j8-o>>>1;for(var P=0;P<dg;P++){var gR=U[o+P];
U[o+P]=U[j8-1-P];U[j8-1-P]=gR}}for(var hy=1;hy<5;hy++){var v=-1;for(var P=L.start;P<L.end;P++){var V=D[Q[P].start].XV;
if(v==-1&&V>=hy)v=P;else if(v!=-1&&V<hy){eJ(Q,v,P);v=-1}}var ff=L.end;if(z==0&&Q[ff-1].Nu)ff--;if(v!=-1)eJ(Q,v,ff)}var K=g[0],jo=g[1],v=m,g5=m;
for(var fQ=0;fQ<K.length;fQ++){var iT=jo[fQ*2+1]-jo[fQ*2],ac=0;v=g5;g5+=K[fQ];var aR=this.aft(v,g5,Q,z,b!=null);
if(b){if(e==1||S&&e==4)ac=aR[1]+(iT-aR[0]);if(e==2||S&&e==5)ac=aR[1]+(iT-aR[0])/2;if(p==0)ac+=C.FirstLineIndent;
ac+=C.StartIndent}else{if(e==0)ac=C.StartIndent+C.FirstLineIndent;if(e==1)ac=-aR[0]-C.EndIndent;if(e==2)ac=-aR[0]/2}ac+=jo[fQ*2];
if(b&&e>2&&(e==6||!S))this.at5(v,g5,Q,iT,z,ac);else{var hV=ac;for(var P=v;P<g5;P++){var cu=Q[P],iy=cu.DN.d;
cu.kI.x=hV;if(cu.Yg=="\t")iy=Math.ceil((hV+4)/36)*36-hV;hV+=iy}}}m=L.end;for(var P=L.start;P<L.end;P++){var gP=Q[P].DN.clone();
gP.lK(Q[P].kI);L.DN=L.DN.zs(gP);gr=Math.max(gr,Q[P].qX);cp=Math.max(cp,Q[P].lineHeight)}L.kI.y=p==0?0:J[p-1].kI.y+cp;
if(p==0){if(N==0&&b)Y[0]+=gr;if(N!=0)Y[0]+=cp;this.kI.y=Y[0]}else Y[0]+=cp;if(b)L.Fs=this.kI.y+L.kI.y<b.y+b.r}var g7=C.SpaceAfter;
if(g7!=null)Y[0]+=g7};fu.Rt.prototype.aft=function(r,j,D,N,b){var Y=0,x=0;for(var P=r;P<j;P++)Y+=D[P].DN.d;
if(b){if(N==0)for(var P=j-1;P>=r;P--)if(D[P].Nu||D[P].VX)Y-=D[P].DN.d;else break;if(N==1)for(var P=r;
P<j;P++)if(D[P].Nu||D[P].VX){var C=D[P].DN.d;Y-=C;x-=C}else break}return[Y,x]};fu.Rt.prototype.at5=function(r,j,D,N,b,Y){var x=0,C=0,w=0,q=0;
for(var P=r;P<j;P++)if(D[P].Nu)w++;else{x+=D[P].DN.d;C++}if(b==0)for(var P=j-1;P>=r;P--)if(D[P].Nu||D[P].VX){if(D[P].Nu){w--}}else break;
if(b==1)for(var P=r;P<j;P++)if(D[P].Nu||D[P].VX){if(D[P].Nu){w--;q++}}else break;if(C<=1||w==0){if(C==1)D[r].kI.x=Y;
return}var u=(N-x)/w,h=-q*u;for(var P=r;P<j;P++){if(D[P].Nu)this.Mk[D[P].fq].DN.d=D[P].DN.d=u;D[P].kI.x=Y+h;
h+=D[P].DN.d}};fu.a1f=function(r,j,D,N,b,Y,x){this.Yg="";for(var P=0;P<x;P++)this.Yg+=D[Y+P].Zu;this.Nu=x==1&&(D[Y].Zu==" "||D[Y].Zu=="\t");
this.VX=x==1&&D[Y].Zu=="\n";this.start=Y;this.end=Y+x;this.DN=new bf;this.kI=new gJ(0,0);this.qX=0;this.lineHeight=0;
var C=0,w=0;if(x==0){this.lineHeight=D[Y].lineHeight;this.qX=D[Y].qX;this.DN=new bf(0,-D[Y].lineHeight,0,D[Y].lineHeight)}var q=D[Y].A3,u=D[Y+x-1].A3;
if(u<q){var h=q;q=u;u=h}while(u+1<b.length&&b[u].D2==b[u+1].D2){u++}this.fq=q;this.cI=u;for(var z=q;
z<=u;z++){var O=b[z],g=D[N+O.D2],t=r._LineOrientation==2&&(g.xt.BaselineDirection!=2||fu.kQ(g.Zu.charCodeAt(0))),$=Typr.U.glyphToPath(g.KB,O.p),T=0;
O.path={J:$.cmds,v:$.crds};var i=g.xt.FontSize,A=1/g.KB.head.unitsPerEm*i;if(!g.xt.AutoKerning)C+=g.xt.Kerning*2*A*g.scale.x;
O.kI=new gJ(C,0);O.yS=0;if(t&&O.path.v.length>0){O.yS=-Math.PI/2;O.kI.x+=i*.83;O.kI.y=-i*.3+O.tu*A/2;
O.tu=i/A}var H=O.tu*A*g.scale.x;O.DN=new bf(0,-g.lineHeight,H,g.lineHeight);var F=O.DN.clone();F.lK(O.kI);
if(g.xt.Tracking!=null)T=g.xt.Tracking*.001*i;if(g.xt.FauxBold==!0)T+=.027*i;C+=H+T;if(x==1&&g.Zu==" ")F.d+=2*T;
else if(x==1&&g.Zu!=null&&fu.kQ(g.Zu.charCodeAt(0)))F.d+=T;this.DN=this.DN.zs(F);this.qX=Math.max(this.qX,g.qX);
this.lineHeight=Math.max(this.lineHeight,g.lineHeight)}};fu.o6=0;fu.Bz=function(){if(fu.o6==2)return!0;
if(fu.o6==1)return!1;fu.o6=1;function r(){fetch("code/external/fribidi.wasm").then(function(j){return j.arrayBuffer()}).then(function(j){return WebAssembly.instantiate(j)}).then(function(j){var D=j.instance.exports,N=D.memory,b=16,Y=256,x=1,C=b|Y,w=b|Y|x;
fu.as1=function(u,h){var z=u.length,O=z*4+4+z*4+z*4+z;aP.R0(D,O+z+1e7);var g=new Uint8Array(N.buffer),t=new Uint32Array(N.buffer),$=D.calloc(O,1),i=$+z*4,A=i+4,H=A+z*4,F=H+z*4;
t.set(u,$>>>2);t[i>>>2]=h==0?C:w;D.fribidi_get_bidi_types($,z,A);D.fribidi_get_bracket_types($,z,A,H);
D.fribidi_get_par_embedding_levels_ex(A,H,z,i,F);var T=g.slice(F,F+z);D.free($);return T};fu.o6=2;var q=new iu(y.E.V,!0);
q.data={e:y.G.VD,jB:"add",Ek:e5.YB,SM:null};aX.mm.g(q)})}Typr.U.initHB("code/external/hb.wasm",r);return!1};
function cU(){}cU.x4=function(r){return JSON.parse(JSON.stringify(r))};cU.x1=function(r,j){for(var D in j)r[D]=j[D]};
cU.WJ=function(r,j,D){var N=cU.agr();if(D)cU.lc(N,0,0,D);var b={F:new j9(1,0,0,1,Math.round(r),Math.round(j)),d1:N};
b.pi=cU.aoF();b.z8=R.s_.O();b.DU=new bf;return b};cU.air=function(r){var j=["CharacterDirection",0];
for(var P=0;P<j.length;P+=2){if(r[j[P]]!=null&&r[j[P]]!=j[P+1]){throw"e";console.log(j[P],r[j[P]])}}if(r instanceof Array)for(var P=0;
P<r.length;P++)cU.air(r[P]);else if(r instanceof Object)for(var D in r)cU.air(r[D])};cU.Cq=function(r,j){if(j==null)j=r.Justification;
var D=r._Direction?r._Direction:0;if(D==1){if(j==0||j==3)j++;else if(j==1||j==4)j--}return j};cU.aO=function(r){if(r.add==null)return;
var j=r.d1,D=j.Curve,N=r.add.vmsk,b=N.W,Y=R.K.WM(b,!0).v,x=r.F.clone();x.gq();R.K.F(Y,x,Y);var C=Y.slice(0,8);
for(var w=8;w<Y.length;w+=6)C.push(Y[w-2],Y[w-1],Y[w],Y[w+1],Y[w+2],Y[w+3],Y[w+4],Y[w+5]);D.Points=C;
D.TextOnPathTRange=N.qE.slice(0);D.Reversed=N.iI;if(cU.Tl(j)==1){var D=fu.s7(j.Curve),q=R.K.mN(D[0]);
cU.TS(j,[0,0,q.d,q.r].map(Math.round));for(var P=0;P<C.length;P+=2){C[P]-=q.x;C[P+1]-=q.y}var u=new j9(1,0,0,1,q.x,q.y);
u.concat(r.F);r.F=u}};cU.qN=function(r){if(r.add==null)return;var j=r.add.vmsk,D=r.d1.Curve,N=D.Points,b={J:["M"],v:[N[0],N[1]]};
for(var P=0;P<N.length;P+=8){b.J.push("C");b.v.push(N[P+2],N[P+3],N[P+4],N[P+5],N[P+6],N[P+7])}R.K.F(b.v,r.F,b.v);
var Y=R.K.CH(b,!0);j.W=Y;j.iI=D.Reversed;j.qE=D.TextOnPathTRange.slice(0);r.add.vogk=G.HJ(Y)};cU.z2=function(r){var j={a:0,p:0,M:0};
if(r.FillColor){var D=r.FillColor,N=D.Values;if(D.Type==1)j={a:N[1]*255,p:N[2]*255,M:N[3]*255};else if(D.Type==2){var b={classID:"CMYC",Cyn:{t:"doub",v:N[1]*100},Mgnt:{t:"doub",v:N[2]*100},Ylw:{t:"doub",v:N[3]*100},Blck:{t:"doub",v:N[4]*100}};
j=R._.z2(b)}else console.log("Unknown color type")}return j};cU.a6P=function(r){for(var P=0;P<r.length;
P++){var j=r[P].StyleSheet.StyleSheetData,D=j.FillColor;if(D&&D.Type==2){var N=cU.z2(j);D.Type=1;D.Values=[1,N.a/255,N.p/255,N.M/255]}}};
cU.q7=function(r,j){var D;if(cU.Tl(r.d1)==1){var N=cU.Nb(r.d1);D=new bf(0,0,N[2]-N[0],N[3]-N[1])}else{D=j.q6();
if(j.Uk){var b=j.Uk.clone(),Y=R.K.rR(D);R.K.F(Y.v,b,Y.v);D=R.K.mN(Y.v)}}return D};cU.JF=function(r){var j=r[0];
for(var P=0;P<r.length;P++)j=cU.ae3(j,r[P]);return j};cU.ae3=function(r,j){var D={};for(var N in r)if(JSON.stringify(r[N])==JSON.stringify(j[N]))D[N]=r[N];
return D};cU.ht=function(r,j){var D=r.HB,N=-1;for(var P=0;P<D.length;P++)if(D[P].Name==j)N=P;if(N==-1){N=D.length;
D.push({FontType:1,Name:j,Script:0,Synthetic:0})}r.WQ.Font=N};cU.g2=function(r){return r.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
cU.Lz=function(r,j){r.EngineDict.Editor.Text=j.replace(/\n/g,"\r")};cU.Tl=function(r){return r.Curve&&r.Curve.TextOnPathTRange[0]>=0?2:r.EngineDict.Rendered.Shapes.Children[0].ShapeType};
cU.jp=function(r,j){var D=r.EngineDict.Rendered.Shapes.Children[0];D.ShapeType=j;var N=D.Cookie.Photoshop;
N.ShapeType=j;N.Base.ShapeType=j;if(j==0){delete N.BoxBounds;N.PointBase=[0,0]}if(j==1){delete N.PointBase;
N.BoxBounds=[0,0,1,1]}};cU.Nb=function(r){return r.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
cU.TS=function(r,j){r.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=j};cU.a70=function(r,j){var D=r.EngineDict.AlternateGlyphRun;
if(D==null)return-1;var N=cU.GM(D.RunLengthArray,j).Gu,b=D.RunArray[N].Glyph;return b==null?-1:b};cU.ab0=function(r,j,D){var N=r.EngineDict.AlternateGlyphRun;
if(N==null){N=r.EngineDict.AlternateGlyphRun=cU.aiX();N.RunArray.push({});N.RunLengthArray.push(cU.g2(r).length)}var b=cU.GM(N.RunLengthArray,j),Y=b.Gu,x=j-b.pO,C=N.RunArray[Y],w=JSON.stringify(C),q=N.RunLengthArray[Y];
if(x!=0){N.RunArray.splice(Y,0,JSON.parse(w));N.RunLengthArray.splice(Y,0,x);N.RunLengthArray[Y+1]-=x;
Y++;q-=x;x=0}if(q!=1){N.RunArray.splice(Y+1,0,JSON.parse(w));N.RunLengthArray.splice(Y+1,0,q-1);N.RunLengthArray[Y]=1;
q=1}C.Glyph=D};cU.ajK=function(r,j){return cU.acy(r,cU.a2w(r,j))};cU.a2w=function(r,j){var D=r.EngineDict.StyleRun.RunLengthArray;
return cU.GM(D,j).Gu};cU.acy=function(r,j){var D=r.ResourceDict.StyleSheetSet[0].StyleSheetData,N={};
for(var b in D)N[b]=D[b];var Y=r.EngineDict.StyleRun.RunArray[j].StyleSheet.StyleSheetData;cU.x1(N,Y);
return N};cU.aoN=function(r,j){var D=r.ResourceDict.ParagraphSheetSet[0].Properties,N={};for(var b in D)N[b]=D[b];
var Y=r.EngineDict.ParagraphRun.RunArray[j].ParagraphSheet.Properties;cU.x1(N,Y);var x=["StartIndent","EndIndent","FirstLineIndent"];
for(var P=0;P<3;P++)if(N[x[P]]==null)N[x[P]]=0;return N};cU._w=function(r,j,D){if(D=="")return;var N=cU.g2(r);
cU.Lz(r,N.substring(0,j)+D+N.substring(j,N.length));var b=r.EngineDict.StyleRun,Y=b.RunLengthArray,x=cU.GM(Y,j-1);
Y[x.Gu]+=D.length;var C=r.EngineDict.AlternateGlyphRun;if(C){var Y=C.RunLengthArray,x=cU.GM(Y,j-1);Y[x.Gu]+=D.length}var w=r.EngineDict.ParagraphRun,Y=w.RunLengthArray,q=cU.GM(Y,j),u=D.split("\n");
if(u.length==1){Y[q.Gu]+=D.length;return}Y.splice(q.Gu+1,0,Y[q.Gu]-(j-q.pO));w.RunArray.splice(q.Gu+1,0,cU.x4(w.RunArray[q.Gu]));
Y[q.Gu]-=Y[q.Gu+1];Y[q.Gu]+=u[0].length+1;for(var P=1;P<u.length-1;P++){w.RunArray.splice(q.Gu+P,0,cU.x4(w.RunArray[q.Gu+P-1]));
w.RunLengthArray.splice(q.Gu+P,0,u[P].length+1)}Y[q.Gu+u.length-1]+=u[u.length-1].length};cU.hd=function(r,j,D){var N=cU.g2(r);
cU.Lz(r,N.substring(0,j)+N.substring(D,N.length));cU.H4(r.EngineDict.ParagraphRun,j,D,!0);cU.H4(r.EngineDict.StyleRun,j,D,!1);
var b=r.EngineDict.AlternateGlyphRun;if(b)cU.H4(b,j,D,!1)};cU.H4=function(r,j,D,N){var b=r.RunLengthArray,Y=cU.GM(b,j),x=cU.GM(b,D),C=[];
for(var P=0;P<b.length;P++)for(var w=0;w<b[P];w++)C.push(P);C.splice(j,D-j);var q=[];for(var P=0;P<b.length;
P++)q.push(0);for(var P=0;P<C.length;P++)q[C[P]]++;for(var P=0;P<b.length;P++){if(q[P]==0){q.splice(P,1);
b.splice(P,1);r.RunArray.splice(P,1);P--}else if(q[P]<b[P])b[P]=q[P]}if(N&&Y.Gu!=x.Gu&&Y.pO!=j){b[Y.Gu]+=b[Y.Gu+1];
b.splice(Y.Gu+1,1);r.RunArray.splice(Y.Gu+1,1)}};cU.lc=function(r,j,D,N){var b=r.EngineDict.Editor.Text.length;
if(D==b-2)D++;if(N.WQ.Font!=null)r.ResourceDict.FontSet=N.HB.slice(0);if(j<=D)cU.a3Q(r.EngineDict.StyleRun,N.WQ,j,D,!0);
cU.a3Q(r.EngineDict.ParagraphRun,N.Av,j,D,!1)};cU.a3Q=function(r,j,D,N,b){var Y=r.RunLengthArray;if(b){var x=cU.GM(Y,D);
if(x.pO!=D){var C=Y[x.Gu];Y.splice(x.Gu,0,D-x.pO);Y[x.Gu+1]=C-Y[x.Gu];r.RunArray.splice(x.Gu+1,0,cU.x4(r.RunArray[x.Gu]))}var w=cU.GM(Y,N);
if(w.pO+Y[w.Gu]-1!=N){var C=Y[w.Gu];Y.splice(w.Gu,0,N-w.pO+1);Y[w.Gu+1]=C-Y[w.Gu];r.RunArray.splice(w.Gu+1,0,cU.x4(r.RunArray[w.Gu]))}}var x=cU.GM(Y,D),w=cU.GM(Y,N);
if(b)for(var P=x.Gu;P<=w.Gu;P++)cU.x1(r.RunArray[P].StyleSheet.StyleSheetData,j);else for(var P=x.Gu;
P<=w.Gu;P++)cU.x1(r.RunArray[P].ParagraphSheet.Properties,j)};cU.a4S=function(r,j,D){var N=r.EngineDict.StyleRun.RunLengthArray,b=[],Y=0;
for(var P=0;P<N.length;P++){var x=N[P];for(var C=0;C<x;C++)if(j<=Y+C&&Y+C<D)b.push(P);Y+=x}var w=b[0],q=[];
for(var P=0;P<b.length;P++){var u=b[P]-w;if(u==q.length)q.push(0);q[u]++}return q};cU.a4T=function(r){var j=r.EngineDict.StyleRun,D=j.RunArray,N=j.RunLengthArray;
for(var P=0;P<N.length-1;P++){var b=D[P].StyleSheet.StyleSheetData,Y=D[P+1].StyleSheet.StyleSheetData;
if(JSON.stringify(b)==JSON.stringify(Y)){D.splice(P+1,1);N[P]+=N[P+1];N.splice(P+1,1);P--}}};cU.Wr=function(r){var j=r.pi.AntA.v.Annt;
j=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(j);if(j==-1)j=1;return j};cU.Wc=function(r,j){r.pi.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][j]};
cU.eZ=function(r,j,D){var N={HB:r.ResourceDict.FontSet.slice(0),WQ:[],Av:[]},b=r.EngineDict.StyleRun.RunLengthArray,Y=cU.GM(b,j).Gu,x=cU.GM(b,D).Gu;
for(var P=Y;P<=x;P++){var C=cU.x4(r.ResourceDict.StyleSheetSet[0].StyleSheetData),w=r.EngineDict.StyleRun.RunArray;
if(w.length==0)continue;var q=w[P].StyleSheet.StyleSheetData;cU.x1(C,q);N.WQ.push(C)}var u=r.EngineDict.ParagraphRun.RunLengthArray,h=cU.GM(u,j).Gu,z=cU.GM(u,D).Gu;
for(var P=h;P<=z;P++){var O=r.EngineDict.ParagraphRun.RunArray;if(O.length==0)continue;N.Av.push(cU.x4(O[P].ParagraphSheet.Properties))}N.WQ=N.WQ.length==0?{}:cU.JF(N.WQ);
N.Av=N.Av.length==0?{}:cU.JF(N.Av);return N};cU.rq=function(r,j){var D,N;D=["FontSize","Leading","BaselineShift"];
N=r.WQ;for(var P=0;P<D.length;P++)if(N[D[P]]!=null)N[D[P]]*=j;D=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
N=r.Av;for(var P=0;P<D.length;P++)if(N[D[P]]!=null)N[D[P]]*=j};cU.a5I=function(){return cU.eZ(cU.am2,0,0)};
cU.aoF=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
cU.GM=function(r,j){var D=0,P=0;while(D+r[P]<=j){D+=r[P];P++}return{Gu:P,pO:D}};cU.agr=function(){var r=cU.x4(this.am2);
return r};cU.asT={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
cU.a7B={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
cU.aiX=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};cU.am2={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(cU.asT))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(cU.asT))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(cU.a7B))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var ck={};ck.a9z=function(r){var j=ck.aem(r._0,r._1);ck.as3(j,r._0);return j};ck.ahf=function(r,j,D){var N={};
N._98={_0:"i7"};N._0=ck.aqM(r,j,D?D._0:null);N._1=ck.apw(r,j,N._0,D?D._1:null);return N};ck.aqM=function(r,j,D){var N={};
N._1=ck.ajP(r,D?D._1:null);N._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};N._3=JSON.parse(JSON.stringify(ck.aqR));
N._4=JSON.parse(JSON.stringify(ck.a21));N._5=ck.ai7(r,N._1._0,D?D._5:null);N._6=ck.a6M(r,D?D._6:null);
N._8=ck.ag6(r,j,D?D._8:null);N._9=ck.aqk;return N};ck.as3=function(r,j){ck.aj2(r,j._5,j._1._0)};ck.ajP=function(r,j){var D=[],N=[];
for(var P=0;P<r.length;P++){var b=r[P].ResourceDict.FontSet;for(var Y=0;Y<b.length;Y++){var x=b[Y];if(N.indexOf(x.Name)!=-1)continue;
D.push(x);N.push(x.Name)}}var C={_0:[]};for(var P=0;P<D.length;P++){var w=D[P],q={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+w.Name,_1:"i"+w.Script,_2:"i"+w.FontType}}};
if(w.Script==0)delete q._0._0._1;C._0.push(q)}return C};ck.ai7=function(r,j,D){var N={_0:[],_1:[]},b={_0:JSON.parse(JSON.stringify(ck.ad8))};
ck.agy(b._0,r[0].ResourceDict.StyleSheetSet[0],j,r[0].ResourceDict.FontSet);N._0.push(b);N._1.push({_0:"i0"});
N._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});N._1.push({_0:"i1"});return N};ck.aj2=function(r,j,D){var N=j._0[0];
for(var P=0;P<r.length;P++)ck.a0N(N._0,r[P].ResourceDict.StyleSheetSet[0],D,r[P].ResourceDict.FontSet)};
ck.a6M=function(r,j){var D={_0:[],_1:[]},N={_0:JSON.parse(JSON.stringify(ck.bk))};ck.L0(N._0,r[0].ResourceDict.ParagraphSheetSet[0]);
D._0.push(N);D._1.push({_0:"i0"});N={_0:JSON.parse(JSON.stringify(ck.bk))};ck.L0(N._0,r[0].ResourceDict.ParagraphSheetSet[0]);
N._0._0="sBasic Paragraph";N._0._6="i0";D._0.push(N);D._1.push({_0:"i1"});return D};ck.ag6=function(r,j,D){var N={_0:[]};
for(var P=0;P<r.length;P++){var b=r[P].Curve,Y={};N._0.push({_0:Y});var x=cU.Tl(r[P]);Y._2={};Y._2._0="i"+x;
if(r[P]._LineOrientation==2)Y._2._1="i2";if(x==0){Y._2._6=["f-1","f-1"];Y._2._11={_4:"i-1",_7:!1}}else if(x==1&&b==null){var C=cU.Nb(r[P]),w=C[2],q=C[3];
Y._1={_0:ck.ys("f",[0,0,0,0,w,0,w,0,w,0,w,0,w,q,w,q,w,q,w,q,0,q,0,q,0,q,0,q,0,0,0,0])};Y._2._6=["f-2","f-2"];
Y._2._11={_4:"i-2",_7:!1}}else if(x==1){var C=cU.Nb(r[P]),w=C[2],q=C[3];Y._1={_0:ck.ys("f",b.Points)};
Y._2._6=["f-3","f-3"];Y._2._11={_4:"i-3",_7:!1}}else if(x==2){Y._1={_0:ck.ys("f",b.Points)};Y._2._6=ck.ys("f",b.TextOnPathTRange);
Y._2._11={_0:b.Reversed,_3:"i0",_5:"f0",_7:!1}}}return N};ck.apw=function(r,j,D,N){var b={};b._0=JSON.parse(JSON.stringify(ck.a8o));
b._1=ck.a5C(r,j,D,N?N._1:null);b._2=JSON.parse(JSON.stringify(ck.ad8._6));b._3=JSON.parse(JSON.stringify(ck.bk._5));
return b};ck.aem=function(r,j){return ck.a3z(r,j._1)};ck.a5C=function(r,j,D,N){var b=[],Y=D._1._0;for(var P=0;
P<r.length;P++){var x=r[P],C={_0:{}};b.push(C);C._0._0="s"+x.EngineDict.Editor.Text;C._0._0=C._0._0;
var w=C._0._5={_0:[]},q=x.EngineDict.ParagraphRun;for(var u=0;u<q.RunArray.length;u++){var h={_0:{}};
w._0.push(h);h._0._0={_0:"s",_5:{},_6:"i1"};ck.L0(h._0._0,q.RunArray[u].ParagraphSheet);h._1="i"+q.RunLengthArray[u]}var z=C._0._6={_0:[]};
q=x.EngineDict.StyleRun;for(var u=0;u<q.RunArray.length;u++){var O={_0:{}};z._0.push(O);O._0._0={_0:"s",_5:"i1",_6:{}};
ck.agy(O._0._0,q.RunArray[u].StyleSheet,Y,x.ResourceDict.FontSet);O._1="i"+q.RunLengthArray[u]}q=x.EngineDict.AlternateGlyphRun;
if(q){var g=C._0._9={_0:[]};for(var u=0;u<q.RunArray.length;u++){var t={_0:{}};g._0.push(t);var $=q.RunArray[u];
if($.Glyph!=null){t._0._0={_0:"i"+$.Glyph,_1:"e"}}t._1="i"+q.RunLengthArray[u]}console.log(C)}C._0._10={_0:"i4",_2:!0};
C._1=ck.view.a1A(x,null,P,null)}return b};ck.a3z=function(r,j){var D=[],N=r._1._0;for(var P=0;P<j.length;
P++){var b=cU.agr();D.push(b);var Y=j[P];b.EngineDict.Editor.Text=Y._0._0.slice(1);var x=b.EngineDict.ParagraphRun.RunArray[0],C=b.EngineDict.ParagraphRun,w=Y._0._5;
if(w)for(var q=0;q<w._0.length;q++){var u=w._0[q];C.RunLengthArray[q]=parseInt(u._1.slice(1));C.RunArray[q]=JSON.parse(JSON.stringify(x));
ck.agR(u._0._0,C.RunArray[q].ParagraphSheet)}else{C.RunLengthArray[0]=cU.g2(b).length}var h=Y._0._6;
C=b.EngineDict.StyleRun;if(h)for(var q=0;q<h._0.length;q++){var z=h._0[q];C.RunLengthArray[q]=parseInt(z._1.slice(1));
C.RunArray[q]={StyleSheet:{StyleSheetData:{}}};ck.a0N(z._0._0,C.RunArray[q].StyleSheet,N,b.ResourceDict.FontSet)}else{C.RunLengthArray[0]=cU.g2(b).length;
C.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return D};ck.agy=function(r,j,D,N,b){r._0="s"+(j.Name?j.Name:"");
var Y=r._6,x=b?b._6:null,C=j.StyleSheetData;if(C.Font==null)return;var w=N[C.Font].Name,q=-1;for(var P=0;
P<D.length;P++)if("s"+w==D[P]._0._0._0){q=P;break}Y._0="i"+q;if(C.FontSize!=null)Y._1="f"+C.FontSize;
if(C.FauxBold!=null)Y._2=C.FauxBold;if(C.FauxItalic!=null)Y._3=C.FauxItalic;if(C.AutoLeading!=null)Y._4=C.AutoLeading;
if(C.Leading!=null)Y._5="f"+C.Leading;if(C.HorizontalScale!=null)Y._6="f"+C.HorizontalScale;if(C.VerticalScale!=null)Y._7="f"+C.VerticalScale;
if(C.Tracking!=null)Y._8="i"+C.Tracking;if(C.BaselineShift!=null)Y._9="f"+C.BaselineShift;if(C.AutoKerning!=null)Y._11="i"+(C.AutoKerning?1:0);
if(C.FontCaps!=null)Y._12="i"+C.FontCaps;if(C.FontBaseline!=null)Y._13="i"+C.FontBaseline;if(C.Strikethrough!=null)Y._15="i"+(C.Strikethrough?1:0);
if(C.Underline!=null)Y._16="i"+(C.Underline?2:0);if(C.Ligatures!=null)Y._18=C.Ligatures;if(C.DLigatures!=null)Y._19=C.DLigatures;
if(C.BaselineDirection!=null)Y._35="i"+C.BaselineDirection;if(C.Language!=null)Y._38="i"+C.Language;
if(C.FillColor!=null)Y._53={_99:"/SimplePaint",_0:{_0:"i1",_1:ck.ys("f",C.FillColor.Values)}}};ck.a0N=function(r,j,D,N){var b=r._6;
if(b==null)return;var Y=j.StyleSheetData;if(b._0){var x=parseInt(b._0.slice(1)),C=D[x]._0._0._0.slice(1);
cU.ht({WQ:Y,HB:N},C)}if(b._1!=null)Y.FontSize=parseFloat(b._1.slice(1));if(b._2!=null)Y.FauxBold=b._2;
if(b._3!=null)Y.FauxItalic=b._3;if(b._4!=null)Y.AutoLeading=b._4;if(b._5!=null)Y.Leading=parseFloat(b._5.slice(1));
if(b._6!=null)Y.HorizontalScale=parseFloat(b._6.slice(1));if(b._7!=null)Y.VerticalScale=parseFloat(b._7.slice(1));
if(b._8!=null)Y.Tracking=parseFloat(b._8.slice(1));if(b._9!=null)Y.BaselineShift=parseFloat(b._9.slice(1));
if(b._11!=null)Y.AutoKerning=parseFloat(b._11.slice(1))==1;if(b._12!=null)Y.FontCaps=parseFloat(b._12.slice(1));
if(b._13!=null)Y.FontBaseline=parseFloat(b._13.slice(1));if(b._15!=null)Y.Strikethrough=parseFloat(b._15.slice(1))==1;
if(b._16!=null)Y.Underline=parseFloat(b._16.slice(1))==1;if(b._18!=null)Y.Ligatures=b._18;if(b._19!=null)Y.DLigatures=b._19;
if(b._35!=null)Y.BaselineDirection=parseFloat(b._35.slice(1));if(b._38!=null)Y.Language=parseFloat(b._38.slice(1));
var w=b._53;if(w){var q=w._0._0,u=w._0._1,h=[1,0,0,0],z=[];for(var P=0;P<u.length;P++)z[P]=parseFloat(u[P].slice(1));
if(q=="i0")h[1]=h[2]=h[3]=z[1];else if(q=="i1")h=z;else if(q=="i2")h=[1].concat(UDOC.C.cmykToRgb(z.slice(1)));
else console.log("unknown color type",q,z);Y.FillColor={Type:1,Values:h}}};ck.L0=function(r,j){r._0="s"+(j.Name?j.Name:"");
var D=r._5,N=j.Properties;if(N.Justification!=null)D._0="i"+N.Justification;if(N.FirstLineIndent!=null)D._1="f"+N.FirstLineIndent;
if(N.StartIndent!=null)D._2="f"+N.StartIndent;if(N.EndtIndent!=null)D._3="f"+N.EndtIndent;if(N.SpaceBefore!=null)D._4="f"+N.SpaceBefore;
if(N.SpaceAfter!=null)D._5="f"+N.SpaceAfter;if(N.AutoHyphenate!=null)D._9=N.AutoHyphenate;if(N._Direction!=null)D._33="i"+N._Direction;
if(N._ComposerEngine!=null)D._35="i"+N._ComposerEngine};ck.agR=function(r,j){var D=r._5;if(D==null)return;
var N=j.Properties;if(D._0)N.Justification=parseInt(D._0.slice(1))};ck.ys=function(r,j){var D=[];for(var P=0;
P<j.length;P++)D.push(r+j[P]);return D};ck.aqR={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
ck.a21={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
ck.ad8={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
ck.bk={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
ck.aqk={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
ck.a8o={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var cb={};cb.a8D=function(r){return cb.ls(r,cb.Jp,0)};cb.a36=function(r){return cb.bH(r,cb.Jp)};cb.ls=function(r,j,D){var N;
if(typeof r=="string")return r;if(r instanceof Array){N=[];for(var P=0;P<r.length;P++)N[P]=cb.ls(r[P],j,D+1)}else{N={};
var b={};for(var Y in j){var x=j[Y],C="_"+x[0];if(r[C]!=null){N[Y]=x[1]?cb.ls(r[C],x[1],D+1):r[C];b[C]=!0}}for(var Y in r){if(b[Y]==null){if(Y.length>3)continue;
console.log(j,b);console.log(Y,r);throw"e"}}}return N};cb.bH=function(r,j){var D;if(typeof r=="string")return r;
else if(r instanceof Array){D=[];for(var P=0;P<r.length;P++)D[P]=cb.bH(r[P],j)}else{D={};var N={};for(var b in j){var Y=j[b],x="_"+Y[0];
if(r[b]!=null){D[x]=Y[1]?cb.bH(r[b],Y[1]):r[b];N[b]=!0}}for(var b in r){if(N[b]==null){console.log(j,N);
console.log(b,r);throw"e"}}}return D};cb.yJ={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
cb.zT={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,cb.yJ],_StrokeColor:[54,cb.yJ],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,cb.yJ],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88]};
cb.a8x={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,cb.zT],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
cb.aej={_Name:[0],_Features:[5,cb.a8x],_Parent:[6],_97:[97]};cb.a5U={_Name:[0],_Parent:[5],_Features:[6,cb.zT],_97:[97]};
cb.Jp={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,cb.a5U]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,cb.aej]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_5:[5,{_0:[0],_1:[1],_2:[2],_3:[3],_5:[5,{_0:[0],_1:[1],_3:[3],_99:[99]}],_6:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,cb.aej]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,cb.a5U]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,cb.zT],_OriginalNormalParagraphFeatures:[3,cb.a8x]}]};
ck.view={};ck.view.a1A=function(r,j,D,N){var b={},Y=cU.Tl(r);b._0=[{_0:"i"+D}];return b};function CSS(){}CSS.af1=function(r,j){var D=r.add,N=D.vmsk,b=D.vstk,Y=D.lmfx,x=D.TySh,C=[],w=CSS.amo(Y,D);
if(r.x2()&&N){var q=R.b.sl(N.W);if(!q.jE()){C.push("width: "+Math.round(q.d)+"px");C.push("height: "+Math.round(q.r)+"px")}var u=R.b.al_(N.W);
if(u>0)C.push("border-radius: "+Math.round(u)+"px")}else if(x){var h=x.d1;if(cU.Tl(h)==1){var q=cU.Nb(h);
C.push("width: "+Math.round(q[2])+"px");C.push("height: "+Math.round(q[3])+"px")}CSS.a8M(C,cU.eZ(h,0,0),x.F,!1,!1,w[0])}var z=[],O=Y?Y.dropShadowMulti.v:0;
for(var P=0;P<O.length;P++){var g=O[P].v;if(g.enab.v){var t=g.Dstn.v.val,$=g.lagl.v.val*Math.PI/180;
if(g.uglg&&g.uglg.v)$=j.ta()*Math.PI/180;var i=t*Math.cos($),A=t*Math.sin($);z.push("drop-shadow("+(i==0?"0 ":CSS.Bm(-i)+"px ")+(A==0?"0 ":CSS.Bm(A)+"px ")+g.blur.v.val/2+"px "+CSS.Zw(g.Clr.v,g.Opct.v.val/100)+")")}}if(z.length!=0)C.push("filter: "+z.join(" "));
if(x==null)CSS.ak0(w,C);if(b==null||!b.strokeEnabled.v)b=fx.WU(Y);if(b&&b.strokeEnabled.v){var H=b.strokeStyleContent.v,F=H.classID,T=hz._O.DD.indexOf(b.strokeStyleLineCapType.v.strokeStyleLineCapType),_=hz._O.join.indexOf(b.strokeStyleLineJoinType.v.strokeStyleLineJoinType),V=b.strokeStyleOpacity.v.val/100,X=b.strokeStyleLineWidth.v.val,o="";
if(F=="solidColorLayer")o=CSS.Zw(H.Clr.v,V);C.push("border: "+X+"px solid "+o)}return C};CSS.amo=function(r,j){var D=fx.YC(r,j),N=D[0],b=D[1],Y,x;
if(N){Y=CSS.Zw(N.Clr.v,j.iOpa!=null?j.iOpa/255:1)}else if(b){x=CSS.ke(b)}return[Y,x]};CSS.ak0=function(r,j){if(r[0])j.push("background-color: "+r[0]);
if(r[1])j.push("background-image: "+r[1])};CSS.uF={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Bm=function(eK){return""+parseFloat(eK.toFixed(3))};CSS.K5=function(r){if(r==null)return{a:0,p:0,M:0};
var j=r.indexOf("(");if(j!=-1){var D=r.slice(j+1,r.length-1).split(",");for(var P=0;P<D.length;P++){var N=D[P].trim();
D[P]=parseFloat(N)*(N.endsWith("%")?255/100:1)}return{a:D[0],p:D[1],M:D[2]}}if(r.charAt(0)!="#"){var b=CSS.uF;
if(b[r])r=b[r];else console.log("unknown color "+r)}r=r.slice(1);if(r.length==3)r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2];
r=parseInt(r,16);return{a:r>>16&255,p:r>>8&255,M:r&255}};CSS.Zw=function(r,j){return CSS.XC(R._.z2(r),j)};
CSS.XC=function(r,j){if(j==null)j=1;var D=Math.round(r.a),N=Math.round(r.p),b=Math.round(r.M),Y=D<<16|N<<8|b;
return j==1?"#"+R.Za(Y):"rgba("+D+","+N+","+b+","+j+")"};CSS.ke=function(r){var j=r.Grad.v;if(j.Clrs==null)return"";
var D=j.Clrs.v.slice(0),N=j.Trns.v.slice(0),b=r.Ofst.v,Y=r.Type.v.GrdT=="Rdl"?1:0,x=(Y==1?"radial":"linear")+"-gradient",C=Y==0?Math.round(-r.Angl.v.val+90)+"deg":"circle at center",w=r.Rvrs.v;
if(w){D.reverse();N.reverse()}for(var P=0;P<D.length;P++){var q=D[P].v,u=P<N.length?N[P].v.Opct.v.val/100:1,h=q.Lctn.v/4096;
if(w)h=1-h;C+=", "+CSS.Zw(q.Clr.v,u)+" "+Math.round(h*100)+"%"}return x+"("+C+")"};CSS.a8M=function(r,j,D,N,b,Y){var x=j.WQ,C=N?1:I.T.zR(D),w=Math.round(x.FontSize*C);
r.push("font-size: "+w+"px");var q=x.Tracking;if(!N&&q!=null&&q!=0)r.push("letter-spacing: "+Math.round(q*w/1e3)+"px");
if(!x.AutoLeading)r.push("line-height: "+Math.round(x.Leading*C)+"px");if(x.Strikethrough)r.push("text-decoration: line-through");
var u=cU.z2(x);u=[u.a,u.p,u.M].map(Math.round);r.push((N?"fill: ":"color: ")+(Y?Y:"#"+R.Za(u[0]<<16|u[1]<<8|u[2])));
var h=j.HB[x.Font].Name;if(h){var z=aX.mm.qp(h),O="",g=null,t=null;if(z!=null&&h!=aX.kE(z))z=null;if(b&&z)O+="\""+h+"\", ";
var $=h.toLowerCase();if(z){g=aX.yu(z)[0];if(z["OS/2"])t=z["OS/2"].usWeightClass}else{g=CSS.abV(h);if($.indexOf("light")!=-1)t=300;
else if($.indexOf("medium")!=-1)t=500;else if($.indexOf("black")!=-1||$.indexOf("extrabold")!=-1)t=800;
else if($.indexOf("bold")!=-1)t="bold"}if(g!=null)O+="\""+g+"\"";if(t!=null)r.push("font-weight: "+t);
if($.indexOf("italic")!=-1||$.indexOf("oblique")!=-1)r.push("font-style: italic");if(O)r.push("font-family: "+O)}var i=j.Av.Justification;
if(i!=null&&i!=0)if(N)r.push("text-anchor: "+["start","end","middle"][i%3]);else r.push("text-align: "+["left","right","center"][i%3])};
CSS.abV=function(r){r=r.split("-")[0];while(r.endsWith("MT")||r.endsWith("PS"))r=r.slice(0,r.length-2);
var j=!0;for(var P=0;P<r.length;P++){var D=r.charAt(P);if(!j&&D.toLowerCase()!=D){r=r.slice(0,P)+" "+r.slice(P);
P++;j=!0}else j=!1}return r};function h0(){}h0.Sy={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
h0._l=function(r,j){var D=Date.now(),N;try{N=acorn.parse(r)}catch(cM){console.log(cM);return}var b=JSON.parse(JSON.stringify(h0.BO.w4));
b.__return=!1;b.__continue=!1;b.__break=!1;b.__throw=!1;b.__fs={};b.__window={};h0.eval(N,j,b);var Y=b.__fs;
if(Object.keys(Y).length!=0){var x=UZIP.encode(Y);hs.save(x,"output.zip")}};h0.eval=function(r,j,D){var N=r.type;
if(!1){}else if(N=="Program"||N=="BlockStatement"){var b=r.body;for(var P=0;P<b.length;P++){var Y=b[P].type;
if(Y=="FunctionDeclaration")D[b[P].id.name]=b[P]}for(var P=0;P<b.length;P++){var Y=b[P].type,x=h0.eval(b[P],j,D);
if(D.__continue){D.__continue=!1;return x}if(D.__return||D.__break||D.__throw)return x}}else if(N=="ReturnStatement"){D.__return=!0;
return r.argument?h0.tD(r.argument,j,D):null}else if(N=="BreakStatement"){D.__break=!0}else if(N=="ContinueStatement"){D.__continue=!0}else if(N=="VariableDeclaration"){var C=r.declarations;
for(var P=0;P<C.length;P++)h0.eval(C[P],j,D)}else if(N=="VariableDeclarator"){D[r.id.name]=r.init?h0.tD(r.init,j,D):null}else if(N=="FunctionDeclaration"){D[r.id.name]=r}else if(N=="MemberExpression"){var w=h0.tD(r.object,j,D),q=r.computed?h0.tD(r.property,j,D):h0.eval(r.property,j,D),x;
if(w.Cs!=null)x=h0.BO.fI(w,q,j,D);else if(w==window&&h0.Sy[q]){}else x=w[q];return x}else if(N=="ArrayExpression"){var u=[],h=r.elements;
for(var P=0;P<h.length;P++)u.push(h0.tD(h[P],j,D));return u}else if(N=="ObjectExpression"){var u={},h=r.properties;
for(var P=0;P<h.length;P++){var z=h[P],O=h[P].key.name?h[P].key.name:h[P].key.value;u[O]=h0.tD(h[P].value,j,D)}return u}else if(N=="ExpressionStatement"){return h0.eval(r.expression,j,D)}else if(N=="NewExpression"){var g=r.arguments,t=r.callee,$=t.type,i=[],u=null;
for(var P=0;P<g.length;P++)i.push(h0.tD(g[P],j,D));if($=="Identifier")u=h0.BO.aqW(t.name,i,j,D);else throw"e";
if(u==null)throw"new "+t.name;return u}else if(N=="CallExpression"){var g=r.arguments,t=r.callee,$=t.type,A={};
for(var H in D)A[H]=D[H];var i=[];for(var P=0;P<g.length;P++)i.push(h0.tD(g[P],j,D));if($=="Identifier"){var F=t.name,T=D[F];
if(T){if(T.params){var _=T.params;for(var P=0;P<_.length;P++)A[_[P].name]=i[P];return h0.eval(T.body,j,A)}else{return T.apply(null,i)}}else if(h0.BO.a0F.indexOf(F)!=-1)return h0.BO.qm({Cs:"Application"},F,i,j,D);
else if(window[F]==null)console.log("Unknown function "+F);else if(h0.Sy[F])alert(F+"() not available");
else{var V=window[F].apply(window,i);return V}}else if($=="MemberExpression"){var w=h0.tD(t.object,j,D),q=t.computed?h0.tD(t.property,j,D):h0.eval(t.property,j,D);
if(w==window&&h0.Sy[q])return;if(w.Cs!=null)return h0.BO.qm(w,q,i,j,D);else return w[q].apply(w,i)}else if($=="FunctionExpression"){return h0.eval(t.body,j,D)}else console.log(r)}else if(N=="AssignmentExpression"){var X=r.operator,o=r.left,c=o.type,E=h0.tD(o,j,D),f=h0.tD(r.right,j,D),x=null;
if(!1){}else if(X=="=")x=f;else if(X=="+=")x=E+f;else if(X=="-=")x=E-f;else if(X=="*=")x=E*f;else if(X=="/=")x=E/f;
else if(X=="%=")x=E%f;else if(X=="&=")x=E&f;else if(X=="|=")x=E|f;else if(X=="&&=")x=E&&f;else if(X=="||=")x=E||f;
else console.log(r);if(c=="Identifier"){var d=o.name;if(D.hasOwnProperty(d))D[d]=x;else D.__window[d]=x}else if(c=="MemberExpression"){var s=h0.eval(o.property,j,D),B=h0.tD(o.object,j,D);
if(B.Cs!=null)h0.BO.a9R(B,s,x,j,D);else B[s]=x}else console.log(r)}else if(N=="Identifier")return r.name;
else if(N=="Literal")return r.value;else if(N=="UpdateExpression"){var X=r.operator,U=r.argument.name,u=h0.tD(r.argument,j,D),M=D;
if(M[U]==null)M=D.__window;if(!1){}else if(X=="++"){M[U]++;return r.prefix?M[U]:M[U]-1}else if(X=="--"){M[U]--;
return r.prefix?M[U]:M[U]+1}else console.log(r)}else if(N=="UnaryExpression"){var X=r.operator,W=h0.tD(r.argument,j,D);
if(W.Cs=="UnitValue"){if(X=="-")return-W.m;else return h0.a0m(W.m,X)}else return h0.a0m(W,X)}else if(N=="BinaryExpression"||N=="LogicalExpression"){var X=r.operator,o=h0.tD(r.left,j,D),W=h0.tD(r.right,j,D);
if(o==null||W==null)return h0.OE(o,W,X);else if(o.Cs=="UnitValue"&&W.Cs=="UnitValue")return h0.OE(o.m,W.m,X);
else if(o.Cs=="UnitValue")return h0.OE(o.m,W,X);else if(W.Cs=="UnitValue"){if(X=="-")return-(o-W.m);
else return h0.OE(o,W.m,X)}else return h0.OE(o,W,X)}else if(N=="IfStatement"||N=="ConditionalExpression"){var n=h0.tD(r.test,j,D);
if(n)return h0.eval(r.consequent,j,D);else if(r.alternate)return h0.eval(r.alternate,j,D)}else if(N=="ForInStatement"){h0.eval(r.left,j,D);
var e=r.left.declarations[0].id.name,Q=h0.tD(r.right,j,D);for(var H in Q){D[e]=H;var J=h0.eval(r.body,j,D);
if(D.__break)break;if(D.__return)return J}D.__break=!1}else if(N=="ForStatement"){h0.eval(r.init,j,D);
while(h0.eval(r.test,j,D)){var J=h0.eval(r.body,j,D);if(D.__break)break;if(D.__return)return J;h0.eval(r.update,j,D)}D.__break=!1}else if(N=="DoWhileStatement"){do{var J=h0.eval(r.body,j,D);
if(D.__break)break;if(D.__return)return J}while(h0.eval(r.test,j,D));D.__break=!1}else if(N=="TryStatement"){h0.eval(r.block,j,D);
if(D.__throw){var m=r.handler;D[m.param.name]=D.__throw;D.__throw=!1;h0.eval(m.body,j,D);delete D[m.param.name]}}else if(N=="EmptyStatement"){}else console.log(r)};
h0.OE=function(r,j,D){if(D=="+")return r+j;else if(D=="-")return r-j;else if(D=="*")return r*j;else if(D=="/")return r/j;
else if(D=="%")return r%j;else if(D=="^")return r^j;else if(D=="&")return r&j;else if(D=="&&")return r&&j;
else if(D=="|")return r|j;else if(D=="||")return r||j;else if(D=="<")return r<j;else if(D==">")return r>j;
else if(D=="==")return r==j;else if(D=="===")return r===j;else if(D=="<=")return r<=j;else if(D==">=")return r>=j;
else if(D=="!=")return r!=j;else if(D=="!==")return r!==j;else if(D=="<<")return r<<j;else if(D==">>")return r>>j;
else console.log(D)};h0.a0m=function(r,j){if(j=="-")return-r;else if(j=="!")return!r;else if(j=="~")return~r;
else if(j=="+")return r;else console.log(obj)};h0.tD=function(r,j,D){var N=r.type;if(N=="Identifier")return h0.amw(r.name,j,D);
else return h0.eval(r,j,D)};h0.amw=function(r,j,D){if(r=="undefined")return undefined;else if(D.hasOwnProperty(r))return D[r];
else if(r=="app")return{Cs:"Application"};else if(r=="$")return{Cs:"$"};else if(h0.BO.a1e.indexOf(r)!=-1)return h0.BO.fI({Cs:"Application"},r,j,D);
else if(D.__window.hasOwnProperty(r))return D.__window[r];else if(window[r]&&!h0.Sy[r])return window[r];
else{D[r]=null;return null}};h0.BO={};h0.BO.aqW=function(r,j,D,N){var b;if(r=="SolidColor")b={Cs:r,m:[1,0,0,0]};
if(r=="RGBColor")b={Cs:r,m:[1,0,0,0]};if(r=="Window")b={Cs:r,m:new gx(j[0],j[1],j[2])};if(r=="ExportOptionsSaveForWeb")b={Cs:r,m:{P9:"png",D0:100}};
if(r=="JPEGSaveOptions")b={Cs:r,m:{P9:"jpg",D0:100}};if(r=="PDFSaveOptions")b={Cs:r,m:{P9:"pdf",amx:""}};
if(r=="File")b={Cs:r,m:j[0]};if(r=="ActionReference")b={Cs:r,m:[]};if(r=="ActionDescriptor")b={Cs:r,m:{}};
if(r=="ActionList")b={Cs:r,m:[]};if(r=="UnitValue")b={Cs:r,m:j.length==0?0:parseFloat(j[0])};return b};
h0.BO.a1e="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
h0.BO.a0F=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];h0.BO.fI=function(r,j,D,N){var b=D.Ug,Y=D.M9();
if(!1){}else if(j=="typename"){if(r.Cs=="Layer")return r.m.iO()?"LayerSet":"ArtLayer";else return r.Cs}else if(["Document","Layer"].indexOf(r.Cs)!=-1&&["layers","artLayers","layerSets"].indexOf(j)!=-1){var x=Y.root,C={Cs:"Layers",zY:j,m:[]};
if(r.Cs=="Layer")x=Y.root.nj(Y.j.indexOf(r.m));if(x.children==null)return null;for(var P=0;P<x.children.length;
P++){var w=x.children[P].n,q=w.iO();if(q&&j=="artLayers"||!q&&j=="layerSets")continue;C.m.push({Cs:"Layer",m:w})}C.m.reverse();
return C}else if(r.Cs=="Documents"||r.Cs=="Layers"||r.Cs=="HistoryStates"||r.Cs=="LayerComps"){if(!1){}else if(j=="length")return r.m.length;
else if(Number.isInteger(j))return r.m[j];else console.log(r.Cs+": unknown property ",j)}else if(r.Cs=="Application"){if(!1){}else if(j=="activeDocument")return{Cs:"Document",m:D.M9()};
else if(j=="documents"){var C={Cs:"Documents",m:[]};for(var P=0;P<D.Xl.length;P++)C.m.push({Cs:"Document",m:D.Xl[P]});
return C}else if(j=="fonts")return{Cs:"TextFonts"};else if(j=="preferences")return{Cs:"Preferences"};
else if(j=="displayDialogs")return{Cs:"DialogModes"};else if(j=="foregroundColor"||j=="backgroundColor"){var u=j[0]=="f"?b.xg:b.mL;
return{Cs:"SolidColor",m:[1,(u>>>16&255)/255,(u>>>8&255)/255,(u>>>0&255)/255]}}else if(j=="UI")return{Cs:"UI"};
else console.log(r,j)}else if(r.Cs=="Document"){var Y=r.m;if(!1){}else if(j=="activeLayer"){var w=Y.j[Y.R[0]];
return{Cs:"Layer",m:w}}else if(j=="resolution")return Y.TB;else if(j=="width")return Y.d;else if(j=="height")return Y.r;
else if(j=="name")return Y.name;else if(j=="saved")return!Y.uh();else if(j=="selection")return{Cs:"Selection"};
else if(j=="activeHistoryState")return{Cs:"HistoryState",wd:Y.Kx};else if(j=="source")return Y.ZQ;else if(j=="layerComps"){var h=Y._m.list.v,z=[];
for(var P=0;P<h.length;P++)z.push({Cs:"LayerComp",m:P});return{Cs:"LayerComps",m:z}}else if(j=="historyStates"){var O=[];
for(var P=0;P<Y.history.length;P++)O.push({Cs:"HistoryState",wd:P});return{Cs:"HistoryStates",m:O}}else console.log(r,j)}else if(r.Cs=="LayerComp"){if(j=="name")return Y._m.list.v[r.m].v.Nm.v;
else throw j}else if(r.Cs=="Layer"){var g={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},w=r.m;
if(!1){}else if(j=="visible")return w.Xy();else if(j=="selected")return Y.R.indexOf(Y.j.indexOf(w))!=-1;
else if(j=="grouped")return w._V;else if(g[j]!=null)return w.OL(g[j]);else if(j=="opacity")return w.opacity*100/255;
else if(j=="blendMode")return w.yp;else if(j=="name")return w.getName();else if(j=="textItem")return{Cs:"TextItem",m:w};
else if(j=="bounds"){var t=I.T.q7(Y,[Y.j.indexOf(w)]);return h0.BO.am$(t,Y)}else if(j=="parent"){var $=D.Xl;
for(var P=0;P<$.length;P++)if($[P].j.indexOf(w)!=-1)return{Cs:"Document",m:$[P]}}else if(j=="kind"){var i=h0.BO.u4;
for(var P=0;P<i.length;P++)if(w.add[i[P]]!=null)return P;return 0}else console.log(r,j)}else if(r.Cs=="Selection"){if(!1){}else if(j=="bounds")return h0.BO.am$(D.M9().c.rect,Y);
else console.log(r,j)}else if(r.Cs=="TextItem"){var A=r.m.add.TySh,H=A.d1,F=cU.g2(H),T=A.F.zR(),_=cU.eZ(H,0,Math.max(0,F.length-2));
if(j=="contents")return F.slice(0,F.length-1).replace(/\n/g,"\r");else if(j=="font")return _.WQ.Font!=null?_.HB[_.WQ.Font].Name:null;
else if(j=="size")return h0.BO.sw(_.WQ.FontSize*T,Y);else if(j=="leading")return h0.BO.sw(_.WQ.Leading*T,Y);
else if(j=="tracking")return h0.BO.sw(_.WQ.Tracking);else if(j=="baselineShift")return h0.BO.sw(_.WQ.BaselineShift);
else if(j=="fauxBold")return _.WQ.FauxBold;else if(j=="fauxItalic")return _.WQ.FauxItalic;else if(j=="kind")return 1-cU.Tl(H);
else if(j=="useAutoLeading")return _.Av.AutoLeading;else if(j=="hyphenation")return _.Av.AutoHyphenate;
else if(j=="justification")return h0.BO.sw(_.Av.Justification);else if(j=="color")return{Cs:"SolidColor",m:_.WQ.FillColor.Values.slice(0)};
else if(j=="width"||j=="height"){var V=cU.Nb(H),X=(V[2]-V[0])*T,o=(V[3]-V[1])*T;return h0.BO.sw(j=="width"?X:o,Y)}else if(j=="position"){var c=A.F;
return h0.BO.aqs([c.Db,c.aF],Y)}else if(j=="horizontalScale"||j=="verticalScale"){var f=j[0].toUpperCase()+j.slice(1);
return Math.round(_.WQ[f]*100)}else if(j=="antiAliasMethod")cU.Wr(A);else console.log(r,j)}else if(r.Cs=="Preferences"){if(j=="rulerUnits")return b.Ar.Q5;
else console.log(r,j)}else if(r.Cs=="SolidColor"){if(j=="rgb")return{Cs:"RGBColor",m:r.m};else console.log(r,j)}else if(r.Cs=="RGBColor"){var t=Math.round(255*r.m[1]),d=Math.round(255*r.m[2]),s=Math.round(255*r.m[3]);
if(!1){}else if(j=="red")return t;else if(j=="green")return d;else if(j=="blue")return s;else if(j=="hexValue")return"#"+R.Za(t<<16|d<<8|s).toUpperCase();
else console.log(r,j)}else if(r.Cs=="UnitValue"){if(j=="value")return r.m;else throw"e"}else if(r.Cs=="ExportOptionsSaveForWeb"){if(j=="format")return r.m.P9;
else if(j=="PNG8"||j=="interlaced")return!1;else if(j=="quality")return r.m.D0;else if(j=="transparency")return!0;
else throw j}else if(r.Cs=="JPEGSaveOptions"||r.Cs=="PDFSaveOptions"){return 0}else console.log(r,j)};
h0.BO.am$=function(r,j){return h0.BO.aqs([r.x,r.y,r.x+r.d,r.y+r.r],j)};h0.BO.aqs=function(r,j){var D=[];
for(var P=0;P<r.length;P++)D.push(h0.BO.sw(r[P],j));return D};h0.BO.anL=function(r){var j=[];for(var P=0;
P<r.length;P++)j.push(r[P].Cs?r[P].m:r[P]);return j};h0.BO.sw=function(r,j){return{Cs:"UnitValue",m:r}};
h0.BO.acu=function(r,j){if(r.Cs=="UnitValue")return r.m;return r};h0.BO.a9R=function(r,j,D,N,b){var Y=new iu(y.E.w,!0),x=new iu(y.E.V,!0),C=N.M9(),w=N.Ug;
if(!1){}else if(r.Cs=="Application"){if(!1){}else if(j=="activeDocument"){x.data={e:y.G.uk,AN:D.m};N.g(x)}else if(j=="displayDialogs"){}else console.log(r,j,D)}else if(r.Cs=="Document"){var q=r.m;
if(!1){}else if(j=="name"){Y.k=I.C5;Y.data={e:G.HR,m:D,amT:!0,q5:q};C._P=!0}else if(j=="source")q.ZQ=D;
else if(j=="activeLayer"){q.R=[q.j.indexOf(D.m)]}else if(j=="activeHistoryState"){Y.k=I.cu;Y.data={e:"h_itemchange",index:D.wd}}else console.log(r,j)}else if(r.Cs=="Layer"){Y.k=I.C5;
var u={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},h=r.m,z=C.j.indexOf(h);
if(!1){}else if(j=="visible"){if(h.Xy()!=D)Y.data={e:G.T6,n:z}}else if(j=="opacity"){Y.data={e:G.e9,n:z,aS:Math.round(255*D/100)}}else if(j=="blendMode"){Y.data={e:G.qi,n:z,aS:by.n4.indexOf(D)}}else if(j=="name"){Y.data={e:G.Hu,n:z,name:D}}else if(u[j]!=null){Y.data={e:G.oM,n:z,aS:[[D],[u[j]]]}}else if(j=="kind"){Y.data={e:G.Ec,n:z,TH:h0.BO.u4[D]}}else if(j=="grouped"){Y.data={e:G.x0,n:z,aS:D}}else console.log(r,j,D)}else if(r.Cs=="TextItem"){Y.k=I.pP;
var h=r.m,O=h.add.TySh,g=JSON.parse(JSON.stringify(O.d1)),t=O.F.clone(),$=O.F.zR(),i=cU.g2(g),A=cU.eZ(g,0,i.length-2),H=!1;
if(!1){}else if(j=="contents"){cU.hd(g,0,i.length-1);cU._w(g,0,D.replace(/\r/g,"\n"))}else if(j=="size"){A.WQ.FontSize=(D.m!=null?D.m:D)/$;
H=!0}else if(j=="leading"){A.WQ.Leading=(D.m!=null?D.m:D)/$;H=!0}else if(j=="tracking"){A.WQ.Tracking=D.m!=null?D.m:D;
H=!0}else if(j=="baselineShift"){A.WQ.BaselineShift=D.m!=null?D.m:D;H=!0}else if(j=="fauxBold"){A.WQ.FauxBold=D;
H=!0}else if(j=="fauxItalic"){A.WQ.FauxItalic=D;H=!0}else if(j=="kind"){var F=cU.Tl(g);if(F==1&&D==1){var T=new fu(g,N.Ug.fA).Av[0],_=T.vA[0].end,V=T.M2[_-1].end;
cU.hd(g,0,i.length-1);cU._w(g,0,i.slice(0,V-1))}if(F==D)cU.jp(g,1-D)}else if(j=="useAutoLeading"){A.Av.AutoLeading=D;
H=!0}else if(j=="hyphenation"){A.Av.AutoHyphenate=D;H=!0}else if(j=="justification"){A.Av.Justification=D;
H=!0}else if(j=="font"){cU.ht(A,D);H=!0}else if(j=="color"){A.WQ.FillColor.Values=D.m.slice(0);H=!0}else if(j=="width"||j=="height"){var X=cU.Nb(g).slice(0),o=h0.BO.acu(D);
if(j=="width")X[2]=Math.round(X[0]+o/$);else X[3]=Math.round(X[1]+o/$);cU.TS(g,X)}else if(j=="position"){t.Db=D[0];
t.aF=D[1]}else if(j=="horizontalScale"||j=="verticalScale"){var c=j[0].toUpperCase()+j.slice(1);A.WQ[c]=D/100;
H=!0}else if(j=="antiAliasMethod")cU.Wc(O,D);else console.log(r,j,D);if(H)cU.lc(g,0,i.length-1,A);Y.data={e:"newED",I6:C.j.indexOf(h),zJ:g,F:t}}else if(r.Cs=="Preferences"){if(!1){}else if(j=="rulerUnits"){var f=JSON.parse(JSON.stringify(w.Ar));
f.Q5=D;x.data={e:y.G.VD,Ek:e5.VN,aS:f};N.g(x)}else console.log(r,j,D)}else if(r.Cs=="SolidColor"){if(j=="rgb")r.m=D.m;
else throw j}else if(r.Cs=="RGBColor"){if(!1){}else if(j=="red")r.m[1]=D/255;else if(j=="green")r.m[2]=D/255;
else if(j=="blue")r.m[3]=D/255;else if(j=="hexValue"){var d=R.mf(D.slice(1));r.m[1]=(d>>>16&255)/255;
r.m[2]=(d>>>8&255)/255;r.m[3]=(d>>>0&255)/255}else console.log(r,j)}else if(r.Cs=="ExportOptionsSaveForWeb"){if(j=="format")r.m.P9=D;
else if(j=="PNG8"||j=="transparency"||j=="interlaced"){}else if(j=="quality")r.m.D0=D;else throw j}else if(r.Cs=="JPEGSaveOptions"){if(j=="quality")r.m.D0=Math.round(100*D/12)}else if(r.Cs=="PDFSaveOptions"){if(j=="preset")r.m.amx=D}else console.log(r,j,D);
if(Y.data!=null)N.g(Y)};h0.BO.qm=function(r,j,D,N,b){var Y=r.Cs,x=null,C=new iu(y.E.w,!0),w=new iu(y.E.PN,!0),q=new iu(y.E.V,!0),u=N.M9(),h=N.Xl;
if(!1){}else if(Y=="Application"){if(!1){}else if(j=="charIDToTypeID"){var z=D[0].trim(),O={slct:"select",Dlt:"delete",Mk:"make"};
return O[z]?O[z]:z}else if(j=="stringIDToTypeID"){var g=D[0].trim(),O={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},t=O[g];
return t==null?g:t}else if(j=="executeAction"){console.log(D);var $;if(D[1]){$=D[1].m;$.classID=D[0]}var i={setd:"set"},A=i[D[0]];
if(A==null)A=D[0];var H=cz.v5[D[0]];if(H&&cz.Le[H])A=cz.Le[H];w.data={sv:A,Q4:$}}else if(j=="executeActionGet"){return{Cs:"ActionDescriptor",m:{classID:"null",null:{t:"obj ",v:D[0].m}}}}else if(j=="doAction"){q.data={e:y.G.Vy,oO:[D[0],D[1]]}}else if(j=="open"){q.data={e:y.G.qS,Ek:{url:D[0]}};
if(D[2]&&h.length!=0)q.data.Ek.ds=h.indexOf(u)}else if(j=="echoToOE"){q.data={e:y.G.W9,Ek:D[0]}}else console.log(j)}else if(Y=="LayerComp"){if(j=="apply"){C.k=I.qL;
C.data={e:"setLC",wd:u._m.list.v[r.m].v.compID.v}}else throw j}else if(Y=="Document"){var u=r.m;if(!1){}else if(j=="crop"){w.data=I.rh.tp(D[0])}else if(j=="trim"){var F=[];
for(var P=0;P<4;P++)F.push(D[P+1]!=null?D[P+1]:!0);w.data=I.rh.Yt(D[0]!=null?D[0]:0,F)}else if(j=="suspendHistory"){var T=acorn.parse(D[1]);
h0.eval(T,N,b)}else if(j=="save"){q.data={e:y.G.sE}}else if(j=="saveToOE"){q.data={e:y.G.sE,aqx:D}}else if(j=="rotateCanvas"){w.data=I.T.Ot(!0,D[0])}else if(j=="resizeImage"||j=="resizeCanvas"){var _=D[0],V=D[1];
if(typeof _!="number"){_=u.d*parseFloat(_.slice(0,_.length-1))/100;V=u.r*parseFloat(V.slice(0,V.length-1))/100}if(j=="resizeCanvas")w.data=I.rh.uX(Math.round(_),Math.round(V),D[2]);
else w.data=I.rh.Im(Math.round(_),Math.round(V),null,1)}else if(j=="paste"){q.data={e:y.G.aE,AE:D.length!=0&&D[0],PE:!0}}else if(j=="close"){q.data={e:y.G.vN,WW:u}}else if(j=="exportDocument"||j=="saveAs"){var X=b.__fs,o=D[0].m.replace(":","").replace("~/",""),c=j=="exportDocument"?D[2].m:D[1].m,E=aP.z$(u,c.P9,null,null,c.P9=="pdf"?null:[c.D0],N.Ug);
X[o]=new Uint8Array(E)}else console.log(r,j,D)}else if(Y=="Layer"){var f=r.m,d=u.j.indexOf(f);if(!1){}else if(j=="copy"){h0.BO.V$(u,N,0);
q.data={e:y.G.cX,dI:D[0],h7:d,PE:!0};N.g(q);delete q.data;h0.BO.V$(u,N,1)}else if(j=="clear"){h0.BO.V$(u,N,0);
w.data={sv:"delete"};N.g(w);delete w.data;h0.BO.V$(u,N,1)}else if(j=="duplicate"){if(D.length==0){C.data={e:G.b7,n:d};
C.k=I.C5;N.g(C);C.data=null;x={Cs:"Layer",m:u.j[u.R[0]]}}else if(D[0].Cs=="Document"){C.data={e:G.Ai,j:u.w9(d),lp:u,qa:D[0].m};
C.k=I.C5}}else if(j=="merge"||j=="remove"){C.data={e:j=="merge"?G.fL:G.VY,n:d};C.k=I.C5;if(j!="remove")x={Cs:"Layer",m:u.j[u.R[0]]}}else if(j=="move"){C.data={e:G.eN,source:d,target:u.j.indexOf(D[0].m),qn:D[1]!=3?.6:.3};
C.k=I.C5}else if(j=="rasterize"){w.data={sv:"rasterizeLayer",Q4:{classID:"rasterizeLayer",null:dA.W4("Lyr",!0)}}}else if(j=="rotate"){C.data={e:"rot",NL:[2,5],m:-D[0]*Math.PI/180,eg:D[1],n:d};
C.k=I.YW}else if(j=="resize"){C.data={e:"scl",NL:[2,4],m:new gJ(D[0]/100,D[1]/100),eg:D[2],n:d};C.k=I.YW}else if(j=="translate"){var s=h0.BO.anL(D);
C.data={e:"trsl",n:d,a9B:s[0],a7w:s[1]};C.k=I.t3}else if(j=="link"){C.data={e:G.t2,aiu:[d,u.j.indexOf(D[0].m)]};
C.k=I.C5}else if(j=="invert"){C.k=I.tJ;C.data={e:"start",Ep:"nvrt"}}else if(j.startsWith("apply")&&ij.Qo[j.slice(5)]){var s=h0.BO.anL(D),B=ij.Qo[j.slice(5)];
w.data={sv:ij.Le[B]};var $=ij.nY(B);if($){ij.OQ["g"+B]($,s);w.data.Q4=$}}else console.log(r,j,D)}else if(Y=="Documents"){if(j=="getByName"){for(var P=0;
P<h.length;P++)if(h[P].name==D[0])return{Cs:"Document",m:h[P]};return null}else if(j=="add"){var a=D[5];
if(a==null)a=1;w.data=dl.fi(D[0],D[1],D[2],D[3],["Wht","Trns","BckC"][a],!1)}else throw"e"}else if(Y=="Layers"){if(j=="getByName"){for(var P=0;
P<r.m.length;P++)if(r.m[P].m.getName()==D[0]){x=r.m[P];break}if(x==null)b.__throw={message:"No layer with a name "+D[0]}}else if(j=="add"){C.data={e:r.zY=="layerSets"?G.cn:G.Ym};
C.k=I.C5;N.g(C);C.data=null;x={Cs:"Layer",m:u.j[u.R[0]]}}else console.log(r,j,D)}else if(r.Cs=="Selection"){if(j=="select"){var U=D[0],M=[];
for(var P=0;P<U.length;P++)M.push(U[P][0],U[P][1]);w.data=I.Vm.vX(M)}else if(j=="selectAll"){w.data=I.Vm.wi(!0)}else if(j=="invert"){w.data={sv:"inverse"}}else if(j=="copy"){q.data={e:y.G.cX}}else if(j=="deselect"){w.data=I.Vm.wi()}else if(j=="fill"){var W=D[0].m;
W=R._.XJ({a:W[1]*255,p:W[2]*255,M:W[3]*255});w.data=I.oi._e("Clr",D[1],D[2]==null?1:D[2]/100,W)}else console.log(r,j,D)}else if(r.Cs=="Window"){if(j=="show"){q.data={e:y.G.gl,SO:r.m}}else throw"e"}else if(r.Cs=="ActionReference"){if(j=="putProperty"){r.m.push({t:"prop",v:{classID:D[0],keyID:D[1]}})}else if(j=="putClass"){r.m.push({t:"Clss",v:{classID:D[0]}})}else if(j=="putEnumerated"){r.m.push({t:"Enmr",v:{classID:D[0],typeID:D[1],enum:D[2]}})}else if(j=="putName"){r.m.push({t:"name",v:{classID:D[0],val:D[1]}})}else console.log(j,D)}else if(r.Cs=="ActionDescriptor"||r.Cs=="ActionList"){if(j=="putReference"){r.m[D[0]]={t:"obj ",v:D[1].m}}else if(j=="putDouble"){r.m[D[0]]={t:"doub",v:D[1]}}else if(j=="putUnitDouble"){r.m[D[0]]={t:"UntF",v:{type:D[1],val:D[2]}}}else if(j=="putObject"){if(r.Cs=="ActionList"){var n=D[1].m;
n.classID=D[0];r.m.push({t:"Objc",v:n})}else{var n=D[2].m;n.classID=D[1];r.m[D[0]]={t:"Objc",v:n}}}else if(j=="putList"){r.m[D[0]]={t:"VlLs",v:D[1].m}}else if(j=="putBoolean"){r.m[D[0]]={t:"bool",v:D[1]}}else if(j=="putInteger"){r.m[D[0]]={t:"long",v:D[1]}}else if(j=="putString"){r.m[D[0]]={t:"TEXT",v:D[1]}}else if(j=="putEnumerated"){var e={};
e[D[1]]=D[2];r.m[D[0]]={t:"enum",v:e}}else if(j=="hasKey"){var J=r.m.null.v;for(var P=0;P<J.length;P++){if(J[P].v.keyID==D[0]){if(D[0]=="UsrM"){return u.j[u.R[0]].BG()!=null}else throw D}}}else console.log(j,D)}else if(r.Cs=="$"){if(j=="writeln"){console.log(D[0])}else throw j}else if(r.Cs=="UI"){var m;
if(j=="zoomIn"||j=="zoomOut"){m={e:"zoom",tn:j=="zoomIn"}}else if(j=="fitTheArea"){m={e:"adapt",m:"fitscr"}}else if(j=="pixelToPixel"){m={e:"adapt",m:"pixel"}}C.k=I._h;
C.data=m}else console.log(r,j,D);if(C.data)N.g(C);if(w.data)N.g(w);if(q.data)N.g(q);return x};h0.BO.V$=function(r,j,D){var N=new iu(y.E.w,!0);
N.k=I.Fx;var b=new iu(y.E.PN,!0);if(D==0){h0.BO.aaF=r.c;b.data=I.Vm.wi(!0)}else{var Y=h0.BO.aaF;if(Y)N.data={e:"setsel",NL:"Restore Selection",c:{rect:Y.rect.clone(),channel:Y.channel.slice(0)}};
else b.data=I.Vm.wi()}j.g(N.data?N:b)};h0.BO.aaF=null;h0.BO.w4={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
h0.BO.w4.ColorBlendMode=h0.BO.w4.BlendMode;h0.BO.u4="---- SoLd TySh SoCo GdFl PtFl".split(" ");function ho(){}ho.OZ={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
ho.bG={"5":"dc:Title","55":"exif:DateTimeOriginal","80":"tiff:Artist","120":"tiff:ImageDescription"};
ho.aj5=function(r,j){if(j==null)j={};var D=ho.bG,N=[];for(var P=0;P<r.length;P++){var b=r[P],Y=D[b[0]+""];
if(j[Y]==null)j[Y]=b[1];else if(b[0]==25)N.push(b[1])}if(N.length!=0&&j["dc:Keywords"]==null)j["dc:Keywords"]=N.join(";");
return j};ho.a2I=function(r){var j=ho.bG,D=[];for(var N in j)if(r[j[N]])D.push([parseInt(N),r[j[N]]]);
if(r["dc:Keywords"]){var b=r["dc:Keywords"].split(";");for(var P=0;P<b.length;P++)D.push([25,b[P].trim()])}return D};
ho.aiB=function(r,j){if(j==null)j={};var D=new DOMParser,N=D.parseFromString(r,"image/svg+xml"),b=N.getElementsByTagName("rdf:Description")[0];
if(b==null)return j;var Y=ho.OZ;for(var x in Y){var C=Y[x][2];if(C==null)continue;var w=b.getElementsByTagName(C)[0];
if(w==null)continue;var q=w.getElementsByTagName("rdf:li"),u=[];for(var P=0;P<q.length;P++)u.push(q[P].textContent);
j[x]=u.join("; ")}return j};ho.a9a=function(r){var j=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],D=ho.OZ;
for(var N in D){var b=r[N],Y=D[N][2],x="Seq",C="";if(b==null||Y==null)continue;if(Y=="dc:title"||Y=="dc:description"){x="Alt";
C=" xml:lang=\"x-default\""}if(Y=="dc:subject")x="Bag";j.push("\t<"+Y+"><rdf:"+x+">");var w=Y=="dc:subject"?b.split(";").join(",").split(","):[b];
for(var P=0;P<w.length;P++)j.push("\t\t<rdf:li"+C+">"+w[P].trim()+"</rdf:li>");j.push("\t</rdf:"+x+"></"+Y+">")}j.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return j.join("\n")};ho.aaX=function(r){var j=[];for(var P=0;P<r.length;P++)j[P]=r[P][1]==0?0:r[P][0]/r[P][1];
return j};ho.a6Q=function(r){var j=[];for(var P=0;P<r.length;P++){var D=r[P],N=1;if(D!=Math.round(D)){N=1e3;
D=Math.round(D*N)}j[P]=[D,N]}return j};ho.iS=function(r,j){var D=ho.OZ;if(j==null)j={};for(var N in D){var b=D[N][1],Y="t"+b;
if(b!=null&&r[Y]!=null){var x=r[Y];if(b==0)x=x.join(".");else if(b==2||b==4){var C=r["t"+(b-1)];if(C==null)C=[b==2?"N":"E"];
x=ho.aaX(x).join(",")+C[0]}else if(b==42034)x=ho.aaX(x).join(" ");else if(b==270||b==315){var w=x[0],q=new Uint8Array(w.length);
l.k3(q,0,w);x=l.Hi(q)}else x=x[0];j[N]=x}}if(r.exifIFD)ho.iS(r.exifIFD,j);if(r.gpsiIFD)ho.iS(r.gpsiIFD,j);
return j};ho.nl=function(r,j,D){var N=ho.OZ,Y=0,C=0;if(j==null)j={};var b={},x={};for(var w in N){if(r[w]==null||N[w][1]==null)continue;
var q=N[w][1],u="t"+q,h=j;if(w.startsWith("exif:")){h=b;Y++;if(w.startsWith("exif:GPS")){h=x;C++}}var z=r[w];
if(q==0)z=new Uint8Array(z.split(".").map(parseFloat));else if(q==2||q==4){var O=z.length;h["t"+(q-1)]=[z.slice(z.length-1)];
z=ho.a6Q(z.split(",").map(parseFloat))}else if(q==42034)z=ho.a6Q(z.split(" ").map(parseFloat));else if(q==270||q==315){var g=l.IH(z);
z=[l.Km(g,0,g.length)]}else z=[z];h[u]=z}if(Y!=0){j.exifIFD=b;j.t34665=[0]}if(C!=0){j.gpsiIFD=x;j.t34853=[0]}var t=new Date,$=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()];
for(var P=0;P<6;P++)$[P]=($[P]+"").padStart(2,"0");j.t305=["Photopea Editor (www.photopea.com)"];if(D!=!0)j.t306=[$[0]+":"+$[1]+":"+$[2]+" "+$[3]+":"+$[4]+":"+$[5]];
return j};var y={};y.a22=0;y.nZ=function(){y.a22++;return y.a22};y.a35="uint8";y.a4R=function(){var r=y.akc();
if(r=="")return 0;if(r!=y.R3("_TXZRPB;d7@;")){var j=y.R$[ao.x3][ao.uG],D=j.indexOf(String.fromCharCode(35)),N;
if(D==-1)return 0;try{N=JSON.parse(y.R$[ao.ak3](j.slice(D+1)))}catch(cM){return 0}var b=N[y.R3("bQ[ODL<E<M")];
if(b==null||b.length<<2!=64)return 0;var Y=ao.n$(),x=parseInt(b.slice(3*4).split("").reverse().join(""),16)<<16;
if(x<Y||b!=ao.a3T(x,r))return 0;return 2}return 1};y.akc=function(){var r=y.R$[y.Yo("}$z{2*35")][y.R3("W[\\ZQAJ?")],j=String.fromCharCode(46),D=r.split(j);
if(D.length<2)return"";var N=D.pop();N=D.pop()+j+N;return N};y.MT=function(){if(window.top!=window.self)return!1;
var r=navigator.userAgent.toLowerCase();if(r.indexOf("android")!=-1)return!1;if(r.indexOf("safari")!=-1&&r.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};y.Lh=function(r){this.K4=r;this.ah8=y.C("img");this.OY=y.C("canvas");
this.A7=null;this.Ff="";this.Dq=null;this.DL=new gJ(0,0);y.sD(this.K4,this.I$.bind(this))};y.Lh.prototype.PV=function(r,j){this.A7=r;
if(j)this.Ff=j;this.I$()};y.Lh.prototype.I$=function(r){if(r)this.DL=y.dD(r,this.K4);var j=this.A7,D=typeof j=="string";
if(!D){var N=y.f(),b=this.DL,Y=j.DN.d,x=j.DN.r,C=typeof j.eC=="string",w=C?this.ah8:this.OY;if(C)w.setAttribute("src",j.eC);
else{w.width=Y;w.height=x;var q=w.getContext("2d"),u=new ImageData(new Uint8ClampedArray(j.eC.buffer),Y,x);
q.putImageData(u,0,0)}w.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(b.y-j.UZ.y/N)+"px; left:"+(b.x-j.UZ.x/N)+"px; width:"+Y/N+"px; height:"+x/N+"px");
var h=this.Dq;if(h==null||h!=w){if(h)this.K4.removeChild(h);this.K4.appendChild(w);this.Dq=w}}else if(this.Dq){this.K4.removeChild(this.Dq);
this.Dq=null}this.K4.setAttribute("style","cursor:"+(D?j:"none")+"; "+this.Ff)};y.bo=function(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
y.Hp=function(r,j){r.W3(e9.get([12,41]).charAt(0)+":");j.W3(e9.get([12,42]).charAt(0)+":")};y.C=function(r,j){var D=document.createElement(r);
if(j!=null)D.setAttribute("class",j);return D};y.Su=function(r){while(r.firstChild)r.removeChild(r.firstChild)};
y.ui=function(r,j){var D=r.getAttribute("class");if(D==null)D="";D=D.split(" ");if(D.indexOf(j)==-1)D.push(j);
r.setAttribute("class",D.join(" "))};y.UM=function(r,j){var D=r.getAttribute("class");if(D==null)return;
D=D.split(" ");if(D.indexOf(j)!=-1)D.splice(D.indexOf(j),1);r.setAttribute("class",D.join(" "))};y.bN=function(r){while(!0){if(r==document)return!0;
if(r==null)return!1;r=r.parentNode}};y.aR=function(r){r.appendChild(y.C("br"))};y.PM=function(r){r.appendChild(y.C("hr"))};
y.R$=document;y.sf=function(r){var j=0;for(var P=0;P<r;P++)j+=Math.random();return j/r<Math.PI/4};y.R3=function(r){var j="";
if(!y.sf(28))r+="-3";for(var P=0;P<r.length;P++){var D=r.charCodeAt(P);if(D<32||126<D)throw"e";j+=String.fromCharCode(32+(D-32+17+3*P)%95)}return j};
y.Yo=function(r){var j="";if(!y.sf(28))r+="-1";for(var P=0;P<r.length;P++){var D=r.charCodeAt(P);D-=32;
D+=95e4;D-=17+3*P;D=D%95;j+=String.fromCharCode(32+D)}return j};y.xz=function(r){var j=Math.random();
y.a35="uint"+(3+j);return new r};y.aeR=0;y.a5V=function(r,j){var D=0;if(Date.now()-y.aeR>1e3){D=j==0?100:j*10}else{if(r%10!=0)r*=10;
D=(r+j)%100}y.aeR=Date.now();return D};(function(){var r=window.PointerEvent,j=r?"pointer":"mouse",D=j+"down",N=j+"move",b=j+"up",Y=!1;
y.Wu=function(x,C){x.addEventListener(D,C,Y);if(!r)x.addEventListener("touchstart",C,Y)};y.sD=function(x,C){x.addEventListener(N,C,Y);
if(!r)x.addEventListener("touchmove",C,Y)};y.B6=function(x,C){x.addEventListener(b,C,Y);if(!r)x.addEventListener("touchend",C,Y)};
y.ao1=function(x,C){x.removeEventListener(D,C,Y);if(!r)x.removeEventListener("touchstart",C,Y)};y.hE=function(x,C){x.removeEventListener(N,C,Y);
if(!r)x.removeEventListener("touchmove",C,Y)};y.jm=function(x,C){x.removeEventListener(b,C,Y);if(!r)x.removeEventListener("touchend",C,Y)}}());
y.PO=function(r){r.addEventListener("touchstart",y.P$,!1);r.addEventListener("touchmove",y.P$,!1);r.addEventListener("touchend",y.P$,!1);
r.addEventListener("gesturestart",y.P$,!1);r.addEventListener("gesturechange",y.P$,!1);r.addEventListener("gestureend",y.P$,!1)};
y.z_=function(r,j,D,N){var b=y.f();r.width=Math.floor(j*b);r.height=Math.floor(D*b);r.style.width=r.width/b+"px";
r.style.height=r.height/b+"px";if(N)N.setTransform(b,0,0,b,0,0)};y.tv=function(r,j,D){r.setAttribute("style","width:"+j/y.f()+"px; height:"+D/y.f()+"px")};
y.dD=function(r,j){if(j==null)j=r.currentTarget;var D=j.getBoundingClientRect();if(r.touches)r=r.touches.item(0);
return{x:r.clientX-D.left,y:r.clientY-D.top}};y.f=function(r){return window.devicePixelRatio||1};y.P$=function(r){r.preventDefault()};
y.Wp=function(r){r.stopPropagation();r.preventDefault()};y.Io=function(r,j,D){D=D?D:"";if(PIMG["__"+r]==null)D+=" gsicon";
return"<img src=\""+PIMG[r]+"\" alt=\""+(j?j:"")+"\" class=\""+D+"\" />"};y.aP=function(r,j,D,N){var b=r.dataTransfer.getData("text/uri-list");
if(b!=null&&b.startsWith("http")){var Y=new iu(y.E.V,!0);Y.data={e:y.G.qS,Ek:{url:b,o5:!0,ds:D,rM:N}};
j.g(Y)}if(r.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var x=[],C=r.dataTransfer.items.length,w=r.dataTransfer.files;
for(var q of r.dataTransfer.items)q.getAsFileSystemHandle().then(function(u){x.push(u);if(x.length==C){var Y=new iu(y.E.V,!0);
Y.data={e:y.G.Q6,data:w,ds:D,rM:N,as2:x};j.g(Y)}})}else{var Y=new iu(y.E.V,!0);Y.data={e:y.G.Q6,data:r.dataTransfer.files,ds:D,rM:N};
j.g(Y)}};var iu=function(r,j){if(!j)j=!1;this.type=r;this.target=null;this.currentTarget=null;this.bubbles=j;
this.k=null;this.bJ=!1};y.E={w:"0",V:"1",PN:"1.5",Y:"2",Gt:"3",a0x:"4",uq:"5"};y.G={f6:"10",Eo:"11",ad:"12",$a:"13",C9:"14",a9y:"14.1",qS:"15",jQ:"16",Tn:"17",xJ:"18",sE:"19",asH:"19.5",a7p:"20",b4:"21",cX:"22",aE:"23",sC:"24",gl:"25",Ga:"26",uk:"27",fW:"28",a88:"29",Q6:"30",T$:"31",Ip:"32",a6:"33",X9:"34",VD:"35",a50:"35.5",fx:"37",abp:"38",P1:"39",BW:"40",qs:"41",W9:"41.5",ao_:"42",sJ:"43",amP:"43.5",vN:"44",a8y:"45",QX:"46",Au:"47",qo:"48",Vy:"49",aql:"50",_L:"51"};
if(y.sf(27))y.R$=window;else y.R$=y.a8f;y.R$._cwY=y.R$[y.Yo("t$&!'31")];var gl={};gl.a99=function(P){var r=gl._I[P],j=document.documentElement.style,N=1;
j.setProperty("--base","#"+R.Za(r["--base"]));j.setProperty("--bg-panel","#"+R.Za(r["--bg-panel"]));
j.setProperty("--bg-canvas","#"+R.Za(r["--bg-canvas"]));j.setProperty("--bg-input","#"+R.Za(r["--bg-input"]));
j.setProperty("--bg-bbtn","#"+R.Za(r["--bg-bbtn"]));j.setProperty("--bg-bbtnOver","#"+R.Za(r["--bg-bbtnOver"]));
j.setProperty("--brdr","#"+R.Za(r["--brdr"]));j.setProperty("--text-color","#"+R.Za(r["--text-color"]));
j.setProperty("--brdrLgt","rgba(255,255,255,"+r["--brdrLgt"]+")");j.setProperty("--brdrDrk","rgba(  0,  0,  0,"+r["--brdrDrk"]+")");
j.setProperty("--alphaDark",""+r["--alphaDark"]);j.setProperty("--gs-invert",""+r["--gs-invert"]);var D=r["--sh-clr"];
j.setProperty("--sh-clr","rgba("+(D>>16)+","+(D>>8&255)+","+(D&255)+", 0.45)");j.setProperty("--sh-dy",""+r["--sh-dy"]+"px");
if(1<y.f()&&y.f()<1.5)N=1/y.f();j.setProperty("--img20",20*N+"px");j.setProperty("--img18",18*N+"px");
if(PIMG!=null){var b="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var P=0;P<b.length;P++){var Y=b[P],x=Y.split("/").pop(),C=PIMG["__"+Y]==null?r["--gs-invert"]:"0";
j.setProperty("--icon_"+x,"url("+PIMG[Y]+")");j.setProperty("--icon_"+x+"_invrt",C)}}var w=document.querySelector("meta[name=theme-color]");
if(w)w.setAttribute("content","#"+R.Za(r["--base"]))};gl._I=[{name:"Silver","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Super Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function iI(){dd.call(this);this.parent=null;this.i=null;this.oW=0;this.qg=0}iI.prototype=new dd;iI.prototype.abt=function(r){var eK=this;
while(eK!=null){if(eK==r)return!0;eK=eK.parent}return!1};iI.prototype.yv=function(){var r=this.i;return r.offsetWidth+r.clientLeft};
iI.prototype.aqe=function(){var r=this.i;return r.offsetHeight+r.clientTop};iI.prototype.update=function(r){};
iI.prototype.g=function(r){dd.prototype.g.call(this,r);if(r.bubbles&&this.parent!=null)this.parent.g(r)};
iI.prototype.ais=function(r){r.stopPropagation();r.preventDefault()};iI.prototype.h=function(){};iI.prototype.BY=function(r){y.UM(this.i,"disabled")};
iI.prototype.ph=function(r){y.ui(this.i,"disabled")};iI.prototype.b3=function(r){if(r)this.BY();else this.ph()};
function ef(r){iI.call(this);this.ns=[];this.TQ=!1;this.a3b=0;this.gM={x:0,y:0,XS:!1};this.Pf=r;this.a6e=this.uo.bind(this);
this.sh=this.yN.bind(this);this.anD=this.BS.bind(this);y.Wu(r,this.a6e);y.sD(r,this.sh);r.addEventListener("wheel",this.mn.bind(this),!1);
r.addEventListener("contextmenu",this.at1.bind(this),!1);var j=this.ahS.bind(this);r.addEventListener("gesturestart",j,!1);
r.addEventListener("gesturechange",j,!1);r.addEventListener("gestureend",j,!1);y.PO(r)}ef.prototype=new iI;
ef.prototype.ahS=function(r){if(r.type=="gesturestart")this.N5=r.scale;if(r.type=="gesturechange"){var j=new iu("mouse",!0);
j.action="scroll";j.Rw=!0;this.CA(r,j);var D=(this.N5-r.scale)/this.N5;j.Cp=new gJ(0,100*D);this.N5=r.scale;
this.g(j)}};ef.prototype.nr=function(r){var j=-1,D=this.ns;for(var P=0;P<D.length;P++)if(D[P].pointerId==r.pointerId)j=P;
return j};ef.Sk=function(r){var j=r.pointerType,D=window.__kb;return j=="touch"&&D.o(e4.a7C)};ef.prototype.uo=function(r){if(ef.Sk(r))return;
var j=this.nr(r);if(j!=-1)this.ns[j]=r;else this.ns.push(r);if(this.ns.length==1){this.a3b=Date.now();
var D=r.button!=null&&r.button!=0?"rdown":"down",N=new iu("mouse",!0);N.action=D;this.CA(r,N);this.g(N);
y.hE(this.Pf,this.sh);y.sD(window,this.sh);y.B6(window,this.anD)}if(this.ns.length==2){if(Date.now()-this.a3b<100){var N=new iu("mouse",!0);
N.action="cancellast";this.CA(r,N);this.g(N)}this.a1Y("multidown");this.TQ=!0}};ef.prototype.yN=function(r){if(ef.Sk(r))return;
var j=this.nr(r);if(j!=-1)this.ns[j]=r;if(this.ns.length>1){this.a1Y("multimove")}if(this.TQ)return;
if(this.ns.length==1&&j==-1)return;var D=new iu("mouse",!0);D.action="move";this.CA(r,D);this.g(D)};
ef.prototype.BS=function(r){if(ef.Sk(r))return;var j=this.ns,D=this.nr(r);if(D!=-1)j.splice(D,1);else return;
if(j.length==0){var N=r.button!=null&&r.button>0?"rup":"up",b=new iu("mouse",!0);b.action=N;this.CA(r,b);
this.g(b);y.hE(window,this.sh);y.jm(window,this.anD);y.sD(this.Pf,this.sh);this.TQ=!1}};ef.prototype.mn=function(r){r.preventDefault();
if(r.deltaX==0&&r.deltaY==0)return;var j=new iu("mouse",!0);j.action="scroll";j.Rw=r.ctrlKey;this.CA(r,j);
this.g(j)};ef.prototype.at1=function(r){y.Wp(r);var j=r.sourceCapabilities;if(j)j=j.firesTouchEvents;
if(j){var D=new iu("mouse",!0);this.CA(r,D);D.action="rdown";this.g(D);D.action="rup";this.g(D)}};ef.prototype.a1Y=function(r){var j=this.ns,D=y.f(),N=[];
for(var P=0;P<j.length;P++){var b=N[P]=y.dD(j[P],this.Pf);b.x*=D;b.y*=D}var Y=new iu("mouse",!0);Y.action=r;
Y.Sa=N;if(j.length<=2)this.g(Y)};ef.prototype.CA=function(r,j,D){var N=this.ns.length!=0;if(j.action!="up"){var b=y.f();
if(D==null)D=y.dD(r,this.Pf);this.gM=j.w6={x:b*D.x,y:b*D.y,XS:N};var Y=y.dD(r,document.body);j.w6.tu=Y.x;
j.w6.rW=Y.y}else this.gM=j.w6={x:this.gM.x,y:this.gM.y,XS:N};j.w6.He=.5;if(r.pressure!=null&&r.pressure!=0)j.w6.He=r.pressure;
if(r.pointerType=="mouse")j.w6.He*=2;if(r.deltaX!=null){var x=r.deltaMode==0?1:40;j.Cp=new gJ(r.deltaX*x,r.deltaY*x)}};
function cW(r,j){iI.call(this);this.U5=null;this.a3L=this.BS.bind(this);this.a6A=this.qM.bind(this);
this.afV=this.a2z.bind(this);this.afY=this.a67.bind(this);this.Yc=[];this.Jm=[];this.i4=[];this.adG=[];
this.i=y.C("div","contextpanel");this.i.addEventListener("contextmenu",y.P$,!1);this.n_=null;this.M5=0;
this.afa=r;this.acx=j;this.Hk=[];for(var P=0;P<r.length;P++){var D=y.C("div","enab");this.Jm.push(D);
this.i.appendChild(D);if(r[P].Jx){var N=y.C("img","thumb");N.setAttribute("src",PIMG[r[P].Jx]);D.appendChild(N)}else{var b=y.C("span","check");
this.adG.push(b);D.appendChild(b)}var Y=y.C("span","label");Y.innerHTML=e9.get(r[P].name);D.appendChild(Y);
this.i4.push(Y);if(r[P].E4)this.i.appendChild(y.C("hr"));if(r[P].N9||r[P].sub){var x=y.C("span","right");
D.appendChild(x);if(r[P].N9)x.innerHTML=e4._2(r[P].N9);if(r[P].sub)x.innerHTML="\u25B6"}D.addEventListener("click",this.a3L,!1);
D.addEventListener("mouseover",this.a6A,!0);D.addEventListener("mouseout",this.afV,!0);if(r[P].sub){var C=new cW(r[P].sub,j?j[P].sub:null);
C.parent=this;this.Hk.push(C);C.X("select",this.a52,this)}else this.Hk.push(null)}}cW.prototype=new iI;
cW.prototype.a4u=function(r){y.Su(this.i);for(var P=0;P<r.length;P++)if(r[P]!=0&&r[P]!=null){this.i.appendChild(this.Jm[P]);
if(r[P]!=1&&this.Hk[P])this.Hk[P].a4u(r[P])}};cW.prototype.h=function(){var r=this.afa;for(var P=0;P<r.length;
P++){if(r[P].title)this.Jm[P].title=e9.get(r[P].title);this.i4[P].textContent=e9.get(r[P].name)+(r[P].IC?"...":"")}for(var P=0;
P<this.Hk.length;P++)if(this.Hk[P])this.Hk[P].h()};cW.prototype.update=function(r,j){var D=this.afa;
for(var P=0;P<D.length;P++){if(D[P].N){var N=D[P].N(r,j,P);if(N.N!=null)this.Jm[P].setAttribute("class",N.N?"enab":"disab");
if(N.an!=null)this.i4[P].textContent=N.an;if(N.DJ!=null)this.adG[P].textContent=N.DJ?"\u2713":""}}for(var P=0;
P<this.Hk.length;P++)if(this.Hk[P])this.Hk[P].update(r,j)};cW.prototype.$r=function(){return this.Yc};
cW.prototype.BS=function(r){if(r.button!=0)return;var P=this.Jm.indexOf(r.currentTarget);if(this.Hk[P]){this.M5=P;
this.a67()}else{if(this.acx){var j=this.acx[P],D=new iu(j.$,!0);D.k=j.k;D.data=j.H;this.g(D)}this.U5=null;
this.Yc=[P];this.g(new iu("select",!1));var D=new iu(y.E.V,!0);D.data={e:y.G.$a};this.g(D)}};cW.prototype.qM=function(r){var P=this.Jm.indexOf(r.currentTarget);
if(this.n_){clearTimeout(this.n_);this.n_=null}if(this.Hk[P]==null)return;this.M5=P;this.n_=setTimeout(this.afY,300)};
cW.prototype.a2z=function(r){var P=this.Jm.indexOf(r.currentTarget);if(this.n_){clearTimeout(this.n_);
this.n_=null}};cW.prototype.a67=function(){if(this.n_){clearTimeout(this.n_);this.n_=null}var P=this.M5;
if(this.U5)this.U5.afx();this.U5=this.Hk[P];var r=this.Jm[P].getBoundingClientRect(),j=new iu(y.E.V,!0);
j.data={e:y.G.Eo,Z3:this.Hk[P],x:r.left+r.width+2,y:r.top};this.g(j)};cW.prototype.afx=function(){for(var P=0;
P<this.Hk.length;P++)if(this.Hk[P])this.Hk[P].afx();var r=new iu(y.E.V,!0);r.data={e:y.G.ad,Z3:this};
this.g(r)};cW.prototype.a52=function(r){var P=this.Hk.indexOf(r.target);this.Yc=[P].concat(r.target.$r());
this.g(new iu("select",!1))};function il(r,j,D,N,b,Y,x,C,w){iI.call(this);this.i=y.C("span","fitem");
var q=y.nZ();this.ZV=r;this.L9=C;this.a3a=w;this.Jw=j;this.a4=D;this.DS=null;if(N instanceof Array){this.DS=N;
N=N[0]}this.vs=N;this.rA=b;this.ahc=Y;this.sA=x;this.A8=0;this.bt=y.C("label","flabel");this.bt.innerHTML=r;
this.bt.setAttribute("style","cursor:col-resize;");this.t$=y.C("input","");this.t$.setAttribute("type","range");
if(x){this.t$.min=0;this.t$.max=400}else{this.t$.min=j;this.t$.max=D;if(b!=0)this.t$.step=(D-j)/200}this.Ua=y.C("input","");
this.Ua.setAttribute("type","text");this.Ua.setAttribute("id",q);this.N3=y.C("span","");this.N3.innerHTML=N;
this.Ua.addEventListener("change",this.uK.bind(this),!1);this.Ua.addEventListener("keydown",this.cj.bind(this),!1);
this.Ua.addEventListener("wheel",this.mn.bind(this),!1);this.t$.addEventListener("input",this.uK.bind(this),!1);
if(w)this.t$.addEventListener("change",this.uK.bind(this),!1);this.t$.addEventListener("click",this.aiW.bind(this),!1);
this.aoa=this.atd.bind(this);this.al1=this.aqG.bind(this);this.a8r=this.adB.bind(this);this.wu=0;this.pa=0;
this.cl=!1;y.Wu(this.bt,this.aoa);y.PO(this.bt)}il.prototype=new iI;il.prototype.Z_=function(r){this.rA=r};
il.prototype.W3=function(r){this.bt.textContent=r};il.prototype.h=function(){var eK=this.ZV,r=this.L9;
if(eK){if(typeof eK=="string"&&eK.startsWith("<"))this.bt.innerHTML=eK;else this.bt.textContent=e9.get(eK)+":"}if(r){r=e9.get(r);
if(eK)this.bt.setAttribute("title",r);this.Ua.setAttribute("title",r)}};il.prototype.l=function(r,j){var D=this.Jw==this.a4;
if(!D&&this.Jw>=0)r=Math.max(this.Jw,r);if(this.rA==0)r=Math.round(r);var N=this.vs;this.Ua.value=(this.rA!=0?r.toFixed(this.rA):r)+(this.ahc&&N?(N.toLowerCase()==N.toUpperCase()?"":" ")+N:"");
var b=400*Math.pow((r-this.Jw)/(this.a4-this.Jw),1/2.7);this.t$.value=this.sA?b:r;if(j)this.h1()};il.prototype.A=function(){var r=parseFloat(this.Ua.value);
if(isNaN(r))r=0;return r};il.prototype.SQ=function(){return this.vs};il.prototype.uK=function(r){var j=0;
if(r.currentTarget==this.Ua){var D=r.target.value,N=0;j=D==""?0:this.vs?parseFloat(D):eval(D);if(isNaN(j))j=0;
while(N<D.length&&(D.charAt(N)=="."||48<=D.charCodeAt(N)&&D.charCodeAt(N)<=57))N++;var b=D.slice(N).trim();
if(this.DS&&this.DS.indexOf(b)!=-1)this.vs=b}else{if(Date.now()-this.A8<10)return;j=parseFloat(r.target.value);
if(this.sA){j=this.Jw+Math.pow(j/400,2.7)*(this.a4-this.Jw);j=this.acM(j)}}this.l(j);if(r.type=="input"&&this.a3a)return;
this.h1()};il.prototype.h1=function(){this.g(new iu(y.E.Y))};il.prototype.acM=function(r){if(this.a4-this.Jw>50&&r>10)r=Math.round(r);
return r};il.prototype.cj=function(r){var j=0;if(e4.Qi(r.code,e4.eS))j=1;if(e4.Qi(r.code,e4.w_))j=-1;
if(j!=0)this.aaE(j,r.shiftKey)};il.prototype.mn=function(r){this.aaE(r.deltaY>0?-1:1,r.shiftKey)};il.prototype.aaE=function(r,j){var D=this.A(),N=this.rA,b=r*(N==null||N==0||D>5?1:.1);
if(j)b*=10;var Y=D+b;if(!this.sA&&this.a4!=this.Jw)Y=Math.min(this.a4,Y);this.l(Y);this.h1()};il.prototype.aiW=function(r){var j=Date.now()-this.A8;
this.A8=Date.now();if(j>300)return;var D=(this.a4+this.Jw)/2;if(this.Jw<0&&this.a4>0)D=0;else if(this.Jw<1&&this.a4>1&&this.a4<10)D=1;
this.l(D);this.h1()};il.prototype.atd=function(r){y.sD(document,this.al1);y.B6(document,this.a8r);this.wu=y.dD(r,document.body).x;
this.pa=this.A()};il.prototype.aqG=function(r){y.Wp(r);var j=this.Jw==this.a4,D=y.dD(r,document.body).x,N=(D-this.wu)*(j?1:1/120*(this.a4-this.Jw)),b=this.pa+N;
if(j)b=Math.round(b);if(!j){if(!0){b=Math.max(this.Jw,b);if(b==this.Jw){this.wu=D;this.pa=this.Jw}}if(!this.sA){b=Math.min(this.a4,b);
if(b==this.a4){this.wu=D;this.pa=this.a4}}b=this.acM(b)}this.cl=!0;this.l(b);this.h1()};il.prototype.adB=function(r){if(!this.cl)this.Ua.focus();
this.cl=!1;y.hE(document,this.al1);y.jm(document,this.a8r)};il.prototype.NK=function(){this.Ua.select();
this.Ua.focus()};function a0(r,j){iI.call(this);this.d_=[];this.GI=-1;this.a5b=r;this.kq=j;this.FX=0;
this.D7=null;this.DL=new gJ(0,0);if(j!=null){this.AS=new cW([{name:[6,37]},{name:[5,4]}]);this.AS.parent=this;
this.AS.X("select",this.xK,this)}this.i=y.C("div","imageset scrollable");this.i.addEventListener("contextmenu",y.P$,!1)}a0.prototype=new iI;
a0.prototype.h=function(){if(this.AS)this.AS.h()};a0.prototype.xK=function(r){var P=this.AS.$r()[0],j=new iu(y.E.V,!0),D={e:y.G.VD,Ek:this.kq,BX:[this.GI]};
if(P==0){var N=this.D7[1][this.GI];D.jB="rnm";j.data={e:y.G.gl,SO:"namewindow",Gz:N,Cu:{$:y.E.V,H:D}}}else{j.data=D;
D.jB="del"}this.g(j)};a0.prototype.aje=function(){return this.FX};a0.prototype.rV=function(r){this.FX=r;
if(this.D7)this.eE()};a0.prototype.lu=function(r,j,D,N){this.D7=[r,j,D,N];this.eE()};a0.prototype.eE=function(){var r=this.D7,j=r[0],D=r[1],N=r[2],b=r[3];
this.d_=[];this.i.innerHTML="";var Y=this.Bo.bind(this),x=this.FX;if(x==0)y.ui(this.i,"imageset");else y.UM(this.i,"imageset");
for(var P=0;P<j.length;P++){var C=j[P],w=null;if(C==null){this.d_.push(null);continue}if(typeof C=="string"){w=y.C("img","image");
w.setAttribute("src",C)}else w=C;if(N)y.tv(w,N,b);if(this.a5b)y.ui(w,"gsicon");if(x==0){}else{var q=y.C("div","listitem");
q.appendChild(w);var u=y.C("span");u.textContent=D?D[P]:"Item "+(P+1);u.setAttribute("style","margin-left:4px;");
q.appendChild(u);w=q}if(D)w.setAttribute("title",D[P]);w.addEventListener("mousedown",Y,!1);this.d_.push(w);
this.i.appendChild(w)}};a0.prototype.Bo=function(r){r.preventDefault();this.GI=this.d_.indexOf(r.currentTarget);
this.DL=y.dD(r,r.currentTarget);if(r.button==0)this.g(new iu(y.E.Y));if(r.button==2&&this.AS){var j=this.AS;
j.update(null);var D=y.dD(r,document.body),N=new iu(y.E.V,!0);N.data={e:y.G.Eo,Z3:j,x:D.x,y:D.y+2};this.g(N)}};
a0.prototype.A=function(){return this.GI};a0.prototype.l=function(r){this.GI=r};a0.prototype.a3H=function(){var r=this.DL;
return new gJ(r.x,r.y)};a0.prototype.II=function(r){for(var P=0;P<this.d_.length;P++){var j=this.d_[P];
if(j==null)continue;if(P==r)y.ui(j,"selected");else y.UM(j,"selected")}};function eh(r,j,D,N,b,Y,x){iI.call(this);
this.i=y.C("span","fitem "+D);this.rd=new iI;this.rd.i=y.C("div","floatcont");this.rd.i.setAttribute("style","width: "+(N+1.5)+"em;");
this.rd.parent=this;this.aeX=y.C("div");this.rd.i.appendChild(this.aeX);this.j7=y.C("div");this.rd.i.appendChild(this.j7);
if(r){this.ZV=r;this.bt=y.C("label","flabel");this.i.appendChild(this.bt)}this.e=y.C("button",x?"nopadding":"");
this.e.setAttribute("style","position:relative;");this.e.addEventListener("click",(j?this.Zs:this.mF).bind(this),!1);
this.i.appendChild(this.e);this.w5=y.C("img",x?"gsicon":"");this.e.appendChild(this.w5);if(j){var C=y.C("button");
C.textContent="\u25BC";C.addEventListener("click",this.mF.bind(this),!1);this.i.appendChild(C)}else{var w=y.C("span");
w.textContent="\u25BC";w.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.e.appendChild(w)}var q=y.C("span");
this.j7.appendChild(q);q.setAttribute("style","display:inline-block;  vertical-align:top; width:"+N+"em;");
this.mV=new a0(x,Y);q.appendChild(this.mV.i);this.mV.parent=this.rd;this.mV.X(y.E.Y,this.afp,this);this.mV.i.style.height=b+"em";
this.tS=y.C("button");this.tS.textContent="\u25BC";this.tS.setAttribute("style","padding:3px");this.tS.addEventListener("click",this.aro.bind(this),!1);
this.j7.appendChild(this.tS);var u=this.XU(),h=Y!=e5.HX&&Y!=e5.ct?Y:null,z=Y==null?"":e5.ay[Y][0].toUpperCase(),O=h?[{name:[12,87]}]:[];
O=O.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]]},{name:[[23,6],"."+(z=="ICC"?"icc .cube .look .3dl":z)]},{name:["VAR0 ."+z,[1,8]],E4:u.length!=0}]);
for(var P=0;P<u.length;P++)O.push({name:u[P].split("/").pop()});this.AS=new cW(O);this.AS.parent=this.rd;
this.AS.X("select",this.xK,this);this.kq=Y;this.aa4=h;this.Bt=null;this.Sn=!0;this.fV=null}eh.prototype=new iI;
eh.prototype.XU=function(){return[]};eh.prototype.afp=function(r){this.y$(r);this.mV.II(this.mV.A())};
eh.prototype.Zs=function(){};eh.prototype.h=function(){this.AS.h();this.mV.h();var r=this.ZV;if(r)this.bt.textContent=e9.get(r)+":"};
eh.prototype.W3=function(r){this.bt.textContent=r};eh.prototype.pB=function(r){var j=this.kq,D=0;if(j==e5.SN){D=this.Bt?this.Bt.length:0;
r=r.slice(0)}this.Bt=r;this.Sn=!0;if(y.bN(this.mV.i)||j==e5.V_)this.kO();if(j==e5.SN&&r.length-D==1&&y.bN(this.i)){this.l(r[D]);
this.Sn=!0;this.kO();this.mV.II(D);this.g(new iu(y.E.Y))}};eh.prototype.xK=function(r){var j=r.target.$r()[0];
if(this.aa4==null)j++;var D=new iu(y.E.V,!0);if(j==0){var N=this.T2();if(this.kq==e5.SN&&N[0].profile==null)return;
D.data={e:y.G.VD,jB:"add",Ek:this.aa4,SM:N}}else if(j==1)this.mV.rV(1-this.mV.aje());else if(j==2)D.data={e:y.G.jQ};
else if(j==3)D.data={e:y.G.QX,a6x:this.kq};else{var b=this.XU();D.data={e:y.G.qS,Ek:{url:"rsrc/"+b[j-4]}}}if(D.data)this.g(D)};
eh.prototype.T2=function(){return[this.A()]};eh.prototype.aro=function(r){var j=this.AS;j.h();j.update(null);
var D=r.currentTarget.getBoundingClientRect(),N=new iu(y.E.V,!0);N.data={e:y.G.Eo,Z3:j,x:D.left,y:D.top+D.height};
this.g(N)};eh.prototype.mF=function(r){this.kO();var j=this.e.getBoundingClientRect(),D=new iu(y.E.V,!0);
D.data={e:y.G.Eo,Z3:this.rd,x:j.left,y:j.top+j.height,gK:!0};this.g(D)};function gy(){iI.call(this);
this.i=y.C("div");this.A7=!1;this.An=[new fk([12,19,1],[[13,1,7]].concat(cz.r8)),new g0([17,1]),new g0([12,46])];
for(var P=0;P<3;P++){var r=this.An[P];this.i.appendChild(r.i);r.X(y.E.Y,this.QJ,this)}this.h()}gy.prototype=new iI;
gy.prototype.h=function(){for(var P=0;P<3;P++)this.An[P].h()};gy.prototype.A=function(){return this.A7.slice(0)};
gy.prototype.l=function(r){this.A7=r.slice(0);var j=this.An,D=j[0].A();j[1].l(r.slice(D*8,D*8+4),D);
j[2].l(r.slice(D*8+4,D*8+8),D)};gy.prototype.QJ=function(r){var j=this.An,D=j.indexOf(r.currentTarget);
if(D==0)this.l(this.A7);else{var N=j[0].A()*8+(D==1?0:4),b=j[D].A();for(var P=0;P<4;P++)this.A7[N+P]=b[P];
this.g(new iu(y.E.Y,!1))}};function g0(r){iI.call(this);this.i=y.C("div");this.s=y.C("canvas");this.U3=r;
this.A7=[0,20,200,255];this.yi=0;this.Ca=-1;this.ae7=[];for(var P=0;P<5;P++){var j=y.C("span");j.setAttribute("style","display:inline-block;width:"+(P==0?8:P==2?7:2)+"em");
this.ae7.push(j);this.i.appendChild(j)}this.ya=this.uo.bind(this);this.zI=this.yN.bind(this);this.Zf=this.BS.bind(this);
y.PO(this.s);y.Wu(this.s,this.ya);this.i.appendChild(this.s);this.eE()}g0.prototype=new iI;g0.prototype.h=function(){this.eE()};
g0.prototype.l=function(r,j){this.A7=r;this.yi=j;this.eE()};g0.prototype.A=function(){return this.A7.slice(0)};
g0.prototype.uo=function(r){var j=this.A7,D=y.dD(r,this.s),N=D.x-8,b=-1,Y=1e9;for(var P=0;P<4;P++){var x=N-j[P],C=Math.abs(x);
if(C<8&&C<Y&&((P&1)==0&&x<0||(P&1)==1&&x>0)){Y=x;b=P}}if(b==-1)return;this.Ca=b;this.PF=window.__kb.o(e4.YV)||j[(b>>>1)*2]!=j[(b>>>1)*2+1];
y.sD(window,this.zI);y.B6(window,this.Zf)};g0.prototype.yN=function(r){var j=this.A7,D=this.Ca,N=(D>>>1)*2,b=N+1,Y=y.dD(r,this.s),x=Math.round(Math.max(0,Math.min(255,Y.x-8)));
j[D]=x;if(this.PF&&j[N]>=j[b])this.PF=!1;if(!this.PF)j[N]=j[b]=x;this.eE();this.g(new iu(y.E.Y,!1))};
g0.prototype.BS=function(r){y.hE(window,this.zI);y.jm(window,this.Zf)};g0.prototype.eE=function(){var r=this.s;
y.z_(r,255+16,16);var j=r.getContext("2d"),D=r.width,N=r.height,b=Math.round(255*y.f()),Y=Math.round(8*y.f());
j.translate(Y,0);var x=j.createLinearGradient(0,0,b,0);x.addColorStop(0,"black");x.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.yi]);
j.fillStyle=x;j.fillRect(0,0,b,Y);var C=this.ae7,w=e9.get(this.U3)+":";C[0].textContent=w;for(var P=0;
P<4;P++){var q=this.A7[P];C[1+P].textContent=q;var u=Math.round(q*y.f());j.beginPath();j.moveTo(u,Y);
j.lineTo(u,Y+Y);j.lineTo(u+((P&1)==0?-1:1)*Y,Y+Y);j.closePath();j.fillStyle=P<2?"#666666":"#cccccc";
j.fill();j.strokeStyle="black";j.stroke()}};function cf(r,j,D){iI.call(this);if(D==null)D=!1;this.m=[0,0,1];
this.a1H=j;this.aiK=D;this.amE=0;var N="ai"+y.nZ();this.i=y.C("span","fitem angleinput");if(r){this.bt=y.C("label","flabel");
this.ZV=r;this.i.appendChild(this.bt);this.bt.setAttribute("for",N)}this.Z1=D?44:20;this.s=y.C("canvas","gsicon");
this.AF=this.s.getContext("2d");y.PO(this.s);y.z_(this.s,this.Z1*2+1,this.Z1*2+1,this.AF);this.i.appendChild(this.s);
y.Wu(this.s,this.cQ.bind(this));this.em=this.XM.bind(this);this.Rh=this.FC.bind(this);var b=this.uK.bind(this),Y=y.C("div");
Y.setAttribute("style","display:inline-block;  vertical-align:middle;");if(!D)this.i.appendChild(Y);
this.qU=[];for(var P=0;P<2;P++){var x=y.C("input");this.qU.push(x);x.setAttribute("type","text");if(P==0)x.setAttribute("id",N);
x.addEventListener("change",b,!1);var C=y.C("span");C.textContent="\xB0";if(P==0||j){Y.appendChild(x);
Y.appendChild(C);y.aR(Y)}}this.l(this.m)}cf.prototype=new iI;cf.prototype.h=function(){if(this.ZV)this.bt.textContent=e9.get(this.ZV)+":"};
cf.prototype.W3=function(r){this.bt.textContent=r};cf.prototype.A=function(){return this.m.slice(0)};
cf.prototype.l=function(r,j){var D=this.m;r=r.slice(0);if(r[0]==null)r[0]=D[0];if(r[1]==null)r[1]=D[1];
if(r[2]==null)r[2]=D[2];this.m=r;var N=r[0],b=r[1],Y=r[2],x=this.a1H,C=this.aiK,w=this.Z1*.85;if(!x)b=0;
this.qU[0].value=N;this.qU[1].value=b;var q=this.AF;q.clearRect(0,0,100,100);N=Math.PI*N/180;b=w*(90-b)/90;
var u=this.Z1+.5;q.save();q.translate(u,u);q.rotate(-N);q.strokeStyle="rgba(0,0,0,0.5)";q.beginPath();
q.ellipse(0,0,w,w*Y,0,0,2*Math.PI);if(C){q.moveTo(0,-w*Y);q.lineTo(0,w*Y);q.moveTo(-b,0)}else q.moveTo(0,0);
q.lineTo(b,0);q.stroke();var h=this.Z1*.15;q.fillStyle="black";q.beginPath();if(C){q.arc(0,-w*Y,h*.66,0,2*Math.PI);
q.arc(0,w*Y,h*.66,0,2*Math.PI)}if(x){q.arc(b,0,h*.4,0,2*Math.PI)}else{q.moveTo(u-h,-h*.66);q.lineTo(u,0);
q.lineTo(u-h,h*.66)}q.fill();q.restore();if(j)this.uK()};cf.prototype.uK=function(r){var j=parseInt(this.qU[0].value);
if(isNaN(j))j=0;var D=parseInt(this.qU[1].value);if(isNaN(D))D=0;j=j%360;D=D%360;this.l([j,D]);this.g(new iu(y.E.Y,!1))};
cf.prototype.cQ=function(r){y.sD(window,this.em);y.B6(window,this.Rh);var j=y.dD(r,this.s),u=0,h=1e9;
j.x-=this.Z1;j.y-=this.Z1;var D=this.m,N=D[0]*Math.PI/180,b=(90-D[1])/90,Y=D[2],x=this.Z1*.85,C=Math.sin(-N),w=Math.cos(-N),q=[new gJ(w*x,C*x)];
if(this.aiK)q.push(new gJ(-C*x*Y,w*x*Y),new gJ(C*x*Y,-w*x*Y));for(var P=0;P<q.length;P++){var z=gJ.tA(j,q[P]);
if(z<h){h=z;u=P}}this.amE=u;if(u==0)this.XM(r)};cf.prototype.XM=function(r){var j=y.dD(r,this.s),D=this.amE,N=[],b=j.x-this.Z1,Y=j.y-this.Z1,x=this.Z1*.85;
if(D==0){var C=180*Math.atan2(-Y,b)/Math.PI,w=90-90*Math.min(1,Math.sqrt(b*b+Y*Y)/x);N=[Math.round(C),Math.round(w)]}else N=[null,null,Math.max(.01,Math.min(1,Math.sqrt(b*b+Y*Y)/x))];
this.l(N);this.g(new iu(y.E.Y,!1))};cf.prototype.FC=function(r){this.g(new iu(y.E.Y,!1));y.hE(window,this.em);
y.jm(window,this.Rh)};function am(r,j){iI.call(this);this.A7=0;this.__=j;this.i=y.C("span","fitem angleinput");
if(r){this.bt=y.C("label","flabel");this.ZV=r;this.i.appendChild(this.bt)}this.s=y.C("canvas","gsicon");
this.AF=this.s.getContext("2d");y.z_(this.s,j,j);this.i.appendChild(this.s);y.Wu(this.s,this.cQ.bind(this));
this.em=this.XM.bind(this);this.Rh=this.FC.bind(this);this.l(0)}am.prototype=new iI;am.prototype.h=function(){if(this.ZV)this.bt.textContent=e9.get(this.ZV)+":"};
am.prototype.W3=function(r){this.bt.textContent=r};am.prototype.A=function(){return this.A7};am.prototype.l=function(r){this.A7=r;
var j=this.s.width,D=Math.floor(r/3),N=r-3*D,b=(N+.5)*j/3,Y=(D+.5)*j/3,x=this.AF,C=[.5,Math.round(j/3)+.5,Math.round(2*j/3)+.5,j-.5];
x.clearRect(0,0,j,j);var w=this.__<30;x.setLineDash([]);x.strokeStyle=w?"rgba(0,0,0,0.5)":"#000000";
x.beginPath();for(var P=0;P<4;P++){var q=C[P];x.moveTo(q,0);x.lineTo(q,j);x.moveTo(0,q);x.lineTo(j,q)}x.stroke();
if(r==9)return;if(!w){x.setLineDash([1,2]);var u=j*.53,h=Math.max(0,Math.min(j-u,b-u/2)),z=Math.max(0,Math.min(j-u,Y-u/2));
x.strokeRect(Math.round(h)+.5,Math.round(z)+.5,Math.round(u),Math.round(u))}x.fillStyle="#000000";x.beginPath();
x.arc(b,Y,j/8,0,Math.PI*2);x.fill()};am.prototype.cQ=function(r){y.sD(window,this.em);y.B6(window,this.Rh);
this.XM(r)};am.prototype.XM=function(r){var j=y.dD(r,this.s),D=Math.max(0,Math.min(2,Math.floor(j.x/(this.__/3)))),N=Math.max(0,Math.min(2,Math.floor(j.y/(this.__/3))));
this.l(N*3+D)};am.prototype.FC=function(r){this.g(new iu(y.E.Y,!1));y.hE(window,this.em);y.jm(window,this.Rh)};
function iH(r,j,D,N,b){iI.call(this);this.i=y.C("button","fitem"+(j?" spread":"")+(N?" bbtn":""));this.ZV=r;
this.L9=D;this.h();var Y=b&&window.PointerEvent?"pointerup":"click";this.i.addEventListener(Y,this.Bo.bind(this),!1)}iH.prototype=new iI;
iH.prototype.h=function(){var r=this.i,j=this.ZV,D=this.L9,N=e9.get(j);if(N.startsWith("<img")||N.startsWith("<svg"))r.innerHTML=N;
else r.textContent=N;if(N.startsWith("<img")||N.startsWith("<svg"))r.setAttribute("style","padding:2px");
if(D){r.setAttribute("title",e9.get(D))}};iH.prototype.arv=function(r){this.i.setAttribute("title",r)};
iH.prototype.Bo=function(r){this.g(new iu("click",!1))};iH.prototype.H8=function(){y.ui(this.i,"bactive")};
iH.prototype.Jc=function(){y.UM(this.i,"bactive")};iH.prototype.W3=function(r,j){if(r)this.ZV=r;if(j)this.L9=j;
this.h()};iH.prototype.l=function(r){if(r)this.H8();else this.Jc()};iH.prototype.Pp=function(){return this.i.getAttribute("class").indexOf("bactive")!=-1};
iH.prototype.A=function(){return this.Pp()};function aW(eK){iI.call(this);this.i=y.C("span","fitem cswatch");
this.aeD=0;this.B5=[];this.xC=[];var r=this.aqb.bind(this);for(var P=0;P<eK;P++){this.B5.push(0);var j=y.C("span","colorsample");
j.addEventListener("click",r,!1);this.xC.push(j);this.i.appendChild(j)}var D=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],N=Math.min(eK,D.length);
for(var P=0;P<N;P++)this.B5[P]=D[P];this._6()}aW.prototype=new iI;aW.prototype.aqb=function(r){this.aeD=this.xC.indexOf(r.currentTarget);
this.g(new iu(y.E.Y))};aW.prototype.A=function(){return this.B5[this.aeD]};aW.prototype.l=function(r){var j=this.B5,D=j.indexOf(r);
if(D!=-1)j.splice(D,1);else j.pop();j.unshift(r);this._6()};aW.prototype._6=function(){for(var P=0;P<this.B5.length;
P++){this.xC[P].setAttribute("style","background-color:#"+R.Za(this.B5[P]))}};function fe(r){iI.call(this);
this.yJ={a:0,p:0,M:0};this.GS=r;this.i=y.C("span","fitem colorsample");this.i.addEventListener("click",this.x5.bind(this),!1)}fe.prototype=new iI;
fe.prototype.h=function(){};fe.prototype.x5=function(r){var j=this.yJ;this.g(new iu("click"));var D=new iu(y.E.V,!0);
D.data={e:y.G.gl,SO:"colorpicker",h_:j.a<<16|j.p<<8|j.M,PK:this.jC.bind(this),d6:this.GS};this.g(D)};
fe.prototype.jC=function(r){this.Sb(r);this.g(new iu(y.E.Y))};fe.prototype.a4t=function(){this.x5(null)};
fe.prototype.ajm=function(){var r=this.yJ;return r.a<<16|r.p<<8|r.M};fe.prototype.A=function(){return R._.XJ(this.yJ)};
fe.prototype.Sb=function(r){this.yJ={a:r>>16&255,p:r>>8&255,M:r&255};this.ai4()};fe.prototype.l=function(r){this.yJ=R._.z2(r);
this.ai4()};fe.prototype.ai4=function(){var r=this.yJ,j=r.a,D=r.p,N=r.M,b=j<<16|D<<8|N;this.i.setAttribute("style","background-color:#"+R.Za(b))};
function al(){iI.call(this);this.Tz=!1;this.L$=20;this.aj4=10;this.Xu=0;this.Tz=!1;this.Hb={a:255,p:0,M:0};
this.DO={a:0,p:0,M:0};this.i=y.C("canvas");this.eE();y.PO(this.i);y.Wu(this.i,this.ya.bind(this))}al.prototype=new iI;
al.prototype.abf=function(r){if(this.Tz==r)return;this.Tz=r;this.eE()};al.prototype.h=function(){};al.prototype.asb=function(r,j){function D(N){return{a:N>>16&255,p:N>>8&255,M:N&255}}if(r!=null)this.Hb=D(r);
if(j!=null)this.DO=D(j);this.eE()};al.prototype.ya=function(r){var j=y.dD(r,this.i),D=j.x*y.f(),N=j.y*y.f(),b=this.L$,Y=this.aj4,x=0;
if(D<Y&&N<Y){x=0}else if(D>b-Y&&N>b-Y){x=1}else if(D<Y){x=2}else{x=3}var C=new iu(y.E.V,!0);if(x>1)C.data={e:y.G.VD,Ek:e5.pN,Ix:x};
else{this.Xu=x;var w=x==0?this.Hb:this.DO;C.data={e:y.G.gl,SO:"colorpicker",h_:w.a<<16|w.p<<8|w.M,PK:this.jC.bind(this)}}this.g(C)};
al.prototype.jC=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.VD,Ek:e5.pN,Ix:this.Xu,m:r};this.g(j)};
al.prototype.eE=function(){var r=this.i,j=r.getContext("2d"),D=y.f(),b="#aaaaaa",Y=.62;y.z_(r,34,34);
r.setAttribute("style",r.getAttribute("style")+";cursor:pointer");var N=this.L$=r.width,x=this.aj4=Math.round(N*Y);
function C(O,g){var t=O.a,$=O.p,i=O.M;if(g)t=$=i=Math.round(R.qO(t,$,i));var A=t<<16|$<<8|i;return"#"+R.Za(A)}function w(O,g,x,t,$){j.fillStyle=$?$:"black";
j.fillRect(O,g,x,x);j.fillStyle=t;j.fillRect(O+1,g+1,x-2,x-2)}w(N-x,N-x,x,C(this.DO,this.Tz));w(0,0,x,C(this.Hb,this.Tz));
var q=N-x,u=Math.round(q*Y);w(N-u,q-u,u,"white",b);w(N-q,0,u,"black",b);j.save();j.fillStyle=b;j.translate(0,N);
j.rotate(-Math.PI/2);q=N-x;var h=Math.round(q*.28),z=Math.round(q*.25);for(var P=0;P<2;P++){j.fillRect(h,h,q-h,1);
j.beginPath();j.moveTo(q-z,h+.5-z);j.lineTo(q,h+.5);j.lineTo(q-z,h+.5+z);j.closePath();j.fill();j.transform(0,1,1,0,0,0)}j.restore()};
function gi(r){eh.call(this,r,!1,"brushbutton nopadding",19,10,e5.cL,!0);var j=this.aeX;y.ui(j,"flexrow");
var D=y.C("div");j.appendChild(D);var N=y.C("div");j.appendChild(N);N.setAttribute("style","margin-left:8px");
this.fy=new cf(null,null,!0);this.fy.X(y.E.Y,this.b2,this);D.appendChild(this.fy.i);this.bs=new fv([12,14,0],1,1e3," px",0,!0);
this.bs.X(y.E.Y,this.b2,this);N.appendChild(this.bs.i);this.hm=new fv([12,17],0,100,"%");this.hm.X(y.E.Y,this.b2,this);
N.appendChild(this.hm.i)}gi.prototype=new eh;gi.prototype.XU=function(){var r=["pencil","trees"];for(var P=0;
P<r.length;P++)r[P]="brushes/"+r[P]+".abr";return r};gi.prototype.mF=function(r){var j=this.i.getBoundingClientRect();
this.a9D(j.left,j.top+j.height)};gi.prototype.a9D=function(r,j){this.kO();var D=new iu(y.E.V,!0);D.data={e:y.G.Eo,Z3:this.rd,x:r,y:j};
this.g(D)};gi.prototype.l=function(r,j,D){this.fV=JSON.parse(JSON.stringify(r));var N=Math.floor(20*y.f()),b=Math.floor(36*y.f()),Y=Math.floor(24*y.f()),x=gU.af(r,j,D,N,Y,b);
this.w5.setAttribute("src",x);y.tv(this.w5,b,Y);var C=r.Brsh.v;this.bs.l(C.Dmtr.v.val);if(C.Hrdn!=null){this.hm.BY();
this.hm.l(C.Hrdn.v.val)}else this.hm.ph();if(C.Angl!=null)this.fy.l([C.Angl.v.val]);if(C.Rndn!=null)this.fy.l([null,null,C.Rndn.v.val/100]);
this.mV.II(-1)};gi.prototype.T2=function(){return{list:[{t:"Objc",v:this.A()}],fB:[],CL:[]}};gi.prototype.A=function(){return this.fV};
gi.prototype.kO=function(){if(!this.Sn)return;var r=[],j=[],D=this.Bt,N=Math.floor(33*y.f()),b=Math.floor(40*y.f());
for(var P=0;P<D.list.length;P++){var Y=D.list[P].v,x=gU.af(Y,D.fB,D.CL,N,b);r.push(x);j.push(Y.Nm.v.split("=").pop())}this.mV.lu(r,j,N,b);
this.Sn=!1};gi.prototype.y$=function(r){var j=this.Bt;this.l(j.list[this.mV.A()].v,j.fB,j.CL);this.g(new iu(y.E.Y))};
gi.prototype.h=function(){eh.prototype.h.call(this);this.fy.h();this.bs.h();this.hm.h()};gi.prototype.b2=function(r){var j=this.Bt,D=this.fV,N=D.Brsh.v;
N.Dmtr.v.val=this.bs.A();if(N.Hrdn!=null)N.Hrdn.v.val=this.hm.A();if(N.Angl!=null)N.Angl.v.val=this.fy.A()[0];
if(N.Rndn!=null)N.Rndn.v.val=Math.round(this.fy.A()[2]*100);this.l(D,j.fB,j.CL);this.g(new iu(y.E.Y))};
function hY(r){eh.call(this,r,!0,"contourbutton",17,10.5,e5.Fe)}hY.prototype=new eh;hY.prototype.y$=function(r){this.l(this.Bt[r.target.A()]);
this.g(new iu(y.E.Y))};hY.prototype.Zs=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.gl,SO:"contoureditor",lk:this.fV,response:this.aoB.bind(this)};
this.g(j)};hY.prototype.aoB=function(r){this.l(r);this.g(new iu(y.E.Y))};hY.prototype.kO=function(){if(!this.Sn)return;
var r=Math.floor(38*y.f()),j=Math.floor(38*y.f()),D=[],N=[],b=this.Bt;for(var P=0;P<b.length;P++){N.push(b[P].Nm?b[P].Nm.v:"");
D.push(R.I7.af(b[P].Crv.v,r,j))}this.mV.lu(D,N,r,j);this.Sn=!1};hY.prototype.l=function(r){this.fV=JSON.parse(JSON.stringify(r));
var j=this.fV.Crv.v;for(var P=0;P<j.length;P++)if(j[P].v.Cnty==null)j[P].v.Cnty={t:"bool",v:!0};this.vm()};
hY.prototype.vm=function(){var r=Math.floor(30*y.f()),j=Math.floor(30*y.f()),D=R.I7.af(this.fV.Crv.v,r,j);
this.w5.setAttribute("src",D);y.tv(this.w5,r,j)};hY.prototype.A=function(){return JSON.parse(JSON.stringify(this.fV))};
function jd(r){iI.call(this);this.b1=null;this.xY=null;this.FW=null;this.uQ=null;this.a4U=[];this.amy=[];
this.i=y.C("span","fitem fillbutton");this.rd=new iI;this.rd.i=y.C("div","floatcont form");this.rd.i.setAttribute("style","width: 21em;");
this.rd.parent=this;this.v3=r;this.bt=this.bt=y.C("label","flabel");this.i.appendChild(this.bt);this.s=y.C("canvas");
this.AF=this.s.getContext("2d");this.alg=null;this.i.appendChild(this.s);this.s.addEventListener("click",this.mF.bind(this),!1);
this.Od=new a2([12,66],["","Color","Grad","Patt"]);this.rd.i.appendChild(this.Od.i);this.Od.X(y.E.Y,this.QJ,this);
this.rd.i.appendChild(y.C("hr"));this.ahL=y.C("span");this.Cl=new fe(!0);this.Cl.parent=this.rd;this.Cl.X(y.E.Y,this.QJ,this);
this.J9=new aW(10);this.J9.X(y.E.Y,this.QJ,this);this.r4=y.C("div","marged hiline");this.r4.appendChild(this.Cl.i);
y.aR(this.r4);this.r4.appendChild(this.J9.i);this.ge=new h5("GrFl",!0);this.ge.parent=this.rd;this.ge.X(y.E.Y,this.QJ,this);
this.KK=y.C("div","marged hiline");var j="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var P=0;
P<j.length;P++){var D=this.ge.sy[j[P]].i;this.KK.appendChild(D)}this.t4=new h5("patternFill",!0);this.t4.parent=this.rd;
this.t4.X(y.E.Y,this.QJ,this);this.tw=y.C("div","marged hiline");var j=["Ptrn","Scl","Algn","phase"];
for(var P=0;P<j.length;P++){var D=this.t4.sy[j[P]].i;this.tw.appendChild(D)}}jd.prototype=new iI;jd.prototype.Wf=function(r,j){if(j==e5.ag){this.a4U=[];
this.amy=[];if(this.b1)this.l(this.FW,this.A(),this.b1)}this.xY=r;this.ge.Wf(r,j);this.t4.Wf(r,j)};jd.prototype.h=function(){this.bt.textContent=e9.get(this.v3)+": ";
this.Od.h();this.Cl.h();this.ge.h();this.t4.h()};jd.prototype.QJ=function(r){var j=r.currentTarget;if(j==this.Od){var D=this.Od.A(),N={cC:D,ME:this.b1[D]};
if(D>0&&N.ME==null)N.ME=JSON.parse(JSON.stringify(hz.N$[D-1]));if(this.b1)this.l(this.FW,N,this.b1)}if(j==this.J9)this.Cl.Sb(j.A());
this.g(new iu(y.E.Y,!1))};jd.prototype.mF=function(r){var j=this.s.getBoundingClientRect(),D=new iu(y.E.V,!0);
D.data={e:y.G.Eo,Z3:this.rd,x:j.left,y:j.top+j.height+4};this.g(D);this.J9.l(this.Cl.ajm())};jd.prototype.l=function(r,j,D){this.b1=D;
this.FW=r;var N=[[13,1,0],[13,0],[12,37],[12,62]],b=this.a4U,Y=this.amy,x=!1,u;for(var P=0;P<4;P++){var C={cC:P,ME:D[P]},w=jd.ag9(C);
if(Y[P]==w)continue;x=!0;var q=jd.a31(null,C,this.xY,this.FW,22,22,!1);b[P]="<img width=\"22\" height=\"22\" src=\""+q+"\" />";
Y[P]=w}if(x)this.Od.Sf(b,N);this.Od.l(j.cC);var w=jd.ag9(j);if(w!=this.alg)jd.a31(this.AF,j,this.xY,this.FW,30,23,!0);
this.alg=w;var h=j.cC;if(h==0){u=this.ahL}if(h==1){this.Cl.l(j.ME.Clr.v);u=this.r4}if(h==2){this.ge.update(r,j.ME);
u=this.KK}if(h==3){this.t4.update(r,j.ME);u=this.tw}if(u!=this.uQ){if(this.uQ!=null){this.rd.i.removeChild(this.uQ)}this.rd.i.appendChild(u);
this.uQ=u}};jd.prototype.A=function(){var r={cC:this.Od.A()};if(r.cC==1){r.ME=JSON.parse(JSON.stringify(hz.N$[0]));
r.ME.Clr.v=this.Cl.A()}if(r.cC==2){r.ME=this.ge.A()}if(r.cC==3){r.ME=this.t4.A()}return r};jd.ag9=function(r){var j=r.cC,D=r.ME,N="empty";
if(j==1){N=R._.z2(D.Clr.v);N=N.a+","+N.p+","+N.M}if(j==2)N=JSON.stringify(D.Grad.v);if(j==3)N=D.Ptrn.v.Idnt.v;
return N};jd.a31=function(r,j,D,N,b,Y,x){if(r==null)r=jd.AF;var C=Math.floor(b*y.f()),w=Math.floor(Y*y.f()),q=r.canvas,u;
q.width=C;q.height=w;y.tv(q,C,w);var h=j.cC;if(h==0){r.fillStyle="#ffffff";r.fillRect(0,0,C,w);r.strokeStyle="#ff0000";
r.lineWidth=2;r.moveTo(0,0);r.lineTo(C,w);r.moveTo(0,w);r.lineTo(C,0);r.stroke()}if(h==1){var z=j.ME.Clr.v;
z=R._.z2(z);r.fillStyle="#"+R.Za(z.a<<16|z.p<<8|z.M);r.fillRect(0,0,C,w)}if(h==2){I.GY.af(j.ME.Grad.v,C,w,0,D.xg,D.mL,q)}if(h==3){var O=j.ME.Ptrn.v,g;
if(N!=null)g=fx.T5(O,N.add.Patt);if(g==null)g=fx.T5(O,D.o$);b9.af(g,C,w,q)}if(x){r.beginPath();r.strokeStyle="#000000";
r.fillStyle="#ffffff";r.lineWidth=2;var t=C*.7,$=Math.floor(w*.7),i=7*y.f();r.moveTo(t,$);r.lineTo(t+i,$);
r.lineTo(t+i/2,$+i/2);r.closePath();r.stroke();r.fill()}if(r==jd.AF)return q.toDataURL()};jd.AF=y.C("canvas").getContext("2d");
function b9(r){eh.call(this,r,!1,"patternbutton",18,10,e5.ag);this.IY=null}b9.prototype=new eh;b9.prototype.y$=function(r){var j=this.Bt[this.mV.A()];
this.fV={classID:"Ptrn",Nm:{t:"TEXT",v:j.name},Idnt:{t:"TEXT",v:j.id}};this.g(new iu(y.E.Y));this.vm()};
b9.jt=!1;b9.prototype.kO=function(){if(!this.Sn)return;var r=this.Bt;if(r==null||!b9.jt){var j=new iu(y.E.V,!0);
j.data={e:y.G.qS,Ek:{url:"rsrc/basic/basic.pat"}};this.g(j);b9.jt=!0;return}var D=Math.floor(34*y.f()),N=Math.floor(34*y.f()),b=[],Y=[];
for(var P=0;P<r.length;P++){b.push(b9.af(r[P],D,N));Y.push(r[P].name)}this.mV.lu(b,Y,D,N);this.Sn=!1};
b9.prototype.l=function(r,j){if(this.fV&&r.Idnt.v==this.fV.Idnt.v)return;this.fV=JSON.parse(JSON.stringify(r));
this.vm(j)};b9.prototype.A=function(){return JSON.parse(JSON.stringify(this.fV))};b9.prototype.T2=function(){return this.IY?[this.IY]:[]};
b9.prototype.vm=function(r){var j=Math.floor(50*y.f()),D=Math.floor(50*y.f()),N;if(r!=null)N=fx.T5(this.fV,r.add.Patt);
if(N==null)N=fx.T5(this.fV,this.Bt);this.IY=N;var b=b9.af(N,j,D);this.w5.setAttribute("src",b);y.tv(this.w5,j,D)};
b9.s=y.C("canvas","");b9.af=function(r,j,D,N){if(N==null)N=b9.s;var b=N.getContext("2d");N.width=j;N.height=D;
if(r){var Y=r.PT[1],x=Y.d,C=Y.r,w=r.PT[0],q=Math.min(j/x,D/C),u=q;if(u*x<2)u=2/x;var h=q;if(h*C<2)h=2/C;
var z=I.T.Kn([w,Y],new j9(u,0,0,h,0,0),!1),O=z.rect.d,g=z.rect.r,t=b.createImageData(O,g);R.kZ(z.buffer,t.data);
b.putImageData(t,Math.floor((j-O)/2),Math.floor((D-g)/2))}return N.toDataURL()};function bn(r){eh.call(this,r,!1,"patternbutton",24.2,17,e5.HX);
this.Sg=""}bn.prototype=new eh;bn.prototype.y$=function(r){this.fV=JSON.parse(JSON.stringify(this.Bt[0][this.mV.A()]));
this.g(new iu(y.E.Y))};bn.prototype.kO=function(){var r=this.Bt;if(r==null||!this.Sn)return;var j=Math.floor(50*y.f()),D=Math.floor(50*y.f()),N=[],b=[];
for(var P=0;P<r[0].length;P++){N.push(bn.af(this.Bt[0][P].Ce,j,D,this.Bt[1]));b.push(r[0][P].oa.Nm.v.split("=").pop())}this.mV.lu(N,b,j,D);
this.Sn=!1};bn.prototype.l=function(r,j,D,N){var b=JSON.stringify(r.Ce)+","+D+","+N;if(this.Sg!=b){this.Sg=b;
this.fV=JSON.parse(JSON.stringify(r));this.vm(j,D,N)}this.mV.II(-1)};bn.prototype.A=function(){return JSON.parse(JSON.stringify(this.fV))};
bn.prototype.vm=function(r,j,D){var N=Math.floor(68*y.f()),b=Math.floor(68*y.f()),Y=bn.af(this.fV.Ce,N,b,r?r:this.Bt[1],j,D);
this.w5.setAttribute("src",Y);y.tv(this.w5,N,b)};bn.af=function(r,j,D,N,b,Y){var x=new dl;x.d=j;x.r=D;
x.buffer=R.O(j*D*4);x.add.Patt=N;x.lg(b==null?90:b);x.ak(Y==null?30:Y);var C=new bf(0,0,Math.round(j*.5),Math.round(D*.5));
C.x=Math.round((j-C.d)/2);C.y=Math.round((D-C.r)/2);var w=x.Xp();w.rect=C;w.buffer=R.O(C.Z()*4);R.mh(w.buffer,4284045657);
fx.RH(r,w,.5*100);x.j.push(w);x.KE();x.P();var q=Z.DB;Z.DB=!1;x.wR();var u=x.Ez();Z.DB=q;var h=aP.pU(u.buffer,x.d,x.r);
return h};function i9(r){eh.call(this,null,!1,"tpresetbutton",18,24,e5.fZ,!0);y.UM(this.i,"fitem");this.mV.rV(1);
this.id=r;this.vm();this.Gc=new b1([15,7,9]);this.Gc.l(!0);this.Gc.X(y.E.Y,this.am4,this);this.j7.appendChild(this.Gc.i)}i9.prototype=new eh;
i9.prototype.a4j=function(r){if(this.id==r)return;this.id=r;this.pB(this.Bt)};i9.prototype.y$=function(r){var j=this.Bt[this.mV.A()],D=new iu(y.E.V,!0);
D.data={e:y.G.VD,jB:"set",Ek:e5.fZ,SM:j};this.g(D)};i9.prototype.h=function(){eh.prototype.h.call(this);
this.Gc.h()};i9.prototype.am4=function(){this.Sn=!0;this.kO()};i9.prototype.kO=function(){if(!this.Sn)return;
var r=Math.floor(16*y.f()),j=Math.floor(16*y.f()),D=[],N=[],b=this.Bt,Y=this.Gc.A();for(var P=0;P<b.length;
P++){var x=I.zr(b[P]);if(!Y||x==this.id){N.push(b[P][0]?b[P][0].split("=").pop():"");D.push(x==-1?"":PIMG[I.Ft[x][0]])}else{D.push(null);
N.push(null)}}this.mV.lu(D,N,r,j);this.Sn=!1};i9.prototype.vm=function(){var r=this.w5;r.setAttribute("src",PIMG[I.Ft[this.id][0]]);
y.ui(r,"toolicon")};i9.prototype.T2=function(){return null};i9.Jp={};i9.af=function(r,j,D){var N=i9.AF,b=i9.Jp,Y=R.Za(r.a<<16|r.p<<8|r.M);
if(b[Y])return b[Y];if(N==null){var x=y.C("canvas");N=i9.AF=x.getContext("2d")}var x=N.canvas;x.width=j;
x.height=D;N.fillStyle="#"+Y;N.fillRect(0,0,j,D);var C=b[Y]=x.toDataURL();return C};function cr(r,j){iI.call(this);
this.i=y.C("span","fitem curveeditor");this.S1=null;this.acY=0;this.yi="";this.mode=0;this.GW=r;this.a4k=j;
this.iN=null;this.BB=null;this.at2=0;this.a3k=0;this.aZ=new gJ;this.UI=this.XM.bind(this);this.ij=this.FC.bind(this);
this.s=y.C("canvas");this.AF=this.s.getContext("2d");y.PO(this.s);y.z_(this.s,256,256,this.AF);this.i.appendChild(this.s);
y.Wu(this.s,this.cQ.bind(this))}cr.prototype=new iI;cr.prototype.l=function(r,P){var j=JSON.stringify(r);
if(j==JSON.stringify(this.iN))return;this.mode=r.length==256?1:0;this.iN=JSON.parse(j);if(P!=null)this.BB=this.iN[P];
this.sT()};cr.prototype.yf=function(r,j,D){this.S1=r;this.acY=j;this.yi=D;this.sT()};cr.prototype.A=function(){return JSON.parse(JSON.stringify(this.iN))};
cr.prototype.acU=function(){return this.iN.indexOf(this.BB)};cr.prototype.cQ=function(r){var j=y.dD(r,this.s),D=j.x,N=256-j.y;
if(this.GW){var b=D;D=256-N;N=b}this.aZ.Ho(D,N);if(this.mode==0){var Y=0,x=1e9,h;for(var P=0;P<this.iN.length;
P++){var C=this.iN[P].v,w=C.Hrzn.v-D,q=C.Vrtc.v-N,u=Math.sqrt(w*w+q*q);if(u<x){x=u;Y=P}}if(x<15)h=this.iN[Y];
else{h=R.I7.wV(D,N,!0);this.iN.push(h);this.iN.sort(function(z,O){return z.v.Hrzn.v-O.v.Hrzn.v})}this.BB=h;
this.a3k=this.iN.slice(0)}y.sD(document.body,this.UI);y.B6(document.body,this.ij);this.XM(r)};cr.prototype.XM=function(r){var j=y.dD(r,this.s),D=j.x,N=256-j.y;
if(this.GW){var b=D;D=256-N;N=b}if(this.mode==0){var Y=this.iN,x=this.BB,C=this.a3k,w=C.indexOf(x),q=Y.indexOf(x)!=-1,u=C.length-1,h=D;
if(w==0){h=Math.max(0,Math.min(C[1].v.Hrzn.v-1,D))}else if(w==u){h=Math.min(255,Math.max(C[u-1].v.Hrzn.v+1,D))}else{var z=D<0||D>255||N<0||N>255;
if(D<=C[w-1].v.Hrzn.v||D>=C[w+1].v.Hrzn.v)z=!0;if(!z&&!q)Y.splice(w,0,x);if(z&&q)Y.splice(w,1)}if(!this.a4k)x.v.Hrzn.v=Math.round(h);
x.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(N)))}else{D=Math.round(D);N=Math.round(N);D=Math.max(0,Math.min(255,D));
N=Math.max(0,Math.min(255,N));var O=this.aZ.x,g=D,t=this.aZ.y,$=N;if(D<this.aZ.x){g=O;O=D;$=t;t=N}this.iN[D]=N;
if(O!=g)for(var i=O;i<=g;i++)this.iN[i]=Math.round(t+(i-O)*($-t)/(g-O))}this.aZ.Ho(D,N);this.sT();this.g(new iu(y.E.Y))};
cr.prototype.FC=function(r){y.hE(document.body,this.UI);y.jm(document.body,this.ij);this.g(new iu(y.E.Y))};
cr.prototype.sT=function(){var r=this.AF;r.fillStyle="#ffffff";r.fillRect(0,0,256,256);if(this.S1){r.translate(0,256);
r.scale(1,-1);gF.ant(r,this.S1,5700/this.acY,this.yi);r.scale(1,-1);r.translate(0,-256)}r.strokeStyle="#aaaaaa";
r.lineWidth=1;r.beginPath();for(var P=1;P<4;P++){r.moveTo(0,64*P-.5);r.lineTo(255,64*P-.5);r.moveTo(64*P-.5,0);
r.lineTo(64*P-.5,255)}r.stroke();if(this.GW){r.save();r.transform(0,1,-1,0,256,0)}if(this.mode==0){var j=this.iN,D=R.I7.Is(j,256);
r.strokeStyle="#000000";r.beginPath();r.moveTo(0,255.5-D[0]);for(var P=0;P<256;P++)r.lineTo(P,255.5-D[P]);
r.stroke();r.lineWidth=2;for(var P=0;P<j.length;P++){var N=j[P].v;r.fillStyle=this.BB==j[P]?"#333":"#fff";
r.beginPath();r.moveTo(N.Hrzn.v,255.5-N.Vrtc.v);r.arc(N.Hrzn.v,255.5-N.Vrtc.v,3,0,2*Math.PI);r.stroke();
r.fill()}}else{var D=this.iN;r.strokeStyle="#000000";r.beginPath();r.moveTo(0,255.5-D[0]);for(var P=0;
P<256;P++)r.lineTo(P,255.5-D[P]);r.stroke()}if(this.GW)r.restore()};function gF(r,j){iI.call(this);this.i=y.C("span","");
this.WP=new fk([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.WP.X(y.E.Y,this.eE,this);this.i.appendChild(this.WP.i);
y.aR(this.i);this.s=y.C("canvas");var D=this.s;this.i.appendChild(D);D.width=Math.round(r*y.f());D.height=Math.round(100*y.f());
y.tv(D,D.width,D.height);this.AF=D.getContext("2d");this.S1=null;this.hr=0;this.a15=null;this.a0f=[];
this.TD=[];var N=["Mean:","Pixels:"],b=this.i;for(var P=0;P<N.length;P++){var Y=new aL(N[P]);this.a0f.push(Y);
if(j)b.appendChild(Y.i);var x=new aL("hi");this.TD.push(x);if(j)b.appendChild(x.i);y.aR(b)}}gF.prototype=new iI;
gF.prototype.h=function(){this.WP.h()};gF.prototype.rV=function(r){this.WP.l(r);this.eE()};gF.prototype.l=function(r,j){this.S1=r;
this.a15=j;this.eE()};gF.prototype.Sb=function(r){if(r==this.hr)return;this.hr=r;this.eE()};gF.prototype.eE=function(){if(this.S1==null)return;
var r=this.s,j=this.AF,D=this.S1,N=this.a15,b=this.WP.A(),Y=6e3/D[4],x="#"+R.Za(this.hr),C=gF.ant;r.width=r.width;
j.setTransform(r.width/256,0,0,-r.height/100,0,r.height);j.globalCompositeOperation="lighter";if(b==0)C(j,D[0],Y/3,x);
else if(b<4)C(j,D[b],Y,x);else{C(j,D[1],Y,"#ff0000");C(j,D[2],Y,"#00ff00");C(j,D[3],Y,"#0000ff")}j.setTransform(1,0,0,1,0,0);
if(N!=null){var w=0;for(var P=0;P<256;P++)w+=P*D[b][P];if(b==0)w/=3;this.TD[0].l((w/N).toFixed(1)+"");
this.TD[1].l(N+"")}};gF.ant=function(r,j,D,N){r.beginPath();r.moveTo(0,0);for(var b=0;b<256;b++)r.lineTo(b,j[b]*D);
r.lineTo(256,0);r.closePath();r.fillStyle=N;r.fill()};function fJ(r){iI.call(this);this.Cm={a:0,p:0,M:0};
if(Math.abs(r-256/y.f())<10)r=256/y.f();var j=this.i=y.C("div","flexrow");this.tE=new gJ;this.kX=new gJ;
this.em=this.a1p.bind(this);this.Rh=this.aoH.bind(this);this.s=y.C("canvas","");this.AF=this.s.getContext("2d");
this.s.width=this.s.height=256;this.agC=this.AF.getImageData(0,0,256,256);this.ano=-1;y.PO(this.s);y.Wu(this.s,this.a1z.bind(this));
j.appendChild(this.s);this.ari=this.anx.bind(this);this.ajs=this.agk.bind(this);this.iy=y.C("canvas","");
this.MD=this.iy.getContext("2d");this.iy.width=20;this.iy.height=256;this.ab8=this.MD.getImageData(0,0,20,256);
fJ.a5p(this.ab8.data,20,256);y.PO(this.iy);y.Wu(this.iy,this.aj7.bind(this));j.appendChild(this.iy);
this.s.setAttribute("style","width:"+r+"px; height:"+r+"px");this.iy.setAttribute("style","width:16px; height:"+r+"px")}fJ.prototype=new iI;
fJ.prototype.kt=function(r,j){this.s.style.width=r-16+"px"};fJ.prototype.l=function(r){this.Cm=r;this.update()};
fJ.prototype.A=function(){return JSON.parse(JSON.stringify(this.Cm))};fJ.prototype.update=function(){var r=this.Cm,j=R.d$(r.a,r.p,r.M);
if(j.sr==0)j.z1=this.tE.x/255;if(j.z1==0||j.sr==0)j.qg=(255-this.i5(this.kX.y))/255;if(j.sr!=0)this.tE.x=j.z1*255;
this.tE.y=(1-j.sr)*255;this.kX.y=(1-j.qg)*255;var D=this.agC;if(Math.abs(j.qg-this.ano)>.002){this.a25(D.data,256,256,j.qg);
this.ano=j.qg}var N=this.AF;N.putImageData(D,0,0);N.strokeStyle="#000000";N.beginPath();N.arc(this.tE.x+1,this.tE.y+1,5,0,2*Math.PI);
N.stroke();N.strokeStyle="#ffffff";N.beginPath();N.arc(this.tE.x,this.tE.y,5,0,2*Math.PI);N.stroke();
D=this.ab8;N=this.MD;N.putImageData(D,0,0);N.strokeStyle="#ffffff";N.beginPath();N.moveTo(0,this.kX.y);
N.lineTo(20,this.kX.y);N.lineWidth=2;N.stroke()};fJ.prototype.a25=function(r,j,D,N){var b=1/j,Y=1/D;
for(var x=0;x<D;x++)for(var C=0;C<j;C++){var w=R.uz(N,C*b,(D-x-1)*Y),P=x*j+C<<2;r[P+0]=~~(w.a*255);r[P+1]=~~(w.p*255);
r[P+2]=~~(w.M*255);r[P+3]=255}};fJ.a5p=function(r,j,D,N,b){if(N==null)N=1;if(b==null)b=0;var Y=new Uint32Array(r.buffer);
for(var x=0;x<D;x++){var C=R.uz((1+N*(1-x/D)+b)%1,1,1),w=255<<24|C.M*255<<16|C.p*255<<8|C.a*255;for(var q=0;
q<j;q++)Y[x*j+q]=w}};fJ.prototype.a1z=function(r){y.sD(window,this.em);y.B6(window,this.Rh);this.a1p(r)};
fJ.prototype.aoH=function(r){y.hE(window,this.em);y.jm(window,this.Rh)};fJ.prototype.a1p=function(r){var j=y.dD(r,this.s);
j.x=j.x*(256/parseFloat(this.s.style.width));j.y=j.y*(256/parseFloat(this.s.style.height));this.tE.Ho(this.i5(j.x),this.i5(j.y));
this.h1()};fJ.prototype.h1=function(){this.Cm=this.aq6();this.g(new iu(y.E.Y))};fJ.prototype.aq6=function(){var r=R.uz((255-this.i5(this.kX.y))/255,this.KN(this.tE.x/255),this.KN(1-this.tE.y/255));
return{a:r.a,p:r.p,M:r.M}};fJ.prototype.aj7=function(r){y.sD(window,this.ari);y.B6(window,this.ajs);
this.anx(r)};fJ.prototype.agk=function(r){y.hE(window,this.ari);y.jm(window,this.ajs)};fJ.prototype.anx=function(r){var j=y.dD(r,this.iy);
j.y=j.y*(256/parseFloat(this.iy.style.height));this.kX.Ho(this.i5(j.x),this.i5(j.y));this.h1()};fJ.prototype.i5=function(r){return Math.max(0,Math.min(255,r))};
fJ.prototype.KN=function(r){return Math.max(0,Math.min(1,r))};function a2(r,j,D,N){iI.call(this);if(!j)return;
this.GI=0;this.apX=N;this.i=y.C("span","fitem bbmenu");if(r){this.ZV=r;this.bt=y.C("label","flabel");
this.bt.textContent=r+":";this.i.appendChild(this.bt)}this.zE=[];this.Jo=null;this.Sf(j,D);this.l(0)}a2.prototype=new iI;
a2.prototype.W3=function(r){this.ZV=r;this.h()};a2.prototype.h=function(){if(this.ZV!=null){this.bt.textContent=e9.get(this.ZV)+": "}for(var P=0;
P<this.zE.length;P++)this.zE[P].h()};a2.prototype.A=function(){return this.GI};a2.prototype.Sf=function(r,j){while(this.zE.length>0)this.i.removeChild(this.zE.pop().i);
this.Jo=r;for(var P=0;P<r.length;P++){var D=new iH(r[P],!1,j?j[P]:null,this.apX);D.X("click",this.uK,this);
this.i.appendChild(D.i);this.zE.push(D)}this.h()};a2.prototype.l=function(r){this.GI=r;for(var P=0;P<this.zE.length;
P++)this.zE[P].Jc();this.zE[r].H8()};a2.prototype.uK=function(r){var P=this.zE.indexOf(r.target);this.l(P);
this.g(new iu(y.E.Y,!1))};a2.y7=function(r,j){if(j==null)j=16;var D=a2.OY,N=D.getContext("2d"),b=j>>>1;
D.width=D.height=j;var Y=[];for(var P=0;P<r.length;P++){if(r[P][0]=="-")Y.push(r[P].slice(1));else if(r[P]=="checker"||r[P].startsWith("#")){if(r[P]=="checker"){N.fillStyle="white";
N.fillRect(0,0,j,j);N.fillStyle="#bbbbbb";N.fillRect(b,0,b,b);N.fillRect(0,b,b,b)}else if(r[P].startsWith("#")){N.fillStyle=r[P];
N.fillRect(0,0,j,j)}Y.push("<img src=\""+D.toDataURL()+"\" />")}else Y.push("<img src=\""+PIMG[r[P]]+"\" class=\"autoscale gsicon\" />")}return Y};
a2.OY=y.C("canvas");function et(r,j,D,N){var b=a2.y7(j,N);a2.call(this,r,b,D)}et.prototype=new a2;function fk(r,j,D,N){iI.call(this);
if(!j)return;if(D==null)D=!1;this.GI=0;this.acZ=D;this.ZV=r;this.bG=null;this.apl=N;this.M6=[];var b="dd"+y.nZ();
this.i=y.C("span","fitem ddmenu");if(r&&!D){this.bt=y.C("label","flabel");this.i.appendChild(this.bt);
this.bt.setAttribute("for",b)}this.yt=y.C("select","bbtn");this.yt.setAttribute("id",b);this.i.appendChild(this.yt);
this.yt.addEventListener("change",this.uK.bind(this),!1);this.zE=[];this.Jo=null;this.Sf(j,N);this.h()}fk.prototype=new iI;
fk.prototype.W3=function(r){this.ZV=r;this.h()};fk.prototype.h=function(){if(this.ZV!=null){var r=e9.get(this.ZV);
if(this.acZ)this.yt.setAttribute("title",r);else this.bt.textContent=r+":"}if(this.Jo)this.Sf(this.Jo,this.apl);
this.l(this.GI)};fk.prototype.A=function(){return this.GI};fk.prototype.Sf=function(r,j){y.Su(this.yt);
var D=[],N=0;if(j){D.push(j[0]);for(var P=1;P<j.length;P++)D.push(D[P-1]+j[P])}this.Jo=r;this.bG=[];
this.apl=j;for(var P=0;P<r.length;P++){var b=y.C("option");if(this.M6.indexOf(P)!=-1)b.setAttribute("disabled","");
b.textContent=e9.get(r[P]);b.setAttribute("value",P);this.yt.appendChild(b);this.zE.push(b);this.bG.push(P+N);
if(D.indexOf(P+1)!=-1&&P!=r.length-1){var Y=y.C("option");Y.setAttribute("disabled","");Y.textContent="";
this.yt.appendChild(Y);N++}}};fk.prototype.aij=function(P){var r=this.M6,j=r.indexOf(P);if(j==-1)r.push(P);
this.h()};fk.prototype.asE=function(P){var r=this.M6,j=r.indexOf(P);if(j!=-1)r.splice(j,1);this.h()};
fk.prototype.l=function(r){this.GI=r;this.yt.selectedIndex=this.bG[r]};fk.prototype.uK=function(r){this.GI=this.bG.indexOf(this.yt.selectedIndex);
this.g(new iu(y.E.Y,!1))};function j6(){iI.call(this);this.lv=null;this.B8=new i$;this.B8.X(y.E.Y,this.a0G,this);
this.B8.parent=this;this.a$=new b8([12,14,0],1,150,"px",0,!0);this.a$.X(y.E.Y,this.zp,this);this.a$.parent=this;
this.GX=new b8([16,0],.01,100,"px",2,!0,null,5);this.GX.X(y.E.Y,this.zp,this);this.GX.parent=this;this.hV=new b1("Auto");
this.hV.X(y.E.Y,this.zp,this);this.lV=new b8([16,1],-500,5e3,"%",0,!0);this.lV.X(y.E.Y,this.zp,this);
this.lV.parent=this;this.Gj=new b8("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Gj.X(y.E.Y,this.zp,this);
this.Gj.parent=this;this.sK=new b8("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.sK.X(y.E.Y,this.zp,this);
this.sK.parent=this;this.b$=new b8([16,2],-10,10,"px");this.b$.X(y.E.Y,this.zp,this);this.b$.parent=this;
this.VF=new fe(!0);this.VF.X(y.E.Y,this.a7S,this);this.VF.parent=this;this.f2=new iH("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Z9=new iH("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.rS=new iH("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Jn=new iH("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.LU=new iH("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.BD=new iH("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.zl=new iH("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.MR=new iH("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var r=[this.f2,this.Z9,this.rS,this.Jn,this.LU,this.BD,this.zl,this.MR];
for(var P=0;P<r.length;P++)r[P].X("click",this.a96,this);this.AT=new iH("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.OR=new iH("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Xc=new iH("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.ahm=new iH("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aoo=new iH("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.abS=new iH("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a78=new iH("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.$q=[this.AT,this.OR,this.Xc,this.ahm,this.aoo,this.abS,this.a78];for(var P=0;P<this.$q.length;P++)this.$q[P].X("click",this.zp,this);
var j=["lind","rind","flind","bind","aind"],D=[];for(var P=0;P<5;P++)D.push("<img src=\""+PIMG["par/"+j[P]]+"\" class=\"autoscale gsicon\" /> ");
this.mS=new b8(D[0],-20,20,"px");this.mS.X(y.E.Y,this.zp,this);this.mS.parent=this;this.zK=new b8(D[1],-20,20,"px");
this.zK.X(y.E.Y,this.zp,this);this.zK.parent=this;this.U$=new b8(D[2],-20,20,"px");this.U$.X(y.E.Y,this.zp,this);
this.U$.parent=this;this.C2=new b8(D[3],-20,20,"px");this.C2.X(y.E.Y,this.zp,this);this.C2.parent=this;
this._E=new b8(D[4],-20,20,"px");this._E.X(y.E.Y,this.zp,this);this._E.parent=this;this.sI=new a2([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.sI.X(y.E.Y,this.zp,this);this.sI.parent=this}j6.prototype=new iI;j6.prototype.h=function(){this.B8.h();
this.a$.h();this.GX.h();this.lV.h();this.b$.h();this.Gj.h();this.sK.h();this.sI.h()};j6.prototype.l=function(r,j,D){this.k$=JSON.parse(JSON.stringify(r));
var N=this.k$,b=N.WQ,Y=N.Av;this.f2.l(b.FauxBold!=null?b.FauxBold:!1);this.Z9.l(b.FauxItalic!=null?b.FauxItalic:!1);
this.rS.l(b.FontCaps==2);this.Jn.l(b.FontCaps==1);this.BD.l(b.FontBaseline==1);this.LU.l(b.FontBaseline==2);
this.zl.l(b.Underline);this.MR.l(b.Strikethrough);this.B8.l(b.Font==null?null:N.HB[b.Font].Name,j,D);
var x=b.FontSize==null?20:b.FontSize;this.a$.l(x);var C=b.Tracking;this.lV.l(C==null?0:C);this.GX.l(b.Leading!=null&&b.Leading!=0?b.Leading:x);
this.hV.l(b.AutoLeading);this.Gj.l((b.VerticalScale!=null?b.VerticalScale:0)*100);this.sK.l((b.HorizontalScale!=null?b.HorizontalScale:0)*100);
this.b$.l(b.BaselineShift!=null?b.BaselineShift:0);if(b.FillColor){var w=cU.z2(b);this.VF.Sb(Math.round(w.a)<<16|Math.round(w.p)<<8|Math.round(w.M))}else this.VF.Sb(0);
var q=Y._Direction!=null?Y._Direction:0,u=cU.Cq(Y);for(var P=0;P<this.$q.length;P++)this.$q[P].l(u==P);
this.sI.l(q);this.mS.l(Y.StartIndent!=null?Y.StartIndent:0);this.zK.l(Y.EndIndent!=null?Y.EndIndent:0);
this.U$.l(Y.FirstLineIndent!=null?Y.FirstLineIndent:0);this.C2.l(Y.SpaceBefore!=null?Y.SpaceBefore:0);
this._E.l(Y.SpaceAfter!=null?Y.SpaceAfter:0)};j6.prototype.Td=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.VD,Ek:e5.cA,k$:this.k$};
this.g(r);var r=new iu(y.E.w,!0);r.k=I.pP;r.data={e:"updateStyles"};this.g(r)};j6.prototype.a96=function(r){var j=this.k$.WQ,D=r.target,N=!D.Pp();
if(D==this.f2)j.FauxBold=N;if(D==this.Z9)j.FauxItalic=N;if(D==this.rS)j.FontCaps=N?2:0;if(D==this.Jn)j.FontCaps=N?1:0;
if(D==this.BD)j.FontBaseline=N?1:0;if(D==this.LU)j.FontBaseline=N?2:0;if(D==this.zl)j.Underline=N;if(D==this.MR)j.Strikethrough=N;
this.Td()};j6.prototype.zp=function(r){var j=this.k$.WQ,D=this.k$.Av,N=r.target;if(N==this.lV){var b=this.lV.A();
j.Tracking=b}if(N==this.GX){j.AutoLeading=!1;j.Leading=this.GX.A()}if(N==this.hV){j.AutoLeading=this.hV.A()}if(N==this.a$)j.FontSize=N.A();
if(N==this.Gj)j.VerticalScale=N.A()/100;if(N==this.sK)j.HorizontalScale=N.A()/100;if(N==this.b$)j.BaselineShift=N.A();
if(this.$q.indexOf(N)!=-1){D.Justification=cU.Cq(D,this.$q.indexOf(N))}if(N==this.mS)D.StartIndent=N.A();
if(N==this.zK)D.EndIndent=N.A();if(N==this.U$)D.FirstLineIndent=N.A();if(N==this.C2)D.SpaceBefore=N.A();
if(N==this._E)D.SpaceAfter=N.A();if(N==this.sI)D._Direction=N.A();this.Td()};j6.prototype.a0G=function(r){var j=this.k$,D=this.B8.A(),N=-1;
for(var P=0;P<j.HB.length;P++)if(j.HB[P].Name==D)N=P;if(N==-1){N=j.HB.length;var b=JSON.parse(JSON.stringify(j.HB[0]));
b.Name=D;j.HB.splice(N,0,b)}j.WQ.Font=N;this.Td()};j6.prototype.a7S=function(r){var j=this.VF.ajm(),D={Type:1,Values:[1,(j>>16&255)/255,(j>>8&255)/255,(j>>0&255)/255]};
for(var P=0;P<4;P++)D.Values[P]=Math.round(D.Values[P]*1e3)/1e3;this.k$.WQ.FillColor=D;this.Td()};function i$(){iI.call(this);
this.i=y.C("span","fontinput");this.b_=null;this.LB=null;this.sG=null;this.qB="";this.d_={};this.gB=[];
this.aaR={};this.Xk=!1;this.Py=y.C("button","fitem");this.Py.setAttribute("style","width:9em;");this.Py.textContent="Family Name \u25BC";
this.i.appendChild(this.Py);y.Wu(this.Py,this.aiq.bind(this));this.$N=new iI;this.$N.parent=this;this.$N.i=y.C("div","floatcont");
this.$N.i.addEventListener("keyup",this.aqH.bind(this),!1);this.j9=new gf(6.8);this.$N.i.appendChild(this.j9.a5G());
this.j9.parent=this.$N;this.j9.X(y.E.Y,this.T7,this);var r=y.C("div","form");this.$N.i.appendChild(r);
this.yx=new iH(y.Io("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.yx.X("click",this.ab$,this);
r.appendChild(this.yx.i);this.tN=new au([12,86],null,8.4);this.tN.X("input",this.$v,this);r.appendChild(this.tN.i);
var j=this.a1l=new iH([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);j.X("click",this.asN,this);
j.i.style.marginLeft="1.5em";j.i.style.marginRight="0";r.appendChild(j.i);this.tq=y.C("span","fitem imageset scrollable");
this.tq.style.height="30em";this.$N.i.appendChild(this.tq);this.SW=y.C("button","fitem");this.SW.setAttribute("style","width:7em;");
this.SW.textContent="SubFamily Name \u25BC";this.i.appendChild(this.SW);y.Wu(this.SW,this.aiq.bind(this));
this.rv=new iI;this.rv.parent=this;this.rv.i=y.C("div","floatcont");this.gC=y.C("span","fitem imageset scrollable marged");
this.rv.i.appendChild(this.gC)}i$.prototype=new iI;i$.prototype.aqH=function(r){var j=0;if(e4.Qi(r.code,e4.eS))j=-1;
if(e4.Qi(r.code,e4.w_))j=1;if(j!=0){var D=this.gB,N=D.length,b=this.b_.Mg()[this.sG];if(b==null&&N==0)return;
var Y=D.indexOf(b[0]);if(Y==-1)return;Y=(Y+j+N)%N;this.uY(D[Y],null)}};i$.prototype.asN=function(){var r=new iu(y.E.V,!0);
r.data={e:y.G.jQ,a3O:".otf,.ttf,.ttc"};this.g(r)};i$.prototype.h=function(){this.j9.h();this.a1l.h();
this.yx.W3(y.Io("tools/cshape",null,"autoscale"))};i$.prototype.ab$=function(r){this.yx.l(!this.yx.Pp());
this.T7()};i$.prototype.$v=function(r){this.qB=this.tN.A().toLowerCase();this.T7()};i$.prototype.aiq=function(r){y.Wp(r);
var j=r.currentTarget,D=j.getBoundingClientRect(),N=j==this.Py,b=N?this.$N:this.rv;if(y.bN(b.i)){this.ad1(b);
return}if(!N&&this.b_.Mg()[this.sG]==null)return;var Y=new iu(y.E.V,!0);Y.data={e:y.G.Eo,Z3:b,x:D.left,y:D.top+D.height};
this.g(Y);if(N){this.T7()}};i$.prototype.aob=function(r){var j=r.currentTarget.firstChild.nextSibling.textContent;
if(r.target.tagName.toLowerCase()=="button"){var D=this.LB.slice(0),N=D.indexOf(j);if(N==-1){D=D.slice(Math.max(0,D.length-29));
D.push(j)}else D.splice(N,1);var b=new iu(y.E.V,!0);b.data={e:y.G.VD,Ek:e5.ee,aS:D};this.g(b);this.Xk=!0;
this.T7()}else{this.uY(j,null)}};i$.prototype.a0s=function(r){this.uY(null,r.currentTarget.firstChild.textContent)};
i$.prototype.uY=function(r,j){var D=r==null?this.rv:this.$N,N=this.b_;if(r==null)r=N.Mg()[this.sG][0];
else{var b=N.UR(r),Y=N.Mg()[this.sG];j=aX.g7(b,Y?Y[1]:"regular")}var x=N.in(r,j)[2];this.l(x,N);this.g(new iu(y.E.Y,!1));
this.ad1(D);this.T7()};i$.prototype.ad1=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.ad,Z3:r};this.g(j)};
i$.prototype.A=function(){return this.sG};i$.prototype.l=function(r,j,D){var N=this.b_;if(r!=null)this.sG=r;
else r=this.sG;this.b_=j;this.LB=D;if(r!=null){var b=j.Mg()[r],Y,x;if(b==null){Y="- "+r;x="-------"}else{Y=b[0];
x=b[1];var C=j.UR(Y);C.sort(aX.and);var w=C.indexOf(x),q=this.a0s.bind(this);this.gC.textContent="";
for(var P=0;P<C.length;P++){var b=j.in(Y,C[P]);if(!this.j9.Na(b))continue;var u=this.asx(b,b[1],q,!1);
this.gC.appendChild(u)}}this.Py.textContent=Y.substring(0,15)+" \u25BC";this.Py.setAttribute("title",Y+", \""+r+"\"");
this.SW.textContent=x.substring(0,10)+" \u25BC";this.SW.setAttribute("title",x)}};i$.prototype.T7=function(){var r=this.b_.Mg()[this.sG],j=this.LB,D=null,N=this.b_.al3(),b=this.aob.bind(this);
this.gB=[];for(var Y in N){var x=aX.g7(N[Y],"regular"),C=this.b_.in(Y,x),w=j.indexOf(Y)!=-1,q=!0;if(this.qB.length>0&&C[0].toLowerCase().indexOf(this.qB)==-1)q=!1;
else if(!this.j9.Na(C))q=!1;else if(this.yx.Pp()&&!w)q=!1;var u=this.d_[Y];if(u==null){var u=this.asx(C,Y,b,!0);
this.d_[Y]=u;this.tq.appendChild(u)}if(q)this.gB.push(Y);var h=q?"":"display:none; ",z="opacity: "+(w?"1":"0.2");
if(r&&r[0]==Y){h+="background-color:rgba(0,0,0,0.13);";D=u}if(this.aaR[Y]!=h+z){u.setAttribute("style",h);
u.firstChild.setAttribute("style",z);this.aaR[Y]=h+z}}if(D&&!this.Xk)this.tq.scrollTop=D.offsetTop-210;
this.Xk=!1};i$.prototype.asx=function(r,j,D,N){var b=y.C("div","fontitem"),w="";b.addEventListener("click",D,!1);
if(N)b.appendChild(y.C("button","star"));var Y=y.C("span","label");Y.setAttribute("title",j);Y.textContent=j;
b.appendChild(Y);var x=y.f(),C=1/x,q=aX.bf*C,u=aX.ZD*C;if(1<x&&x<1.5)w="width:"+q+"px; height:"+u+"px;";
var h=y.C("span","thumb gsicon");if(r.aq3){w+="background: url("+r.aq3+");";if(1<x&&x<1.5)w+="background-size: "+q+"px "+u+"px;"}else{var z=Math.ceil(FNTS.list.length/aX.cols),O=Math.floor(r.wd/z),g=r.wd%z,t=O*aX.bf,$=g*aX.ZD;
if(1<x&&x<1.5){w+="background-size: "+aX.cols*q+"px "+z*u+"px;";t*=C;$*=C}w+="background-position:-"+t+"px -"+$+"px;"}h.setAttribute("style",w);
b.appendChild(h);return b};function gf(r){iI.call(this);this.i=y.C("button","fitem bbtn");this.i.addEventListener("click",this.a0k.bind(this),!1);
this.rd=new iI;this.rd.i=y.C("div","floatcont");this.rd.parent=this;this.Yx=y.C("div","flexrow");this.rd.i.appendChild(this.Yx);
this.eF=[];this.yd=[];var j=this.Yx,D=y.C("div",""),N=y.C("div","");j.appendChild(D);j.appendChild(N);
this.eQ=[];for(var P=0;P<FNTS.cats.length;P++)this.eQ.push({name:FNTS.cats[P],index:P,n1:0});this.Iu=new b1([7,0]);
this.Iu.X(y.E.Y,this.a0T,this);D.appendChild(this.Iu.i);this.uZ=y.C("div","vlist marged scrollable");
this.uZ.setAttribute("style","width:10.3em; height:"+r+"em; ");D.appendChild(this.uZ);this.Fq=[];for(var P=0;
P<this.eQ.length;P++){var b=this.eQ[P],Y=new b1(b.name);this.Fq.push(Y);Y.X(y.E.Y,this.a3J,this);Y.l(!0);
this.uZ.appendChild(Y.i);this.eF.push(1)}this.a1B=new b1([7,0]);this.a1B.X(y.E.Y,this.a0u,this);this.EN=y.C("div","vlist marged scrollable");
this.EN.setAttribute("style","width:8.6em; height:"+(r+1.5)+"em; ");N.appendChild(this.EN);this.rQ=[];
for(var P=0;P<FNTS.subsetNames.length;P++){var Y=new b1(FNTS.subsetNames[P]);this.rQ.push(Y);Y.X(y.E.Y,this.ab5,this);
Y.l(!1);this.EN.appendChild(Y.i);this.yd.push(0)}}gf.prototype=new iI;gf.prototype.adm=function(r){var j=this.rQ;
for(var P=0;P<j.length;P++){var D=(r>>>P&1)==1;this.yd[P]=D;j[P].l(D)}};gf.prototype.a5G=function(){return this.Yx};
gf.prototype.h=function(){this.i.textContent=e9.get([25,1,0])+" \u25BC";this.Iu.h();this.a1B.h()};gf.prototype.a0k=function(r){var j=this.i.getBoundingClientRect(),D=new iu(y.E.V,!0);
D.data={e:y.G.Eo,Z3:this.rd,x:j.left,y:j.top+j.height,gK:!1};this.g(D)};gf.prototype.Na=function(r){if(this.eF[r[4]]==0)return!1;
else for(var j=0;j<this.yd.length;j++)if(this.yd[j]==1&&(r[3]>>>j&1)==0)return!1;return!0};gf.prototype.a0T=function(r){var j=r.target.A(),D=this.Fq,N=this.eF;
for(var P=0;P<D.length;P++){D[P].l(j);N[P]=j?1:0}this.g(new iu(y.E.Y,!1))};gf.prototype.a0u=function(r){var j=r.target.A(),D=this.rQ,N=this.yd;
for(var P=0;P<D.length;P++){D[P].l(j);N[P]=j?1:0}this.g(new iu(y.E.Y,!1))};gf.prototype.a3J=function(r){var P=this.Fq.indexOf(r.target),j=this.eQ[P].index;
this.eF[j]=1-this.eF[j];this.g(new iu(y.E.Y,!1))};gf.prototype.ab5=function(r){var P=this.rQ.indexOf(r.target);
this.yd[P]=1-this.yd[P];this.g(new iu(y.E.Y,!1))};function ak(r,j,D){eh.call(this,j,!0,"gradientbutton",18,10,e5.dv);
this.xg=-1;this.mL=-1;this.aqB=null;this.alY=r;this.GS=D}ak.prototype=new eh;ak.prototype.y$=function(r){var j=this.Bt;
this.l(j[this.mV.A()]);this.g(new iu(y.E.Y))};ak.prototype.Zs=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.gl,SO:"gradienteditor",_:this.fV,PK:this.a9j.bind(this),d6:this.GS};
this.g(j)};ak.prototype.a9j=function(r){this.l(r);this.g(new iu(y.E.Y))};ak.prototype.kO=function(){if(!this.Sn)return;
var r=Math.floor(36*y.f()),j=Math.floor(36*y.f()),D=[],N=[],b=this.Bt;for(var P=0;P<b.length;P++){var Y=b[P];
N.push(Y.Nm?Y.Nm.v.split("=").pop():"");var x=I.GY.af(Y,r,j,Math.PI/4,this.xg,this.mL);D.push(x)}this.mV.lu(D,N,r,j);
this.Sn=!1};ak.prototype.Mx=function(r,j){this.agB(this.fV,r,j)};ak.prototype.l=function(r){this.agB(r,this.xg,this.mL)};
ak.prototype.agB=function(r,j,D){this.xg=j;this.mL=D;if(r==null)return;var N=JSON.stringify(r),b=N+j+","+D;
if(b==this.aqB)return;this.aqB=b;this.fV=JSON.parse(N);var Y=Math.floor(80*y.f()),x=Math.floor(16*y.f()),C=I.GY.af(this.fV,Y,x,0,this.xg,this.mL);
this.w5.setAttribute("src",C);y.tv(this.w5,Y,x)};ak.prototype.A=function(){var r;if(this.alY)r=I.GY.aff(this.fV,this.xg,this.mL);
else r=JSON.parse(JSON.stringify(this.fV));return r};function hv(r){eh.call(this,r,!1,"swatchbutton",16,8.75,e5.V_)}hv.prototype=new eh;
hv.prototype.y$=function(r){this.l(this.Bt[r.target.A()]);this.g(new iu(y.E.Y))};hv.prototype.kO=function(){if(!this.Sn)return;
var r=Date.now(),j=Math.floor(10*y.f()),D=Math.floor(10*y.f()),N=[],b=[],Y=this.Bt;for(var P=0;P<Y.length;
P++){b.push(Y[P].Z5?Y[P].Z5.split("=").pop():"");N.push(hv.af(Y[P],j,D))}this.mV.lu(N,b,j,D);this.Sn=!1};
hv.prototype.l=function(r){this.fV=JSON.parse(JSON.stringify(r));this.vm()};hv.prototype.vm=function(){var r=Math.floor(24*y.f()),j=Math.floor(20*y.f()),D=hv.af(this.fV,r,j);
this.w5.setAttribute("src",D);y.tv(this.w5,r,j)};hv.prototype.A=function(){return JSON.parse(JSON.stringify(this.fV))};
hv.Jp={};hv.af=function(r,j,D){var N=hv.AF,b=hv.Jp,Y=R.Za(r.a<<16|r.p<<8|r.M);if(b[Y])return b[Y];if(N==null){var x=y.C("canvas");
N=hv.AF=x.getContext("2d")}var x=N.canvas;x.width=j;x.height=D;N.fillStyle="#"+Y;N.fillRect(0,0,j,D);
var C=b[Y]=x.toDataURL();return C};function b1(r,j,D){iI.call(this);this.i=y.C("span","fitem cbox");
if(j==null)j=!0;if(D==null)D="flabel";var N="cb"+y.nZ();this.Ua=y.C("input","");this.Ua.setAttribute("type","checkbox");
this.Ua.setAttribute("id",N);this.i.appendChild(this.Ua);this.ZV=r;this.bt=y.C("label",D);if(j)this.bt.setAttribute("for",N);
this.i.appendChild(this.bt);this.h();this.Ua.addEventListener("change",this.uK.bind(this),!1)}b1.prototype=new iI;
b1.prototype.apL=function(){return this.ZV};b1.prototype.W3=function(r){this.bt.textContent=r};b1.prototype.h=function(){var r=this.ZV;
if(typeof r=="string"&&r.startsWith("<"))this.bt.innerHTML=r;else this.bt.textContent=e9.get(r)};b1.prototype.H8=function(){this.Ua.checked=!0};
b1.prototype.Jc=function(){this.Ua.checked=!1};b1.prototype.Pp=function(){return this.Ua.checked};b1.prototype.l=function(r){this.Ua.checked=r};
b1.prototype.A=b1.prototype.Pp;b1.prototype.uK=function(r){this.g(new iu(y.E.Y,!1))};function a8(r,j,D,N,b,Y){iI.call(this);
this.i=y.C("span","fitem mbox");this.a5F=D;this.a14=b;if(r){this.ZV=r;this.bt=y.C("label","flabel");
this.i.appendChild(this.bt)}this.uC=j;this.yR=[];for(var P=0;P<j.length;P++){var x=D?new iH(j[P],!1,N?N[P]:null,!1,Y):new b1(j[P],!0,"");
x.X(D?"click":y.E.Y,this.uK,this);this.yR.push(x);this.i.appendChild(x.i)}this.h()}a8.prototype=new iI;
a8.prototype.l=function(r){for(var j=0;j<this.uC.length;j++)this.yR[j].l(r[j])};a8.prototype.A=function(){var r=[];
for(var j=0;j<this.uC.length;j++)r[j]=this.yR[j].A();return r};a8.prototype.h=function(){if(this.ZV)this.bt.innerHTML=e9.get(this.ZV)+": ";
for(var r=0;r<this.yR.length;r++)this.yR[r].h()};a8.prototype.uK=function(r){var P=this.yR.indexOf(r.currentTarget),j=this.yR[P];
if(this.a5F)j.l(!j.A());if(this.a14){var D=j.A();for(var P=0;P<this.yR.length;P++)this.yR[P].l(!1);j.l(D)}this.g(new iu(y.E.Y,!1))};
function bN(r,j,D,N,b,Y){il.call(this,r,j,D,N,b,!1,Y);this.i.appendChild(this.bt);var x=y.C("span","rangecont");
this.i.appendChild(x);x.appendChild(this.t$);this.i.appendChild(this.Ua);this.Ua.setAttribute("style","width:3.3em");
if(this.vs)this.i.appendChild(this.N3)}bN.prototype=new il;function bE(r,j,D,N){if(r==null)r=!1;if(j==null)j=!1;
if(D==null)D=!1;iI.call(this);this.wp=new gJ;this.HK=new gJ;this.P7=72;this.C7=72;this.nf=!0;this.i=y.C("span","");
this.Eu=new b8([12,41],0,0,null,0,!1,!0);this.i.appendChild(this.Eu.i);this.Eu.X(y.E.Y,this.QJ,this);
var b=["px","%"];if(r)b=b.concat(["mm","in"]);this.O8=new fk(null,b);this.i.appendChild(this.O8.i);y.aR(this.i);
this.O8.X(y.E.Y,this.QJ,this);this.eu=new b8([12,42],0,0,null,0,!1,!0);this.i.appendChild(this.eu.i);
this.eu.X(y.E.Y,this.QJ,this);var Y=new iH("\u21F5",!1,null,!0);Y.X("click",this.acn,this);this.fl=new iH("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.fl.X("click",this.QJ,this);this.ape=new aL("");if(j){this.i.appendChild(this.fl.i);this.i.appendChild(this.ape.i);
this.fl.H8()}else this.i.appendChild(Y.i);this.fs=new b8("DPI",0,0,null,3,!1,!0,4);if(r&&N==null){y.aR(this.i);
this.i.appendChild(this.fs.i)}this.fs.X(y.E.Y,this.QJ,this);this.o_=new b1([12,23,1]);this.o_.X(y.E.Y,this.QJ,this);
if(D){y.aR(this.i);this.i.appendChild(this.o_.i)}y.aR(this.i)}bE.prototype=new iI;bE.prototype.aaD=function(){this.nf=!1;
if(this.O8.A()==0){this.O8.l(3);this.uI()}};bE.prototype.aak=function(){this.nf=!0};bE.prototype.a1s=function(r){this.fl.l(r)};
bE.prototype.h=function(){this.Eu.h();this.eu.h();this.fs.h();this.fl.h();this.o_.h()};bE.prototype.acn=function(r){var j=this.HK.x;
this.HK.x=this.HK.y;this.HK.y=j;this.uI();this.g(new iu(y.E.Y,!1))};bE.prototype.QJ=function(r){if(r.target==this.O8&&!this.nf&&this.O8.A()==0)this.O8.l(3);
if(r.target==this.O8||r.target==this.o_){this.uI();return}if(r.target==this.fl)r.target.l(!r.target.A());
var j=this.wp,D=parseFloat(this.Eu.A());if(isNaN(D))D=1;var N=parseFloat(this.eu.A());if(isNaN(N))N=1;
var b=this.O8.A();if(this.nf){var Y=this.C7;if(b==1){D=this.wp.x*(D/100);N=this.wp.y*(N/100)}var x=[1,1,25.4/Y,1/Y][b];
D/=x;N/=x;if(this.o_.A()){D+=this.wp.x;N+=this.wp.y}if(r.target==this.fs){var C=this.fs.A();if(!0){var w=C/Y;
D*=w;N*=w}Y=C}if(this.fl.A()){if(r.target==this.Eu)N=D*(j.y/j.x);else D=N*(j.x/j.y)}D=Math.max(Math.abs(D),1);
N=Math.max(Math.abs(N),1)}else{var Y=this.P7;if(r.target==this.fs)Y=this.fs.A();else{if(this.fl.A()){if(r.target==this.Eu)N=D*(j.y/j.x);
else D=N*(j.x/j.y)}var x=[1,1,25.4/Y,1/Y][b],q=D/(b==1?100:j.x*x);Y=Y/q}D=j.x;N=j.y}this.HK=new gJ(Math.round(D),Math.round(N));
this.C7=Y;this.uI();this.g(new iu(y.E.Y,!1))};bE.prototype.afI=function(P){this.O8.l(P);this.uI()};bE.prototype.l=function(r,j,D){if(D!=!0)this.wp=r.clone();
this.HK=r.clone();if(j!=null){this.P7=j;this.C7=j}this.uI()};bE.prototype.uI=function(){var r=this.HK.x,j=this.HK.y,D=this.C7,N=(r/j).toFixed(3);
while(N.charAt(N.length-1)=="0")N=N.substring(0,N.length-1);if(N.charAt(N.length-1)==".")N=N.substring(0,N.length-1);
var b="  "+N+" : 1",Y=function(u,h){while(h!=0){var z=h;h=u%h;u=z}return u},x=Y(r,j);if(Math.min(r,j)/x<10)b="  "+Math.round(r/x)+" : "+Math.round(j/x);
this.ape.l(b);if(this.o_.A()){r-=this.wp.x;j-=this.wp.y}var C=this.O8.A();if(C==1){if(this.nf){r=100*r/this.wp.x;
j=100*j/this.wp.y}else{r=j=100*this.P7/this.C7}}else{r=Math.round(r);j=Math.round(j)}var w=[1,1,25.4/D,1/D][C];
r*=w;j*=w;var q=C==1||C==3?2:0;this.Eu.Z_(q);this.eu.Z_(q);this.Eu.l(r);this.eu.l(j);this.fs.l(D)};bE.prototype.A=function(){return this.HK.clone()};
bE.prototype.Hv=function(){return this.C7};function aT(r,j){iI.call(this);var D=r==0?["W","H","X","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.Aq=r;this.ah3=j;this.sc=1;this.a3=[1,1,0];var N=this.i=y.C("div","numlist"),b=this.Yv=[];for(var P=0;
P<4;P++){var Y=new b8(D[P],0,0,null,2,!1,!0,4);Y.X(y.E.Y,this.QJ,this);N.appendChild(Y.i);b[P]=Y;if(P==1||P==3)y.aR(N)}b[4]=new b1(r==0?[12,51]:[12,91,2]);
b[4].l(!0);N.appendChild(b[4].i)}aT.prototype=new iI;aT.prototype.h=function(){var r=this.Yv;for(var P=0;
P<5;P++)r[P].h();if(this.Aq==0)y.Hp(r[0],r[1])};aT.prototype.l=function(r,j){if(j)this.a3=j;j=this.a3;
this.sc=r[0]/r[1];for(var P=0;P<4;P++){var D=this.Yv[P];D.Z_(j[2]==0&&this.ah3?0:2);D.l(R.DA.afT(r[P],j[0],j[1],j[2]))}};
aT.prototype.A=function(){var r=[],j=this.a3;for(var P=0;P<4;P++){var D=R.DA.bL(this.Yv[P].A(),j[0],j[1],j[2]);
r[P]=this.ah3?Math.round(D):D}return r};aT.prototype.QJ=function(r){var j=this.Aq,D=this.Yv.indexOf(r.currentTarget),N=this.A(),b=this.Yv[4].A();
if(j==0){N[0]=Math.max(1,N[0]);N[1]=Math.max(1,N[1]);if(b&&D==0)N[1]=N[0]/this.sc;if(b&&D==1)N[0]=N[1]*this.sc}if(j==1){N[D]=Math.max(0,N[D]);
if(b)for(var P=0;P<4;P++)N[P]=N[D]}this.l(N);this.g(new iu(y.E.Y,!1))};function gY(){iI.call(this);this.$C=0;
this.TD=[0,0,1,1,100,100];this.i=y.C("span","fitem");this.vU=new fk(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.i.appendChild(this.vU.i);this.vU.X(y.E.Y,this.QJ,this);this.Eu=new b8("W",0,0,null,0,!1,!0);this.i.appendChild(this.Eu.i);
this.Eu.X(y.E.Y,this.QJ,this);this.eu=new b8("H",0,0,null,0,!1,!0);this.i.appendChild(this.eu.i);this.eu.X(y.E.Y,this.QJ,this);
this.l({cK:0,x:0,y:0})}gY.prototype=new iI;gY.prototype.h=function(){y.Hp(this.Eu,this.eu);this.vU.h()};
gY.prototype.QJ=function(r){if(r.target==this.vU){var j=this.A(),D=this.TD;D[this.$C*2]=j.x;D[this.$C*2+1]=j.y;
this.$C=j.cK;this.l({cK:j.cK,x:D[j.cK*2],y:D[j.cK*2+1]})}if(this.Eu.A()<1)this.Eu.l(1);if(this.eu.A()<1)this.eu.l(1);
this.g(new iu(y.E.Y,!1))};gY.prototype.l=function(r){this.vU.l(r.cK);this.Eu.l(r.x);this.eu.l(r.y);if(r.cK==0){this.Eu.ph();
this.eu.ph()}else{this.Eu.BY();this.eu.BY()}};gY.prototype.A=function(){return{cK:this.vU.A(),x:this.Eu.A(),y:this.eu.A()}};
function aL(r,j){iI.call(this);this.ZV=r;this.i=y.C("span","labelitem fitem"+(j?" spread":""));this.h()}aL.prototype=new iI;
aL.prototype.l=function(r){this.i.textContent=r};aL.prototype.A=function(){return this.i.textContent};
aL.prototype.BY=function(){this.i.removeAttribute("disabled")};aL.prototype.ph=function(){this.i.setAttribute("disabled","")};
aL.prototype.W3=function(r){this.i.textContent=r};aL.prototype.h=function(){this.i.textContent=e9.get(this.ZV)};
aL.prototype.apL=function(){return this.ZV};function eg(r){iI.call(this);this.i=y.C("span","");this.a9k=r;
this.ki=new bN("Off X",-100,100,r?"%":"px",0,!1);this.v4=new bN("Off Y",-100,100,r?"%":"px",0,!1);this.ki.X(y.E.Y,this.QJ,this);
this.v4.X(y.E.Y,this.QJ,this);this.i.appendChild(this.ki.i);this.i.appendChild(this.v4.i)}eg.prototype=new iI;
eg.prototype.h=function(){this.ki.h();this.v4.h()};eg.prototype.QJ=function(r){this.g(new iu(y.E.Y,!1))};
eg.prototype.a2K=function(r){this.ki.l(r.x);this.v4.l(r.y)};eg.prototype.a9u=function(){return new gJ(this.ki.A(),this.v4.A())};
eg.prototype.l=function(r,j){var D=r.Hrzn.v,N=r.Vrtc.v;if(this.a9k){D=D.val;N=N.val}this.ki.l(D);this.v4.l(N);
if(j==!0)this.QJ()};eg.prototype.A=function(){var r=this.ki.A(),j=this.v4.A();if(this.a9k)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:r}},Vrtc:{t:"UntF",v:{type:"#Prc",val:j}}};
else return{classID:"Pnt",Hrzn:{v:r,t:"doub"},Vrtc:{v:j,t:"doub"}}};function b8(r,j,D,N,b,Y,x,C,w){il.call(this,r,j,D,N,b,!0,Y,w);
y.ui(this.i,"rangedropinput");this.i.appendChild(this.bt);this.Ua.setAttribute("style","width:"+(C?C:3.3)+"em");
this.i.appendChild(this.Ua);this.a9s=y.C("span","rangecont");this.a9s.appendChild(this.t$);this.QI=y.C("button");
this.QI.innerHTML="\u25BC";y.Wu(this.QI,this.a6d.bind(this));if(x!=!0)this.i.appendChild(this.QI);this.Ij=new iI;
this.Ij.i=this.a9s}b8.prototype=new il;b8.prototype.a6d=function(r){if(y.bN(this.Ij.i))return;r.stopPropagation();
var j=this.i.getBoundingClientRect();this.t$.setAttribute("style","width:"+j.width+"px;");var D=new iu(y.E.V,!0);
D.data={e:y.G.Eo,Z3:this.Ij,x:j.left,y:j.top+j.height};this.g(D)};function ga(){iI.call(this);this.i=y.C("span","fitem strokebutton");
this.P4=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.CB=JSON.parse(JSON.stringify(hz._O.default));
this.H7=y.C("button");this.i.appendChild(this.H7);this.H7.addEventListener("click",this.mF.bind(this),!1);
var r=y.C("canvas","gsicon");this.AF=r.getContext("2d");this.H7.appendChild(r);var j=y.C("span");j.textContent=" \u25BC";
this.H7.appendChild(j);this.rd=new iI;this.rd.parent=this;this.rd.i=y.C("div","floatcont form");var D=this.rd.i;
D.setAttribute("style","width: 14em;");this.d_=[new fk([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new a2([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new a2([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new au([19,9,2])];
for(var P=0;P<this.d_.length;P++){var N=this.d_[P];D.appendChild(N.i);var b=P<4?y.E.Y:"click";N.X(b,this.QJ,this)}y.aR(D);
this.xC=[];var Y=this.anU.bind(this);for(var P=0;P<this.P4.length;P++){var x=y.C("button","fitem");this.xC.push(x);
D.appendChild(x);x.addEventListener("click",Y,!1);var r=y.C("canvas","gsicon"),C=r.getContext("2d");
x.appendChild(r);this.abo(C,40,20,this.P4[P])}}ga.prototype=new iI;ga.prototype.mF=function(r){var j=this.H7.getBoundingClientRect(),D=new iu(y.E.V,!0);
D.data={e:y.G.Eo,Z3:this.rd,x:j.left,y:j.top+j.height+4};this.g(D)};ga.prototype.QJ=function(r){var j=this.d_,D=j.indexOf(r.target),N=[];
for(var P=0;P<4;P++)N.push(j[P].A());this.CB=this.ad4(N);this.g(new iu(y.E.Y,!1))};ga.prototype.anU=function(r){var j=this.xC.indexOf(r.currentTarget);
this.l(this.ad4(this.P4[j]));this.g(new iu(y.E.Y,!1))};ga.prototype.ad4=function(r){var j=JSON.parse(JSON.stringify(this.CB)),D=r[0],N=r[1],b=r[2],Y=r[3];
if(D!=null)j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hz._O.io[D];if(N!=null)j.strokeStyleLineCapType.v.strokeStyleLineCapType=hz._O.DD[N];
if(b!=null)j.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hz._O.join[b];var x=j.strokeStyleLineDashSet.v=[];
Y=Y.split(" ");while((Y.length&1)!=0)Y.pop();for(var P=0;P<Y.length;P++)x.push({t:"UntF",v:{type:"#Nne",val:parseInt(Y[P])}});
return j};ga.prototype.h=function(){for(var P=0;P<this.d_.length;P++)this.d_[P].h()};ga.prototype.l=function(r){this.CB=JSON.parse(JSON.stringify(r));
var j=hz._O.io.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment),D=hz._O.DD.indexOf(r.strokeStyleLineCapType.v.strokeStyleLineCapType),N=hz._O.join.indexOf(r.strokeStyleLineJoinType.v.strokeStyleLineJoinType),b=[],Y=r.strokeStyleLineDashSet.v;
for(var x=0;x<Y.length;x++)b.push(Y[x].v.val);var C=this.d_;C[0].l(j);C[1].l(D);C[2].l(N);C[3].l(b.join(" "));
var w=[];for(var P=0;P<4;P++)w.push(C[P].A());this.abo(this.AF,40,16,w)};ga.prototype.A=function(){return JSON.parse(JSON.stringify(this.CB))};
ga.prototype.abo=function(r,j,D,N){var b=N[0],Y=N[1],x=N[2],C=N[3].split(" ").map(parseFloat);y.z_(r.canvas,j,D);
var w=Math.min(5,this.CB.strokeStyleLineWidth.v.val);for(var P=0;P<C.length;P++)C[P]*=w;r.clearRect(0,0,j,D);
r.setLineDash(C);r.lineCap=["butt","round","square"][Y];r.lineJoin=["miter","round","bevel"][x];r.lineWidth=w;
r.beginPath();r.moveTo(0,D/2);r.lineTo(j*2,D/2);r.stroke()};function dt(r){eh.call(this,r,!1,"contourbutton",34,16,e5.ct);
this.tN=new au([12,86],null,16);this.tN.X("input",this.$v,this);this.rd.i.appendChild(this.tN.i);this.hl=null;
this.qB="";this.yc=null;this.l(fC.nY())}dt.prototype=new eh;dt.prototype.h=function(){eh.prototype.h.call(this);
this.tN.h()};dt.prototype.y$=function(r){this.l(this.hl[r.target.A()]);this.g(new iu(y.E.Y))};dt.prototype.$v=function(r){this.qB=this.tN.A().toLowerCase();
this.aeT()};dt.jt=!1;dt.prototype.kO=function(){if(!this.Sn)return;var r=this.Bt;if(r==null||!dt.jt){var j=new iu(y.E.V,!0);
j.data={e:y.G.qS,Ek:{url:"rsrc/basic/fa_basic.csh"}};this.g(j);dt.jt=!0}else{var D=Math.floor(38*y.f()),N=Math.floor(38*y.f());
this.yc=[];for(var P=0;P<r.length;P++)this.yc.push(dt.acD(r[P],D,N));this.aeT();this.Sn=!1}};dt.prototype.aeT=function(){var r=Math.floor(38*y.f()),j=Math.floor(38*y.f());
this.hl=[];var D=[],N=[],b=this.Bt;for(var P=0;P<b.length;P++){if(b[P].y_.toLowerCase().indexOf(this.qB)==-1)continue;
this.hl.push(b[P]);D.push(this.yc[P]);N.push(b[P].y_)}this.mV.lu(D,N,r,j)};dt.prototype.l=function(r){this.fV=dt.clone(r);
this.vm()};dt.prototype.vm=function(){var r=Math.floor(23*y.f()),j=Math.floor(23*y.f()),D=dt.acD(this.fV,r,j);
this.w5.setAttribute("src",D);y.tv(this.w5,r,j)};dt.prototype.A=function(){return dt.clone(this.fV)};
dt.clone=function(r){return{y_:r.y_,oa:r.oa,W:G.$R.wO(r.W),JO:r.JO.clone()}};dt.s=null;dt.W7=null;dt.acD=function(r,j,D){var N=G.$R.wO(r.W),b=r.JO,Y=Math.min(j/b.d,D/b.r)*.9,x=new j9;
x.translate(-.5,-.5);x.scale(.95,.95);x.translate(.5,.5);x.scale(Y*b.d,Y*b.r);R.b.ho(N,x);var C=new G.$R;
C.W=N;var w=C.BG();w.rect.x=Math.floor((j-w.rect.d)/2);w.rect.y=Math.floor((D-w.rect.r)/2);var q=R.O(w.rect.Z()*4);
R.mh(q,4278190080);R.gq(w.channel);R.zQ(w.channel,q,0);R.zQ(w.channel,q,1);R.zQ(w.channel,q,2);var u=dt;
if(u.s==null)u.s=y.C("canvas");var h=u.s,z=h.getContext("2d");if(h.width!=j||h.height!=D||u.W7==null){h.width=j;
h.height=D;u.W7=z.createImageData(j,D)}var O=u.W7;R.mh(O.data,4294967295);R.UB(q,w.rect,O.data,new bf(0,0,j,D));
z.putImageData(O,0,0);return h.toDataURL()};function j1(r){eh.call(this,r,!1,"ICCButton",16,12,e5.SN,!0);
this.mV.rV(1)}j1.prototype=new eh;j1.prototype.XU=function(){var r="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var P=0;P<r.length;P++)r[P]="luts/"+r[P]+".CUBE";return r};j1.prototype.y$=function(r){this.l(this.Bt[r.target.A()]);
this.g(new iu(y.E.Y))};j1.prototype.kO=function(){if(!this.Sn)return;var r=Math.floor(1*y.f()),j=Math.floor(1*y.f()),D=[],N=[],b=this.Bt;
for(var P=0;P<b.length;P++){var Y=b[P].Nm.v.split("\\").pop().split("/").pop();N.push(Y);D.push(j1.af(b[P],r,j))}this.mV.lu(D,N,r,j);
this.Sn=!1};j1.prototype.l=function(r){this.fV=JSON.parse(JSON.stringify(r));this.vm()};j1.af=function(r,j,D){var N=y.C("canvas"),x="ICC / 3DL / look / cube";
N.width=j;N.height=D;var b=N.getContext("2d"),Y=Math.floor(14*y.f());b.font=Y+"px sans-serif";if(r.Nm)x=r.Nm.v.split("\\").pop().split("/").pop();
b.fillText(x,10,Y);return N.toDataURL()};j1.prototype.vm=function(){var r=Math.floor(120*y.f()),j=Math.floor(20*y.f());
this.w5.setAttribute("src",j1.af(this.fV,r,j));y.tv(this.w5,r,j)};j1.prototype.A=function(){return JSON.parse(JSON.stringify(this.fV))};
function g4(){iI.call(this);this.Cm=null;this.i=y.C("span","fitem");this.vF=new jd([14,9]);this.op=new b8(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.iK=new ga;this._p=[this.vF,this.op,this.iK];for(var P=0;P<this._p.length;P++){var r=this._p[P];
this.i.appendChild(r.i);r.parent=this;r.X(y.E.Y,this.QJ,this)}}g4.prototype=new iI;g4.prototype.h=function(){for(var P=0;
P<this._p.length;P++)this._p[P].h()};g4.prototype.Wf=function(r,j){this.vF.Wf(r,j)};g4.prototype.QJ=function(r){var j=this.Cm,D=this.vF.A(),N=D.cC;
j.strokeEnabled.v=N!=0;if(N!=0){j.strokeStyleContent.v=D.ME;D.ME.classID=hz._O.AH[N-1]}j.strokeStyleLineWidth.v.val=this.op.A();
if(r.target==this.iK)j=this.iK.A();this.Cm=j;this.g(new iu(y.E.Y,!1))};g4.prototype.l=function(r,j,D){this.Cm=JSON.parse(JSON.stringify(j));
var N=j.strokeEnabled.v,b=j.strokeStyleContent.v,Y=N?{cC:1+hz._O.AH.indexOf(b.classID),ME:b}:{cC:0};
this.vF.l(r,Y,D);this.op.l(j.strokeStyleLineWidth.v.val);this.iK.l(j)};g4.prototype.A=function(){return JSON.parse(JSON.stringify(this.Cm))};
function hA(r){var j=[[18,0],[18,1],[18,2],[18,3]],D=a2.y7(["set/front","set/union","set/difference","set/intersection"]);
a2.call(this,r?[12,36]:null,D,j)}hA.prototype=new a2;function au(r,j,D,N){iI.call(this);var b=y.nZ(),Y="";
this.i=y.C("span","fitem tinput");if(r){this.ZV=r;this.bt=y.C("label","flabel");this.i.appendChild(this.bt);
this.bt.setAttribute("for",b);this.h()}if(N==null){this.Ua=y.C("input","");this.Ua.setAttribute("type","text")}else this.Ua=y.C("textarea","scrollable");
this.Ua.setAttribute("id",b);if(D)Y+="width:"+D+"em;";if(N){this.Ua.setAttribute("rows",N)}if(Y!="")this.Ua.setAttribute("style",Y);
this.i.appendChild(this.Ua);if(j){this.N3=y.C("span","");this.N3.textContent=j;this.i.appendChild(this.N3)}this.Ua.addEventListener("change",this.uK.bind(this),!1);
this.Ua.addEventListener("input",this.aif.bind(this),!1)}au.prototype=new iI;au.prototype.h=function(){if(this.ZV)this.bt.textContent=e9.get(this.ZV)+":"};
au.prototype.W3=function(r){this.bt.textContent=r};au.prototype.l=function(r){this.Ua.value=r==null?"":r};
au.prototype.A=function(){return this.Ua.value};au.prototype.NK=function(){this.Ua.select();this.Ua.focus()};
au.prototype.uK=function(r){this.g(new iu(y.E.Y,!1))};au.prototype.aif=function(r){this.g(new iu("input",!1))};
function fv(r,j,D,N,b,Y,x){il.call(this,r,j,D,N,b,!0,Y,null,x);y.ui(this.i,"trangeinput");this.i.appendChild(this.bt);
this.i.appendChild(this.Ua);var C=y.C("span","rangecont");this.i.appendChild(C);C.appendChild(this.t$);
this.t$.setAttribute("style","width:97%;")}fv.prototype=new il;function ec(){iI.call(this);this.D7=[16,!0,!0];
this.i=y.C("span","");this.An=[new b8([12,24],0,255),new b1("Anti-alias"),new b1([12,25])];for(var P=0;
P<3;P++){var r=this.An[P];r.parent=this;r.l(this.D7[P]);this.i.appendChild(r.i);r.X(y.E.Y,this.QJ,this)}}ec.prototype=new iI;
ec.prototype.QJ=function(){for(var P=0;P<3;P++)this.D7[P]=this.An[P].A();this.g(new iu(y.E.Y,!1))};ec.prototype.l=function(r){this.D7=r.slice(0);
for(var P=0;P<3;P++)this.An[P].l(r[P])};ec.prototype.A=function(){return this.D7.slice(0)};ec.prototype.h=function(){for(var P=0;
P<3;P++)this.An[P].h()};function hj(r,j){iI.call(this);if(j==null)j=!1;this.yc=[];this.C6=Math.floor(120*y.f());
this.anG=Math.floor(23*y.f());this.Tc=0;this.Xd=[];this.OF=[];for(var D in R.s_.type){if(D=="warpCustom"&&!j)continue;
this.Xd.push(D);this.OF.push(R.s_.type[D])}this.i=y.C("span","fitem warpbutton");this.rd=new iI;this.rd.i=y.C("div","floatcont");
if(r){this.ur=r;this.bt=y.C("label","flabel");this.i.appendChild(this.bt)}this.e=y.C("button");this.i.appendChild(this.e);
this.e.addEventListener("click",this.mF.bind(this),!1);this.Tp=new a0(!0);this.rd.i.appendChild(this.Tp.i);
this.Tp.X(y.E.Y,this.apE,this);this.rd.i.setAttribute("style","width:"+Math.floor(8+this.C6/y.f())+"px;");
this.h()}hj.prototype=new iI;hj.prototype.W3=function(r){this.bt.textContent=r};hj.prototype.h=function(){if(this.ur)this.bt.innerHTML=e9.get(this.ur)+":";
this.vm()};hj.a2F={};hj.ann=function(r,j,D){var N=e9.get(R.s_.type[r]),b=N+"-"+r+"-"+j+"-"+D,Y=hj.a2F[b];
if(Y)return Y;var x=hj.AF;if(C==null){var C=y.C("canvas");x=hj.AF=C.getContext("2d")}var C=x.canvas;
if(C.width!=j||C.height!=D){C.width=j;C.height=D}x.font=Math.floor(13*y.f())+"px sans-serif";x.lineWidth=1;
x.strokeStyle="#000000";var w=Math.floor(16*y.f()),q=new bf(0,0,w,w);x.clearRect(0,0,C.width,C.height);
var u=R.s_.s_(q,r,!0,.3,0,0),h=R.K.rR(q);h.J.push("M","L","M","L");h.v.push(0,w/2,w,w/2);h.v.push(w/2,0,w/2,w);
h=R.K.OC(h);h=R.K.DF(h,w/5);R.rX.F(u,h.v,q);R.K.F(h.v,new j9(1,0,0,1,Math.floor(8*y.f())+.5,Math.floor(3*y.f())+.5),h.v);
x.beginPath();Typr.U.pathToContext({cmds:h.J,crds:h.v},x);x.stroke();x.fillText(N,Math.floor(40*y.f()),Math.floor(16*y.f()));
Y=hj.a2F[b]=C.toDataURL();return Y};hj.prototype.mF=function(r){var j=this.C6,D=this.anG;for(var P=0;
P<this.Xd.length;P++)this.yc[P]=hj.ann(this.Xd[P],j,D);this.Tp.lu(this.yc,null,j,D);var N=this.e.getBoundingClientRect(),b=new iu(y.E.V,!0);
b.data={e:y.G.Eo,Z3:this.rd,x:N.left,y:N.top+N.height+4};this.g(b)};hj.prototype.apE=function(r){var j=new iu(y.E.V,!0);
j.data={e:y.G.ad,Z3:this.rd};this.g(j);this.Tc=r.target.A();this.vm();this.g(new iu(y.E.Y))};hj.prototype.vm=function(){var r=this.C6,j=this.anG;
this.Tp.II(this.Tc);this.e.innerHTML="<img src=\""+hj.ann(this.Xd[this.Tc],r,j)+"\" class=\"gsicon\" />";
y.tv(this.e.firstChild,r,j)};hj.prototype.A=function(){return this.Xd[this.Tc]};hj.prototype.l=function(r){this.Tc=this.Xd.indexOf(r);
this.vm()};function iN(r,j,D){iI.call(this);if(r==null)r=!1;if(j==null)j=!1;if(D==null)D=!1;this.asf=j;
this.s_=null;this.fo=new hj([12,22],D);this.fo.parent=this;this.fo.X(y.E.Y,this.Td,this);this.jG=new fk([22,0],[[22,4,0],[22,4,1]]);
this.jG.X(y.E.Y,this.Td,this);var N=r?b8:fv;this.L_=new N([22,1],-100,100,"%");this.Ea=new N("Horizontal Distortion:",-100,100,"%");
this.h9=new N("Vertical Distortion:",-100,100,"%");this.L_.parent=this.Ea.parent=this.h9.parent=this;
this.L_.X(y.E.Y,this.Td,this);this.Ea.X(y.E.Y,this.Td,this);this.h9.X(y.E.Y,this.Td,this)}iN.prototype=new iI;
iN.prototype.h=function(){this.fo.h();this.jG.h();this.L_.h();var r=this.asf?1:100;this.Ea.W3(e9.get([22,2]).substring(0,r)+":");
this.h9.W3(e9.get([22,3]).substring(0,r)+":")};iN.prototype.Td=function(){var r=this.s_,j=this.fo.A(),D=r.warpStyle.v.warpStyle;
if(j=="warpCustom")R.s_.g9(R.s_.MM(r),r);else delete r.customEnvelopeWarp;r.warpStyle.v.warpStyle=this.fo.A();
r.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.jG.A()];r.warpValue.v=this.L_.A();r.warpPerspective.v=this.Ea.A();
r.warpPerspectiveOther.v=this.h9.A();if(j=="warpNone"||j=="warpCustom"){r.warpValue.v=0;r.warpPerspective.v=0;
r.warpPerspectiveOther.v=0}else if(D=="warpNone"||D=="warpCustom")r.warpValue.v=50;this.g(new iu(y.E.Y,!1));
this.l(r)};iN.prototype.A=function(r){return JSON.parse(JSON.stringify(this.s_))};iN.prototype.l=function(r){this.s_=JSON.parse(JSON.stringify(r));
this.fo.l(r.warpStyle.v.warpStyle);this.jG.l(r.warpRotate.v.Ornt=="Hrzn"?0:1);this.L_.l(r.warpValue.v);
this.Ea.l(r.warpPerspective.v);this.h9.l(r.warpPerspectiveOther.v);var j=r.warpStyle.v.warpStyle,D=j=="warpNone"||j=="warpCustom",N=[this.jG,this.L_,this.Ea,this.h9];
for(var P=0;P<N.length;P++)if(D)N[P].ph();else N[P].BY()};function ib(r,j){iI.call(this);this.i=y.C("div");
this.t8=r;this.CY=null;this.DL=new gJ(0,0);this.Ff="position:relative;overflow:hidden;";this.zj=null;
this.i9=new y.Lh(this.i);this.ahC=j;this.RW("grab");this.s=y.C("canvas","canv");this.i.appendChild(this.s);
this.AF=this.s.getContext("2d");this.amY=null;this.ev=null;this.U9=null;this.to=0;this.DK=0;this.cE=0;
this.agq=this.a98.bind(this);this.ajM=null;this.z=new d_({d:1,r:1});this.LG=null;this.h3=null;this.ns=[];
this.atf=0;this.I4=0;this.apB=this.uo.bind(this);this.a9o=this.yN.bind(this);this.aog=this.BS.bind(this);
this.a2Z=this.mn.bind(this);this.agX=0;this.MV=null;this.apz(this.s);this.jj(this)}ib.prototype=new iI;
ib.a2W=function(r){var j=new e4;if(r>=0)j.UU("Space");if(r>=1){j.UU("ControlLeft");if(r==2)j.UU("AltLeft")}return j};
ib.prototype.Uc=function(r){var j=this.zj,D=null;if(r.o(e4.d7)){D="grab";if(r.o(e4.h6)){D="zoom-in";
if(r.o(e4.YV))D="zoom-out"}}this.CY=D;if(D)j=D;this.i9.PV(j,this.Ff);if(r.o(e4.h6)){var N=0;if(r.o(e4.aB))N=1;
if(r.o(e4.YG))N=-1;if(N!=0){this.Rv(new gJ(this.s.width/2,this.s.height/2),N==1)}}};ib.prototype.RW=function(r){this.zj=r;
if(this.CY)return;this.i9.PV(r,this.Ff)};ib.prototype.apz=function(r){y.Wu(r,this.apB);y.PO(r);r.addEventListener("wheel",this.a2Z,!1)};
ib.prototype.jj=function(r){r.X("viewchange",this.ahT,this)};ib.prototype.ahT=function(r){var j=this.z.S,D=r.currentTarget.To();
this.z.S=D.S;this.z.u=D.u.clone();if(j!=D.S)this.DM();this.sT()};ib.prototype.To=function(){return{S:this.z.S,u:this.z.u}};
ib.prototype.l=function(r,j){var D=r[0].Yn;if(this.ev!=null&&this.ev[0].Yn.gy(D)){}else{this.z.AN={d:D.d,r:D.r};
this.z.u=new gJ(0,0);this.z.S=1}this.ev=r;this.DM();this.Rz();this.to=0;this.DK=0;this.cE=j==null?0:j;
this.a98()};ib.prototype.mn=function(r){r.preventDefault();if(r.deltaY==0||Date.now()-this.agX<100)return;
var j=y.dD(r);j.x=y.f()*j.x;j.y=y.f()*j.y;this.agX=Date.now();this.Rv(j,r.deltaY<0)};ib.prototype.Rv=function(r,j){I.Az.dr(this.z,r,j);
this.aoR()};ib.prototype.wf=function(){var r=this.z,j=r.AN;this.z.S=I.Az.Qb(j.d,j.r,r.lk.d,r.lk.r);this.aoR()};
ib.prototype.aoR=function(){this.DM();this.g(new iu("viewchange"));this.g(new iu("zoom"))};ib.prototype.DM=function(){this.U9=[];
var r=this.z.S;if(this.ev==null)return;for(var P=0;P<this.ev.length;P++){var j=this.ev[P],D=new Uint8Array(j.data),N;
if(r>=1)N={Iz:D,rect:j.Yn};else N=R.acF(D,j.Yn,r);this.U9.push(N)}};ib.prototype.Rz=function(){clearTimeout(this.ajM)};
ib.prototype.sT=function(){if(this.ev==null||!y.bN(this.s))return;var r=this.amY,j=this.s.width,D=this.s.height,g,t;
if(r==null||r.width!=j||r.height!=D){r=this.amY=this.AF.createImageData(j,D);console.log("creating image data")}var N=this.ev[this.to],b=this.U9[this.to],Y=this.z,x=Y.AN,C=Y.lk,w=C.d,q=C.r,u=x.d*Y.S,h=x.r*Y.S,z=Math.round((w-u)/2+Y.u.x),O=Math.round((q-h)/2+Y.u.y);
if(Y.S<=1){t=b.rect.clone();t.x=z;t.y=O;u=t.d;h=t.r;g=b.Iz}else{var $=1/Y.S,i=new bf(Math.floor((C.x-z)*$),Math.floor((C.y-O)*$),Math.ceil(C.d*$)+1,Math.ceil(C.r*$)+1),A=new bf(0,0,i.d*Y.S,i.r*Y.S);
A.x=i.x*Y.S+z;A.y=i.y*Y.S+O;if(Y.iW==null||Y.iW.length!=i.Z()*4){Y.iW=R.O(i.Z()*4)}if(Y.il==null||Y.il.length!=A.Z()*4){Y.il=R.O(A.Z()*4)}R.mh(Y.iW,0);
R.UB(b.Iz,b.rect,Y.iW,i);R.scale.Ad(Y.iW,i.d,i.r,Y.il,A.d,A.r,Y.S);g=Y.il;t=A}var H=new Uint8Array(r.data.buffer);
R._u(H,w,q,8,-z,-O);R.U.tI("norm",g,t,H,C,C,1);var F=this.AF;F.setTransform(1,0,0,1,0,0);F.putImageData(r,0,0);
F.clearRect(z-1e3,O,1e3,h);F.clearRect(z+u,O,1e3,h);F.clearRect(z-1e3,O-1e3,u+2e3,1e3);F.clearRect(z-1e3,O+h,u+2e3,1e3);
var T=ib.a9x(Y.S,"#ffffff",this.ahC);F.putImageData(T,0,Y.lk.r-T.height)};ib.agV={};ib.a9x=function(r,j,D){if(D==null)D=!1;
var N="z"+r+","+j+","+D,b=ib.agV[N];if(b)return b;var Y=Math.round(50*y.f()),x=Math.round(18*y.f()),C=D?2*x:0,w=y.C("canvas"),q=w.getContext("2d");
w.width=Y+C;w.height=x;q.fillStyle="rgba(1,1,1,1)";q.fillRect(0,0,Y+C,x);q.font=Math.round(11*y.f())+"px monospace";
q.fillStyle=j;var u=r*100;if(u<100)u=u.toFixed(2);else u=Math.round(u);u=u+"%";var h=q.measureText(u).width;
q.fillText(u,C+(Y-h)/2,Math.round(x*.7));b=ib.agV[N]=q.getImageData(0,0,Y+C,x);return b};ib.prototype.a98=function(){var r=this.ev,j=r.length,D=this.to,N=this.ev[D],b=(D+1)%j;
this.sT();if(j!=1&&r[b].Yn.gy(N.Yn)){var Y=N._4?parseInt(N._4.split(",").pop()):30;if(Y==0)Y=16;if(b==0)this.DK++;
if(this.cE==0||this.DK<this.cE)this.ajM=setTimeout(this.agq,Y)}this.to=b};ib.prototype.kt=function(r,j){if(r<=0||j<=0)return;
var D=Math.floor(r*y.f()),N=Math.floor(j*y.f());this.z.lk=new bf(0,0,D,N);this.s.width=D;this.s.height=N;
this.s.setAttribute("style","width:"+D/y.f()+"px; height:"+N/y.f()+"px; display:block;");this.sT()};
ib.prototype.nr=function(r){var j=-1,D=this.ns;for(var P=0;P<D.length;P++)if(D[P].pointerId==r.pointerId)j=P;
return j};ib.prototype.uo=function(r){var j=this.nr(r),D=this.ns;if(j!=-1)D[j]=r;else D.push(r);if(D.length==1){this.MV=r.target;
y.sD(window,this.a9o);y.B6(window,this.aog);this.LG=y.dD(r,this.s);this.LG.x*=y.f();this.LG.y*=y.f();
this.DL=this.LG;this.h3=this.z.u.clone();if(this.t8&&this.MV==this.s&&!this.CY)this.g(new iu("mousedown"))}else this.atf=this.I4=gJ.tA(y.dD(D[0],this.s),y.dD(D[1],this.s))};
ib.prototype.yN=function(r){var j=this.nr(r),D=this.ns;if(j!=-1)D[j]=r;var N=this.z,b=this.CY,Y=this.ev[this.to].Yn.clone();
Y.d*=N.S;Y.r*=N.S;var x=y.dD(r,this.s);x.x*=y.f();x.y*=y.f();this.DL=x;if(this.t8&&this.MV==this.s&&!b)this.g(new iu("mousemove"));
else if((b=="grab"||b==null)&&(D.length>1||!N.lk.Ob(Y))){if(D.length>1){var C=y.dD(D[0],this.s),w=y.dD(D[1],this.s),q=new gJ(y.f()*(C.x+w.x)/2,y.f()*(C.y+w.y)/2),u=gJ.tA(C,w),h=null;
if(u>this.I4+50){this.I4+=50;h=!0}if(u<this.I4-50){this.I4-=50;h=!1}if(h!=null)this.Rv(q,h);return}else{var z=x.x-this.LG.x,O=x.y-this.LG.y;
N.u.x=this.h3.x+Math.round(z);N.u.y=this.h3.y+Math.round(O)}this.g(new iu("viewchange"))}};ib.prototype.BS=function(r){var j=this.nr(r),D=this.ns;
D.splice(j,1);if(D.length==0){y.hE(window,this.a9o);y.jm(window,this.aog);var N=this.CY;if(r.detail>1){this.z.S=1;
this.z.u.Ho(0,0);this.sT()}if(this.t8&&this.MV==this.s&&!this.CY)this.g(new iu("mouseup"));else{if(N=="zoom-in"||N=="zoom-out")this.Rv(this.DL,N=="zoom-in")}}else{var b=this.LG=y.dD(D[0],this.s);
b.x*=y.f();b.y*=y.f()}};ib.prototype.bh=function(){return this.z.K$(this.DL.x,this.DL.y)};function a4(){iI.call(this);
this.qK=null;this.L$=null;this.Yr=null;this.Aj=null;this.asS="";this.fR=[];this._F=0;this.rz=[];this.fF=0;
this.xY=null;var r=this.i=y.C("div",""),j=this.aq9=y.C("div","form");j.setAttribute("style","line-height:0; margin-bottom:0.5em;");
r.appendChild(j);var D=this.ur=y.C("span");j.appendChild(D);D.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var N=this.anu=new b1([25,2,0]);N.l(!0);j.appendChild(N.i);N.X(y.E.Y,this._6,this);var b=this.o9=new b1([25,2,1]);
b.l(!0);j.appendChild(b.i);b.X(y.E.Y,this._6,this);var Y=new aL(" ");j.appendChild(Y.i);var x=this.lz=new au([25,1,1]);
j.appendChild(x.i);x.X(y.E.Y,this._6,this);this.j9=new gf(14);this.j9.adm(3);j.appendChild(this.j9.i);
this.j9.parent=this;this.j9.X(y.E.Y,this.afX,this);var C=this.a6g=new iH([25,1,2],null,null,!0);j.appendChild(C.i);
C.X("click",this.jJ,this);this.aoJ=this.ajL.bind(this);this.ex=y.C("div","svggallery scrollable");r.appendChild(this.ex);
this.ex.addEventListener("scroll",this.aiz.bind(this))}a4.prototype=new iI;a4.prototype.Wf=function(r){this.aco=r};
a4.prototype.h=function(){this.ur.textContent=e9.get([25,0]);this.j9.h();this.anu.h();this.o9.h();this.lz.h();
this.a6g.h()};a4.prototype.kt=function(r,j){this.qK=new gJ(r,j);this.aq9.setAttribute("style","width:"+r+"px");
var D=this.aq9.getBoundingClientRect();j-=D.height;this.ex.setAttribute("style","width:"+r+"px; height:"+j+"px");
if(y.bN(this.i))this._6()};a4.prototype.l=function(r){this.L$=r;this._6()};a4.prototype.aiz=function(r){var j=this.ex;
if(j.scrollTop+j.clientHeight+10>=j.scrollHeight){this._6(!0)}};a4.prototype.afX=function(r){this.Yr=null;
this._6()};a4.prototype.ajL=function(r){if(Date.now()-this.fF<2e3)return;this.fF=Date.now();this._F=this.rz.indexOf(r.currentTarget);
var j=this.YS(this.L$.x,this.L$.y);if(j[1]){var D=j[1].largeImageURL,N=new XMLHttpRequest;N.responseType="arraybuffer";
N.open("GET",D,!0);N.onload=this.a75.bind(this);N.send();return}this.asP(j)};a4.prototype.a75=function(r){var j=r.target.response,D=aP.rF(j),N=aP.QE(D),b=N.G$(j),Y=this.YS(this.L$.x,this.L$.y,[j,b[0].Yn.d,b[0].Yn.r]);
this.asP(Y)};a4.prototype.asP=function(r){var j=r[0],D=aP.rF(j),N=aP.QE(D),b=new dl("template.psd");
N.G$(j,b);var Y=new iu("tempready",!0);Y.data={AN:b};this.g(Y)};a4.prototype.jJ=function(r){var j=r.target;
this.fR=[];this._6()};a4.prototype.a3M=function(r){var j=JSON.parse(r.target.response);this.Aj=j.hits;
this._6()};a4.prototype._6=function(r){if(this.L$==null||this.qK==null||this.aco==null)return;if(this.qK.x<=0)return;
var j=this.L$.x,D=this.L$.y;if(Math.min(j,D)<50)return;if(r!=!0){this.rz=[];y.Su(this.ex);this.ex.scrollTop=0}if(this.rz.length>300)return;
var N=Math.min(1,300/Math.max(j,D)),b=this.qK.clone();b.x-=20;var Y=Math.max(1,Math.floor(b.x/(j*N))),x=Math.max(1,Math.ceil(b.y/(D*N)));
N=b.x/Y/j;var C=Y*x;if(this.Yr==null){var w=this.aco.fA.Mg();this.Yr=[];for(var q in w){var u=w[q],h=u[3];
if(!this.j9.Na(u))continue;if(u[5]==null||u[5].slice(0,2)=="gf")continue;this.Yr.push(u)}if(this.Yr.length==0)this.Yr.push(w.DejaVuSans)}var z=this.o9.A(),O=this.lz.A().trim();
this.lz.b3(z);if(z&&(this.Aj==null||O!=this.asS)){var g=new XMLHttpRequest,t="https://pixabay.com/api/?image_type=photo"+(O==""?"":"&q="+encodeURIComponent(O))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(O=="")t+="&safesearch=true";if(O=="")t="plugins/gallery.json";g.open("GET",t,!0);g.onload=this.a3M.bind(this);
g.onerror=function(T){console.log(T.target.response)};g.send();this.asS=O;return}N*=(j*N-5)/(j*N);var $=this.rz.length;
for(var P=0;P<C;P++){var i=this._F=$+P;if(this.fR[i]==null)this.fR[i]=Math.floor(Math.random()*4294967295);
var A=this.YS(Math.round(j*N),Math.round(D*N)),H=A[0];H=l.Hi(new Uint8Array(H));var F=y.C("span");F.innerHTML=H;
this.rz.push(F);this.ex.appendChild(F);F.addEventListener("click",this.aoJ,!1)}};a4.prototype.YS=function(r,j,D){var N=this.o9.A(),b=this.anu.A(),Y=N&&this.Aj.length!=0?this.Aj:null;
if(b&&!N)Y=null;if(b&&N&&(this._F&1)==0)Y=null;return cB.Lu(r,j,this.fR[this._F],this.Yr,D?D:Y)};function gh(){iI.call(this);
this.i=y.C("div");this.mm=null;this.ah_=null;this.Bi=-1;this.ji={JPG:[{Bn:new fv([12,52,0],0,100,"%",null,null,!0),o2:70},{Bn:new b1("attach metadata"),o2:!1}],TIFF:[{Bn:new b1("attach metadata"),o2:!1}],WEBP:[{Bn:new fv([12,52,0],0,100,"%",null,null,!0),o2:70}],GIF:[{Bn:new fv([12,52,0],0,100,"%",null,null,!0),o2:100}],PNG:[{Bn:new fv([12,52,0],0,100,"%",null,null,!0),o2:100},{Bn:new b1("don't use palettes"),o2:!1}],PDF:[{Bn:new au([12,52,1]),o2:""},{Bn:new fv([12,52,0],0,100,"%",null,null,!0),o2:100},{Bn:new b1("rasterize all"),o2:!1},{Bn:new b1("rasterize text"),o2:!1},{Bn:new b1("vectorize text"),o2:!1},{Bn:new fv("Add Margin",0,5,"in",2),o2:0}],EMF:[{Bn:new au([12,52,1]),o2:""},{Bn:new b1("rasterize all"),o2:!1},{Bn:new b1("rasterize text"),o2:!1},{Bn:new b1("vectorize text"),o2:!1}],SVG:[{Bn:new b1("add raster graphics"),o2:!0},{Bn:new b1("add hidden layers"),o2:!1},{Bn:new b1("vectorize text"),o2:!1},{Bn:new b1("rasterize text"),o2:!1},{Bn:new b1("add layer names"),o2:!0},{Bn:new b1("pretty-print"),o2:!0}],RAW:[{Bn:new a2([12,72],["1","3","4"]),o2:2},{Bn:new a2([12,34],["8 Bits","16 Bits"]),o2:0},{Bn:new a2("Byte Order",["12-34","34-12"]),o2:0}],DDS:[{Bn:new b1("Add Mipmaps"),o2:!0},{Bn:new b1("Compression"),o2:!0}],anim:[{Bn:new fv("Speed",10,800,"%",null,!0,!0),o2:100},{Bn:new b8("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),o2:0},{Bn:new b1("reverse frames"),o2:!1},{Bn:new b1("boomerang"),o2:!1}],slcs:[{Bn:new b1("As Slices"),o2:!0}],artb:[{Bn:new b1("As Artboards"),o2:!0}]};
for(var r in this.ji){var j=this.ji[r];for(var P=0;P<j.length;P++){j[P].Bn.l(j[P].o2);j[P].Bn.X(y.E.Y,this.OH,this)}}}gh.prototype=new iI;
gh.prototype.aq5=function(){this.Bi=-1};gh.prototype.h=function(){for(var r in this.ji)for(var P=0;P<this.ji[r].length;
P++)this.ji[r][P].Bn.h()};gh.prototype.OH=function(){this._6();this.g(new iu(y.E.Y,!1))};gh.prototype._6=function(){var r=this.mm,j=r[0],D=r[1],N=r[2],b=r[3],Y=this.ji[j];
if(Y==null)Y=[];else Y=Y.slice(0);if(D)Y=Y.concat(this.ji.anim);if(["GIF","PNG","JPG"].indexOf(j)!=-1&&N)Y=Y.concat(this.ji.slcs);
else if(["GIF","PNG","JPG"].indexOf(j)!=-1&&b)Y=Y.concat(this.ji.artb);if(j+" "+D+" "+b!=this.Bi){this.Bi=j+" "+D+" "+b;
y.Su(this.i);for(var P=0;P<Y.length;P++){if(j=="PDF"&&!b&&P==0)continue;this.i.appendChild(Y[P].Bn.i);
y.aR(this.i)}}var x=this.ah_=[];for(var P=0;P<Y.length;P++)x.push(Y[P].Bn.A())};gh.prototype.at6=function(r,j,D,N){this.mm=[r,j,D,N];
this._6()};gh.prototype.A=function(){return this.ah_.slice(0)};function gz(){iI.call(this);this.i=y.C("span","fitem");
this.A7=!1;this.ae=new iH("No",!1,"Cancel");this.pQ=new iH("Yes",!1,"Confirm");this.i.appendChild(this.ae.i);
this.i.appendChild(this.pQ.i);this.ae.X("click",this.qZ,this);this.pQ.X("click",this.qZ,this);this.h()}gz.prototype=new iI;
gz.prototype.h=function(){this.ae.W3(y.Io("cross",null,"autoscale"));this.pQ.W3(y.Io("checkmark",null,"autoscale"))};
gz.prototype.qZ=function(r){this.A7=r.target==this.pQ;this.g(new UIEvent("click"))};gz.prototype.A=function(){return this.A7};
function k(r){iI.call(this);this.r5=r;this.i=y.C("div","");this.JW=[];this.aC=null;this.abM=[]}k.prototype=new iI;
k.prototype.cw=function(r){};k.prototype.MA=function(){return!1};k.prototype.kt=function(r,j){};k.prototype.Wf=function(r,j){};
k.prototype.yf=function(r){};k.prototype.l=function(r,j,D,N,b,Y){var x=[],C=this.JW,w=0,q=ij.OQ["s"+this.r5];
q?q(r,x,Y):this.$l(r,x,Y);for(var P=0;P<C.length;P++)if(!(C[P]instanceof aL))C[P].l(x[w++]);if(r.RndS)this.aC=r.RndS.v};
k.prototype.A=function(){var r=ij.nY(this.r5),j=[],D=this.JW,N=0;for(var P=0;P<D.length;P++)if(!(D[P]instanceof aL))j[N++]=D[P].A();
var b=ij.OQ["g"+this.r5];b?b(r,j):this.RJ(r,j);if(r.RndS)r.RndS.v=this.aC;return r};k.prototype.Uc=function(r){};
k.prototype.Td=function(r){if(r&&r.target instanceof iH){this.aC=Math.floor(Math.random()*4294967295)}var j=this.abM;
for(var P=0;P<j.length;P+=2){var D=this.JW[j[P]],N=this.JW[j[P+1]],b=D.A(),Y=N.A();if(r.target==D)N.l(Math.max(b,Y));
else D.l(Math.min(b,Y))}this.g(new iu(y.E.Y))};k.prototype.h=function(){for(var P=0;P<this.JW.length;
P++)this.JW[P].h()};k.prototype.J1=function(r){y.ui(this.i,"form");var j=this.JW;for(var P=0;P<j.length;
P++){var D=j[P];D.parent=this;D.X(y.E.Y,this.Td,this);this.i.appendChild(D.i);if(D instanceof b1&&j[P+1]instanceof fe)continue;
if(r&&r.indexOf(P)!=-1)y.PM(this.i);else y.aR(this.i)}var N=ij.nY(this.r5);if(N.RndS){var b=new iH("Randomize",null,null,!0);
this.i.appendChild(b.i);b.X("click",this.Td,this)}};k.prototype.bY=function(){return!1};k.prototype.xR=function(r,j,D,N,b){};
k.prototype.Vt=function(r,j,D,N,b){};k.prototype.rE=function(r,j,D,N,b){};k.prototype.RJ=function(r,j){};
k.prototype.$l=function(r,j){};k.prototype.IK=function(r){var j=r.target.A().indexOf(!0)!=-1,D=new iu(y.E.V,!0);
D.bJ=!0;D.data={e:j?y.G.T$:y.G.Ip,k:I.BH};this.g(D);D=new iu(y.E.w,!0);D.k=I.BH;D.bJ=!0;D.data={e:"supertool",k:j?this:null};
this.g(D)};k.al2=function(r){r.bY=function(){return!0};r.xR=function(j,D,N,b,Y){this.wr=!0;this.aag(j,Y)};
r.Vt=function(j,D,N,b,Y){if(!this.wr)return;this.aag(j,Y)};r.rE=function(j,D,N,b,Y){this.wr=!1};r.aag=function(j,D){var N=j.z.K$(D.x,D.y);
function b(Y,x){return Math.round(Math.max(0,Math.min(100,100*Y/x)))}this.JW[2].l(b(N.x,j.d));this.JW[3].l(b(N.y,j.r));
this.Td()}};k.Bokh=function(){k.call(this,"Bokh");this.JW=[new fk("Depth Map",["A","b"]),new fv("Focal Distance",0,255),new fk([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new fv([12,56],0,100),new fv([12,15],0,360),new fv([12,2],0,100),new fv([4,13],0,255),new fv([24,6],0,100),new a2([12,58],[[12,59,0],[12,59,1]]),new b1([12,60])];
this.J1([4,6])};k.Bokh.prototype=new k;k.Bokh.prototype.$l=function(r,j,D){var N=[[22,5,0],[6,5,3],[6,2]],b=r.BkDi.v.BtDi,Y=r.BkDc,x=0;
if(b=="BeIn")x=0;else if(b=="BeIt"&&Y.v.BtDc=="BeCt")x=1;else if(b=="BeIt"&&Y.v.BtDc=="BeCm")x=2;else x=3+Y.v;
for(var P=0;P<D[1].length;P++)N.push(D[1][P].name);this.JW[0].Sf(N,[3]);j[0]=x;j[1]=r.BkDp.v;j[2]=parseInt(r.BkIs.v.BtIs.slice(3))-3;
j[3]=r.BkIb.v;j[4]=r.BkIr.v;j[5]=r.BkSb.v;j[6]=r.BkSt.v;j[7]=r.BkNa.v;j[8]=r.BkNt.v.BtNt=="BeNu"?0:1;
j[9]=r.BkNm.v};k.Bokh.prototype.RJ=function(r,j){var D;if(j[0]==0){D="BeIn";delete r.BkDc}else if(j[0]<3){D="BeIt";
r.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][j[0]-1]}}}else{D="BeIa";r.BkDc={t:"long",v:j[0]-3}}r.BkDi.v.BtDi=D;
r.BkDp.v=j[1];r.BkIs.v.BtIs="BeS"+(3+j[2]);r.BkIb.v=j[3];r.BkIr.v=j[4];r.BkSb.v=j[5];r.BkSt.v=j[6];r.BkNa.v=j[7];
r.BkNt.v.BtNt=["BeNu","BeNg"][j[8]];r.BkNm.v=j[9]};k.oilPaint=function(){k.call(this,"oilPaint");this.JW=[new fv([12,56],.1,10,"px",!0),new fv("Cleanliness",0,10,"px",!0),new fv([12,38],.1,10,null,!0),new fv("Bristle Detail",0,10,null,!0),new b1("Lighting"),new fv("Shine",0,10,null,!0),new cf([12,15])];
this.J1()};k.oilPaint.prototype=new k;k.oilPaint.prototype.$l=function(r,j){var D="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<D.length;P++)j[P]=r[D[P]].v;j[6]=[r.LghD.v]};k.oilPaint.prototype.RJ=function(r,j){var D="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<D.length;P++)r[D[P]].v=j[P];r.LghD.v=j[6][0]};k.TrcC=function(){k.call(this,"TrcC");this.JW=[new fv("Level",0,255),new a2([12,69],[[19,4,1],[19,4,0]])];
this.J1()};k.TrcC.prototype=new k;k.TrcC.prototype.$l=function(r,j){j[0]=r.Lvl.v;j[1]=["Lwr","Upr"].indexOf(r.Edg.v.CntE)};
k.TrcC.prototype.RJ=function(r,j){r.Lvl.v=j[0];r.Edg.v.CntE=["Lwr","Upr"][j[1]]};k["Dfs "]=function(){k.call(this,"Dfs ");
this.JW=[new a2([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.J1()};k["Dfs "].prototype=new k;
k["Dfs "].prototype.$l=function(r,j){j[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(r.Md.v.DfsM)};
k["Dfs "].prototype.RJ=function(r,j){r.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][j[0]]};k.Embs=function(){k.call(this,"Embs");
this.JW=[new cf([12,15]),new fv([12,42],1,100,"px"),new fv([12,57],1,500,"%")];this.J1()};k.Embs.prototype=new k;
k.Embs.prototype.$l=function(r,j){j[0]=[r.Angl.v];j[1]=r.Hght.v;j[2]=r.Amnt.v};k.Embs.prototype.RJ=function(r,j){r.Angl.v=j[0][0];
r.Hght.v=j[1];r.Amnt.v=j[2]};k["Wnd "]=function(){k.call(this,"Wnd ");this.JW=[new a2([12,32],["Wind","Blast","Stagger"]),new a2([12,33],["From the Right","From the Left"])];
this.J1()};k["Wnd "].prototype=new k;k["Wnd "].prototype.$l=function(r,j){j[0]=["Wnd","Blst","Stgr"].indexOf(r.WndM.v.WndM);
j[1]=["Left","Rght"].indexOf(r.Drct.v.Drct)};k["Wnd "].prototype.RJ=function(r,j){r.WndM.v.WndM=["Wnd","Blst","Stgr"][j[0]];
r.Drct.v.Drct=["Left","Rght"][j[1]]};k.lightFilterGradient=function(){k.call(this,"lightFilterGradient");
this.JW=[new fv([24,3,1],0,100,"px",1,!0),new fv([12,38],0,200,"%"),new b1([4,11]),new fv("High",0,100,"%"),new fv("Medium",0,100,"%"),new fv("Low",0,100,"%")];
this.J1()};k.lightFilterGradient.prototype=new k;k.lightFilterGradient.prototype.$l=function(r,j){j[0]=r.blur.v;
j[1]=r.textureScale.v*100;j[2]=r.Scl.v==-1;var D=r.Dtl.v;j[3]=D[0].v*100;j[4]=D[1].v*100;j[5]=D[2].v*100};
k.lightFilterGradient.prototype.RJ=function(r,j){r.blur.v=j[0];r.textureScale.v=j[1]/100;r.Scl.v=j[2]?-1:1;
var D=r.Dtl.v;D[0].v=j[3]/100;D[1].v=j[4]/100;D[2].v=j[5]/100};k.Fbrs=function(){k.call(this,"Fbrs");
this.JW=[new fv("Variance",1,64),new fv("Strength",1,64)];this.J1()};k.Fbrs.prototype=new k;k.Fbrs.prototype.$l=function(r,j){j[0]=r.Vrnc.v;
j[1]=r.Strg.v};k.Fbrs.prototype.RJ=function(r,j){r.Vrnc.v=j[0];r.Strg.v=j[1]};k.LnsF=function(){k.call(this,"LnsF");
this.JW=[new fv([12,2],10,300,"%"),new a2([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new fv("Position X",0,100,"%"),new fv("Position Y",0,100,"%")];
this.J1()};k.LnsF.prototype=new k;k.LnsF.prototype.$l=function(r,j){j[0]=r.Brgh.v;j[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(r.Lns.v.Lns);
var D=r.FlrC.v;j[2]=Math.round(D.Hrzn.v*100);j[3]=Math.round(D.Vrtc.v*100)};k.LnsF.prototype.RJ=function(r,j){r.Brgh.v=j[0];
r.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][j[1]];var D=r.FlrC.v;D.Hrzn.v=j[2]/100;D.Vrtc.v=j[3]/100};k.al2(k.LnsF.prototype);
k.blendOptions=function(){k.call(this,"blendOptions");this.JW.push(new fk([12,19,0],by.OF,!1,by.Mi));
this.JW.push(new fv([12,0],0,100,"%"));this.J1()};k.blendOptions.prototype=new k;k.blendOptions.prototype.$l=function(r,j){j[0]=by.zT.indexOf(r.Md.v.BlnM);
j[1]=r.Opct.v.val};k.blendOptions.prototype.RJ=function(r,j){r.Md.v.BlnM=by.zT[j[0]];r.Opct.v.val=j[1]};
k.LnCr=function(){k.call(this,"LnCr");this.JW=[new fv([12,57],-100,100),new fv([12,38],10,150,"%")];
this.J1()};k.LnCr.prototype=new k;k.LnCr.prototype.$l=function(r,j){j[0]=r.LnIa.v;j[1]=r.LnSi.v};k.LnCr.prototype.RJ=function(r,j){r.LnIa.v=j[0];
r.LnSi.v=j[1]};k.adaptCorrect=function(){k.call(this,"adaptCorrect");var r=bN;this.JW=[new aL([19,6,0]),new r([12,57],0,100,"%"),new r("Tone",0,100,"%"),new r([12,56],0,200,"px"),new aL([19,6,2]),new r([12,57],0,100,"%"),new r("Tone",0,100,"%"),new r([12,56],0,200,"px"),new aL([3]),new r([13,0],-100,100)];
this.J1([3,7])};k.adaptCorrect.prototype=new k;k.adaptCorrect.prototype.$l=function(r,j){var D=r.sdwM.v;
j[0]=D.Amnt.v.val;j[1]=D.Wdth.v.val;j[2]=D.Rds.v;var D=r.hglM.v;j[3]=D.Amnt.v.val;j[4]=D.Wdth.v.val;
j[5]=D.Rds.v;j[6]=r.ClrC.v};k.adaptCorrect.prototype.RJ=function(r,j){var D=r.sdwM.v;D.Amnt.v.val=j[0];
D.Wdth.v.val=j[1];D.Rds.v=j[2];var D=r.hglM.v;D.Amnt.v.val=j[3];D.Wdth.v.val=j[4];D.Rds.v=j[5];r.ClrC.v=j[6]};
k.Flam=function(){k.call(this,"Flam");var r=this.JW=[new fk([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new fv([12,80,0],20,1e3,"px"),new b1("Randomize Length"),new fv([12,41],5,600,"px"),new fv([12,15],0,360,"\xB0"),new fv("Interval",10,200,"px"),new b1("Adapt Interval for Loops"),new fe(!1),new fk([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new fv("Turbulent",0,100),new fv("Jag",0,100),new fv([12,0],0,100),new fv("Lines",2,30),new fv("Bottom",0,100),new fk([12,22],["Normal","Violent","Flat"]),new fk([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new b1("Randomize Shape"),new fv("Random Seed",0,100)];
this.J1();var j=this.i;y.Su(j);var D=new a2(null,["Basic","Advanced"]);D.X(y.E.Y,this.akB,this);j.appendChild(D.i);
y.PM(j);var N=y.C("div"),b=y.C("div");this.arn=[N,b];j.appendChild(N);for(var P=0;P<r.length;P++){(P<9?N:b).appendChild(r[P].i);
if(P==6)y.aR(N)}r[0].X(y.E.Y,this.aaL,this);this.aaL()};k.Flam.prototype=new k;k.Flam.prototype.aaL=function(r){var j=this.JW,P=j[0].A();
j[1].b3(P!=0&&P!=5);j[2].b3(P!=0&&P!=5);j[4].b3(P!=0&&P!=5&&P!=1);j[5].b3(P!=0&&P!=5);j[6].b3(P!=0&&P!=5)};
k.Flam.prototype.akB=function(r){var P=r.target.A(),j=this.arn,D=this.i;D.removeChild(j[1-P]);D.appendChild(j[P])};
k.boxblur=function(){k.call(this,"boxblur");this.JW=[new fv([12,56],1,200," px")];this.J1()};k.boxblur.prototype=new k;
k.boxblur.prototype.$l=function(r,j){j[0]=r.Rds.v.val};k.boxblur.prototype.RJ=function(r,j){r.Rds.v.val=j[0]};
k.GsnB=function(){k.call(this,"GsnB");this.JW=[new fv([12,56],.1,400,"px",1,!0)];this.J1()};k.GsnB.prototype=new k;
k.MtnB=function(){k.call(this,"MtnB");this.JW=[new cf([12,15]),new fv([12,28],1,100," px")];this.J1()};
k.MtnB.prototype=new k;k.RdlB=function(){k.call(this,"RdlB");this.JW=[new fv([12,57],1,100),new a2([12,36],["Spin","Zoom"]),new fv("Position X",0,100,"%"),new fv("Position Y",0,100,"%")];
this.J1()};k.RdlB.prototype=new k;k.RdlB.prototype.$l=function(r,j){j[0]=r.Amnt.v;j[1]=["Spn","Zm"].indexOf(r.BlrM.v.BlrM);
j[2]=r.Cntr.v.Hrzn.v*100;j[3]=r.Cntr.v.Vrtc.v*100};k.RdlB.prototype.RJ=function(r,j){r.Amnt.v=j[0];r.BlrM.v.BlrM=["Spn","Zm"][j[1]];
r.Cntr.v.Hrzn.v=j[2]/100;r.Cntr.v.Vrtc.v=j[3]/100};k.al2(k.RdlB.prototype);k.Dspl=function(){k.call(this,"Dspl");
this.JW=[new fk([6,36,3],["a","b"]),new fv([22,4,0],-100,100,"px"),new fv([22,4,1],-100,100,"px"),new fk([24,18,0],[[24,18,3],[24,18,2]])];
this.J1()};k.Dspl.prototype=new k;k.Dspl.prototype.$l=function(r,j,D){this.a9T=[];this.ON=[];var N=-1,b=D?D[0]:null;
if(b==null)b=this.aai;else this.aai=b;if(b)for(var P=0;P<b.length;P++){var Y=b[P];this.a9T.push(Y.W8.trim());
this.ON.push(Y.FZ);if(Y.FZ==r.DspF.v.pth)N=P}this.JW[0].Sf(this.a9T);j[0]=N==-1?0:N;j[1]=r.HrzS.v;j[2]=r.VrtS.v;
j[3]=["WrpA","RptE"].indexOf(r.UndA.v.UndA)};k.Dspl.prototype.RJ=function(r,j){if(this.ON.length==0)return;
r.DspF.v.pth=this.ON[j[0]];r.HrzS.v=j[1];r.VrtS.v=j[2];r.UndA.v.UndA=["WrpA","RptE"][j[3]]};k.Pnch=function(){k.call(this,"Pnch");
this.JW=[new fv([12,57],-100,100,"%")];this.J1()};k.Pnch.prototype=new k;k["Plr "]=function(){k.call(this,"Plr ");
this.JW=[new a2(null,["Rect to Polar","Polar to Rect"])];this.J1()};k["Plr "].prototype=new k;k.Rple=function(){k.call(this,"Rple");
this.JW=[new fv([12,57],-999,999),new fk([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.J1()};k.Rple.prototype=new k;
k["Shr "]=function(){k.call(this,"Shr ");this.JW=[new cr(!0,!0),new fk([24,18,0],[[24,18,3],[24,18,2]])];
this.J1()};k["Shr "].prototype=new k;k["Shr "].prototype.$l=function(r,j){var D=new j9(0,255/127,255/127,0,-2,128),N=JSON.parse(JSON.stringify(r.ShrP.v));
R.I7.F(N,D);j[0]=N;j[1]=["WrpA","RptE"].indexOf(r.UndA.v.UndA)};k["Shr "].prototype.RJ=function(r,j){var D=new j9(0,255/127,255/127,0,-2,128);
D.gq();R.I7.F(j[0],D);r.ShrP.v=j[0];r.ShrE.v=j[0].length-1;r.UndA.v.UndA=["WrpA","RptE"][j[1]]};k.Sphr=function(){k.call(this,"Sphr");
this.JW=[new fv([12,57],-100,100),new fk([12,36],["Normal",[22,4,0],[22,4,1]])];this.J1()};k.Sphr.prototype=new k;
k.Sphr.prototype.$l=function(r,j){j[0]=r.Amnt.v;j[1]=["Nrml","HrzO","VrtO"].indexOf(r.SphM.v.SphM)};
k.Sphr.prototype.RJ=function(r,j){r.Amnt.v=j[0];r.SphM.v.SphM=["Nrml","HrzO","VrtO"][j[1]]};k.Twrl=function(){k.call(this,"Twrl");
this.JW=[new fv([12,15],-999,999)];this.J1()};k.Twrl.prototype=new k;k.Wave=function(){k.call(this,"Wave");
this.abM=[1,2,3,4];this.JW=[new fv("Number of Generators",1,100),new bN("Min Length",1,999),new bN("Max Length",1,999),new bN("Min Ampl.",1,999),new bN("Max Ampl.",1,999),new bN("Scale X",1,100,"%"),new bN("Scale Y",1,100,"%"),new a2([12,44],["Sine","Triangle",[12,93,3]]),new fk([24,18,0],[[24,18,3],[24,18,2]]),new au("Randomizer Seed")];
this.J1()};k.Wave.prototype=new k;k.Wave.prototype.$l=function(r,j){j[0]=r.NmbG.v;j[1]=r.WLMn.v;j[2]=r.WLMx.v;
j[3]=r.AmMn.v;j[4]=r.AmMx.v;j[5]=r.SclH.v;j[6]=r.SclV.v;j[7]=["WvSn","WvTr","WvSq"].indexOf(r.Wvtp.v.Wvtp);
j[8]=["WrpA","RptE"].indexOf(r.UndA.v.UndA);j[9]=r.RndS.v};k.Wave.prototype.RJ=function(r,j){r.NmbG.v=j[0];
r.WLMn.v=j[1];r.WLMx.v=j[2];r.AmMn.v=j[3];r.AmMx.v=j[4];r.SclH.v=j[5];r.SclV.v=j[6];r.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][j[7]];
r.UndA.v.UndA=["WrpA","RptE"][j[8]];var D=parseInt(j[9]);if(isNaN(D))D=248325464;D=Math.max(0,Math.min(268435455,D));
r.RndS.v=D;this.JW[9].l(D)};k.ZgZg=function(){k.call(this,"ZgZg");this.JW=[new fv([12,57],-100,100),new fv("Ridges",0,20),new fk([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.J1()};k.ZgZg.prototype=new k;k.surfaceBlur=function(){k.call(this,"surfaceBlur");this.JW=[new fv([12,56],1,200," px"),new fv([4,13],1,255," px")];
this.J1()};k.surfaceBlur.prototype=new k;k.surfaceBlur.prototype.$l=function(r,j){j[0]=r.Rds.v.val;j[1]=r.Thsh.v};
k.surfaceBlur.prototype.RJ=function(r,j){r.Rds.v.val=j[0];r.Thsh.v=j[1]};k.AdNs=function(){k.call(this,"AdNs");
this.JW=[new fv([12,57],0,200," %"),new fk([12,58],[[12,59,1],[12,59,0]]),new b1([12,60])];this.J1()};
k.AdNs.prototype=new k;k.DstS=function(){k.call(this,"DstS");this.JW=[new fv([12,56],1,200," px"),new fv([4,13],1,255," px")];
this.J1()};k.DstS.prototype=new k;k["Mdn "]=function(){k.call(this,"Mdn ");this.JW=[new fv([12,56],1,200," px")];
this.J1()};k["Mdn "].prototype=new k;k["Mdn "].prototype.$l=function(r,j){j[0]=r.Rds.v.val};k["Mdn "].prototype.RJ=function(r,j){r.Rds.v.val=j[0]};
k.ClrH=function(){k.call(this,"ClrH");this.JW=[new fv([12,56],4,100," px")];for(var P=1;P<4;P++)this.JW.push(new fv("Angle "+P,0,90," \xB0"));
this.J1()};k.ClrH.prototype=new k;k.ClrH.prototype.$l=function(r,j){j[0]=r.Rds.v;for(var P=1;P<4;P++)j[P]=r["Ang"+P].v};
k.ClrH.prototype.RJ=function(r,j){r.Rds.v=j[0];for(var P=1;P<4;P++)r["Ang"+P].v=j[P]};k.ClrH.prototype.h=function(){var r=this.JW;
r[0].h();for(var P=1;P<4;P++)r[P].W3(e9.get([12,15])+" "+P)};k.Crst=function(){k.call(this,"Crst");this.JW=[new fv([12,61],3,100," px")];
this.J1()};k.Crst.prototype=new k;k.Crst.prototype.$l=function(r,j){j[0]=r.ClSz.v};k.Crst.prototype.RJ=function(r,j){r.ClSz.v=j[0]};
k.Mztn=function(){k.call(this,"Mztn");this.JW.push(new fk([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.ON="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.J1()};k.Mztn.prototype=new k;
k.Mztn.prototype.$l=function(r,j){j[0]=this.ON.indexOf(r.MztT.v.MztT)};k.Mztn.prototype.RJ=function(r,j){r.MztT.v.MztT=this.ON[j[0]]};
k["Msc "]=function(){k.call(this,"Msc ");this.JW=[new fv([12,61],2,200," px")];this.J1()};k["Msc "].prototype=new k;
k["Msc "].prototype.$l=function(r,j){j[0]=r.ClSz.v.val};k["Msc "].prototype.RJ=function(r,j){r.ClSz.v.val=j[0]};
k.Pntl=function(){k.call(this,"Pntl");this.JW=[new fv([12,61],3,100," px")];this.J1()};k.Pntl.prototype=new k;
k.Pntl.prototype.$l=function(r,j){j[0]=r.ClSz.v};k.Pntl.prototype.RJ=function(r,j){r.ClSz.v=j[0]};k.smartSharpen=function(){k.call(this,"smartSharpen");
this.JW=[new fv([12,57],1,200,"%"),new fv([12,56],0,200,"px",1,!0)];this.J1()};k.smartSharpen.prototype=new k;
k.smartSharpen.prototype.$l=function(r,j){j[0]=r.Amnt.v.val;j[1]=r.Rds.v.val};k.smartSharpen.prototype.RJ=function(r,j){r.Amnt.v.val=j[0];
r.Rds.v.val=j[1]};k.UnsM=function(){k.call(this,"UnsM");this.JW=[new fv([12,57],1,200," %"),new fv([12,56],.1,400,"px",1,!0),new fv([4,13],0,255," ")];
this.J1()};k.UnsM.prototype=new k;k.HghP=function(){k.call(this,"HghP");this.JW=[new fv([12,56],.1,400,"px",1,!0)];
this.J1()};k.HghP.prototype=new k;k.HsbP=function(){k.call(this,"HsbP");this.JW=[new a2("Input",["RGB","HSB","HSL"]),new a2("Output",["RGB","HSB","HSL"])];
this.J1()};k.HsbP.prototype=new k;k["Mxm "]=function(){k.call(this,"Mxm ");this.JW=[new fv([12,56],.1,200," px",1,!0),new fk([12,76,1],["Square","Circle"])];
this.J1()};k["Mxm "].prototype=new k;k["Mnm "]=function(){k.call(this,"Mnm ");this.JW=[new fv([12,56],.1,200," px",1,!0),new fk([12,76,1],["Square","Circle"])];
this.J1()};k["Mnm "].prototype=new k;k.Ofst=function(){k.call(this,"Ofst");this.JW=[new fv([22,4,0],-1024,1024," px"),new fv([22,4,1],-1024,1024," px"),new fk([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.J1()};k.Ofst.prototype=new k;k.Rept=function(){k.call(this,"Rept");this.JW=[new bN([12,38],1,300," %"),new bN("Row Shift",-50,50," %"),new bN("Space X",-99,200," %"),new bN("Space Y",-99,200," %"),new b1([4,16,2]),new cf([12,15])];
this.J1()};k.Rept.prototype=new k;k.Rept.prototype.$l=function(r,j){j[0]=r.Scl.v.val;j[1]=r.Rsft.v.val;
j[2]=r.SpcX.v.val;j[3]=r.SpcY.v.val;j[4]=r.SpcC.v;j[5]=[r.Angl.v]};k.Rept.prototype.RJ=function(r,j){r.Scl.v.val=j[0];
r.Rsft.v.val=j[1];r.SpcX.v.val=j[2];r.SpcY.v.val=j[3];r.SpcC.v=j[4];r.Angl.v=j[5][0];return r};k.Ctoa=function(){k.call(this,"Ctoa");
this.JW=[new aL([13,0]),new fe(!0),new fv(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new fv(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.J1()};k.Ctoa.prototype=new k;k.Ctoa.prototype.$l=function(r,j){j[0]=r.Clr.v;j[1]=r.Trsp.v.val;j[2]=r.Opct.v.val};
k.Ctoa.prototype.RJ=function(r,j){r.Clr.v=j[0];r.Trsp.v.val=j[1];r.Opct.v.val=j[2]};k.LqFy=function(){k.call(this,"LqFy");
this.de=!1;this.gM=null;this.a5f=null;this.k=0;this.L={yF:[[{k:{id:0,name:[24,1,0,1,0],Zj:"liq/smudge"}}],[{k:{id:1,name:[24,1,0,1,1],Zj:"liq/reconstruct"}}],[{k:{id:2,name:[24,1,0,1,2],Zj:"liq/smooth"}}],[{k:{id:3,name:[24,1,0,1,3],Zj:"liq/twirl"}}],[{k:{id:4,name:[24,1,0,1,4],Zj:"liq/shrink"}}],[{k:{id:5,name:[24,1,0,1,5],Zj:"liq/blow"}}],[{k:{id:6,name:[24,1,0,1,6],Zj:"liq/pleft"}}],[{k:{id:7,name:"Hand",Zj:"tools/hand"}}],[{k:{id:8,name:"Zoom In",Zj:"zoomIn"}}],[{k:{id:9,name:"Zoom Out",Zj:"zoomOut"}}]],keys:[]};
this.xe=new bR(this.L,!1);this.xe.Fh(0);this.xe.X(y.E.V,this.alE,this);this.bS=eb.g4();this.Jp=null;
this.wQ=[];this.L1=-1;this.XF=null;this.a05=null;this.A_=null;this.rm=null;this.Hg=null;var r=y.C("div","flexrow");
this.K4=r;this.i.appendChild(r);r.appendChild(this.xe.i);this.view=new ib(!0);this.view.kt(100,100);
this.view.X("mousedown",this.uo,this);this.view.X("mousemove",this.yN,this);this.view.X("mouseup",this.BS,this);
this.view.X("zoom",this.ar,this);r.appendChild(this.view.i);var j=y.C("div","form");r.appendChild(j);
this.NS=j;j.style.width="230px";this.yR=[new fv([12,14,0],0,1e3,null,!1,!0),new fv([12,74],0,100,null,!1,!1),new fv([12,84],0,100,null,!1,!1),new b1([12,46]),new fv([12,0],0,100,null,!1,!1)];
var D=this.bS.Brsh.v;D.Dmtr.v.val=100;var N=[100,50,100,!1,100];for(var P=0;P<this.yR.length;P++){var b=this.yR[P];
b.l(N[P]);b.X(y.E.Y,this.a3R,this);j.appendChild(b.i)}var Y=new iH("Reset",!0,null,!0);Y.X("click",this.jJ,this);
j.appendChild(Y.i);this.Dr=new iI;this.Dr.i=y.C("div","floatcont");this.vK=new iH("Menu",!1,null,!0);
this.vK.X("click",this.a7_,this);var x=this.vK.i;x.setAttribute("style","position:absolute; right:13px; top:47px")};
k.LqFy.prototype=new k;k.LqFy.prototype.MA=function(){return!0};k.LqFy.prototype.cw=function(r){this.NS.appendChild(r)};
k.LqFy.prototype.a7_=function(r){var j=this.vK.i.getBoundingClientRect();this.Dr.i.appendChild(this.NS);
var D=new iu(y.E.V,!0);D.data={e:y.G.Eo,Z3:this.Dr,x:j.right+j.width-290,y:j.top+j.height};this.g(D)};
k.LqFy.prototype.Uc=function(r){this.de=r.o(e4.YV);var j=I.oi.hP(this.bS,r);if(j!=null){this.bS=j;this.ar();
this.yR[0].l(j.Brsh.v.Dmtr.v.val)}else if(r.o(e4.h6)&&r.o(e4.Kg)){var D=this.wQ;if(r.o(e4.$P)){if(this.L1+1<D.length)this.L1++}else if(this.L1>0)this.L1--;
this.Jp.map=D[this.L1].slice(0);this.eE(null)}else this.view.Uc(r)};k.LqFy.prototype.alE=function(r){if(r.data.e==y.G.T$){var j=this.k=r.data.k;
this.xe.Fh(this.k);this.view.Uc(j>6?ib.a2W(j-7):new e4)}};k.LqFy.prototype.a3R=function(r){var j=r.currentTarget,P=this.yR.indexOf(j),D=this.bS.Brsh.v;
if(P==0){D.Dmtr.v.val=j.A();this.ar()}if(P>2)this.eE(null)};k.LqFy.prototype.uy=function(){var r=this.wQ;
this.L1++;r[this.L1]=this.Jp.map.slice(0);while(r.length>this.L1+1)r.pop();while(r.length>50){r=r.slice(1);
this.L1--}};k.LqFy.prototype.uo=function(r){this.Xt();this.gM=this.view.bh();this.a5f=new gJ(0,0);this.X(y.E.uq,this.fw,this)};
k.LqFy.prototype.yN=function(r){var j=this.view.bh(),D=new gJ(j.x-this.gM.x,j.y-this.gM.y);if(this.k==0||this.k==6)this.aoz(D);
this.gM=j};k.LqFy.prototype.BS=function(r){this.uy();this.Xt()};k.LqFy.prototype.Xt=function(){if(this.I3(y.E.uq,this.fw))this.removeEventListener(y.E.uq,this.fw,this)};
k.LqFy.prototype.fw=function(r){if(this.k!=0&&this.k!=6)this.aoz(new gJ(0,0))};k.LqFy.prototype.aoz=function(r){var j=this.Jp,D=j.oW/this.XF.d,N=this.gM,b=this.bS.Brsh.v,Y=b.Dmtr.v.val,x=Date.now(),C=j.oW,w=j.qg,q=Math.sqrt(r.x*r.x+r.y*r.y),u=Math.max(1,Math.ceil(q/2)),h=r.x/u,z=r.y/u,O=N.clone(),g=this.k,t=this.yR[1].A()/100,$=this.yR[2].A()/100,i=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],A=i[g*2],H=i[g*2+1],F=(1-t)*A+t*H,T=Y*D/2;
for(var P=0;P<u;P++){var _=[];O.x+=h;O.y+=z;R.IV.aq0(j.map,C,w,g,O.x*D,O.y*D,T,t,$,h*D,z*D,_,this.de);
R.IV.abF(C,w,j.map,_,2*F*$)}var V=new bf(0,0,C,w),X=new bf(N.x*D,N.y*D,0,0);X.Fp(Y*D*.5,Y*D*.5);var o=X.clone();
o.offset(r.x*D,r.y*D);X=X.zs(o);var c=new bf(X.x/D,X.y/D,X.d/D,X.r/D);c=R.K.yB(c).su(this.XF);this.eE(c)};
k.LqFy.prototype.ar=function(){var r=gU.DH(this.bS,null,this.view.To().S);this.view.RW(r)};k.LqFy.prototype.l=function(r,j,D,N,b){D=D.clone();
if(j==null)return;if(!N.gy(D)){var Y=D.zs(N),x=R.O(Y.Z()*4);R.UB(j,D,x,Y);j=x;D=Y;var C=R.O(Y.Z()*4);
R.UB(b,N,C,Y);b=C}D.x=D.y=0;this.A_=j;this.a05=b;this.Hg=j.slice(0);this.rm=j.slice(0);this.XF=D;this.Jp=j5.$g(new Uint8Array(r.LqMe.v).buffer);
var w=D.d,q=D.r;if(this.Jp.oW/w<.22){this.Jp={oW:Math.floor(w/4),qg:Math.floor(q/4)};this.Jp.map=new Float32Array(this.Jp.oW*this.Jp.qg*2)}this.wQ=[];
this.L1=-1;this.uy();this.eE(null);this.view.wf();this.ar()};k.LqFy.prototype.A=function(){this.Xt();
var r=ij.nY("LqFy"),j=new Uint8Array(j5.FD(this.Jp)),D=[];for(var P=0;P<j.length;P++)D.push(j[P]);r.LqMe.v=D;
return r};k.LqFy.prototype.kt=function(r,j){this.xe.kt(r,j);var D=this.vK.i,N=this.NS;this.K4.appendChild(N);
this.K4.appendChild(D);if(r>450&&r-j>200){N.style.marginLeft="1em";this.K4.removeChild(D);this.view.kt(r-238-45,j)}else{N.style.marginLeft="";
this.K4.removeChild(N);this.view.kt(r-40,j)}};k.LqFy.prototype.h=function(){this.xe.h();for(var P=0;
P<this.yR.length;P++)this.yR[P].h()};k.LqFy.prototype.jJ=function(){this.Xt();this.Jp.map.fill(0);this.uy();
this.eE(null)};k.LqFy.prototype.eE=function(r){var j=this.XF,D=this.A_,N=this.Hg,b=this.Jp;R.IV.Ah(D,this.rm,j.d,j.r,r,b.map,b.oW,b.qg,0);
if(this.yR[3].Pp()){R.UB(this.a05,j,N,j,r?r:j);R.U.tI("norm",this.rm,j,N,j,r?r:j,this.yR[4].A()/100)}else R.kZ(this.rm,N);
this.view.l([{Yn:j,data:N.buffer}])};k.GEfc=function(){k.call(this,"GEfc");this.U7=0;this.ff=0;this.A_=null;
this.Hg=null;this.XF=null;this.xY=null;this.HK=null;this.mj=0;var r=y.C("div","flexrow");this.K4=r;this.i.appendChild(r);
this.view=new ib(null);this.view.kt(100,100);r.appendChild(this.view.i);this.NV="";this.sz=270;var j=this.QA=y.C("div","form scrollable");
r.appendChild(j);j.setAttribute("style","width:"+this.sz+"px;  margin-left:10px");var D=this.hL=y.C("div","form");
r.appendChild(D);D.setAttribute("style","width:230px;  margin-left:1em");this.H9={};for(var N in cQ.names){var b=new k.GEfc.b5(N);
b.parent=this;this.H9[N]=b;b.X(y.E.Y,this.aiE,this)}this.HM=!0;this.vK=new iH("Menu",null,null,!0);this.vK.X("click",this.alb,this);
r.appendChild(this.vK.i);this.Wo=new iH(">>",null,null,!0);this.Wo.X("click",this.arF,this);D.appendChild(this.Wo.i);
this.g1=y.C("div");this.g1.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
D.appendChild(this.g1);this.VI=y.C("div");this.VI.style.minHeight="14em";this.VI.style.marginBottom="1em";
D.appendChild(this.VI);this.nF=y.C("div","lpbody scrollable");this.bZ=y.C("div","lpfoot");D.appendChild(this.nF);
D.appendChild(this.bZ);this.X("click",this.a5R,this);this.W2=[];d7.vC([[5,3],[5,4]],this.W2,this.bZ,this.vZ.bind(this))};
k.GEfc.prototype=new k;k.GEfc.prototype.MA=function(){return!0};k.GEfc.prototype.cw=function(r){this.g1.appendChild(r)};
k.GEfc.prototype.Wf=function(r,j){this.xY=r};k.GEfc.prototype.arF=function(r){var j=this.QA.style.display!="none";
this.QA.style.display=j?"none":"";this.Wo.W3(j?"<<":">>");this.kt()};k.GEfc.prototype.alb=function(r){this.HM=!this.HM;
this.kt()};k.GEfc.prototype.kt=function(r,j){var D=this.QA.style.display!="none";if(r!=null){this.U7=r;
this.ff=j;if(r<1e3&&D||r>=1e3&&!D){this.arF();D=!D}this.HM=r>600}else{r=this.U7;j=this.ff}var N=this.HM?240+(D?this.sz+10:0):0;
if(y.bN(this.hL)&&!this.HM){this.K4.removeChild(this.QA);this.K4.removeChild(this.hL)}if(!y.bN(this.hL)&&this.HM){this.K4.appendChild(this.QA);
this.K4.appendChild(this.hL)}this.QA.style.height=j+"px";this.view.kt(r-N,j);this.nF.style.height=j-this.VI.getBoundingClientRect().height-96+"px";
this.vK.i.setAttribute("style","position:absolute; top:46px;  right:"+(N+16)+"px")};k.GEfc.prototype.an9=function(){var r=aP.zN.get("img/beach",!0)[0],j=r.Yn,D=this.QA,N=Math.floor(y.f()*(this.sz-40)/3),b=~~(N*.7),Y=new bf(0,0,N,b),x=R.O(N*b*4),C=x.slice(0),w=Math.round(10*y.f()),q=new ImageData(new Uint8ClampedArray(C.buffer),N,b);
R.UB(new Uint8Array(r.data),j,x,new bf(Math.round((j.d-N)/2),Math.round((j.r-b)/2),N,b));var u=y.C("canvas"),h=u.getContext("2d");
u.width=N;u.height=b+Math.round(w*1.5);h.font=w+"px sans-serif";this.F$={};var z=this.abi.bind(this);
for(var P=0;P<cQ.eQ.length;P++){var O=cQ.eQ[P],g=y.C("div");D.appendChild(g);g.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
g.textContent=e9.get(O);for(var t in cQ.names){var $=cQ.names[t];if($[0]!=P)continue;cQ.Bh(t,{rect:Y,buffer:x},cQ.nY(t),{a:0,p:0,M:0},{a:255,p:255,M:255},{rect:Y,buffer:C},{});
h.fillStyle="black";h.fillRect(0,0,500,500);h.putImageData(q,0,0);var i=e9.get($[1]);h.fillStyle="white";
h.fillText(i,(N-h.measureText(i).width)/2,b+Math.round(w*1.1));var A=y.C("div");D.appendChild(A);A.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
A.addEventListener("click",z,!1);var g=y.C("img");A.appendChild(g);g.setAttribute("src",u.toDataURL());
g.setAttribute("style","width:"+N/y.f()+"px; margin-bottom:0px;");this.F$[t]=A}}};k.GEfc.prototype.abi=function(r){var j;
for(var D in this.F$)if(this.F$[D]==r.currentTarget)this.NV=D;this.aiE()};k.GEfc.prototype.vZ=function(r){var j=d7.xG(this.W2,r),D=this.HK.GEfs.v,N=D[this.mj].v;
if(j==0){D.push(JSON.parse(JSON.stringify(D[this.mj])));this.mj=D.length-1}else if(D.length>1){D.splice(this.mj,1);
if(this.mj==D.length)this.mj--}this.FE();this.eE()};k.GEfc.prototype.aiE=function(r){var j=this.NV,D;
if(r==null)D=cQ.nY(j);else D=this.H9[j].A();this.HK.GEfs.v[this.mj].v=D;this.FE();this.eE()};k.GEfc.prototype.l=function(r,j,D,N,b){if(this.F$==null)this.an9();
r=this.HK=JSON.parse(JSON.stringify(r));if(r.GEfs==null)r=this.HK={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:r}]}};
var Y=r.GEfs.v;for(var P=0;P<Y.length;P++)if(Y[P].v.GELv==null)Y[P].v.GELv={t:"bool",v:!0};this.mj=Y.length-1;
this.FE();D=D.clone();if(j==null)return;if(!N.gy(D)&&cQ.Ux(r).x!=0){var x=D.zs(N),C=R.O(x.Z()*4);R.UB(j,D,C,x);
j=C;D=x}D.x=D.y=0;this.A_=j;this.Hg=j.slice(0);this.XF=D;this.eE()};k.GEfc.prototype.a5R=function(r){var j=r.data,P=j.wd,D=this.HK.GEfs.v;
if(j.qI){D[P].v.GELv.v=!D[P].v.GELv.v;this.eE()}else this.mj=P;this.FE()};k.GEfc.prototype.FE=function(){var r=this.HK.GEfs.v,j=r[this.mj].v,D=j.GEfk.v.GEft,N=this.VI;
if(cQ.names[D]==null){alert("Unsupported gallery filter");y.Su(N)}else{this.NV=D;for(var b in this.F$)y.UM(this.F$[b],"selected");
y.ui(this.F$[D],"selected");var Y=this.H9[D];Y.l(j);if(N.firstChild!=Y.i){y.Su(N);N.appendChild(Y.i)}}var x=[];
for(var P=0;P<r.length;P++){var C=r[P].v,w=cQ.names[C.GEfk.v.GEft],q=new jk(P,!0,!0,null,w?w[1]:"Filter",P==this.mj,C.GELv.v);
q.parent=this;x.push(q.i)}y.Su(this.nF);x.reverse();for(var P=0;P<x.length;P++)this.nF.appendChild(x[P]);
this.kt()};k.GEfc.prototype.A=function(){return JSON.parse(JSON.stringify(this.HK))};k.GEfc.prototype.eE=function(r){var j=this.XF,D=this.A_,N=this.Hg,b=this.NV,Y=this.HK,x=this.xY;
function C(w){return{a:w>>>16,p:w>>>8&255,M:w&255}}ij.Bh("GEfc",{rect:this.XF,buffer:this.A_},Y,C(x.xg),C(x.mL),{rect:this.XF,buffer:this.Hg},null);
this.view.l([{Yn:j,data:N.buffer}]);this.view.wf()};k.GEfc.prototype.h=function(){for(var r in this.H9)this.H9[r].h();
d7.s6(this.W2,["lrs/newlayer","lrs/bin"])};k.GEfc.b5=function(r){iI.call(this);this.AH=r;this.i=y.C("div");
this.lw={};var j=cQ.nY(r);for(var D in j){var N=null;if(D=="__name"||D=="classID"||D=="GEfk"||D=="GELv"||["FlRs"].indexOf(D)!=-1)continue;
else if(D=="EdgW")N=new fv("Edge Width",1,14);else if(D=="EdgB")N=new fv("Edge Brightness",0,r=="AccE"?50:20);
else if(D=="Smth")N=new fv([19,3,3],1,r=="Stmp"?50:15);else if(D=="ClSz")N=new fv([12,61],3,100);else if(D=="BrdT")N=new fv([7,9],1,20);
else if(D=="HghS")N=new fv([12,64],0,20);else if(D=="HlSz")N=new fv([12,14,0],1,15);else if(D=="Cntr")N=new fv([12,3,0],0,r=="WtrP"?100:50);
else if(D=="Shrp")N=new fv("Sharpness",0,40);else if(D=="SprR")N=new fv("Spray Radius",0,25);else if(D=="LgDr")N=new fv("Light/Dark Balance",0,r=="Stmp"?50:100);
else if(D=="Drkn")N=new fv("Darkness",1,50);else if(D=="Dstr")N=new fv("Distortion",0,20);else if(D=="Scln")N=new fv([12,38],50,200);
else if(D=="Rlf")N=new fv("Relief",0,r=="Ptch"||r=="NtPr"?25:50);else if(D=="ChAm")N=new fv("Thickness",1,7);
else if(D=="Pncl")N=new fv([19,2,5],1,30);else if(D=="StrP")N=new fv("Stroke Pressure",0,15);else if(D=="PprB")N=new fv("Paper Brightness",0,50);
else if(D=="BrsS")N=new fv("Brush Size",0,10);else if(D=="BrsD")N=new fv("Brush Detail",0,10);else if(D=="Txtr")N=new fv([12,67],1,3);
else if(D=="Grn")N=new fv("Grain",0,20);else if(D=="HghA")N=new fv("Highlight Area",0,20);else if(D=="Intn")N=new fv("Intensity",0,10);
else if(D=="Brgh")N=new fv("Glow Brightness",0,r=="WtrP"?100:50);else if(D=="StrS")N=new fv("Stroke Size",1,50);
else if(D=="StDt")N=new fv("Stroke Detail",1,3);else if(D=="Sftn")N=new fv("Softness",0,10);else if(D=="EdgT")N=new fv("Edge Thickness",0,10);
else if(D=="EdgI")N=new fv("Edge Intensity",0,10);else if(D=="Pstr")N=new fv("Posterization",0,6);else if(D=="Dfnt")N=new fv("Definition",0,25);
else if(D=="TxtC")N=new fv("Texture Coverage",0,50);else if(D=="ShdI")N=new fv("Shadow Intensity",0,10);
else if(D=="DrcB")N=new fv("Direction Balance",0,100);else if(D=="Strg")N=new fv([12,64],1,3);else if(D=="Blnc")N=new fv("Balance",0,10);
else if(D=="BlcI")N=new fv("Black Intensity",0,10);else if(D=="WhtI")N=new fv("White Intensity",0,10);
else if(D=="DrkI")N=new fv("Dark Intensity",0,50);else if(D=="LghI")N=new fv("Light Intensity",0,50);
else if(D=="StrW")N=new fv("Stroke Width",3,15);else if(D=="Grns")N=new fv("Graininess",0,r=="NtPr"?20:10);
else if(D=="GlwA")N=new fv("Glow Amount",0,20);else if(D=="ClrA")N=new fv("Clear Amount",0,20);else if(D=="ChrA")N=new fv("Charcoal Area",0,20);
else if(D=="ChlA")N=new fv("Chalk Area",0,20);else if(D=="FrgL")N=new fv("Foreground Level",1,15);else if(D=="BckL")N=new fv("Background Level",1,15);
else if(D=="WhtL")N=new fv("Background Level",0,50);else if(D=="BlcL")N=new fv("Foreground Level",0,50);
else if(D=="ImgB")N=new fv("Image Balance",0,50);else if(D=="Dnst")N=new fv([12,74],0,50);else if(D=="FbrL")N=new fv("Fiber Length",3,50);
else if(D=="CrcS")N=new fv("Crack Sapcing",2,100);else if(D=="CrcD")N=new fv("Crack Depth",0,10);else if(D=="CrcB")N=new fv("Crack Brightness",0,10);
else if(D=="TlSz")N=new fv("Tile Size",2,100);else if(D=="GrtW")N=new fv("Grout Width",1,15);else if(D=="LghG")N=new fv("Lighten Grout",0,10);
else if(D=="SqrS")N=new fv("Square Size",0,10);else if(D=="RplS")N=new fv("Ripple Size",1,15);else if(D=="RplM")N=new fv("Ripple Magnitude",0,20);
else if(D=="NmbL")N=new fv("Number of Levels",2,8);else if(D=="EdgS")N=new fv("Edge Simplicity",0,10);
else if(D=="EdgF")N=new fv("Edge Fidelity",1,3);else if(D=="Sz")N=r=="NGlw"?new fv("Glow Size",-24,24):new fv([12,14,0],1,50);
else if(D=="Dtl")N=r=="Chrc"?new fv("Detail",0,5):new fv("Detail",1,15);else if(D=="StrL")N=r=="InkO"?new fv("Stroke Length",1,50):new fv("Stroke Length",0,20);
else if(D=="TxtT")N=new fk([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(D=="BrsT")N=new fk("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(D=="Grnt")N=new fk("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(D=="SDir")N=new fk([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(D=="ScrT")N=new fk([12,62],["Circle","Dot",[10,35]]);
else if(D=="LghD"||D=="LghP")N=new fk("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(D=="Clr")N=new fe("Glow Color");else if(D=="InvT")N=new b1([4,11]);else console.log(D);N.X(y.E.Y,this.h1,this);
N.parent=this;this.lw[D]=N;this.i.appendChild(N.i)}};k.GEfc.b5.prototype=new iI;k.GEfc.b5.prototype.h1=function(r){this.g(new iu(y.E.Y,!1))};
k.GEfc.arh="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
k.GEfc.b5.prototype.l=function(r){for(var j in this.lw){var D;if(k.GEfc.arh.indexOf(j)!=-1)D=r[j].v;
else if(j=="TxtT")D=cQ.so.indexOf(r[j].v[j]);else if(j=="BrsT")D=cQ.bv.indexOf(r[j].v[j]);else if(j=="LghD")D=cQ.m8.indexOf(r[j].v[j]);
else if(j=="LghP")D=cQ._b.indexOf(r[j].v[j]);else if(j=="Grnt")D=cQ.$L.indexOf(r[j].v[j]);else if(j=="ScrT")D=cQ.WO.indexOf(r[j].v[j]);
else if(j=="SDir")D=cQ.Fb.indexOf(r[j].v.StrD);this.lw[j].l(D)}};k.GEfc.b5.prototype.A=function(){var r=cQ.nY(this.AH);
for(var j in this.lw){var D=this.lw[j].A();if(k.GEfc.arh.indexOf(j)!=-1)r[j].v=D;else if(j=="TxtT")r[j].v[j]=cQ.so[D];
else if(j=="BrsT")r[j].v[j]=cQ.bv[D];else if(j=="LghD")r[j].v[j]=cQ.m8[D];else if(j=="LghP")r[j].v[j]=cQ._b[D];
else if(j=="Grnt")r[j].v[j]=cQ.$L[D];else if(j=="ScrT")r[j].v[j]=cQ.WO[D];else if(j=="SDir")r[j].v.StrD=cQ.Fb[D]}return r};
k.GEfc.b5.prototype.h=function(){for(var r in this.lw)this.lw[r].h()};k.blnc=function(){k.call(this);
var r=this.i;this.A7=null;this.rK=new fk([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.rK.X(y.E.Y,this.eE,this);
r.appendChild(this.rK.i);this.f0=[];for(var P=0;P<3;P++){var j=new fv(cz.r8[P],-100,100);j.X(y.E.Y,this.Td,this);
this.f0.push(j);r.appendChild(j.i)}this.Wt=new b1([13,4]);this.Wt.X(y.E.Y,this.Td,this);r.appendChild(this.Wt.i)};
k.blnc.prototype=new k;k.blnc.prototype.h=function(){this.rK.h();for(var P=0;P<3;P++)this.f0[P].h();
this.Wt.h()};k.blnc.prototype.l=function(r){this.A7=JSON.parse(JSON.stringify(r));this.eE()};k.blnc.prototype.A=function(r){var j=["ShdL","MdtL","HghL"],D=this.A7[j[this.rK.A()]].v;
for(var P=0;P<3;P++)D[P].v=this.f0[P].A();this.A7.PrsL.v=this.Wt.A();return JSON.parse(JSON.stringify(this.A7))};
k.blnc.prototype.eE=function(r){var j=["ShdL","MdtL","HghL"],D=this.A7[j[this.rK.A()]].v;for(var P=0;
P<3;P++)this.f0[P].l(D[P].v);this.Wt.l(this.A7.PrsL.v)};k.brit=function(){k.call(this,"brit");this.JW.push(new fv([12,2],-150,150,""));
this.JW.push(new fv([12,3,0],-100,100,""));this.JW.push(new b1([12,3,1]));this.J1()};k.brit.prototype=new k;
k.brit.prototype.$l=function(r,j){j[0]=r.Brgh?r.Brgh.v:0;j[1]=r.Cntr?r.Cntr.v:0;j[2]=r.useLegacy?r.useLegacy.v:!1};
k.brit.prototype.RJ=function(r,j){r.Brgh.v=j[0];r.Cntr.v=j[1];r.useLegacy.v=j[2]};k.curv=function(){k.call(this);
this.value=null;this.gN=null;var r=this.i;this.wU=new fk([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.wU.X(y.E.Y,this.sT,this);r.appendChild(this.wU.i);this.vU=new fk(null,["Spline","Sketch"]);this.vU.X(y.E.Y,this.a02,this);
r.appendChild(this.vU.i);this.NW=new cr;this.NW.X(y.E.Y,this.CN,this);r.appendChild(this.NW.i);this.eK=null;
this.amJ=0;this.NM=0;this.bn=new a8("Sample from image",a2.y7(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.bn.X(y.E.Y,this.IK,this);r.appendChild(this.bn.i)};k.curv.prototype=new k;k.curv.prototype.h=function(){this.wU.h()};
k.curv.prototype.a02=function(r){var j=jf.GG(this.value,0),D=j.length==256?1:0,N=this.vU.A();if(D==N)return;
var b=ij.nY("curv");if(N==1){var Y=[];for(var P=0;P<256;P++)Y.push(P);jf.Gm(b,0,Y)}this.l(b);this.Td()};
k.curv.prototype.CN=function(){jf.Gm(this.value,this.wU.A(),this.NW.A());this.Td()};k.curv.prototype.sT=function(){var r=this.wU.A(),j=jf.GG(this.value,r),D=j.length==256?1:0;
this.vU.l(D);if(this.gN)this.NW.yf(this.gN[r],this.gN[4]*[1,.33,.33,.33][r],["#ccc","#fcc","#cfc","#ccf"][r]);
this.NW.l(j)};k.curv.prototype.bY=function(){return!0};k.curv.prototype.xR=function(r,j,D,N,b){var Y=this.value;
this.value=ij.nY("curv");this.Td();var x=I.dU.Ed(r,b,1),C=this.eK=[x>>>16&255,x>>>8&255,x&255];this.amJ=b.y;
var w=this.bn.A().indexOf(!0);if(w==0){var q=(C[0]+C[1]+C[2])/3,u=this.wU.A(),h=jf.GG(Y,u),z=u==0?q:C[u-1],O=-1;
for(var P=0;P<h.length;P++)if(h[P].v.Hrzn.v==z)O=P;if(O==-1){var g=JSON.parse(JSON.stringify(h[0]));
g.v.Hrzn.v=z;g.v.Vrtc.v=z;h.push(g);h.sort(function(t,$){return t.v.Hrzn.v-$.v.Hrzn.v});jf.Gm(Y,u,h);
this.NM=h.indexOf(g)}else this.NM=O}this.l(Y);this.Td()};k.curv.prototype.Vt=function(r,j,D,N,b){if(this.eK==null)return;
if(this.bn.A().indexOf(!0)==0){var Y=this.value,x=this.wU.A(),C=jf.GG(Y,x),w=C[this.NM];w.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(w.v.Hrzn.v+(this.amJ-b.y))));
jf.Gm(Y,x,C);this.l(Y);this.Td()}};k.curv.prototype.rE=function(r,j,D,N,b){var Y=this.value,x=this.eK,C=(x[0]+x[1]+x[2])/3,w=this.bn.A().indexOf(!0)-1;
if(w<=-1){}else for(var P=0;P<3;P++){var q=jf.GG(Y,1+P);if(w==0)q[0].v.Hrzn.v=x[P];if(w==1){var u=Math.log(x[P]/255)/Math.log(C/255),h=Math.min(999,Math.max(10,Math.round(100*u)));
if(q.length==2)q.splice(1,0,JSON.parse(JSON.stringify(q[0])));q[1].v.Hrzn.v=127-Math.log(h/100)*127;
q[1].v.Vrtc.v=127}if(w==2)q[q.length-1].v.Hrzn.v=x[P];jf.Gm(Y,1+P,q)}this.l(Y);this.Td();this.eK=null};
k.curv.prototype.l=function(r){this.value=r;this.sT()};k.curv.prototype.yf=function(r){this.gN=r;this.sT()};
k.curv.prototype.A=function(r){return JSON.parse(JSON.stringify(this.value))};k.expA=function(){k.call(this,"expA");
this.JW.push(new fv([12,5],-20,20,null,3));this.JW.push(new fv([12,6],-.5,.5,null,3));this.JW.push(new fv([12,7],.01,6.99,null,3));
this.J1()};k.expA.prototype=new k;k.expA.prototype.$l=function(r,j){j[0]=r.Exps.v;j[1]=r.Ofst.v;j[2]=r.gammaCorrection.v};
k.expA.prototype.RJ=function(r,j){r.Exps.v=j[0];r.Ofst.v=j[1];r.gammaCorrection.v=j[2]};k.grdm=function(){k.call(this,"grdm");
this.JW.push(new ak(!0,null,!0));this.JW.push(new b1([12,23,0]));this.J1()};k.grdm.prototype=new k;k.grdm.prototype.$l=function(r,j){j[0]=r.Grad.v;
j[1]=r.Rvrs?r.Rvrs.v:!1};k.grdm.prototype.RJ=function(r,j){r.Grad.v=j[0];r.Rvrs={t:"bool",v:j[1]}};k.grdm.prototype.Wf=function(r,j){this.JW[0].Mx(r.xg,r.mL);
if(j==e5.Cr||j==e5.pN||j==e5.dv)this.JW[0].pB(r.$E)};k.selc=function(){k.call(this);var r=this.i;this.Re=[];
this.ez=null;this.rK=new fk([12,82],cz.R5.concat([[13,1,8],[13,1,13],[13,1,10]]));this.rK.X(y.E.Y,this.h1,this);
r.appendChild(this.rK.i);for(var P=0;P<4;P++){var j=new fv(cz.aaf[P],-100,100,"%");j.X(y.E.Y,this.h1,this);
this.Re.push(j);r.appendChild(j.i)}this.Tu=new b1([13,3]);r.appendChild(this.Tu.i);this.Tu.X(y.E.Y,this.h1,this)};
k.selc.prototype=new k;k.selc.prototype.h=function(){this.rK.h();this.Tu.h();for(var P=0;P<4;P++)this.Re[P].h()};
k.selc.prototype.l=function(r){this.ez=JSON.parse(JSON.stringify(r));this.eE()};k.selc.prototype.A=function(r){return JSON.parse(JSON.stringify(this.ez))};
k.selc.prototype.h1=function(r){if(r.target!=this.rK){var j=this.ez,D=[];for(var P=0;P<4;P++)D[P]=this.Re[P].A();
dQ.Gm(j,this.rK.A(),D);j.Mthd={t:"enum",v:{CrcM:this.Tu.A()?"Absl":"Rltv"}}}this.eE();this.Td()};k.selc.prototype.eE=function(){var r=this.ez,j=dQ.GG(r,this.rK.A());
for(var P=0;P<4;P++)this.Re[P].l(j[P]);this.Tu.l(r.Mthd?r.Mthd.v.CrcM=="Absl":!1)};k.blwh=function(){k.call(this,"blwh");
this.JW.push(new b1([12,11]));this.JW.push(new fe(!0));for(var P=0;P<6;P++)this.JW.push(new fv(cz.R5[P],-200,300));
this.J1()};k.blwh.prototype=new k;k.blwh.prototype.$l=function(r,j){j[0]=r.useTint.v;j[1]=r.tintColor.v;
var D="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)j[2+P]=r[D[P]].v};k.blwh.prototype.RJ=function(r,j){r.useTint.v=j[0];
r.tintColor.v=j[1];var D="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)r[D[P]].v=j[2+P]};
k.hue2=function(){k.call(this);this.value=null;this.ki=null;this.a9e=null;this.Qm=[[0,0,0],[0,50,0]];
var r=this.i;this.bn=new a8(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.bn.X(y.E.Y,this.aqQ,this);this.bn.X(y.E.Y,this.IK,this);r.appendChild(this.bn.i);this.rK=new fk([12,12],["Master"].concat(cz.R5));
this.rK.X(y.E.Y,this.sT,this);r.appendChild(this.rK.i);this.IE=new fv([12,8],-180,180);this.IE.X(y.E.Y,this.GJ,this);
r.appendChild(this.IE.i);this.S4=new fv([12,9],-100,100);this.S4.X(y.E.Y,this.GJ,this);r.appendChild(this.S4.i);
this.L4=new fv([12,10],-100,100);this.L4.X(y.E.Y,this.GJ,this);r.appendChild(this.L4.i);this.A0=new b1([12,11]);
this.A0.X(y.E.Y,this.GJ,this);r.appendChild(this.A0.i);this.mH=new a8("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.mH.X(y.E.Y,this.aqQ,this);this.mH.X(y.E.Y,this.IK,this);this.mH.i.style.marginLeft="20px";r.appendChild(this.mH.i);
this.KC=y.C("div");r.appendChild(this.KC);this.UI=this.XM.bind(this);this.ij=this.FC.bind(this);this.s=y.C("canvas");
this.AF=this.s.getContext("2d");this.Ca=null;y.PO(this.s);y.z_(this.s,282,18);r.appendChild(this.s);
y.Wu(this.s,this.cQ.bind(this))};k.hue2.prototype=new k;k.hue2.prototype.aqQ=function(r){var j=r.target.A().indexOf(!0);
if(j==-1)return;if(r.target==this.bn)this.mH.l([!1,!1,!1]);else this.bn.l([!1,!1,!1])};k.hue2.prototype.cQ=function(r){if(this.rK.A()==0||this.A0.A())return;
var j=y.dD(r,this.s).x/(this.s.width/y.f()),Y=1e6;function D(h,z,O){return h<z&&z<O||O<h&&(h<z||z<O)}var N=this.Q0(),b=-1;
for(var P=0;P<4;P++){var x=Math.abs(j-(N[P]+P*1e-5));if(x<Y){Y=x;b=P}}if(Y>.025){b=-1;var C=N[0],w=N[1],q=N[2],u=N[3];
if(D(C,j,w))b=4;if(D(w,j,q))b=5;if(D(q,j,u))b=6}if(b==-1)return;this.Ca=b;y.sD(document.body,this.UI);
y.B6(document.body,this.ij)};k.hue2.prototype.XM=function(r){var j=y.dD(r,this.s).x/(this.s.width/y.f()),D=this.Q0(),N=this.Ca;
for(var P=1;P<4;P++)if(D[P]<D[P-1]){D[P]+=1}if(N<4){var b=1e6,Y=0;for(var P=-20;P<20;P++){var x=Math.abs(D[N]-(j+P));
if(x<b){b=x;Y=P}}j+=Y;D[N]=j;for(var P=N+1;P<4;P++)if(D[P]<D[P-1]){D[P]=D[P-1]}for(var P=N-1;P>=0;P--)if(D[P]>D[P+1]){D[P]=D[P+1]}}else{var C=j-(D[N-4]+D[N-3])/2;
if(C<-.5)C+=1;if(N==4){D[0]+=C;D[1]+=C;D[2]=Math.max(D[1],D[2]);D[3]=Math.max(D[1],D[3])}if(N==5)for(var P=0;
P<4;P++)D[P]+=C;if(N==6){D[2]+=C;D[3]+=C;D[0]=Math.min(D[0],D[2]);D[1]=Math.min(D[1],D[2])}}for(var P=1;
P<4;P++)if(D[P]<D[P-1])throw"e";this.a81(D);this.sT();this.Td()};k.hue2.prototype.FC=function(r){y.hE(document.body,this.UI);
y.jm(document.body,this.ij)};k.hue2.prototype.h=function(){this.IE.h();this.S4.h();this.L4.h();this.A0.h();
this.rK.h()};k.hue2.prototype.GJ=function(r){var j=this.value.Clrz.v=this.A0.A();if(j)this.rK.l(0);if(r&&r.target==this.A0){var D=j?1:0;
this.Qm[1-D]=je.GG(this.value,0);var N=this.Qm[D];je.Gm(this.value,0,N);if(this.rK.A()==0){this.IE.l(N[0]);
this.S4.l(N[1]);this.L4.l(N[2])}}var b=this.rK.A(),Y=je.GG(this.value,b),N=b==0?Y:Y.f0;N[0]=this.IE.A();
var x=this.S4.A();N[1]=j?Math.max(0,x):x;N[2]=this.L4.A();je.Gm(this.value,b,Y);this.sT();this.Td()};
k.hue2.prototype.sT=function(){var r=this.rK.A(),j=this.value.Clrz?this.value.Clrz.v:!1;this.A0.l(j);
this.rK.b3(!j);this.mH.b3(!j&&r!=0);var D=je.GG(this.value,r),N=r==0?D:D.f0;this.IE.l(N[0]);this.S4.l(N[1]);
this.L4.l(N[2]);var b=this.s.width,Y=this.s.height,x=this.AF;x.clearRect(0,0,b,Y);if(j||r==0){this.KC.innerHTML="";
return}var C=D.z3;this.KC.innerHTML=C[0]+"\xB0 / "+C[1]+"\xB0<span style=\"float:right\">"+C[2]+"\xB0 \\ "+C[3]+"\xB0</span>";
var w=R.O(b*4);fJ.a5p(w,1,b,-1,.5);var q=new ImageData(new Uint8ClampedArray(w.buffer),b,1),u=Math.round(b/64);
for(var P=0;P<u;P++)x.putImageData(q,0,P);function h(i,A,H){x.fillStyle=H;var F=u*2;if(i<=A)x.fillRect(i*b,F,(A-i)*b,u);
else{x.fillRect(0,F,A*b,u);x.fillRect(i*b,F,(1-i)*b,u)}}var z=this.Q0();h(z[0],z[1],"#888888");h(z[1],z[2],"#cccccc");
h(z[2],z[3],"#888888");x.fillStyle="#ffffff";x.lineWidth=1;x.beginPath();var O=u+.5,g=4*u+.5;for(var P=0;
P<4;P++){var t=Math.floor(b*z[P])+.5,$=(P<2?-1:1)*u*(P==1||P==2?1:2);x.moveTo(t,O);x.lineTo(t,g);x.lineTo(t+$,g);
x.lineTo(t+$,u+u+.5);x.closePath()}x.fill();x.stroke()};k.hue2.prototype.Q0=function(){var r=this.rK.A(),j=je.GG(this.value,r).z3;
for(var P=0;P<4;P++)j[P]=(1000.5+j[P]/360)%1;return j};k.hue2.prototype.a81=function(r){var j=this.rK.A(),D=je.GG(this.value,j);
for(var P=0;P<4;P++)D.z3[P]=Math.round(36e3+(r[P]-.5)*360)%360;je.Gm(this.value,j,D)};k.hue2.prototype.bY=function(){return!0};
k.hue2.prototype.aik=function(){var r=this.bn.A().indexOf(!0),j=this.mH.A().indexOf(!0);return r!=-1?r:j!=-1?j+1:-1};
k.hue2.prototype.xR=function(r,j,D,N,b){var Y=this.aik();if(Y==-1)return;var x=this.value;this.value=ij.nY("hue2");
this.Td();var C=I.dU.Ed(r,b,1);this.l(x);var w=[C>>>16&255,C>>>8&255,C&255],q=R.d$(w[0]/255,w[1]/255,w[2]/255);
if(Y==0){this.rK.l(1+Math.round(q.qg*6)%6)}else{var u=this.Q0(),h=.5+q.qg,z=1/12,O=u[1],g=u[2];if(g<O){g++;
if(h<O&&h+1-g<O-h)h++}var t=O<=h&&h<=g;if(Y==1){O=h-z/2;g=h+z/2}else if(Y==2&&!t){O=Math.min(h,O);g=Math.max(h,g)}else if(Y==3&&t){if(h-O<g-h)O=h;
else g=h}u=[O-z,O,g,g+z];this.a81(u)}this.Td();this.ki=b.x;this.a9e=this.S4.A()};k.hue2.prototype.Vt=function(r,j,D,N,b){var Y=this.aik();
if(Y==-1)return;if(Y==0){if(this.ki!=null){var x=b.x-this.ki;x=Math.max(-100,Math.min(100,this.a9e+.5*x));
this.S4.l(x);this.GJ()}}};k.hue2.prototype.rE=function(r,j,D,N,b){this.ki=null};k.hue2.prototype.l=function(r){this.value=JSON.parse(JSON.stringify(r));
var j=this.value.Clrz?this.value.Clrz.v:!1;this.Qm[j?1:0]=je.GG(this.value,0);this.sT()};k.hue2.prototype.A=function(r){return JSON.parse(JSON.stringify(this.value))};
k.levl=function(){function r(){k.call(this);this.value=null;this.gN=null;this.HA=[new gJ(0,0),new gJ(0,0),new gJ(0,0),new gJ(0,0),new gJ(0,0)];
this.Ph=-1;this.UI=this.XM.bind(this);this.ij=this.FC.bind(this);var j=this.i;this.wU=new fk([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.wU.X(y.E.Y,this.sT,this);j.appendChild(this.wU.i);var D=y.C("div","");j.appendChild(D);var N=y.C("div","");
j.appendChild(N);this.s=y.C("canvas");D.appendChild(this.s);this.AF=this.s.getContext("2d");this.K1=new gJ(256,120);
this.s.setAttribute("style","display:block");y.z_(this.s,this.K1.x,this.K1.y,this.AF);y.PO(this.s);y.Wu(this.s,this.cQ.bind(this));
this.iy=y.C("canvas","");N.appendChild(this.iy);this.MD=this.iy.getContext("2d");this.or=new gJ(this.K1.x,40);
this.iy.setAttribute("style","display:block");y.z_(this.iy,this.or.x,this.or.y,this.MD);y.PO(this.iy);
y.Wu(this.iy,this.afQ.bind(this));var b=this.akv=[];for(var P=0;P<5;P++){var Y=new au(null,null,3);b.push(Y);
Y.X(y.E.Y,this.aoq,this);(P<2||P==4?D:N).appendChild(Y.i)}D.appendChild(b[1].i);b[4].i.setAttribute("style","margin: 0 4.7em");
b[3].i.setAttribute("style","margin:0 0 0 13em");this.bn=new a8("Sample from image",a2.y7(["#000000","#888888","#ffffff"]),!0,null,!0);
this.bn.X(y.E.Y,this.IK,this);j.appendChild(this.bn.i)}r.prototype=new k;r.prototype.h=function(){this.wU.h()};
r.prototype.aoq=function(j){var D=[];for(var P=0;P<5;P++){var N=255,b=1;if(P==4){N=999;b=100}var Y=parseFloat(this.akv[P].A());
D[P]=Math.max(0,Math.min(N,Y*b))}cI.Gm(this.value,this.wU.A(),D);this.sT();this.Td()};r.prototype.sT=function(j){var D=this.K1.x,N=this.K1.y,b=this.wU.A(),Y=this.AF;
Y.clearRect(0,0,D,N);Y.fillStyle="#cccccc";Y.fillRect(8,8,D-16,N-16-8);if(this.gN){if(b==0){this.gN[0].fill(0);
var x=JSON.parse(JSON.stringify(this.value));cI.Gm(x,0,[0,255,0,255,100]);var C=cz.jX("levl",x),w=[C.Uk,C.Vc,C.cm];
for(var q=0;q<3;q++){var u=this.gN[1+q],h=w[q];for(var P=0;P<256;P++)this.gN[0][h[P]]+=u[P]}}var z=this.gN[b],O=0;
for(var P=0;P<z.length;P++)O+=z[P];Y.fillStyle="#333333";Y.beginPath();Y.moveTo(8,N-16);for(var P=0;
P<256;P++){var g=55*z[P]/O;Y.lineTo(8+P/256*(D-16),Math.max(8,N-16-N*g))}Y.lineTo(D-8,N-16);Y.closePath();
Y.fill()}var t=cI.GG(this.value,b);for(var P=0;P<5;P++)this.akv[P].l(t[P]/(P==4?100:1));this.HA[0].Ho(8+t[0]/255*(D-16),N-14);
this.HA[1].Ho(8+t[1]/255*(D-16),N-14);var $=Math.log(t[4]/100)/Math.log(9.99);$=.5-$/2;this.HA[4].Ho(this.HA[0].x+$*(this.HA[1].x-this.HA[0].x),N-14);
this.JA(Y,this.HA[0],"#000000");this.JA(Y,this.HA[1],"#ffffff");this.JA(Y,this.HA[4],"#777777");var D=this.or.x,N=this.or.y;
Y=this.MD;Y.clearRect(0,0,D,N);var i=Y.createLinearGradient(0,0,D-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
Y.fillStyle=i;Y.fillRect(8,8,D-16,16);this.HA[2].Ho(8+t[2]/255*(D-16),N-14);this.HA[3].Ho(8+t[3]/255*(D-16),N-14);
this.JA(Y,this.HA[2],"#000000");this.JA(Y,this.HA[3],"#ffffff")};r.prototype.JA=function(j,D,N){j.fillStyle=N;
j.fillRect(D.x-5,D.y,10,10)};r.prototype.cQ=function(j){var D=y.dD(j,this.s),N=this.atb([0,1,4],D);if(N!=-1)this.Ph=N;
this.ar2()};r.prototype.afQ=function(j){var D=y.dD(j,this.iy),N=this.atb([2,3],D);if(N!=-1)this.Ph=N;
this.ar2()};r.prototype.atb=function(j,D){var N=-1,b=1e9;for(var P=0;P<j.length;P++){var Y=Math.abs(this.HA[j[P]].x-D.x);
if(Y<b){b=Y;N=j[P]}}return b<16?N:-1};r.prototype.ar2=function(j){if(this.Ph==-1)return;y.sD(document.body,this.UI);
y.B6(document.body,this.ij)};r.prototype.XM=function(j){var D=cI.GG(this.value,this.wU.A()),N=y.dD(j,this.Ph==2&&this.Ph==3?this.iy:this.s),b=255*(N.x-8)/(this.K1.x-16);
b=Math.max(0,Math.min(255,b));if(this.Ph==0)b=Math.min(b,D[1]-2);if(this.Ph==1)b=Math.max(b,D[0]+2);
if(this.Ph!=4)D[this.Ph]=Math.round(b);else{var Y=(b-D[0])/(D[1]-D[0]);Y=1-2*Y;Y=Math.pow(9.99,Y);D[4]=Math.min(999,Math.max(10,Math.round(Y*100)))}cI.Gm(this.value,this.wU.A(),D);
this.sT();this.Td()};r.prototype.FC=function(j){y.hE(document.body,this.UI);y.jm(document.body,this.ij);
this.Ph=-1};r.prototype.bY=function(){return!0};r.prototype.rE=function(j,D,N,b,Y){var x=this.value,C=this.bn.A().indexOf(!0);
if(C==-1)return;this.value=ij.nY("levl");this.Td();var w=I.dU.Ed(j,Y,1),q=[w>>>16&255,w>>>8&255,w&255];
for(var P=0;P<3;P++){var u=cI.GG(x,1+P);if(C==0)u[0]=q[P];if(C==1){var h=Math.log(q[P]/255)/Math.log((q[0]+q[1]+q[2])*.333/255);
u[4]=Math.min(999,Math.max(10,Math.round(100*h)))}if(C==2)u[1]=q[P];cI.Gm(x,1+P,u)}this.l(x);this.Td()};
r.prototype.l=function(j){this.value=j;this.sT()};r.prototype.yf=function(j){this.gN=j;this.sT()};r.prototype.A=function(j){return JSON.parse(JSON.stringify(this.value))};
return r}();k.phfl=function(){k.call(this,"phfl");this.JW.push(new fe);this.JW.push(new fv([12,74],0,100,"%"));
this.JW.push(new b1([13,4]));this.J1()};k.phfl.prototype=new k;k.phfl.prototype.$l=function(r,j){j[0]=r.Clr.v;
j[1]=r.Dnst.v;j[2]=r.PrsL.v};k.phfl.prototype.RJ=function(r,j){var D=R._.z2(j[0]),N=r.Clr.v,b=R.WS(D.a,D.p,D.M);
N.Lmnc.v=b.lD;N.A.v=b.kD;N.B.v=b.M;r.Dnst.v=j[1];r.PrsL.v=j[2]};k.vibA=function(){k.call(this,"vibA");
this.JW.push(new fv([12,13],-100,100,null));this.JW.push(new fv([12,9],-100,100,null));this.J1()};k.vibA.prototype=new k;
k.vibA.prototype.$l=function(r,j){j[0]=r.vibrance?r.vibrance.v:0;j[1]=r.Strt?r.Strt.v:0};k.vibA.prototype.RJ=function(r,j){r.vibrance.v=j[0];
r.Strt.v=j[1]};k.thrs=function(){k.call(this,"thrs");this.JW.push(new fv([4,13],1,255,null));this.J1()};
k.thrs.prototype=new k;k.thrs.prototype.$l=function(r,j){j[0]=r.Lvl.v};k.thrs.prototype.RJ=function(r,j){r.Lvl.v=j[0]};
k.mixr=function(){k.call(this);var r=this.i;this.Re=[];this.ez=null;this.rK=new fk([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.rK.X(y.E.Y,this.h1,this);r.appendChild(this.rK.i);y.aR(r);this.O_=new b1([12,60]);r.appendChild(this.O_.i);
this.O_.X(y.E.Y,this.h1,this);for(var P=0;P<4;P++){var j=new fv([[13,1,1],[13,1,4],[13,1,5],[13,2]][P],-200,200,"%");
j.X(y.E.Y,this.h1,this);this.Re.push(j);r.appendChild(j.i)}};k.mixr.prototype=new k;k.mixr.prototype.h=function(){this.rK.h();
this.O_.h();for(var P=0;P<4;P++)this.Re[P].h()};k.mixr.prototype.l=function(r){this.ez=JSON.parse(JSON.stringify(r));
this.eE()};k.mixr.prototype.A=function(r){return JSON.parse(JSON.stringify(this.ez))};k.mixr.prototype.h1=function(r){if(r.target!=this.rK){var j=cz.YE(this.ez);
if(r.target==this.O_){j.O_=this.O_.A();if(j.O_)j.m=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else j.m=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var D=(j.O_?0:this.rK.A())*5,P=this.Re.indexOf(r.target);
j.m[D+(P<3?P:4)]=r.target.A()}this.ez=cz.Jr(j)}this.eE();this.Td()};k.mixr.prototype.eE=function(){var r=cz.YE(this.ez);
this.O_.l(r.O_);var j=(r.O_?0:this.rK.A())*5;for(var P=0;P<4;P++)this.Re[P].l(r.m[j+(P<3?P:4)])};k.post=function(){k.call(this,"post");
this.JW.push(new fv([4,1],2,255,null));this.J1()};k.post.prototype=new k;k.post.prototype.$l=function(r,j){j[0]=r.Lvls.v};
k.post.prototype.RJ=function(r,j){r.Lvls.v=j[0]};k.clrL=function(){k.call(this,"clrL");this.JW.push(new j1("LUTs"));
this.J1()};k.clrL.prototype=new k;k.clrL.prototype.$l=function(r,j){j[0]=r};k.clrL.prototype.RJ=function(r,j){var D=j[0];
for(var N in D)r[N]=D[N]};k.clrL.prototype.Wf=function(r,j){if(j==e5.Cr||j==e5.SN)this.JW[0].pB(r.a5M)};
k.rplc=function(){k.call(this,"rplc");this.JW.push(new fv([12,92],0,200));this.JW.push(new fe);this.JW.push(new fv([12,8],-180,180));
this.JW.push(new fv([12,9],-100,100));this.JW.push(new fv([12,10],-100,100));this.J1()};k.rplc.prototype=new k;
k.rplc.prototype.$l=function(r,j){j[0]=r.Fzns.v;j[1]=r.Mxm.v;j[2]=r.H.v;j[3]=r.Strt.v;j[4]=r.Lght.v};
k.rplc.prototype.RJ=function(r,j){function D(b,Y){Y.Lmnc.v=b.lD;Y.A.v=b.kD;Y.B.v=b.M}r.Fzns.v=j[0];r.H.v=j[2];
r.Strt.v=j[3];r.Lght.v=j[4];var N=R._.z2(j[1]),b=R.WS(N.a,N.p,N.M);D(b,r.Mnm.v);D(b,r.Mxm.v)};k.fade=function(){k.call(this,"fade");
this.JW.push(new fv([12,0],0,100,"%"));this.JW.push(new fk([12,19,0],by.OF,!1,by.Mi));this.J1()};k.fade.prototype=new k;
k.fade.prototype.$l=function(r,j){j[0]=r.Opct.v.val;j[1]=by.zT.indexOf(r.Md.v.BlnM)};k.fade.prototype.RJ=function(r,j){r.Opct.v.val=j[0];
r.Md.v.BlnM=by.zT[j[1]]};k.aply=function(){var r=by.zT.concat(["Add","Sbtr"]);r.splice(21,1);var j=by.OF.concat(["Add",[15,10,21]]);
j.splice(21,1);var D=by.Mi.slice(0);D[4]--;function N(){k.call(this,"aply");this.JW.push(new fk([0,3],[]));
this.JW.push(new fk([12,4],["RGB"].concat(cz.r8).concat(["Transparency"])));this.JW.push(new b1([4,11]));
this.JW.push(new fk([12,19,0],j,!1,D));this.JW.push(new fv([12,0],0,100,"%"));this.JW.push(new b8([12,38],1,2,null,2));
this.JW.push(new b8([12,6],-255,255));this.JW.push(new b1("Preserve Transparency"));this.J1([2]);this.Pu=null}N.prototype=new k;
N.prototype.$l=function(b,Y,x){if(x){var C=x[2].j,w=this.Pu=[];for(var P=0;P<C.length;P++)w.push(C[P].getName());
w.reverse();this.JW[0].Sf([[5,7]].concat(w),[1,w.length])}else var w=this.Pu;b=b.With.v;var q=b.T.v;
Y[0]=q[1].t=="name"?1+w.indexOf(q[1].v.val):0;Y[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(q[0].v.enum);
Y[2]=b.Invr.v;var u=b.Clcl.v.Clcn;Y[3]=r.indexOf(u);Y[4]=b.Opct.v.val;Y[5]=b.Scl.v;Y[6]=b.Ofst.v;Y[7]=b.PrsT.v};
N.prototype.RJ=function(b,Y){b=b.With.v;var x=b.T.v;if(Y[0]==0)x[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else x[1]={t:"name",v:{classID:"Lyr",val:this.Pu[this.Pu.length-Y[0]]}};x[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][Y[1]];
b.Invr.v=Y[2];var C=b.Clcl.v.Clcn=r[Y[3]];b.Opct.v.val=Y[4];b.Scl.v=Y[5];b.Ofst.v=Y[6];b.PrsT.v=Y[7];
var w=C=="Add"||C=="Sbtr";this.JW[5].b3(w);this.JW[6].b3(w)};return N}();function hE(r,j){iI.call(this);
if(r==null)return;this.id=j;this.g_=r;this.NF=null;this.i=y.C("div","window "+j);this.a93=null;this.FO=y.C("div","whead");
this.aaN=y.C("span","wname");this.FO.appendChild(this.aaN);this.i.appendChild(this.FO);this.ya=this.aac.bind(this);
this.zI=this.aec.bind(this);this.Zf=this.agK.bind(this);y.PO(this.FO);y.Wu(this.FO,this.ya);this.eX=y.C("span","cross");
this.FO.appendChild(this.eX);hE.prototype.h.call(this);y.B6(this.eX,this.a51.bind(this));this.body=y.C("div","body");
this.i.appendChild(this.body)}hE.prototype=new iI;hE.prototype.Oj=function(){return!1};hE.prototype.bY=function(){return!1};
hE.prototype.h=function(){if(this.g_==null)return;this.aaN.textContent=e9.get(this.g_);var r=PIMG.__cross==null?"filter:invert(1);":"";
this.eX.setAttribute("style","background-image:url("+PIMG.cross+");"+r)};hE.prototype.xR=function(r,j,D,N,b){};
hE.prototype.f7=function(r,j,D,N,b){};hE.prototype.Vt=function(r,j,D,N,b){};hE.prototype.rE=function(r,j,D,N,b){};
hE.prototype.Ig=function(r,j,D,N,b){};hE.prototype.Uc=function(r,j,D,N){if(N.o(e4.Lf)&&this.oH)this.oH();
if(N.o(e4.h6)){var b=new iu(y.E.w);b.bJ=!0;I.Az.iQ(N,b);if(b.data)j.g(b)}};hE.prototype.IT=function(r){return!1};
hE.prototype.uf=function(r,j){return!0};hE.prototype.PV=function(r,j,D,N){};hE.prototype.Wf=function(r,j){};
hE.prototype.sM=function(r,j){return null};hE.prototype.adP=function(r){return this.a93};hE.prototype.kt=function(){};
hE.prototype.close=function(){this.g(new iu(y.E.Gt))};hE.prototype.aac=function(r){this.NF=y.dD(r,this.i);
y.sD(window,this.zI);y.B6(window,this.Zf)};hE.prototype.aec=function(r){var j=this.i.parentNode,D=y.dD(r,j),N=Math.round(D.x-this.NF.x),b=j.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(D.y-this.NF.y)));
this.a93=new gJ(N,b);this.i.style.left=N+"px";this.i.style.top=b+"px"};hE.prototype.agK=function(r){y.hE(window,this.zI);
y.jm(window,this.Zf)};hE.prototype.a51=function(r){this.g(new iu("closebtn"));this.close()};function db(){hE.call(this,"About Photopea","aboutpp");
var r=y.C("div","flexrow");this.body.appendChild(r);var j=this.a4h=y.C("img");r.appendChild(j);this.body.setAttribute("style","margin:0; padding:0");
var D=this.a0B=y.C("div");D.innerHTML=db.Tj;r.appendChild(D);var N=this.U3=y.C("span");N.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(N)}db.prototype=new hE;db.prototype.sM=function(r,j){return new gJ(0,0)};db.prototype.kt=function(r,j){var D=this.a4h,N=this.a0B,b=this.U3,Y=(r+j-42-42)/110;
Y=Math.sqrt((r-42)*(j-42))/50;D.setAttribute("style","width:"+r/2+"px; height:"+j+"px; display:block; object-fit:cover;");
N.setAttribute("style","width:"+(r/2-42)+"px; height:"+(j-42)+"px; padding:20px; font-size:"+Y+"px;");
b.setAttribute("style","position:absolute;  bottom:10px; right:"+(r/2+10)+"px")};db.prototype.h=function(){};
db.prototype.PV=function(r,j,D,N){this.a4h.setAttribute("src","img/ivan_pp.webp")};db.Tj="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function cT(){hE.call(this,[0,13,0],"account");this.z9=y.C("div","form scrollable");this.body.appendChild(this.z9);
this.body.style.padding="0";this.kr=[new cT.NT,new cT.kh(cT.aoI),new cT.kh(cT.adb)];for(var P=0;P<this.kr.length;
P++)this.kr[P].parent=this;this.X("showpage",this.a8Y,this)}cT.prototype=new hE;cT.prototype.kt=function(r,j){this.z9.setAttribute("style","width:"+Math.min(r-40,600)+"px;  height:"+(j-38)+"px;  padding:1.5em;");
this.kr[0].kt(r,j)};cT.prototype.sM=function(r,j){return new gJ(Math.max(0,Math.min(150,(r-600)/2)),Math.max(0,Math.min(100,(j-500)/2)))};
cT.prototype.a8Y=function(r){y.Su(this.z9);this.z9.scrollTop=0;this.z9.appendChild(this.kr[r.data.wd].i)};
cT.prototype.h=function(){hE.prototype.h.call(this);for(var P=0;P<this.kr.length;P++)this.kr[P].h()};
cT.prototype.PV=function(r,j,D){y.Su(this.z9);var N=this.kr[0];this.z9.appendChild(N.i);N.PV();this.h()};
cT.prototype.Wf=function(r,j){this.PV(null,null,null)};cT.NT=function(){iI.call(this);this.i=y.C("div");
var r=this.i,j,D,N="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.Xj=y.C("div");r.appendChild(this.Xj);this.x6=new iH([0,11],!1,null,!0);this.x6.i.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.x6.X("click",this.oe,this);r.appendChild(this.x6.i);this.D6=new iH([0,13,1],!1,null,!0);this.D6.X("click",this.a9q,this);
r.appendChild(this.D6.i);this.Hm=new iH("Business Terms",!1,null,!0);this.Hm.X("click",this.ac2,this);
r.appendChild(this.Hm.i);j=y.C("h2");j.innerHTML="Account types";r.appendChild(j);D=y.C("table");D.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">All Features</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
r.appendChild(D);var b=this.adA=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.q$=[];for(var P=0;P<b.length;P++)this.q$.push(new iH("Buy: $"+b[P][0],!1,null,!0));for(var P=0;
P<this.q$.length;P++){this.q$[P].i.setAttribute("style",N);this.q$[P].X("click",this.aj_,this)}j=y.C("h2");
j.innerHTML="Go Premium";r.appendChild(j);this.$j=new iH("...",!0);this.$j.i.setAttribute("style",N);
r.appendChild(this.$j.i);D=this.a7a(3,["Single user",this.q$[0],this.q$[1],this.q$[2],"Team of 5",this.q$[3],this.q$[4],this.q$[5],"Team of 20",this.q$[6],this.q$[7],this.q$[8]]);
r.appendChild(D);this.a57=new b1("I accept",!0,"");r.appendChild(this.a57.i);this.bT=new iH([0,13,1],!1,null,!0);
this.bT.X("click",this.a9q,this);r.appendChild(this.bT.i);this.d2=new iH("I have a key",!1,null,!0);
this.d2.i.setAttribute("style",N+" float:right;");this.d2.X("click",this.aj_,this);r.appendChild(this.d2.i);
j=y.C("h2");j.textContent="Team Settings";r.appendChild(j);this.$H=new b1("Join a team");r.appendChild(this.$H.i);
this.$H.X(y.E.Y,this.af4,this);this.Ne=new au("Email of a leader",null,14);r.appendChild(this.Ne.i);
y.aR(r);this.V3=new b1("Start a team");r.appendChild(this.V3.i);this.V3.X(y.E.Y,this.af4,this);var Y=new aL("Emails of other members:");
r.appendChild(Y.i);y.aR(r);this.xm=y.C("textarea");this.xm.setAttribute("rows",3);this.xm.setAttribute("style","display:block;tab-size:4; width:100%");
r.appendChild(this.xm);var x=new iH("Save Team Settings",!1,null,!0);r.appendChild(x.i);x.X("click",this.ap4,this);
var C=this.aa8=new iH("More about Teams",!1,null,!0);r.appendChild(C.i);C.X("click",this.arO,this);j=y.C("h2");
j.innerHTML="Distributor Account";r.appendChild(j);this.mK=new iH("...",!0);this.mK.i.setAttribute("style",N);
r.appendChild(this.mK.i);D=this.a7a(3,["1000 views/ month",this.q$[9],this.q$[10],this.q$[11],"5000 views/ month",this.q$[12],this.q$[13],this.q$[14],"20000 views/ month",this.q$[15],this.q$[16],this.q$[17]]);
r.appendChild(D);this.Uj=new au("Domain name (e.g. domain.com)",null,14);r.appendChild(this.Uj.i);y.aR(r);
var x=new iH("Save Domain Settings",!1,null,!0);x.H8();r.appendChild(x.i);x.X("click",this.amk,this);
var C=new iH("More about Distributors",!1,null,!0);r.appendChild(C.i);C.X("click",this.arO,this)};cT.NT.prototype=new iI;
cT.NT.prototype.kt=function(r,j){var D=r<500?"$":"Buy: $",N=this.adA;for(var P=0;P<N.length;P++)this.q$[P].W3(D+N[P][0])};
cT.NT.prototype.a9q=function(r){var j=new iu("showpage",!0);j.data={wd:1};this.g(j)};cT.NT.prototype.ac2=function(r){var j=new iu("showpage",!0);
j.data={wd:2};this.g(j)};cT.NT.prototype.h=function(){this.x6.W3(cM.dQ()?e9.get([0,11]):e9.get([0,10]));
this.bT.h();this.D6.h();this.Hm.h()};cT.NT.prototype.arO=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.fx,link:"https://www.photopea.com/api/accounts#"+(r.target==this.aa8?"teams":"distributors")};
this.g(j)};cT.NT.prototype.af4=function(r){var j=r.currentTarget==this.$H;this.$H.l(j);this.V3.l(!j)};
cT.NT.prototype.ap4=function(r){var j=this.$H.A(),D=this.Ne.A().trim(),N=this.xm.value.trim();if(D.length>60){alert("Too long email address");
return}if(N.length>600){alert("Too many team members");return}N=N.split(",").join(" ").trim();N=N.replace(/\s+/g," ");
if(N=="")N=[];else N=N.split(" ");var b=cM.At();if(b==null)b={};if(b.acc==null)b.acc={};b.acc.team={jin:j,ldr:D,mmb:N};
cM.rI(b,this.rw.bind(this));alert("Saved!");this.PV()};cT.NT.prototype.amk=function(r){var j=this.Uj.A().trim();
if(!cM.dQ()){alert("You have to log in first.");return}if(cM.Q_().distrib=="0"){alert("Order a distributor account first.");
return}var D=cM.At();if(D==null)D={};if(D.acc==null)D.acc={};if(j=="")delete D.acc.dname;else D.acc.dname=j;
cM.rI(D,this.rw.bind(this));alert("Saved!");this.PV()};cT.NT.prototype.PV=function(){if(cM.dQ()){var r=cM.Q_();
if(r==null)return;this.Xj.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+r.name+"</span> "+r.email+" <br/>"}else{}var j=cM.dQ()&&cM.pC();
this.$j.i.style.display=j?"block":"none";if(j){var D=parseInt(r[y.R3("_^NSLUJ")])-Date.now()*(1/1e3),N=parseInt(r.ptype),b;
if(N==-1)b="member of a team";else if(N==1)b="Single user";else b="Team of "+N;this.$j.W3("Premium active for "+Math.round(D/(60*60*24))+" more days! ("+b+")")}var Y=cM.dQ()&&r.distrib*1e3>Date.now();
this.mK.i.style.display=Y?"block":"none";if(Y){var D=parseInt(r.distrib)-Date.now()/1e3,N=parseInt(r.ptype);
this.mK.W3("Distributor active for "+Math.round(D/(60*60*24))+" more days! ("+N+" visitos)")}var x=cM.At();
if(x&&x.acc&&x.acc.team){var C=x.acc.team;this.$H.l(C.jin);this.V3.l(!C.jin);this.Ne.l(C.ldr);this.xm.value=C.mmb.join(", ")}else{this.$H.l(!0);
this.V3.l(!1);this.Ne.l("");this.xm.value=""}if(x&&x.acc&&x.acc.dname)this.Uj.l(x.acc.dname);else this.Uj.l("")};
cT.NT.prototype.a7a=function(r,j){var D=y.C("table");D.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(r==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var P=0;P<j.length;P+=r+1){var N=y.C("tr"),b;D.appendChild(N);b=y.C("td","left");N.appendChild(b);
b.innerHTML="<b>"+j[P]+"</b>";for(var Y=0;Y<r;Y++){b=y.C("td");N.appendChild(b);b.appendChild(j[P+1+Y].i)}}return D};
cT.NT.prototype.aj_=function(r){var j=this.q$.indexOf(r.currentTarget),N=30,b=1;if(!cM.dQ()){alert("You must log in before buying Premium");
return}if(this.a57.A()==!1&&j<9){alert("You must accept Terms of Service");return}var D=cM.dQ()&&cM.pC();
if(j!=-1){var Y=this.adA[j];N=Y[1];b=Y[2]}if(D&&b<1e3){alert("You already have premium.");return}if(j==-1){var x=prompt("Please enter your key");
if(x!=null){cM.acp(x,this.rw.bind(this));this.gE()}return}if(N==30&&b==1){var C=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!C)return}cM.order(N,b,this.rw.bind(this));this.gE()};cT.NT.prototype.rw=function(r){if(cM.dQ()&&cM.Q_().msg)alert(cM.Q_().msg);
this.PV();this.gE()};cT.NT.prototype.oe=function(r){if(cM.dQ()){cM.anl();this.gE();this.PV(null,null,null)}else cM.oe(this.acK.bind(this))};
cT.NT.prototype.acK=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.agi};this.g(r)};cT.NT.prototype.gE=function(){var r=new iu(y.E.V,!0);
r.data={e:y.G.abp};this.g(r)};cT.kh=function(r){iI.call(this);this.i=y.C("div");var j=this.i,D=this.aap=new iH([0,13,2],!1,null,!0);
D.X("click",this.a1U,this);j.appendChild(D.i);var N=y.C("div");N.innerHTML=r;j.appendChild(N)};cT.kh.prototype=new iI;
cT.kh.prototype.a1U=function(r){var j=new iu("showpage",!0);j.data={wd:0};this.g(j)};cT.kh.prototype.h=function(){this.aap.h()};
cT.adb="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
cT.aoI="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function jg(){hE.call(this,[11,14],"addguides");this.up;this.xY={Ar:{Q5:0}};this.Lw=null;var r=y.C("div","form");
this.body.appendChild(r);this.eu=new au([22,4,0],null,16);this.eu.X(y.E.Y,this.S_,this);this.f3=new au([22,4,1],null,16);
this.f3.X(y.E.Y,this.S_,this);this.CF=new fk(null,R.DA.Z4);this.CF.X(y.E.Y,this.S_,this);r.appendChild(this.eu.i);
r.appendChild(this.CF.i);y.aR(r);r.appendChild(this.f3.i);this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);
r.appendChild(this.pQ.i);this.X("closebtn",this.ajB,this)}jg.prototype=new hE;jg.prototype.uf=function(r,j){return r!=null};
jg.prototype.Oj=function(){return!0};jg.prototype.h=function(){hE.prototype.h.call(this);this.eu.h();
this.f3.h();this.CF.h()};jg.prototype.Wf=function(r,j){var D=r.Ar.Q5;this.xY.Ar.Q5=D;this.CF.l(D)};jg.prototype.PV=function(r,j){this.up=r;
this.Lw=JSON.stringify(r.Yd());this._6()};jg.prototype._6=function(){var r=this.up,j=r.Pc,D=function(N,b,r,Y,x){var C=[];
for(var P=0;P<N.length;P++)if(N[P][0]==b)C.push(R.DA.m2(N[P][1],r.TB,Y,x));return C.join(", ")};this.eu.l(D(j,0,r,this.xY,r.d));
this.f3.l(D(j,1,r,this.xY,r.r))};jg.prototype.S_=function(r){if(r&&r.currentTarget==this.CF)this.xY.Ar.Q5=this.CF.A();
else{var j=this.a3U(),D=this.up;D.Er(j);D.yn=!0}this._6()};jg.prototype.a3U=function(){var r=[],j=[];
for(var D=0;D<2;D++){var N=D==0?this.eu:this.f3,b=D==0?this.up.d:this.up.r,Y=N.A().replace(/,/g," ").replace(/  +/g," ").trim(),x=Y==""?[]:Y.split(" ");
for(var P=0;P<x.length;P++){r.push([D,R.DA.af9(x[P],this.up.TB,this.xY,b)]);j.push(-1)}}return[r,j]};
jg.prototype.ajB=function(r){var j=this.up;j.Er(JSON.parse(this.Lw));j.yn=!0;this.up=null};jg.prototype.oH=function(r){this.S_(r);
var j=new iu(y.E.w,!0);j.k=I.t3;j.data={e:"gids",T1:JSON.parse(this.Lw),Yw:this.up.Yd()};this.up=null;
this.close();this.g(j)};function eM(r){var j=ij.names[r];if(j==null)j=cz.names[r];if(r=="aply")j="Apply Image";
if(r=="fade")j=[2,11];if(r=="blendOptions")j=[14,10];hE.call(this,j,"afw_"+r);this.fJ=r;this.mI=null;
this.vn=null;this.NW=new k[r];this.NW.X(y.E.Y,this.Td,this);this.NW.parent=this;this.body.appendChild(this.NW.i);
this.OB=new b1([24,18,5]);this.OB.l(!0);this.OB.X(y.E.Y,this.Td,this);this.Xq=new iH("Reset",!0,null,!0);
this.Xq.X("click",this.jJ,this);this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);if(this.YT())this.NW.cw(this.pQ.i);
else{y.ui(this.NW.i,"form");y.ui(this.body,"flexrow");this.NW.i.setAttribute("style","width:24em");var D=y.C("div");
this.body.appendChild(D);D.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");D.appendChild(this.pQ.i);
D.appendChild(this.Xq.i);D.appendChild(this.OB.i)}this.X("closebtn",this.un,this)}eM.prototype=new hE;
eM.prototype.Oj=function(){return!0};eM.prototype.YT=function(){return this.NW!=null&&this.NW.MA()};
eM.prototype.sM=function(){return this.YT()?new gJ(0,0):hE.prototype.sM()};eM.prototype.bY=function(){return this.NW.bY()};
eM.prototype.xR=function(r,j,D,N,b){this.NW.xR(r,j,D,N,b)};eM.prototype.Vt=function(r,j,D,N,b){this.NW.Vt(r,j,D,N,b)};
eM.prototype.rE=function(r,j,D,N,b){this.NW.rE(r,j,D,N,b)};eM.prototype.uf=function(r,j){if(this.fJ=="fade")return eM.ar4(r);
return!0};eM.prototype.jJ=function(r){this.NW.l(ij.nY(this.fJ));this.Td()};eM.prototype.Td=function(r){this.MJ({e:"edit",sr:this.NW.A(),A6:!this.OB.A()})};
eM.prototype.un=function(r){this.MJ({e:"cancel"})};eM.prototype.oH=function(r){if(!this.OB.A()){this.OB.l(!0);
this.Td()}this.vn=this.NW.A();if(this.YT())this.Td();this.MJ({e:"confirm"});this.close()};eM.prototype.h=function(){hE.prototype.h.call(this);
this.OB.h();if(this.NW)this.NW.h()};eM.prototype.Wf=function(r,j){if(this.NW)this.NW.Wf(r,j)};eM.prototype.Uc=function(r,j,D,N){if(this.YT())this.NW.Uc(N);
else hE.prototype.Uc.call(this,r,j,D,N)};eM.prototype.PV=function(r,j,D,N){this.mI=j.mI;var b=r.add.lnk2?r.add.lnk2:[],Y,x,C=new bf(0,0,r.d,r.r),w=r.j[r.R[0]],q=null;
Y=w.buffer;x=w.rect;if(this.YT())q=r.Ez(r.R[0]-1);var u=ij.nY(this.fJ),h=[b,r.c9,r];if(j.mI==null){this.NW.l(u,Y,x,C,q,h);
if(cz.names[this.fJ]){if(N.o(e4.YV)&&this.vn)this.NW.l(this.vn);var z=f1.s2.getData(r),O=R.mb(z[0].ix);
this.NW.yf(O)}}else{var g=!1,w=r.j[this.mI.n];if(w.ri()){var t=w.dw(r);Y=t.buffer;x=t.rect;var $=w.add.SoLd.filterFX.v.filterFXList.v;
if($[this.mI.index]){var i=$[this.mI.index].v;this.NW.l(this.fJ=="blendOptions"?i.blendOptions.v:i.Fltr.v,Y,x,C,q,h);
this.NW.yf(R.mb(Y));g=!0}}if(!g){this.NW.l(u,Y,x,C,q,h);this.NW.yf(R.mb(Y))}}if(!this.YT())this.Td()};
eM.prototype.MJ=function(r){var j=new iu(y.E.w,!0);r.fJ=this.fJ;r.mI=this.mI;j.data=r;j.k=ij.names[this.fJ]||this.mI?I.MK:I.tJ;
j.bJ=!0;this.g(j)};eM.prototype.kt=function(r,j){if(!this.NW.MA()){j=j-26;r=r-26}else this.body.style.padding="0";
this.NW.kt(r,j)};eM.ar4=function(r){if(r==null)return!1;var j=r.Nt();if(j==null||!(j.data instanceof Array)||j.data.length!=r.R.length)return!1;
for(var P=0;P<j.data.length;P++){var D=j.data[P];if(D.n<0&&r.c9[-1-D.n])return!0;if(D.n==null||r.j[D.n]==null||r.j[D.n].Cz!=D.V2)return!1;
if(r.R.indexOf(D.n)==-1)return!1}return!0};function bt(){hE.call(this,[11,0],"camera");this.data=null;
this.j0=new gJ(1,1);this.aeM=[];var r=y.C("div","form hbar");this.body.appendChild(r);this.ajU=new fk(null,[]);
this.Ql=new fk([21,0],[[21,2],[21,1]]);r.appendChild(this.Ql.i);this.TM=new fk(null,[]);this.TM.X(y.E.Y,this.a9t,this);
r.appendChild(this.TM.i);this.Mz=new iH([11,0],!1,null,!0);this.Mz.X("click",this.anV,this);r.appendChild(this.Mz.i);
this.PW=new aL("");r.appendChild(this.PW.i);this.stream=null;this.jk=y.C("video","");this.jk.setAttribute("autoplay","true");
this.body.appendChild(this.jk);this.a9A=this.a5q.bind(this);this.a2a=this.aps.bind(this);this.al8=this.ahP.bind(this);
this.X("closebtn",this.a2v,this)}bt.prototype=new hE;bt.prototype.h=function(){hE.prototype.h.call(this);
this.Ql.h();this.Mz.h();this.kt(this.oW,this.qg)};bt.prototype.Ez=function(){var r=this.jk.videoWidth,j=this.jk.videoHeight,D=y.C("canvas","");
D.width=r;D.height=j;var N=D.getContext("2d");N.drawImage(this.jk,0,0,r,j);var b=N.getImageData(0,0,r,j);
return{Yn:new bf(0,0,r,j),data:b.data.buffer}};bt.prototype.anV=function(r){if(this.Ql.A()==0)this.alR();
else this.a5y()};bt.prototype.a5y=function(){var r=this.Ez(),j={buffer:new Uint8Array(r.data),rect:r.Yn},D=new iu(y.E.w,!0);
D.bJ=!0;D.k=I.C5;D.data={e:G.gX,ao:j};this.g(D);alert(e9.get([21,4]))};bt.prototype.alR=function(){var r=this.Ez(),j=aP.EI("camera",[r]),D=new iu(y.E.V,!0);
D.data={e:y.G.uk,AN:j};this.g(D);alert(e9.get([21,5]))};bt.prototype.PV=function(r,j,D){navigator.mediaDevices.enumerateDevices().then(this.acH.bind(this))};
bt.prototype.acH=function(r){var j=this.aeM=[],D=[];for(var P=0;P<r.length;P++)if(r[P].kind=="videoinput"){j.push(r[P]);
D.push("Camera "+j.length)}this.TM.Sf(D);this.TM.l(0);this.a9t()};bt.prototype.a9t=function(r){this.a2v();
var j={video:{deviceId:this.aeM[this.TM.A()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(j).then(this.a9A).catch(this.a2a);
else navigator.webkitGetUserMedia(j,this.a9A,this.a2a)};bt.prototype.a5q=function(r){this.stream=r;this.jk.srcObject=r;
this.jk.addEventListener("loadedmetadata",this.al8,!1)};bt.prototype.ahP=function(r){this.jk.play();
this.kt(this.oW,this.qg)};bt.prototype.sM=function(r,j){return new gJ(0,0)};bt.prototype.kt=function(r,j){var D=this.jk.videoWidth,N=this.jk.videoHeight;
this.PW.l(D+" x "+N+" px");this.PW.i.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.j0.Ho(D,N);this.oW=r;this.qg=j;var b=r-28,Y=j-28-30,x=this.j0.x/this.j0.y;if(b/Y>x)b=Y*x;else Y=b/x;
this.jk.setAttribute("style","display: block; width: "+Math.round(b)+"px; height:"+Math.round(Y)+"px;")};
bt.prototype.aps=function(r){console.log("error",r);alert(e9.get([21,6]));this.close()};bt.prototype.a2v=function(r){if(this.stream!=null){var j=this.stream.getTracks();
for(var P=0;P<j.length;P++)j[P].stop();this.stream=null}};function gE(){hE.call(this,[7,8],"crange");
this.up=null;this.sn={lD:73,kD:4.45,M:4};this.tQ={lD:73,kD:4.45,M:4};this.body.style.width="20em";this.Aq=new fk([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.Aq.X(y.E.Y,this.adQ,this);this.body.appendChild(this.Aq.i);this.Tj=y.C("div","form");this.body.appendChild(this.Tj);
var r=this.a9L=2,j=this.An=[new fv([12,92],0,200),new a2([12,36],[[18,0],"\uFF0B","\u2014"]),new fv([12,92],0,100,"%"),new b8("Min",0,255),new b8("Max",0,255)];
j[0].l(40);j[r].l(40);for(var P=0;P<j.length;P++){j[P].X(y.E.Y,this.eE,this);j[P].parent=this}this.s=y.C("canvas");
this.body.appendChild(this.s);this.I9=new iH("OK",!0,null,!0);this.I9.X("click",this.oH,this);this.body.appendChild(this.I9.i)}gE.prototype=new hE;
gE.prototype.uf=function(r,j){return r!=null};gE.prototype.bY=function(){return!0};gE.prototype.Oj=function(){return!0};
gE.prototype.adQ=function(r){var j=this.Aq.A(),D=this.An,N=this.Tj,b=0,Y=D.length,x=this.a9L;if(j==0)Y=x;
else{b=x;D[b+1].l([0,100,190][j-1]);D[b+1].b3(j!=1);D[b+2].l([60,150,255][j-1]);D[b+2].b3(j!=3)}y.Su(N);
for(var P=b;P<Y;P++){N.appendChild(D[P].i)}this.eE()};gE.prototype.h=function(){hE.prototype.h.call(this);
this.Aq.h();for(var P=0;P<this.An.length;P++)this.An[P].h()};gE.prototype.xR=function(r,j,D,N,b){var Y=r.z.K$(b.x,b.y);
this.abJ(Y.x,Y.y)};gE.prototype.abJ=function(r,j){var D=Math.min,N=Math.max,b=this.up,Y=N(0,D(b.d-1,Math.floor(r))),x=N(0,D(b.r-1,Math.floor(j))),C=b.Ez(),w=(x*b.d+Y)*4,q=C[w],u=C[w+1],h=C[w+2],z=R.WS(q,u,h),O=this.An[1].A(),g=this.sn,t=this.tQ;
if(O==0){this.sn=JSON.parse(JSON.stringify(z));this.tQ=z}else if(O==1){g.lD=D(g.lD,z.lD);g.kD=D(g.kD,z.kD);
g.M=D(g.M,z.M);t.lD=N(t.lD,z.lD);t.kD=N(t.kD,z.kD);t.M=N(t.M,z.M)}else if(O==2){var $=(g.lD+t.lD)/2,i=(g.kD+t.kD)/2,A=(g.M+t.M)/2;
if(z.lD<$)g.lD=N(g.lD,z.lD+10);else t.lD=D(t.lD,z.lD-10);if(z.kD<i)g.kD=N(g.kD,z.kD+1);else t.kD=D(t.kD,z.kD-1);
if(z.M<A)g.M=N(g.M,z.M+1);else t.M=D(t.M,z.M-1)}this.eE()};gE.prototype.oH=function(r){var j=this.Aq.A(),D=this.An,N={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(j==0){var b=this.sn,Y=this.tQ;N.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:b.lD},A:{t:"doub",v:b.kD},B:{t:"doub",v:b.M}}};
N.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Y.lD},A:{t:"doub",v:Y.kD},B:{t:"doub",v:Y.M}}};N.Fzns={t:"long",v:D[0].A()}}else{j--;
var x=["shadows","midtones","highlights"][j];N.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][j]}};if(0<j)N[x+"LowerLimit"]={t:"long",v:D[3].A()};
if(j<2)N[x+"UpperLimit"]={t:"long",v:D[4].A()};N[x+"Fuzziness"]={t:"long",v:D[2].A()}}this.close();var C=new iu(y.E.PN,!0);
C.data={sv:"colorRange",Q4:N};this.g(C)};gE.prototype.PV=function(r,j){this.up=r;this.abJ(0,0);this.adQ()};
gE.prototype.eE=function(){var r=this.up,j=this.Aq.A(),D=this.sn,N=this.tQ,b=this.An,Y=b[0].A()/200,x=!1;
if(j>0){D=b[3].A();N=b[4].A();if(D>=N)D=N-1;x=!0;Y=b[2].A()/100}var C=I.Vm.Kh(r,D,N,Y,x),w=C.rect,q=C.channel,u=this.s,h=u.getContext("2d"),z=Math.floor(230*y.f()),O=Math.floor(z*(w.r/w.d));
u.width=z;u.height=O;y.tv(u,z,O);var g=R.O(q.length*4);R.mh(g,4294967295);for(var P=0;P<3;P++)R.zQ(q,g,P);
var t=I.T.Kn([g,w],new j9(z/w.d,0,0,O/w.r,0,0)),$=t.rect,i=new ImageData(new Uint8ClampedArray(t.buffer.buffer),$.d,$.r);
h.putImageData(i,0,0)};function a$(){hE.call(this,[12,76,1],"createshape");this.D7=null;var r=y.C("div","form");
r.setAttribute("style","width:20em");this.body.appendChild(r);this.Eu=new b8([12,41],0,0,null,0,!1,!0);
r.appendChild(this.Eu.i);y.aR(r);this.eu=new b8([12,42],0,0,null,0,!1,!0);r.appendChild(this.eu.i);y.aR(r);
this.e6=new b1([19,5,3]);r.appendChild(this.e6.i);this.Eu.l(100);this.eu.l(100);this.pQ=new iH("OK",!0,null,!0);
this.pQ.X("click",this.oH,this);r.appendChild(this.pQ.i)}a$.prototype=new hE;a$.prototype.oH=function(r){this.D7.a0a(this.D7.akb,this.Eu.A(),this.eu.A(),this.e6.A());
this.close()};a$.prototype.h=function(){if(this.D7)this.g_=e9.get([5,3])+": "+e9.get(this.D7.agL);hE.prototype.h.call(this);
this.Eu.h();this.eu.h();this.e6.h()};a$.prototype.PV=function(r,j){this.D7=j;this.h()};function dS(){hE.call(this,[11,1],"colorpicker");
this.ku=null;this.Cm=null;this.aw=null;this.Dl=!1;this.GS=!1;var r=y.C("div","flexrow"),Y,x;this.body.appendChild(r);
this.WE=new fJ(256);this.WE.X(y.E.Y,this.Pn,this);r.appendChild(this.WE.i);var j=y.C("div","form");j.setAttribute("style","width:14.5em; margin-left:1em;");
r.appendChild(j);this.agp=y.C("div","full");j.appendChild(this.agp);this.a3E=y.C("div","full");j.appendChild(this.a3E);
var D=y.C("div","flexrow");j.appendChild(D);var N=y.C("div"),b=y.C("div");D.appendChild(N);D.appendChild(b);
Y=["R","G","B"];x=N;this.uL=[];for(var P=0;P<3;P++){var C=new b8(Y[P]+":",0,255,null,0,!1,!0);this.uL.push(C);
C.X(y.E.Y,this.afl,this);x.appendChild(C.i)}Y=["H","S","B"];x=b;this.vI=[];for(var P=0;P<3;P++){var w=0,q=360,u="\xB0";
if(P!=0){q=100;u="%"}var C=new b8(Y[P]+":",w,q,u,0,!1,!0);this.vI.push(C);C.X(y.E.Y,this.arK,this);x.appendChild(C.i)}this.eu=new au("Hex",null,6);
this.eu.X(y.E.Y,this.CE,this);j.appendChild(this.eu.i);this.QL=y.C("input","fitem");this.QL.setAttribute("type","color");
this.QL.setAttribute("style","width:50px");this.QL.addEventListener("change",this.CE.bind(this),!1);
j.appendChild(this.QL);this.$k=new aW(9);this.$k.X(y.E.Y,this.CE,this);j.appendChild(this.$k.i);this.pQ=new iH("OK",!0,null,!0);
this.pQ.X("click",this.oH,this);j.appendChild(this.pQ.i);this.X("closebtn",this.un,this);this.iL=!1}dS.prototype=new hE;
dS.prototype.bY=function(){return!0};dS.prototype.sM=function(r,j){return new gJ(Math.max(0,Math.min(150,(r-484)/2)),Math.max(0,Math.min(150,(j-316)/2)))};
dS.prototype.kt=function(r,j){this.WE.kt(Math.min(256,r-226),j)};dS.prototype.Pn=function(r){this.Cm=this.WE.A();
this.update()};dS.prototype.xR=function(r,j,D,N,b){this.iL=!0;this.ah1(r,b)};dS.prototype.Vt=function(r,j,D,N,b){if(!this.iL)return;
this.ah1(r,b)};dS.prototype.rE=function(r,j,D,N,b){this.iL=!1};dS.prototype.ah1=function(r,j){var D=I.dU.Ed(r,j,1),N=D&255,b=D>>8&255,Y=D>>16&255;
this.Cm={a:Y/255,p:b/255,M:N/255};this.update()};dS.prototype.afl=function(r){var j=this.uL,D=this.i5(parseInt(j[0].A())),N=this.i5(parseInt(j[1].A())),b=this.i5(parseInt(j[2].A()));
this.Cm={a:D/255,p:N/255,M:b/255};this.update()};dS.prototype.arK=function(r){var j=this.vI,D=this.KN(parseInt(j[0].A())/360),N=this.KN(parseInt(j[1].A())/100),b=this.KN(parseInt(j[2].A())/100);
this.Cm=R.uz(D,N,b);this.update()};dS.prototype.CE=function(r){var j;if(r.currentTarget==this.$k)j=this.$k.A();
else{j=r.currentTarget==this.eu?this.eu.A():this.QL.value;if(j.charAt(0)=="#")j=j.slice(1);if(j.length==3)j=j[0]+j[0]+j[1]+j[1]+j[2]+j[2];
j=R.mf(j)}this.Cm={a:(j>>16&255)/255,p:(j>>8&255)/255,M:(j&255)/255};this.update()};dS.prototype.ce=function(r){var j=r.a,D=r.p,N=r.M;
return Math.round(j*255)<<16|Math.round(D*255)<<8|Math.round(N*255)};dS.prototype.oH=function(r){this.ah4();
var j=this.ce(this.Cm);this.aw(j);this.close();this.GS=!1;this.Cm=null};dS.prototype.un=function(r){this.ah4();
if(this.Dl)this.aw(this.ce(this.ku));this.GS=!1;this.Cm=null};dS.prototype.ah4=function(r){var j=new iu(y.E.V,!0);
j.data={e:y.G.a9y};this.g(j)};dS.prototype.Wf=function(r,j){if(j!=e5.pN)return;var D=r.xg;this.$k.l(D);
if(this.Cm!=null){this.Cm={a:(D>>16&255)/255,p:(D>>8&255)/255,M:(D>>0&255)/255};this.update()}};dS.prototype.PV=function(r,j){var D=j.h_,N={a:(D>>16&255)/255,p:(D>>8&255)/255,M:(D>>0&255)/255};
if(this.Cm==null){var b=new iu(y.E.V,!0);b.data={e:y.G.C9,EA:"crosshair",push:!0};this.g(b);this.iL=!1;
this.aw=j.PK;this.Dl=!1;this.GS=j.d6;this.ku=JSON.parse(JSON.stringify(N));this.a3E.setAttribute("style","height:3em;background-color:#"+R.Za(D)+";")}this.Cm=N;
this.update()};dS.prototype.update=function(){var r=this.Cm,j=this.ce(r),D=this.uL;D[0].l(Math.round(r.a*255));
D[1].l(Math.round(r.p*255));D[2].l(Math.round(r.M*255));this.eu.l(R.Za(j));this.QL.value="#"+R.Za(j);
this.agp.setAttribute("style","height:3em;background-color:#"+R.Za(j)+";");var N=R.d$(r.a,r.p,r.M);D=this.vI;
D[0].l(Math.round(N.qg*360));D[1].l(Math.round(N.z1*100));D[2].l(Math.round(N.sr*100));this.WE.l(r);
if(this.GS){this.aw(this.ce(this.Cm));this.Dl=!0}};dS.prototype.i5=function(r){return Math.max(0,Math.min(255,r))};
dS.prototype.KN=function(r){return Math.max(0,Math.min(1,r))};function f9(){hE.call(this,[11,2],"contoureditor");
this.aj3=null;this.o4=null;this.response=null;this.RI=y.C("div","cell");this.body.appendChild(this.RI);
this.Bk=y.C("div","cell padded");this.body.appendChild(this.Bk);var r=y.C("div","bordered padded vmargin");
this.RI.appendChild(r);this.NW=new cr;this.NW.X(y.E.Y,this.CN,this);r.appendChild(this.NW.i);this.pQ=new iH("OK",!0,null,!0);
this.pQ.X("click",this.close,this);this.Bk.appendChild(this.pQ.i);this.coords=y.C("div","");this.coords.setAttribute("style","width:250px");
this.RI.appendChild(this.coords);this.y5=new au("X (in)","%",4);this.M_=new au("Y (out)","%",4);this.sH=new b1([19,3,0]);
this.y5.X(y.E.Y,this.QT,this);this.M_.X(y.E.Y,this.QT,this);this.sH.X(y.E.Y,this.QT,this);this.coords.appendChild(this.y5.i);
this.coords.appendChild(this.sH.i);this.coords.appendChild(this.M_.i);this.X("closebtn",this.Wp,this)}f9.prototype=new hE;
f9.prototype.h=function(){hE.prototype.h.call(this);this.sH.h()};f9.prototype.CN=function(r){this.o4.Crv.v=this.NW.A();
this.response(this.o4);this.H5()};f9.prototype.Wp=function(r){this.response(this.aj3)};f9.prototype.PV=function(r,j){this.aj3=JSON.parse(JSON.stringify(j.lk));
this.o4=j.lk;this.response=j.response;this.NW.l(this.o4.Crv.v);this.H5()};f9.prototype.H5=function(){var P=this.NW.acU();
this.coords.setAttribute("class",P==-1?"disabled":"");if(P==-1)return;var r=this.o4.Crv.v[P].v;this.y5.l(Math.round(r.Hrzn.v*(100/255)));
this.M_.l(Math.round(r.Vrtc.v*(100/255)));this.sH.l(r.Cnty.v)};f9.prototype.QT=function(r){var P=this.NW.acU(),j=this.o4.Crv.v[P];
j.v.Hrzn.v=parseFloat(this.y5.A())*(255/100);j.v.Vrtc.v=parseFloat(this.M_.A())*(255/100);j.v.Cnty.v=this.sH.A();
this.o4.Crv.v.sort(function(D,N){return D.v.Hrzn.v-N.v.Hrzn.v});this.NW.l(this.o4.Crv.v,this.o4.Crv.v.indexOf(j));
this.H5();this.response(this.o4)};function bX(){hE.call(this,[11,3],"csize");this.vH=0;this.z9=y.C("div","form");
this.z9.setAttribute("style","width:22em");this.body.appendChild(this.z9);this.RT=new bE(!0,!0,!0,!0);
this.RT.a1s(!1);this.z9.appendChild(this.RT.i);this.Lk=new a2("Align with",[[8,7],[12,6]]);this.Lk.X(y.E.Y,this.afM,this);
this.fH=new am([12,23,2],41);this.z9.appendChild(this.fH.i);this.fH.l(4);this.Jb=new eg(!1);this.Jb.a2K(new gJ(0,0));
this.I9=new iH("OK",!0,null,!0);this.I9.X("click",this.oH,this);this.body.appendChild(this.I9.i)}bX.prototype=new hE;
bX.prototype.uf=function(r,j){return r!=null};bX.prototype.Oj=function(){return!0};bX.prototype.afM=function(){var r=[this.fH.i,this.Jb.i];
this.z9.removeChild(r[this.vH]);this.vH=this.Lk.A();this.z9.appendChild(r[this.vH])};bX.prototype.h=function(){hE.prototype.h.call(this);
this.RT.h();this.Lk.h();this.fH.h();this.Jb.h()};bX.prototype.oH=function(r){var j=this.RT.A(),D=j.x,N=j.y,b=new iu(y.E.PN,!0);
b.data=I.rh.uX(D,N,this.fH.A());this.close();this.g(b)};bX.prototype.PV=function(r,j){this.RT.l(new gJ(r.d,r.r),r.TB)};
function du(){hE.call(this,[11,4],"duplinto");this.WW=null;this.wa=null;this.qk=null;var r=y.C("div","form");
r.setAttribute("style","max-width:26em");this.body.appendChild(r);this.f$=new fk([12,43],["abc","def"]);
this.f$.X(y.E.Y,this.h1,this);r.appendChild(this.f$.i);y.aR(r);this.ZR=new fk("Artboard",["abc","def"]);
this.ZR.X(y.E.Y,this.h1,this);r.appendChild(this.ZR.i);y.aR(r);this.G6=new au([12,48],null,14);r.appendChild(this.G6.i);
this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);r.appendChild(this.pQ.i)}du.prototype=new hE;
du.prototype.Oj=function(){return!0};du.prototype.h=function(){hE.prototype.h.call(this);this.f$.h();
this.G6.h()};du.prototype.h1=function(r){if(r&&r.target==this.ZR)return;var j=this.f$.A(),D=this.wa[j],N=this.WW,b=D!=null&&D.add.artd!=null;
for(var P=0;P<N.R.length;P++)if(N.j[N.R[P]].add.artb)b=!1;this.G6.b3(j==this.wa.length);this.ZR.b3(b);
if(b){var Y=D.root.children,x=[],C=this.qk=[];for(var P=0;P<Y.length;P++){var w=Y[P].n;if(w.add.artb)x.push(w.getName());
C.push(Y[P].index)}this.ZR.Sf(x);this.ZR.l(0)}else this.qk=null};du.prototype.PV=function(r,j,D){this.WW=r;
this.wa=D;this.G6.l(r.R.length==0?"Layer":r.j[r.R[0]].getName());var N=[];for(var P=0;P<D.length;P++)N.push(D[P].name);
N.push([11,7]);this.f$.Sf(N);this.f$.l(D.indexOf(r));this.h1(null)};du.prototype.oH=function(r){var j=this.f$.A();
if(j==this.wa.length){var D=new dl(this.G6.A()+".psd"),N=this.WW.d,b=this.WW.r,Y=this.WW.sg();if(Y!=-1){var x=this.WW.j[Y].tT();
N=x.d;b=x.r}D.d=N;D.r=b;D.buffer=R.O(D.d*D.r*4);var C=D.Xp();C.Lp("Background");D.HQ([C]);var w=new iu(y.E.V,!0);
w.bJ=!0;w.data={e:y.G.uk,AN:D};this.g(w)}var q=this.WW.w9(null,this.WW!=this.wa[j]),w=new iu(y.E.w,!0);
w.data={e:G.Ai,j:q,lp:this.WW,qa:this.wa[j]};if(this.qk)w.data.VB=this.qk[this.ZR.A()];w.k=I.C5;w.bJ=!0;
this.g(w);this.close()};function aw(){hE.call(this,[1,9],"eassets");this.xY=null;this.tR=null;var r=y.C("div","form");
r.setAttribute("style","width:32em");this.body.appendChild(r);this.lT=y.C("span");r.appendChild(this.lT);
y.aR(r);this.te=[new b1("Only layers / folders, whose name starts with \"-e-\""),new b1("Remove parts outside the canvas"),new b1("Trim transparent parts")];
for(var P=0;P<3;P++){var j=this.te[P];j.l(!0);j.X(y.E.Y,this._6,this);r.appendChild(j.i);y.aR(r)}this.XA=new a8([12,14,0],["1x","2x","3x","4x"]);
this.XA.l([!0,!1,!1,!1]);r.appendChild(this.XA.i);y.PM(r);this.j6=["PNG","JPG","SVG"];this.Aa=new fk([12,50],this.j6);
this.Aa.X(y.E.Y,this.a8g,this);r.appendChild(this.Aa.i);this.VU=new gh;r.appendChild(this.VU.i);this.I9=new iH([1,9],!0,null,!0);
this.I9.X("click",this.oH,this);r.appendChild(this.I9.i);this.X("closebtn",this.fX,this)}aw.prototype=new hE;
aw.prototype.a8g=function(r){this.VU.at6(this.j6[this.Aa.A()])};aw.prototype.fX=function(r){this.tR=null};
aw.prototype.h=function(){hE.prototype.h.call(this);this.Aa.h();this.XA.h();this.I9.h();this.VU.h()};
aw.prototype.PV=function(r,j,D){this.tR=r;this._6()};aw.prototype._6=function(r){var j=this.ahI(),D="- - - "+j.length+" exportable layers";
this.lT.textContent=D;this.a8g(null)};aw.prototype.ahI=function(){var r=this.te[0].A(),j=[],D=this.tR;
for(var P=0;P<D.j.length;P++){var N=D.j[P],b=N.getName();if(!r&&!N.iO()&&!N.rect.jE()||b.startsWith("-e"))j.push(P)}return j};
aw.prototype.Wf=function(r,j){this.xY=r};aw.prototype.oH=function(r){var j=this.tR,D=[this.j6[this.Aa.A()]],N=[this.VU.A()],b=this.XA.A(),Y={},x={},C=this.ahI();
if(C.length==0){alert("No layers to export.");return}var w=[this.te[1].A(),this.te[2].A()];for(var P=0;
P<C.length;P++){var q=C[P],u=j.j[q],h=u.getName();if(x[h]!=null){x[h]++;h+=" "+x[h]}else x[h]=1;var z=u.Xy();
u.yE(!0);for(var O=0;O<b.length;O++){if(!b[O])continue;var g=O+1,t=I.w8.el(j,D,g,this.xY,q,N,w);for(var $=0;
$<D.length;$++){var i=D[$],A=h.slice(h.startsWith("-e-")?3:0)+(g==1?"":"-"+g+"x")+"."+i.toLowerCase();
if(t[$])Y[A]=new Uint8Array(t[$])}}u.yE(z)}var H=UZIP.encode(Y),F=new iu(y.E.V,!0);F.data={e:y.G.Ga,data:H,name:"assets.zip"};
this.g(F)};function aj(){hE.call(this,"Export Color Lookup Tables","exlut");this.xY=null;this.tR=null;
var r=y.C("div","form");r.setAttribute("style","width:20em");this.body.appendChild(r);this.te=[new b8("Grid Points",1,256),new a2([12,50],[".CUBE"])];
var j=[16,0];for(var P=0;P<this.te.length;P++){var D=this.te[P];D.l(j[P]);D.parent=this;D.X(y.E.Y,this._6,this);
r.appendChild(D.i);y.aR(r)}this.I9=new iH("OK",!0,null,!0);this.I9.X("click",this.oH,this);r.appendChild(this.I9.i);
this.X("closebtn",this.fX,this)}aj.prototype=new hE;aj.prototype.uf=function(r,j){if(Math.min(r.d,r.r)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(r.j.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};aj.prototype.fX=function(r){this.tR=null};aj.prototype.Wf=function(r,j){this.xY=r};
aj.prototype.PV=function(r,j,D){this.tR=r};aj.prototype.oH=function(){var r=this.tR,j=this.te[0].A(),D=[],N=new bf(0,0,r.d,r.r),b=R.O(j*j*4),Y=b.slice(0),x=new bf(r.d-j>>>1,r.r-j>>>1,j,j),C=r.j[0],w=C.buffer,q=C.rect;
C.rect=x;C.buffer=b;for(var u=0;u<j;u++){this.a8d(j,u,b);C.P(x);r.P(x);var h=r.Ez();R.UB(h,N,Y,x);for(var z=0;
z<j;z++)for(var O=0;O<j;O++){var g=z*j+O<<2;D.push(Y[g]/255,Y[g+1]/255,Y[g+2]/255)}}var t=eI.ak1(D,j,r.name);
hs.save(t,r.name.split(".")[0]+".CUBE");C.buffer=w;C.rect=q;C.P();r.P()};aj.prototype.a8d=function(r,j,D){var N=255/(r-1),b=Math.round(j*N);
for(var Y=0;Y<r;Y++)for(var x=0;x<r;x++){var C=Y*r+x<<2;D[C]=Math.round(x*N);D[C+1]=Math.round(Y*N);
D[C+2]=b;D[C+3]=255}};aj.prototype.h=function(){hE.prototype.h.call(this);for(var P=0;P<this.te.length;
P++)this.te[P].h()};function ci(){hE.call(this,[1,14],"finfo");this.Xn=null;this.Jp=null;this.oG=null;
this.z9=y.C("div","form scrollable label12");this.z9.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.z9);var r=y.C("div","form");this.body.appendChild(r);this.e$=new fk(null,["Hello"]);
r.appendChild(this.e$.i);this.aex=new iH("Add Parameter",!1,null,!0);r.appendChild(this.aex.i);this.aex.X("click",this.vW,this);
this.NQ=new iH("=== S A V E ===",!1,null,!0);r.appendChild(this.NQ.i);this.NQ.X("click",this.Z8,this);
this.ae4=""}ci.prototype=new hE;ci.prototype.sM=function(r,j){return r<450||j<450?new gJ(0,0):new gJ(150,100)};
ci.prototype.vW=function(r){if(this.oG.length==0)return;var j=this.oG[this.e$.A()],D=this.OS();D[j]=ho.OZ[j][0];
this.AX(D);this.Jp[j].i.scrollIntoView();this.Jp[j].NK()};ci.prototype.YI=function(r){var j=this.OS();
delete j[r.currentTarget.acE];this.AX(j)};ci.prototype.Z8=function(r){var j=this.OS(),D=this.Xn,N=!0;
for(var b in D)if(JSON.stringify(D[b])!=JSON.stringify(j[b]))N=!1;for(var b in j)if(JSON.stringify(D[b])!=JSON.stringify(j[b]))N=!1;
if(N)return;var Y=new iu(y.E.w,!0);Y.k=I.C5;Y.data={e:G.CJ,ZJ:j};this.g(Y);this.Xn=j;this.AX(j)};ci.aeV=function(r){function j(b){var Y=b.toLowerCase();
return b==Y}var D=r.split(":").pop();for(var N=1;N<D.length-1;N++){if(D[N]==D[N].toUpperCase()&&(j(D[N+1])||j(D[N-1]))){D=D.slice(0,N)+" "+D.slice(N);
N++}}return D};ci.prototype.PV=function(r,j){this.Xn=r.y6;this.AX(r.y6)};ci.prototype.AX=function(r){var j=this.z9,b=0;
y.Su(j);var D=this.Jp={},N=["tiff","exif","exif:GPS"],Y=this.oG=[],x=[];for(var C in ho.OZ){var w=ci.aeV(C),q=0,u=15,h=null;
if(r[C]==null){Y.push(C);x.push(w);continue}for(var P=0;P<N.length;P++)if(C.startsWith(N[P]))q=P;if(q!=b){y.PM(j);
b=q}if(C=="tiff:ImageDescription"||C=="dc:Keywords"){u=18.5;h=3}var z=new au(w,null,u,h);D[C]=z;var O=r[C];
if(O instanceof Array)O=O[1]==0?"---":O[0]+"/"+O[1];var g=new iH("\u2716",null,e9.get([5,4]));j.appendChild(g.i);
g.X("click",this.YI,this);g.acE=C;z.l(O);j.appendChild(z.i);y.aR(j);if(C=="exif:GPSLongitude"&&r["exif:GPSLatitude"]){this.ae4=ci.a2h(r["exif:GPSLatitude"])+","+ci.a2h(r["exif:GPSLongitude"]);
var t=new iH("Show on map",!1,null,!0);j.appendChild(t.i);y.aR(j);t.X("click",this.a4D,this)}}this.e$.Sf(x);
this.e$.l(0)};ci.prototype.OS=function(){var r=this.Jp,j=ho.OZ,D={};for(var N in j){var b=j[N][0],Y=typeof b;
if(b==null||r[N]==null)continue;var x=r[N].A(),C="The value of \""+ci.aeV(N)+"\" must ";if(Y=="number"){x=parseFloat(x);
if(isNaN(x)){alert(C+"be a number.");x=b}}else if(b instanceof Array&&b.length==2){if(x.indexOf("/")==-1){alert(C+"be a fraction.");
x=b.slice(0)}else{x=x.split("/").map(parseFloat);if(isNaN(x[0])||isNaN(x[1])){x=b.slice(0)}}}D[N]=x}return D};
ci.a2h=function(r){var j=r.length,D=r.slice(0,j-1).split(",").map(parseFloat),N=r.slice(j-1),b=D[0]+D[1]/60+D[2]/3600;
if(N!="N"&&N!="E")b=-b;return b};ci.prototype.a4D=function(r){window.open("https://maps.google.com?q="+this.ae4,"Map")};
function hB(){hE.call(this,[11,5],"gradienteditor");this.ku=null;this.Cm=null;this.s5=null;this.aw=null;
this.Dl=!1;this.GS=!1;y.ui(this.body,"form");this.J3=null;this.oU=null;this.xQ=-1;this.v$=-1;this.A8=0;
this.UI=this.XM.bind(this);this.ij=this.FC.bind(this);this.s=y.C("canvas","");this.AF=this.s.getContext("2d");
this.s.setAttribute("style","display:block");this.Ya=null;y.PO(this.s);y.Wu(this.s,this.cQ.bind(this));
this.MH=new b8([19,3,3],0,100,"%");this.MH.X(y.E.Y,this.iH,this);this.MH.parent=this;this.body.appendChild(this.MH.i);
y.aR(this.body);this.TA=new aL([12,0]);this.body.appendChild(this.TA.i);this.mZ=y.C("div","bordered padded noalign");
this.body.appendChild(this.mZ);this.Wb=new b8([12,0],0,100,"%");this.Wb.parent=this;this.Wb.X(y.E.Y,this.iH,this);
this.mZ.appendChild(this.Wb.i);this.GN=new b8([12,40],0,100,"%");this.GN.parent=this;this.GN.X(y.E.Y,this.iH,this);
this.mZ.appendChild(this.GN.i);this.EM=new iH([5,4],!1,null,!0);this.EM.X("click",this.aev,this);this.mZ.appendChild(this.EM.i);
this.body.appendChild(this.s);y.aR(this.body);this.am1=new aL([13,0]);this.body.appendChild(this.am1.i);
this.ss=y.C("div","bordered padded noalign");this.body.appendChild(this.ss);this.c0=new fk([12,44],[[12,45],[12,46],[12,47]]);
this.c0.X(y.E.Y,this.iH,this);this.ss.appendChild(this.c0.i);this.za=new fe(!0);this.za.parent=this;
this.za.X(y.E.Y,this.iH,this);this.ss.appendChild(this.za.i);this.Cj=new b8([12,40],0,100,"%");this.Cj.parent=this;
this.Cj.X(y.E.Y,this.iH,this);this.ss.appendChild(this.Cj.i);this.kb=new iH([5,4],!1,null,!0);this.kb.X("click",this.arR,this);
this.ss.appendChild(this.kb.i);this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);this.body.appendChild(this.pQ.i);
this.X("closebtn",this.un,this)}hB.prototype=new hE;hB.prototype.un=function(r){if(this.Dl)this.aw(this.ku)};
hB.prototype.h=function(){hE.prototype.h.call(this);this.MH.h();this.TA.h();this.am1.h();this.EM.h();
this.kb.h();this.Wb.h();this.GN.h();this.c0.h();this.Cj.h()};hB.prototype.Wf=function(r,j){this.s5=r};
hB.prototype.PV=function(r,j){this.Cm=JSON.parse(JSON.stringify(j._));this.ku=JSON.parse(JSON.stringify(j._));
this.J3=this.oU=null;this.aw=j.PK;this.Dl=!1;this.GS=j.d6;this.sT();this.XP()};hB.prototype.oH=function(r){var j=this.Cm;
this.aw(j);this.close()};hB.prototype.IT=function(r){return r==e4.rb||r==e4.SP};hB.prototype.Uc=function(r,j,D,N){if(N.o(e4.rb)||N.o(e4.SP)){if(this.oU)this.aev();
if(this.J3)this.arR()}};hB.prototype.aev=function(r){var j=this.Cm.Trns.v;if(this.oU==null||j.length==1)return;
j.splice(j.indexOf(this.oU),1);this.oU=null;this.sT();this.XP()};hB.prototype.arR=function(r){var j=this.Cm.Clrs.v;
if(this.J3==null||j.length==1)return;j.splice(j.indexOf(this.J3),1);this.J3=null;this.sT();this.XP()};
hB.prototype.sT=function(){var r=this.s,j=this.AF,D=y.f();r.width=Math.floor(410*D);r.height=Math.floor(90*D);
y.tv(r,r.width,r.height);this.Ya=new bf(0,0,Math.floor(380*D),Math.floor(32*D));this.Ya.x=Math.floor((r.width-this.Ya.d)/2);
this.Ya.y=Math.floor((r.height-this.Ya.r)/2);var N=this.Ya,b=N.d,Y=N.r,x=N.x,C=N.y,w=new bf(0,0,b,Y),q=j.getImageData(0,0,b,Y),u=new Uint8Array(q.data.buffer);
R._u(u,b,Y,8);var h=R.O(b*Y*4);R._.Jj(this.Cm,h,w,[1/b,0,0,1/Y],b/2,Y/2,!1,0,this.s5.xg,this.s5.mL);
R.U.tI("norm",h,N,u,N,N,1);j.clearRect(0,0,r.width,r.height);j.putImageData(q,x,C);var z=this.Cm.Trns.v,O=this.Cm.Clrs.v,g=R._.Ve(O,this.s5.xg,this.s5.mL),t=Math.round(6*y.f()),$=Math.round(14*y.f()),i=this.oU?this.oU.v:null,A=this.J3?this.J3.v:null;
for(var P=0;P<z.length;P++){var H=z[P].v,F=Math.round(255-255*H.Opct.v.val/100);if((H==i||z[P-1]&&z[P-1].v==i||P==this.v$)&&P!=0){j.fillStyle="#000000";
j.fillRect(x-3+b*(z[P-1].v.Lctn.v+(H.Lctn.v-z[P-1].v.Lctn.v)*H.Mdpn.v/100)/4096,C-6-2,6,6)}if(H==i){j.fillStyle="#ffffff";
j.fillRect(x-t+b*(H.Lctn.v/4096)-2,C-2-$-2,2*t+4,$+4)}j.fillStyle="rgb("+F+","+F+","+F+")";j.fillRect(x-t+b*(H.Lctn.v/4096),C-2-$,2*t,$)}for(var P=0;
P<O.length;P++){var T=O[P].v,_=g[P];if((T==A||O[P-1]&&O[P-1].v==A||P==this.xQ)&&P!=0){j.fillStyle="#000000";
j.fillRect(x-3+b*(O[P-1].v.Lctn.v+(T.Lctn.v-O[P-1].v.Lctn.v)*T.Mdpn.v/100)/4096,C+Y+2,6,6)}if(T==A){j.fillStyle="#ffffff";
j.fillRect(x-t+b*(T.Lctn.v/4096)-2,C+Y+2-2,2*t+4,$+4)}j.fillStyle="rgb("+Math.round(_.a)+", "+Math.round(_.p)+","+Math.round(_.M)+")";
j.fillRect(x-t+b*(T.Lctn.v/4096),C+Y+2,2*t,$)}if(this.GS){this.aw(this.Cm);this.Dl=!0}};hB.prototype.XP=function(){this.MH.l(Math.round(100*this.Cm.Intr.v/4096));
var r=this.Cm.Trns.v,j=this.Cm.Clrs.v,D=this.oU!=null,N=this.v$!=-1;this.Wb.b3(D);this.GN.b3(D||N);this.EM.b3(D);
if(D){this.mZ.setAttribute("style","");var b=this.oU.v;this.GN.l(Math.round(100*b.Lctn.v/4096));this.Wb.l(b.Opct.v.val)}if(N)this.GN.l(r[this.v$].v.Mdpn.v);
var D=this.J3!=null,N=this.xQ!=-1;this.c0.b3(D);this.za.b3(D);this.Cj.b3(D||N);this.kb.b3(D);if(D){this.ss.setAttribute("style","");
var Y=this.J3.v;this.Cj.l(Math.round(100*Y.Lctn.v/4096));var x=Y.Type.v.Clry;this.c0.l(["FrgC","BckC","UsrS"].indexOf(x));
if(x=="FrgC")this.za.Sb(this.s5.xg);if(x=="BckC")this.za.Sb(this.s5.mL);if(x=="UsrS")this.za.l(Y.Clr.v)}if(N)this.Cj.l(j[this.xQ].v.Mdpn.v)};
hB.prototype.iH=function(r){var j=Math.round(4096*this.MH.A()/100);this.Cm.Intr.v=j;var D=this.Cm.Trns.v,N=this.Cm.Clrs.v;
if(this.oU!=null){var b=this.oU.v;b.Lctn.v=Math.round(4096*(this.GN.A()/100));b.Opct.v.val=this.Wb.A()}if(this.J3!=null){var Y=this.J3.v;
Y.Lctn.v=Math.round(4096*(this.Cj.A()/100));if(r.target==this.za)this.c0.l(2);var x=this.c0.A();Y.Type.v.Clry=["FrgC","BckC","UsrS"][x];
if(x==2)Y.Clr={t:"Objc",v:this.za.A()};else if(Y.Clr)delete Y.Clr}if(this.v$!=-1)D[this.v$].v.Mdpn.v=this.GN.A();
if(this.xQ!=-1)N[this.xQ].v.Mdpn.v=this.Cj.A();this.sT()};hB.prototype.cQ=function(r){var j=y.dD(r,this.s),D=this.Ya,N=(j.x*y.f()-D.x)/D.d,b=(j.y*y.f()-D.y)/D.r,Y=this.Cm.Trns.v,x=this.Cm.Clrs.v,C=null,w=null,q=-1,u=-1;
if(b<1)for(var P=0;P<Y.length;P++){var h=Y[P].v;if(Math.abs(h.Lctn.v/4096-N)<.02)C=Y[P];if(P>0)if(Math.abs((Y[P-1].v.Lctn.v+(h.Lctn.v-Y[P-1].v.Lctn.v)*h.Mdpn.v/100)/4096-N)<.01)q=P}if(b>0)for(var P=0;
P<x.length;P++){var z=x[P].v;if(Math.abs(z.Lctn.v/4096-N)<.02)w=x[P];if(P>0)if(Math.abs((x[P-1].v.Lctn.v+(z.Lctn.v-x[P-1].v.Lctn.v)*z.Mdpn.v/100)/4096-N)<.01)u=P}if(w==null&&C==null&&q==-1&&u==-1){if(b<0){var h={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
h.v.Lctn.v=Math.round(N*4096);Y.push(h);Y.sort(this.Gn);C=h}if(b>1){var x=this.Cm.Clrs.v,O=R._.Ve(x,this.s5.xg,this.s5.mL),g=R._.tD(this.Cm,O,N),z={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:R._.XJ({a:g&255,p:g>>8&255,M:g>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
z.v.Lctn.v=Math.round(N*4096);x.push(z);x.sort(this.Gn);w=z}}if(w!=null)u=-1;if(C!=null)q=-1;if(w!=null||C!=null||q>-1||u>-1){this.oU=C;
this.J3=w;this.v$=q;this.xQ=u;this.XP();this.sT();y.sD(window,this.UI);y.B6(window,this.ij)}};hB.prototype.XM=function(r){var j=y.dD(r,this.s),D=this.Ya,N=(j.x*y.f()-D.x)/D.d,b=(j.y*y.f()-D.y)/D.r;
N=Math.max(0,Math.min(1,N));var Y=this.Cm.Trns.v,x=this.Cm.Clrs.v;if(this.oU!=null){var C=this.oU.v;
C.Lctn.v=Math.round(4096*N);var w=Y.indexOf(this.oU);if(w!=-1&&b<-1&&Y.length>1)Y.splice(w,1);if(w==-1&&b>-1)Y.push(this.oU);
Y.sort(this.Gn)}if(this.J3!=null){var q=this.J3.v;q.Lctn.v=Math.round(4096*N);var u=x.indexOf(this.J3);
if(u!=-1&&b>1.5&&x.length>1)x.splice(u,1);if(u==-1&&b<1.5)x.push(this.J3);x.sort(this.Gn)}if(this.v$>-1){var C=Y[this.v$].v;
C.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(N*4096-Y[this.v$-1].v.Lctn.v)/(C.Lctn.v-Y[this.v$-1].v.Lctn.v))))}if(this.xQ>-1){var q=x[this.xQ].v;
q.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(N*4096-x[this.xQ-1].v.Lctn.v)/(q.Lctn.v-x[this.xQ-1].v.Lctn.v))))}if(this.oU!=null||this.J3!=null||this.v$>-1||this.xQ>-1){this.XP();
this.sT()}};hB.prototype.FC=function(r){y.hE(window,this.UI);y.jm(window,this.ij);if(Date.now()-this.A8<300){if(this.xQ!=-1||this.v$!=-1){var j=(this.xQ!=-1?this.Cm.Clrs.v[this.xQ]:this.Cm.Trns.v[this.v$]).v;
j.Mdpn.v=50;this.XP();this.sT()}else if(this.J3!=null)this.za.a4t()}this.A8=Date.now()};hB.prototype.Gn=function(r,j){return r.v.Lctn.v-j.v.Lctn.v};
function cn(){hE.call(this,[11,10],"isize");this.z9=y.C("div","form");this.z9.setAttribute("style","width:20em");
this.body.appendChild(this.z9);this.RT=new bE(!0,!0);this.z9.appendChild(this.RT.i);this.qx=new b1("Resample");
this.qx.l(!0);this.z9.appendChild(this.qx.i);this.qx.X(y.E.Y,this.apD,this);this.vU=new fk([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.vU.l(1);this.z9.appendChild(this.vU.i);this.I9=new iH("OK",!0,null,!0);this.I9.X("click",this.oH,this);
this.body.appendChild(this.I9.i)}cn.prototype=new hE;cn.prototype.uf=function(r,j){return r!=null};cn.prototype.Oj=function(){return!0};
cn.prototype.apD=function(r){var j=this.qx.A(),D=this.RT,N=this.vU;if(j)N.BY();else N.ph();if(j)D.aak();
else D.aaD()};cn.prototype.h=function(){hE.prototype.h.call(this);this.vU.h();this.RT.h()};cn.prototype.oH=function(r){this.close();
var j=this.RT.A(),D=j.x,N=j.y,b=this.vU.A();if(!this.qx.A())b=null;var Y=new iu(y.E.PN,!0);Y.data=I.rh.Im(D,N,this.RT.Hv(),b);
this.g(Y)};cn.prototype.PV=function(r,j){this.RT.l(new gJ(r.d,r.r),r.TB)};function aD(){hE.call(this,"Import RAW","importraw");
var r=y.C("div","flexrow"),j=y.C("div");j.setAttribute("style","margin-bottom: 1em");this.body.appendChild(r);
this.body.appendChild(j);var D=y.C("div","form");D.setAttribute("style","width:18em");r.appendChild(D);
var N=y.C("div","form");N.setAttribute("style","width:15em");r.appendChild(N);this.D7=null;this.a0A=null;
this.w5=null;this.$t=null;this.a9b=[];var b=[];for(var P=0;P<aD.qA.length;P++)b.push(aD.qA[P]+" Bits");
var Y=this.Os=[new bE(!0,null,null,!0),new b8([12,72],1,8),new b1("Last one is Transparency"),new a2([12,34],b),new a2("Byte Order",["12-34","34-12"]),new fk("Guesses",[])];
for(var P=0;P<Y.length;P++){var x=Y[P];x.parent=this;x.X(y.E.Y,P==5?this.abQ:this.h1,this);var C=P==0?D:P==5?j:N;
C.appendChild(x.i)}this.s=y.C("canvas");this.AF=this.s.getContext("2d");this.body.appendChild(this.s);
this.I9=new iH("OK",!0,null,!0);this.I9.X("click",this.oH,this);this.body.appendChild(this.I9.i)}aD.prototype=new hE;
aD.prototype.h=function(){hE.prototype.h.call(this);var r=this.Os;for(var P=0;P<r.length;P++)r[P].h()};
aD.prototype.oH=function(r){this.close();var j=this.Os[0].A(),D=aP.EI(this.a0A,[{data:this.w5,Yn:new bf(0,0,j.x,j.y)}]);
if(this.$t)D.c9=this.$t;var N=new iu(y.E.V,!0);N.data={e:!0?y.G.uk:y.G.fW,AN:D};this.g(N)};aD.qA=[8,16];
aD.prototype.PV=function(r,j){this.D7=new Uint8Array(j.Uw);this.a0A=j.W8;var D=this.D7.length,N=[1,3,4],b=0,Y=0,x=1,C=1,w=this.a9b=[];
for(var q=0;q<3;q++){for(var u=0;u<2;u++){var h=aD.qA[u],z=N[q],O=z*h,g=Math.round(D*8/O);if(g!=D*8/O)continue;
for(var t=0;t<=4e3;t++)for(var $=0;$<=4e3;$++)if(t*$==g){var i=0;if(t==$)i+=64;if(Math.round(t/100)==t/100&&Math.round($/100)==$/100)i+=32;
if(Math.round(t/10)==t/10&&Math.round($/10)==$/10)i+=16;if(Math.round(t/2)==t/2&&Math.round($/2)==$/2)i+=8;
w.push([t,$,z,h,i])}}}var A=function(_,V){if(V[4]!=_[4])return V[4]-_[4];var X=Math.max(_[0],_[1])/Math.min(_[0],_[1]),o=Math.max(V[0],V[1])/Math.min(V[0],V[1]);
if(X!=o)return X-o;return V[0]-_[0]};w.sort(A);var H=this.Os,F=[];for(var P=0;P<w.length;P++){var T=w[P];
F.push(T[0]+" x "+T[1]+", "+T[2]+"ch, "+T[3]+"-bit")}H[5].Sf(F);H[5].l(0);this.abQ(null)};aD.prototype.abQ=function(r){var j=this.Os,D=this.a9b[this.Os[5].A()];
j[0].l(new gJ(D[0],D[1]),72);j[1].l(D[2]);j[3].l(aD.qA.indexOf(D[3]));this.h1()};aD.prototype.h1=function(r){var j=this.Os,D=j[0].A(),N=D.x,b=D.y,Y=aD.qA[j[3].A()],x=this.D7;
if(Y==16&&j[4].A()==1){x=x.slice(0);for(var P=0;P<x.length;P+=2){var C=x[P];x[P]=x[P+1];x[P+1]=C}}var w=this.w5=this.G$(x,N,b,j[1].A(),Y,j[2].A()),q=this.s,u=this.AF,h=[w,new bf(0,0,N,b)];
R.aA(h);for(var P=0;P<h.length;P+=2)if(h[P+1].r<300){w=h[P];N=h[P+1].d;b=h[P+1].r;break}q.width=N;q.height=b;
y.tv(q,N,b);var z=new ImageData(new Uint8ClampedArray(w.buffer),N,b);u.putImageData(z,0,0)};aD.prototype.G$=function(r,j,D,N,b,Y){this.$t=null;
var x=[],C=j*D;for(var w=0;w<N;w++){var q=R.O(C);x.push(q);if(b==8)for(var P=0;P<C;P++)q[P]=r[P*N+w];
else if(b==16)for(var P=0;P<C;P++)q[P]=r[(P*N+w)*2]}var u=R.O(C*4);new Uint32Array(u.buffer).fill(4278190080);
if(Y){R.zQ(x.pop(),u,3);N--}if(N==0){}else if(N==1)R.gx(x[0],u);else{R.zQ(x[0],u,0);R.zQ(x[1],u,1);if(N>2){R.zQ(x[2],u,2);
if(N>3){this.$t=[];for(var P=3;P<N;P++){var h=new G.Jz;h.name="Alpha "+(P-2);h.rect=new bf(0,0,j,D);
h.channel=x[P];this.$t.push(h)}}}}return u};function h5(r,j,D){iI.call(this);this.i=y.C("div","");this.zT=r;
this.sy=null;this.HY=j==null?!1:j;this.hb=null;this.JJ=D;this.j1=[];this.NU=[];this.BZ=[];this.d_=[];
this.z0=0;this.sy=this.acb(h5.d_[r]);this.J1();this.iY=null;this.a1J;this.ajV}h5.prototype=new iI;h5.prototype.xR=function(r,j,D,N,b){this.iY=b;
this.a1J=JSON.parse(JSON.stringify(this.hb));if(this.sy.lagl)this.ajV=this.sy.lagl.A()[0]};h5.prototype.Vt=function(r,j,D,N,b){var Y=this.iY,x=this.zT,C=this.a1J;
if(Y==null)return;var w=(b.x-Y.x)/r.z.S,q=(b.y-Y.y)/r.z.S;if(x=="GrFl"){var u=JSON.parse(JSON.stringify(C.Ofst.v));
u.Hrzn.v.val+=w*.5;u.Vrtc.v.val+=q*.5;this.sy.Ofst.l(u,!0)}if(x=="patternFill"){var u=JSON.parse(JSON.stringify(C.phase.v));
u.Hrzn.v+=w;u.Vrtc.v+=q;this.sy.phase.l(u,!0)}if(x=="DrSh"||x=="IrSh"||x=="ChFX"){var h=C.Dstn.v.val,z=this.ajV.Ir*Math.PI/180,O=-Math.cos(z)*h+w,g=Math.sin(z)*h+q;
this.sy.Dstn.l(Math.sqrt(O*O+g*g),!0);this.sy.lagl.l([Math.atan2(g,-O)*180/Math.PI],!0)}};h5.prototype.rE=function(r,j,D,N,b){this.iY=null};
h5.prototype.a5h=function(){for(var P=0;P<this.d_.length;P++){y.UM(this.d_[P],"selected");if(this.BZ[P]instanceof b1)this.BZ[P].l(!1)}};
h5.prototype.a24=function(r){var j=this.asd.bind(this);for(var P=0;P<this.BZ.length;P++){var D=y.C("div","listitem");
this.d_.push(D);if(P>0)D.textContent="\u2003";D.appendChild(this.BZ[P].i);if(hz.c8.indexOf(this.zT)!=-1){var N=new iH("+");
N.H8();N.i.style.float="right";D.appendChild(N.i);var b=new iH("\u2B0D");b.H8();b.i.style.float="right";
b.i.style["margin-right"]="2px";D.appendChild(b.i)}D.addEventListener("click",j,!1);r.appendChild(D)}};
h5.X7=function(r,j){var D=j.getBoundingClientRect();return(r.clientY-D.top)/D.height};h5.prototype.asd=function(r){var j=r.target.tagName.toLowerCase();
if(j=="input"){return}if(j=="button"){var D=new iu(y.E.w,!0),N=r.target.textContent=="+",b=N?0:h5.X7(r,r.target)<.5?-1:1;
if(N)D.data={e:"st_dupsingle",n:this.parent.data.n,As:this.JJ};else D.data={e:"st_movsingle",n:this.parent.data.n,As:this.JJ,agf:b};
D.k=I.i3;D.bJ=!0;this.g(D);D=new iu("redrawall",!0);D.data={agf:b};this.g(D);return}y.Wp(r);this.nB();
this.z0=this.d_.indexOf(r.currentTarget);this.g(new iu("showme"))};h5.prototype.nB=function(){if(this.sy.enab&&this.sy.enab.A()==!1)this.MJ({fI:"enab",m:!0})};
h5.prototype.a8T=function(){var r=this.d_[this.z0];if(r)y.ui(r,"selected");return this.NU[this.z0]};
h5.prototype.acb=function(r){var j={};for(var P=0;P<r.length;P++){var D=r[P],N=null;if(D=="----")N={i:y.C("hr")};
if(D=="\n")N={i:y.C("br")};if(D=="blOptions")N=new aL([14,10]);if(D=="brst")N=new a8([12,72],["R","G","B"]);
if(D=="knko")N=new fk("Knockout",[[13,1,0],"Shallow","Deep"]);if(D=="enab")N=new b1(hz.names[hz.order.indexOf(this.zT)]);
if(D=="lrMd"||D=="Md")N=new fk([12,19,0],by.OF,!1,by.Mi);if(D=="Opct")N=new bN([12,0],0,100,"%");if(D=="iOpa")N=new bN([12,26],0,100,"%");
if(D=="blIf")N=new gy;if(D=="ShdN")N=new bN([12,68],0,100,"%");if(D=="lagl"||D=="Angl")N=new cf([12,15],this.zT=="ebbl");
if(D=="uglg")N=new b1([12,27]);if(D=="Dstn")N=new bN([12,28],0,200,"px");if(D=="Ckmt")N=new bN([12,29],0,100,"%");
if(D=="blur")N=new bN([12,14,0],0,200,"px");if(D=="TrnS"||D=="MpgS")N=new hY([12,21]);if(D=="Nose")N=new bN([12,30],0,100,"%");
if(D=="layerConceals")N=new b1([12,31]);if(D=="AntA"||D=="antialiasGloss")N=new b1("Anti-alias");if(D=="GlwT")N=new fk([12,32],hz.QO.names);
if(D=="glwS")N=new fk([12,70],hz.QO.akO);if(D=="Inpr")N=new bN([12,12],1,100,"%");if(D=="bvlS")N=new fk([12,22],hz.h5.style);
if(D=="bvlT")N=new fk([12,32],hz.h5.asl);if(D=="bvlD")N=new fk(null,hz.h5.dir);if(D=="srgR")N=new bN([12,34],0,1e3,"%");
if(D=="Sftn")N=new bN([12,35],0,20,"px");if(D=="Lald")N=j.lagl;if(D=="hglM"||D=="sdwM")N=new fk([12,36],by.OF,!1,by.Mi);
if(D=="hglC"||D=="sdwC")N=new fe;if(D=="hglO"||D=="sdwO")N=new bN([12,0],0,100,"%");if(D=="Invr"||D=="InvT")N=new b1([4,11]);
if(D=="Sz")N=new bN([12,14,0],1,200,"px");if(D=="Styl")N=new fk([12,40],hz.stroke.names);if(D=="PntT")N=new fk([12,66],hz.stroke.ahV);
if(D=="Clr")N=new fe(!0);if(D=="Grad"){N=new ak(!0,[12,37],!0);N.l(JSON.parse(hz.i_.gw).v)}if(D=="Rvrs")N=new b1([12,23,0]);
if(D=="Dthr")N=new b1("Dither");if(D=="Type")N=new fk([12,22],hz._.names.slice(0,this.zT=="FrFX"?6:5));
if(D=="Ptrn")N=new b9([12,62]);if(D=="Scl")N=new bN([12,38],10,500,"%",0,!0);if(D=="Algn")N=new b1([12,39]);
if(D=="Ofst")N=new eg(!0);if(D=="phase")N=new eg(!1);if(D=="useShape")N=new b1([12,21]);if(D=="useTexture")N=new b1([12,67]);
if(D=="textureDepth")N=new bN([12,34],-300,300,"%");var b=D=="----"||D=="\n"?D+P:D;if(N!=null)j[b]=N}return j};
h5.prototype.ahr=function(r){var j=this.NU[this.z0];for(var P=0;P<r.length;P++){var D=this.sy[r[P]];
if(D&&j.contains(D.i))j.removeChild(D.i)}};h5.prototype.ani=function(r){var j=this.NU[this.z0];for(var P=0;
P<r.length;P++){var D=this.sy[r[P]];if(D&&!j.contains(D.i))j.appendChild(D.i)}};h5.prototype.Wf=function(r,j){if(this.sy==null)return;
var D=j==e5.Cr;if(this.sy.Grad){this.sy.Grad.Mx(r.xg,r.mL);if(D||j==e5.pN||j==e5.dv)this.sy.Grad.pB(r.$E)}if(this.sy.Ptrn){if(D||j==e5.ag)this.sy.Ptrn.pB(r.o$)}if(this.sy.TrnS){if(D||j==e5.Fe)this.sy.TrnS.pB(r.Ue)}if(this.sy.MpgS){if(D||j==e5.Fe)this.sy.MpgS.pB(r.Ue)}};
h5.prototype.h=function(){for(var P=0;P<this.j1.length;P++)this.j1[P].h();for(var r in this.sy)if(this.sy[r]instanceof iI)this.sy[r].h()};
h5.prototype.J1=function(){for(var r in this.sy){var j=this.sy[r];j.parent=this;if(j instanceof iI)j.X(y.E.Y,this.aiY,this);
if(this.NU.length==0||r=="useShape"||r=="useTexture"){var D=new aL(j.apL()),N=y.C("div","bordered padded");
if(this.HY==!1){N.appendChild(D.i);N.appendChild(y.C("hr",""))}this.j1.push(D);this.NU.push(N);this.BZ.push(j)}else this.NU[this.NU.length-1].appendChild(j.i)}};
h5.prototype.update=function(r,j){if(this.sy==null)return;this.hb=JSON.parse(JSON.stringify(j));for(var D in j){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(D)!=-1)this.sy[D].l(j[D].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(D)!=-1){this.sy[D].l(j[D].v,r)}if(["Md","hglM","sdwM"].indexOf(D)!=-1)this.sy[D].l(by.zT.indexOf(j[D].v.BlnM));
if(D=="lrMd"){var N=(j.iO?[[15,10,27]]:[]).concat(by.OF),b=(j.iO?[1]:[]).concat(by.Mi);this.sy[D].Sf(N,b);
this.sy[D].l(j[D].v)}if(D=="Angl")this.sy[D].l([j[D].v.val]);if(D=="lagl"){var Y=j.uglg&&j.uglg.v?r.ta():j.lagl.v.val;
this.sy[D].l([Y])}if(D=="Lald"){var Y=j.uglg&&j.uglg.v?r.O0():j.Lald.v.val;this.sy[D].l([null,Y])}if(D=="Type")this.sy[D].l(hz._.types.indexOf(j.Type.v.GrdT));
if(D=="Styl")this.sy[D].l(hz.stroke.types.indexOf(j.Styl.v.FStl));if(D=="PntT"){var x=hz.stroke.WT.indexOf(j.PntT.v.FrFl);
this.sy[D].l(x);if(!this.HY){this.ahr(hz.kK.concat(hz.bl.concat(hz.CU)));this.ani([hz.kK,hz.bl,hz.CU][x])}}if(D=="GlwT")this.sy[D].l(hz.QO.types.indexOf(j.GlwT.v.BETE));
if(D=="glwS")this.sy[D].l(hz.QO.vf.indexOf(j.glwS.v.IGSr));if(D=="bvlS")this.sy[D].l(hz.h5.types.indexOf(j.bvlS.v.BESl));
if(D=="bvlT")this.sy[D].l(hz.h5.A5.indexOf(j.bvlT.v.bvlT));if(D=="bvlD")this.sy[D].l(["In","Out"].indexOf(j.bvlD.v.BESs))}};
h5.prototype.aiY=function(r){for(var j in this.sy){if(this.sy[j]!=r.target)continue;var D=null,N=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(j)!=-1)D={type:"#Prc",val:r.target.A()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(j)!=-1)D={type:"#Pxl",val:r.target.A()};if(["Angl","lagl"].indexOf(j)!=-1)D={type:"#Ang",val:r.target.A()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(j)!=-1)D=r.target.A();
if(["Md","hglM","sdwM"].indexOf(j)!=-1)D={BlnM:by.zT[r.target.A()]};if(j=="uglg"){D=r.target.A();N=!0}if(j=="PntT"){D={FrFl:hz.stroke.WT[r.target.A()]};
N=!0}if(j=="Lald")D={type:"#Ang",val:r.target.A()[1]};if(j=="Type")D={GrdT:hz._.types[r.target.A()]};
if(j=="Styl")D={FStl:hz.stroke.types[r.target.A()]};if(j=="GlwT")D={BETE:hz.QO.types[r.target.A()]};
if(j=="glwS")D={IGSr:hz.QO.vf[r.target.A()]};if(j=="bvlS")D={BESl:hz.h5.types[r.target.A()]};if(j=="bvlT")D={bvlT:hz.h5.A5[r.target.A()]};
if(j=="bvlD")D={BESs:["In","Out"][r.target.A()]};this.MJ({fI:j,m:D});if(N){if(this.HY)this.update(null,this.hb);
else{var b=this.parent,Y=b.AN,x=this.JJ,C=Y.j[b.data.n].add.lmfx[hz.l9[x[0]]].v[x[1]].v;this.update(Y,C)}}}};
h5.prototype.MJ=function(r){if(this.hb&&this.hb[r.fI])this.hb[r.fI].v=r.m;if(this.HY){this.g(new iu(y.E.Y))}else{r.e="changeprop";
r.n=this.parent.data.n;r.wd=this.JJ;var j=new iu(y.E.w,!0);j.data=r;j.k=I.i3;j.bJ=!0;this.g(j);this.g(new iu("afterchange",!0))}};
h5.prototype.A=function(){return JSON.parse(JSON.stringify(this.hb))};h5.d_={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(hz.kK),GrFl:["enab","Md","Opct"].concat(hz.bl),patternFill:["enab","Md","Opct"].concat(hz.CU),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(hz.kK.concat(hz.bl.concat(hz.CU)))};
function ii(){hE.call(this,[11,6],"layerstyle");this.aeJ=-1;this.data={};this.AN=null;this.xY=null;this.Nz=[];
this.ac=[];y.ui(this.body,"flexrow");this.RI=y.C("div","bordered");this.RI.setAttribute("style","min-width:13em;");
this.body.appendChild(this.RI);this.cO=y.C("div","");this.cO.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.cO);this.Bk=y.C("div","form");this.Bk.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Bk);this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);this.Bk.appendChild(this.pQ.i);
this.ks=new iH([12,87],!0,null,!0);this.ks.X("click",this.a8C,this);this.Bk.appendChild(this.ks.i);this.dF=new bn;
this.dF.parent=this;this.dF.X(y.E.Y,this.apY,this);this.Bk.appendChild(this.dF.i);this.X("closebtn",this.un,this);
this.X("redrawall",this.atp,this)}ii.prototype=new hE;ii.prototype.Oj=function(){return!0};ii.prototype.bY=function(){return!0};
ii.prototype.xR=function(r,j,D,N,b){var Y=this.Ev();if(Y)Y.xR(r,j,D,N,b)};ii.prototype.Vt=function(r,j,D,N,b){var Y=this.Ev();
if(Y)Y.Vt(r,j,D,N,b)};ii.prototype.rE=function(r,j,D,N,b){var Y=this.Ev();if(Y)Y.rE(r,j,D,N,b)};ii.prototype.Ev=function(r){if(r==null)r=this.data.index;
return r==null?null:r==0?this.Nz[0]:this.ac[r[0]][r[1]]};ii.prototype.apY=function(r){var j=this.dF.A();
this.MJ({e:"setstl",m:j.Ce});this.atp(null)};ii.prototype.a8C=function(r){var j=this.AN,D=this.data.n;
if(D==null)D=j.R[0];var N=this.AN.j[D],b=fx.kv(N),Y=new iu(y.E.V,!0);Y.data={e:y.G.VD,jB:"add",Ek:e5.HX,SM:[JSON.parse(JSON.stringify(b))]};
this.g(Y)};ii.prototype.a7$=function(r){this.data.index=r.currentTarget.JJ;this.iB(r.currentTarget.JJ)};
ii.prototype.atp=function(r){this.PV(this.AN,this.data)};ii.prototype.iB=function(r,j){y.Su(this.cO);
for(var P=0;P<this.Nz.length;P++)this.Nz[P].a5h();var D=this.Ev(r);this.cO.appendChild(D.a8T());if(j)D.nB();
var N=this.AN;if(N){var b=N.j[this.data.n];this.Nz[0].update(N,f1.K8.IW(N,b));var Y=b.add.lmfx;if(Y==null)return;
for(var P=0;P<hz.order.length;P++){var x=Y[hz.l9[P]].v;for(var C=0;C<x.length;C++)this.ac[P][C].update(N,x[C].v)}}if(j)D.nB()};
ii.prototype.h=function(){hE.prototype.h.call(this);this.ks.h();this.dF.h();for(var P=0;P<this.Nz.length;
P++)this.Nz[P].h()};ii.prototype.PV=function(r,j){var D=j.n==null;this.data.n=j.n;this.data.index=j.index;
j=this.data;this.AN=r;if(D)j.n=r.R.length==0?r.j.length-1:r.R[0];y.Su(this.RI);var N=r.j[j.n].add.lmfx;
this.bU();this.Nz=[new h5("bops",!1,0)];this.ac=[];for(var P=0;P<hz.order.length;P++){this.ac.push([]);
var b=N==null?[]:N[hz.l9[P]].v;for(var Y=0;Y<b.length;Y++){var x=new h5(hz.order[P],!1,[P,Y]);this.Nz.push(x);
this.ac[P].push(x)}if(b.length==0){var x=new h5(hz.order[P],!1,[P,0]);this.Nz.push(x);this.ac[P].push(x)}}this.h();
this.aoE(this.xY,e5.Cr);for(var P=0;P<this.Nz.length;P++){this.Nz[P].parent=this;this.Nz[P].a24(this.RI);
this.Nz[P].X("showme",this.a7$,this)}if(j.index==null||j.index==0||!D&&N[hz.l9[j.index[0]]].v.length==0){this.iB(0)}else this.iB(j.index,D);
this.X("afterchange",this.bU,this)};ii.prototype.bU=function(r){var j=this.AN,D=this.data.n;if(D==null)D=j.R[0];
var N=this.AN.j[D],b=fx.kv(N);this.dF.l(b,j.add.Patt?j.add.Patt:[],j.ta(),j.O0())};ii.prototype.Wf=function(r,j){this.xY=r;
this.aoE(r,j);if(j==e5.HX||j==e5.Cr){this.dF.pB([r.LZ,r.o$])}if(j==e5.ct){}};ii.prototype.aoE=function(r,j){for(var P=0;
P<this.Nz.length;P++)this.Nz[P].Wf(r,j)};ii.prototype.un=function(r){this.MJ({e:"cancel"})};ii.prototype.oH=function(r){this.MJ({e:"confirm"});
this.close()};ii.prototype.MJ=function(r){r.n=this.data.n;var j=new iu(y.E.w,!0);j.data=r;j.k=I.i3;j.bJ=!0;
this.g(j);this.bU()};ii.BL=function(r){var j=[{name:[14,10],E4:!0}];for(var P=0;P<hz.names.length;P++)j.push({name:hz.names[P]});
if(r){j[j.length-1].E4=!0;j.push({name:"Scale Effects",N:function(D){return{N:D!=null&&D.R.length!=0&&D.j[D.R[0]].jf()}}});
j.push({name:["VAR0 VAR1",[12,49],[9,1]],N:function(D){return{N:D!=null&&D.R.length!=0&&D.j[D.R[0]].add.lmfx!=null}}})}return j};
ii.Og=function(r){var j=[{$:y.E.V,H:{e:y.G.gl,SO:"layerstyle"}}];for(var P=0;P<hz.names.length;P++)j.push({$:y.E.V,H:{e:y.G.gl,SO:"layerstyle",index:[P,0]}});
if(r){j.push({$:y.E.V,H:{e:y.G.gl,SO:"scaleeffects",Gz:100,Cu:{$:y.E.w,k:I.i3,H:{e:"scaleeffects"}}}});
var D={classID:"Mk",null:dA.W4("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
j.push({$:y.E.PN,H:{sv:"make",Q4:D}})}return j};ii.a6o=function(r){var j=[];if(r)j.push({name:[6,48,0,0],IC:!0},{name:[6,48,0,1],IC:!0},{name:[6,48,0,2],IC:!0,E4:!0});
for(var D in cz.names)j.push({name:cz.names[D],E4:cz.SA.indexOf(D)!=-1,IC:k[D]!=null});return j};ii.Ou=function(r){var j=[];
if(r){j.push({$:y.E.w,k:I.Ew,H:{e:"newfill",bW:0}});for(var P=1;P<3;P++)j.push({$:y.E.PN,H:I.UC._e(P)})}for(var D in cz.names){var N=ij.nY(D);
if(N==null)N={};for(var b in cz.U0)if(cz.U0[b]==D)N.classID=b;var Y={sv:"make",Q4:{classID:"Mk",null:dA.W4("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:N}}}}};
j.push({$:y.E.PN,H:Y})}return j};function i8(){hE.call(this,"Merge Channels","mergechannels");this.Gw=null;
var r=y.C("div","form");this.body.appendChild(r);this.Os=[];for(var P=0;P<3;P++){var j=new fk(cz.r8[P],[]);
this.Os.push(j);r.appendChild(j.i);y.aR(r)}this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);
r.appendChild(this.pQ.i)}i8.prototype=new hE;i8.prototype.h=function(){hE.prototype.h.call(this);for(var P=0;
P<3;P++)this.Os[P].h()};i8.prototype.PV=function(r,j,D,N){this.Gw=D;var b=[];for(var P=0;P<D.length;
P++)b.push(D[P].name);for(var P=0;P<3;P++){var Y=this.Os[P];Y.Sf(b);Y.l(Math.min(P,D.length-1))}};i8.prototype.oH=function(r){var j=this.Gw,D=j[0],N=new iu(y.E.PN,!0);
N.data=dl.fi(D.d,D.r,D.TB,"Merged Document","Wht",!1);this.g(N);var b=[];for(var P=0;P<3;P++)b.push(j[this.Os[P].A()].Ez());
var D=j[j.length-1],Y=D.j[0],x=Y.buffer;for(var P=0;P<x.length;P+=4){x[P]=b[0][P];x[P+1]=b[1][P];x[P+2]=b[2][P]}Y.P();
D.P();this.close()};function dO(){hE.call(this,[1,10],"script");var r=y.C("div","form");r.setAttribute("style","width:44em");
this.body.appendChild(r);this.xY=null;this.xC=[];this.fb=[];this.asc;var j=this.NQ=new iH([1,2],!1,null,!0);
j.X("click",this.Z8,this);r.appendChild(j.i);var D=new iH("JS Reference",!1,null,!0);D.X("click",this.as4,this);
r.appendChild(D.i);r.appendChild(new aL("Demos:").i);this.a2N=[];var N=dO.Qf;for(var P=0;P<N.length;
P++){var b=new iH(N[P].GV,!1,null,!0);this.a2N.push(b);r.appendChild(b.i);b.X("click",this.a1T,this)}this.xm=y.C("textarea");
this.xm.setAttribute("rows",16);this.xm.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
r.appendChild(this.xm);var Y=new iH("Run",!0,null,!0);Y.X("click",this.oH,this);r.appendChild(Y.i);this.a9h=y.C("div");
r.appendChild(this.a9h)}dO.prototype=new hE;dO.prototype.h=function(){this.NQ.h()};dO.prototype.Z8=function(){var r=this.asc;
if(r==null)r="script.jsx";var j=new iu(y.E.V,!0);j.data={e:y.G.gl,SO:"namewindow",Gz:r.slice(0,r.length-4),kH:this.alN.bind(this)};
this.g(j)};dO.prototype.alN=function(r){var j=this.xm.value,D=l.IH(j),N=new iu(y.E.V,!0);N.data={e:y.G.Au,Uw:D.buffer,Tr:r+".jsx",a7m:!0};
this.g(N)};dO.prototype.ai0=function(r){var P=this.xC.indexOf(r.target),j=this.asc=this.fb[P],D=this.xY.kw.Ur[j],N=new Uint8Array(D),b=l.Hi(N,0,N.length);
this.xm.value=b};dO.prototype.PV=function(r,j,D){this.xm.value=dO.Qf[0].kW;this.abC()};dO.prototype.abC=function(){var r=this.xY.kw,j=this.a9h;
y.Su(j);this.xC=[];this.fb=[];j.textContent="Saved scripts: ";for(var D in r.Ur){if(D.endsWith(".jsx")){var N=new iH(D,!1,null,!0);
this.xC.push(N);this.fb.push(D);N.X("click",this.ai0,this);j.appendChild(N.i)}}};dO.prototype.Wf=function(r,j){this.xY=r;
if(j==e5.da)this.abC()};dO.prototype.as4=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.fx,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.g(j)};dO.prototype.oH=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.qs,fD:this.xm.value};this.g(j)};
dO.prototype.a1T=function(r){var j=this.a2N.indexOf(r.currentTarget);this.xm.value=dO.Qf[j].kW};dO.Qf=[{GV:"Hello",kW:"\nalert(\"Hello Photopea!\");\n"},{GV:"Process Layers",kW:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{GV:"Clone Layers",kW:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function er(){hE.call(this,[11,7],"newproject");this.data=null;this.Gw=null;var r=y.C("div","flexrow");
this.Tj=r;this.body.appendChild(r);var j=y.C("div","form");this.z9=j;r.appendChild(j);this.G6=new au([12,48],null,10);
j.appendChild(this.G6.i);y.aR(j);this.RT=new bE(!0);this.RT.l(new gJ(1280,720),72);this.RT.X(y.E.Y,this.N8,this);
j.appendChild(this.RT.i);this.RK=new fk([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,46]]);j.appendChild(this.RK.i);
this.SZ=new b1("Artboards");j.appendChild(this.SZ.i);this.I9=new iH([12,49],!0,null,!0);this.I9.X("click",this.oH,this);
j.appendChild(this.I9.i);var D=er.D7,N=[];for(var P=0;P<D.length;P++)N.push(D[P].name);this.fd=new a2(null,N);
this.fd.X(y.E.Y,this.aaH,this);j.appendChild(this.fd.i);this.fd.i.style["margin-top"]="1em";this.oD=new a0(!0);
this.oD.X(y.E.Y,this.ak$,this);j.appendChild(this.oD.i);this.aaH();this.lq=new a4;this.lq.parent=this;
this.lq.i.setAttribute("style","margin-left:1em");this.lq.X("tempready",this.an7,this)}er.prototype=new hE;
er.prototype.Wf=function(r,j){this.lq.Wf(r)};er.prototype.sM=function(r,j){return new gJ(Math.max(0,Math.min(70,(r-690)/2)),r>j?Math.max(0,Math.min(50,(j-400)/2)):0)};
er.prototype.kt=function(r,j){this.z9.setAttribute("style","width:"+Math.min(r-24,338)+"px");this.oD.i.style.height=j-248+"px";
var D=this.lq.i,N=D.parentNode;if(r<500){if(N!=null)this.Tj.removeChild(D)}else{if(N==null)this.Tj.appendChild(D);
this.lq.kt(r-378,j-28)}};er.prototype.N8=function(){this.lq.l(this.RT.A())};er.prototype.ak$=function(r){var j=this.oD.A(),D=er.D7[this.fd.A()].f0[j],N=D[4];
if(N==0)N=72;var b=D[1],Y=D[2],x=["px","%","mm","in"].indexOf(D[3]),C=[1,1,25.4/N,1/N][x];b/=C;Y/=C;
this.RT.l(new gJ(Math.round(b),Math.round(Y)),N);this.RT.afI(x);this.oD.II(j);this.N8()};er.prototype.aaH=function(r){var j=er.D7[this.fd.A()].f0,D=[],N=[],b=Math.round(106*y.f()),Y=Math.round(106*y.f()),x=0;
for(var P=0;P<j.length;P++)x=Math.max(x,j[P][1],j[P][2]);for(var P=0;P<j.length;P++){var C=j[P],w=C[1]+" x "+C[2]+" "+C[3];
if(C[3]=="in")w=(C[1]*25.4).toFixed(0)+" x "+(C[2]*25.4).toFixed(0)+" mm";if(C[3]=="mm")w=(C[1]/25.4).toFixed(1)+" x "+(C[2]/25.4).toFixed(1)+" in";
if(C[4])w=w+" @ "+C[4]+" ppi";N.push(w);D.push(er.af(C,b,Y,x))}this.oD.lu(D,N,b,Y)};er.af=function(r,j,D,N){var b=y.C("canvas",""),Y=b.getContext("2d");
b.width=j;b.height=D;var x=Math.round(j/8),C=Math.floor(11*y.f()),w=r[1],q=r[2];Y.fillStyle="#000000";
Y.font=Math.round(C*.9)+"px \"Open Sans\", Sans-Serif";var u=w+" x "+q+" "+r[3],h=Y.measureText(u);Y.fillText(u,Math.round((j-h.width)/2),D-Math.round(x/2));
if(r[0]!=null){Y.font="bold "+C+"px \"Open Sans\", Sans-Serif";var u=r[0],h=Y.measureText(u);Y.fillText(u,Math.round((j-h.width)/2),D-Math.round(x/2)-Math.round(C*1.3))}D-=Math.round(2.5*C);
var z=Math.min((j-x)/w,(D-x)/q);z*=.5+.5*(Math.max(w,q)/N);var O=(j-w*z)/2,g=(D-q*z)/2;Y.strokeRect(Math.round(O)+.5,Math.round(g)+.5,Math.round(w*z),Math.round(q*z));
return b.toDataURL()};er.prototype.h=function(){hE.prototype.h.call(this);this.RT.h();this.G6.h();this.RK.h();
this.I9.h();this.G6.l(e9.get([11,7]));this.fd.h();this.SZ.h();this.lq.h()};er.prototype.oH=function(r){var j=this.RT.A(),D=j.x,N=j.y;
this.close();var b=new iu(y.E.PN,!0);b.data=dl.fi(D,N,this.RT.Hv(),this.G6.A(),["Wht","Blck","Trns","BckC"][this.RK.A()],this.SZ.A());
this.g(b);this.asA()};er.prototype.an7=function(r){var j=r.data.AN;j.TB=this.RT.Hv();var D=new iu(y.E.V,!0);
D.data={e:y.G.uk,AN:j};this.g(D);this.close();this.asA()};er.prototype.asA=function(){var r=this.Gw[this.Gw.length-1],j=this.data.aiZ;
if(j)iE.Hh(function(){var D=new XMLHttpRequest,N="https://www.googleapis.com/drive/v3/files?"+iE.Z6();
D.open("POST",N,!0);D.setRequestHeader("Content-Type","application/json");D.addEventListener("load",function(b){var Y=JSON.parse(b.target.response);
r.zW={file:Y,RO:"psd"};alert(r.name+" created in Google Drive")});D.send(JSON.stringify({name:r.name,aix:[j]}))})};
er.prototype.PV=function(r,j,D,N){this.Gw=D;if(r!=null&&r.c!=null){var b=new bf(0,0,r.d,r.r).su(r.c.rect);
this.RT.l(new gJ(b.d,b.r))}this.data=j;this.N8();this.G6.NK();if(y.MT())hs.a8L(this.a0c.bind(this))};
er.prototype.a0c=function(r){if(r=="granted")hs.ql(this,this.a8I.bind(this))};er.prototype.a8I=function(r,j){this.RT.l(new gJ(j.d,j.r))};
er.D7=[{name:"Social",f0:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],f0:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],f0:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],f0:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],f0:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],f0:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",f0:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function b_(r,j,D){hE.call(this,j,"sel_"+r);this.e=r;var N=y.C("div","form");this.body.appendChild(N);
this.G6=new b8(j,0,255,null,0,!1,!0);N.appendChild(this.G6.i);this.G6.l(1);var b=y.C("span");b.textContent=D;
N.appendChild(b);y.aR(N);this.ars=new b1("Apply at canvas bounds");if(r!="border")N.appendChild(this.ars.i);
this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);N.appendChild(this.pQ.i)}b_.prototype=new hE;
b_.prototype.uf=function(r,j){if(r==null)return;if(r.c==null)alert("No selection!");return r.c!=null};
b_.prototype.oH=function(r){var j=new iu(y.E.PN,!0);j.data=I.Vm.a41(this.e,this.G6.A(),this.ars.A());
j.bJ=!0;this.g(j);this.close()};b_.prototype.h=function(){hE.prototype.h.call(this);if(this.G6)this.G6.h()};
b_.prototype.PV=function(r,j){};function fF(r,j,D,N,b,Y){hE.call(this,D,j);this.a7I=Y;this.GS=b;this.D7=null;
this.z9=y.C("div","form");this.body.appendChild(this.z9);this.G6=r==0?new au(D,null,10):new bN(D,0,500,N,1);
this.G6.X(y.E.Y,this.OH,this);this.z9.appendChild(this.G6.i);this.pQ=new iH("OK",!0,null,!0);this.pQ.X("click",this.oH,this);
this.z9.appendChild(this.pQ.i);this.X("closebtn",this.un,this)}fF.prototype=new hE;fF.prototype.Oj=function(){return this.a7I};
fF.prototype.OH=function(r){var j=this.G6.A();if(this.GS)this._U(j)};fF.prototype.un=function(r){if(this.GS)this._U("cancel")};
fF.prototype.oH=function(r){if(this.GS)this._U("confirm");else this._U(this.G6.A());this.close()};fF.prototype._U=function(r){if(this.D7.kH)this.D7.kH(r);
else if(this.D7.Cu){var j=this.D7.Cu,D=new iu(j.$,!0);D.k=j.k;D.data=j.H;D.data.m=r;D.bJ=!0;this.g(D)}};
fF.prototype.h=function(){hE.prototype.h.call(this);if(this.G6)this.G6.h()};fF.prototype.PV=function(r,j){this.D7=j;
this.G6.l(j.Gz);this.G6.NK();this.OH(null)};function g1(){hE.call(this,[1,5],"open_from_url");this.ds=null;
var r=y.C("div","form");this.body.appendChild(r);this.cx=new au("URL",null,22);r.appendChild(this.cx.i);
y.aR(r);this.HL=new a2([21,0],[[21,2],[21,1]]);r.appendChild(this.HL.i);this.I9=new iH("OK",!0,null,!0);
this.I9.X("click",this.oH,this);r.appendChild(this.I9.i)}g1.prototype=new hE;g1.prototype.h=function(){hE.prototype.h.call(this);
this.HL.h()};g1.prototype.PV=function(r,j,D){this.cx.NK();this.ds=null;if(r&&D.indexOf(r)!=-1)this.ds=D.indexOf(r)};
g1.prototype.oH=function(r){var j=new iu(y.E.V,!0),D=this.cx.A();j.data={e:y.G.qS,Ek:{url:D,o5:!0,ds:this.HL.A()==1?this.ds:null}};
this.g(j);this.close()};function i5(){hE.call(this,[12,79],"preferences");this.xY=null;var r=y.C("div","form");
this.body.appendChild(r);this.d_=[new b1([8,2]),new b1([8,4]),new fk([12,80,3],[[12,93,3],[12,80,4]]),new bN([12,80,5],1,100,null,2),new fk(null,R.DA.Z4),new fk([12,80,6],R.DA.Z4)];
for(var P=0;P<this.d_.length;P++){var j=this.d_[P];r.appendChild(j.i);if(P!=3)y.aR(r);j.X(y.E.Y,this.S_,this)}}i5.prototype=new hE;
i5.prototype.h=function(){hE.prototype.h.call(this);for(var P=0;P<this.d_.length;P++)this.d_[P].h()};
i5.prototype.PV=function(r,j,D){};i5.prototype.Wf=function(r,j){this.xY=r;this.d_[0].l(r.Ar.Pc);this.d_[1].l(r.Ar.JZ);
this.d_[2].l(r.Ar.nD);this.d_[3].l(r.Ar.cb);this.d_[4].l(r.Ar.nv);this.d_[5].l(r.Ar.Q5)};i5.prototype.S_=function(r){var j=this.d_,D=JSON.parse(JSON.stringify(this.xY.Ar));
D.Pc=j[0].A();D.JZ=j[1].A();D.nD=j[2].A();D.cb=j[3].A();D.nv=j[4].A();D.Q5=j[5].A();if(D.nv!=4)D.cb=Math.round(D.cb);
var N=new iu(y.E.V,!0);N.data={e:y.G.VD,Ek:e5.VN,aS:D};this.g(N)};function fN(){hE.call(this,[11,8],"saveforweb");
this.aaS="";this.X("closebtn",function(){this.j2.Rz()},this);this.__=new gJ(512,512);this.AN=null;this.Jq=null;
this.as_=null;this.xY=null;y.ui(this.body,"flexrow");var r=y.C("div"),j=y.C("div");this.body.appendChild(r);
this.body.appendChild(j);this.ss=y.C("div","imgcont");r.appendChild(this.ss);this.j2=new ib;this.j2.kt(this.__.x,this.__.y);
this.s1=y.C("span");r.appendChild(this.s1);this.z9=y.C("div","form cell");this.z9.setAttribute("style","width:15em; padding-left:1em;");
j.appendChild(this.z9);this.uA=new fk([12,50],aP.Gk());this.z9.appendChild(this.uA.i);this.uA.X(y.E.Y,this._6,this);
this.RT=new bE(!0,!0,!1,!0);this.RT.X(y.E.Y,this._6,this);this.z9.appendChild(this.RT.i);this.VU=new gh;
this.VU.X(y.E.Y,this._6,this);this.z9.appendChild(this.VU.i);this.tr=new iH([1,2],!0,null,!0);this.tr.X("click",this.oH,this);
this.z9.appendChild(this.tr.i)}fN.prototype=new hE;fN.prototype.uf=function(r,j){return r!=null};fN.prototype.h=function(){hE.prototype.h.call(this);
this.RT.h();this.uA.h();this.VU.h();this.tr.h()};fN.prototype.oH=function(r){var j=this.AN.name,D=j.lastIndexOf("."),j=D==-1?j:j.slice(0,D),N=aP.Gk()[this.uA.A()],b=N=="JPG"||N=="PNG"||N=="GIF",Y=aP.QE(N),x="."+N.toLowerCase(),C=this.Jq,w=j+x,q=this.AN,u=q.hB;
if(u.length!=0&&b&&this.VU.A().pop()){var h="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",z=[],O={},g=new bf(0,0,q.d,q.r),t=q.Ez();
for(var P=0;P<u.length;P++)z.push(I.K_.KG(u,P));z.reverse();var $=R.rect.VV([0,0,q.d,q.r],z);for(var P=0;
P<$.length;P++){var i=$[P],A=new bf(i[0],i[1],i[2]-i[0],i[3]-i[1]),H=i.length==5?u[i[4]].v:null,F=R.O(A.Z()*4);
R.UB(t,g,F,A);var T="img/img"+(P+1)+x;O[T]=new Uint8Array(Y.TL([[F.buffer,0]],A.d,A.r,this.VU.A()));
h+="<div style=\"background-image:url('"+T+"'); left:"+A.x+"px; top:"+A.y+"px; width:"+A.d+"px; height:"+A.r+"px\">";
if(H&&H.url.v!="")h+="\n\t<a href=\""+H.url.v+"\" target=\""+H.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
h+="</div>\n"}h+="</body>\n</html>\n";var _=R.O(Math.round(h.length*1.5)),V=l.Ws(h,_,0);O["index.html"]=_.slice(0,V);
C=UZIP.encode(O);w=j+".zip"}else if(q.add.artd&&q.add.artd.Cnt.v>1&&b&&this.VU.A().pop()){var O={},g=new bf(0,0,q.d,q.r),t=q.Ez(),X=q.root.children;
for(var P=0;P<X.length;P++){var o=X[P].n;if(o.add.artb==null)continue;var c=o.tT(),E=R.O(c.Z()*4);R.UB(t,g,E,c);
O[o.getName()+x]=new Uint8Array(Y.TL([[E.buffer,0]],c.d,c.r,this.VU.A()))}C=UZIP.encode(O);w=j+".zip"}if(q.ef){var f=new XMLHttpRequest;
f.open("GET","/papi/img/update.php?act=1&id="+q.ef+"&rnd="+Math.random());f.send()}var d=new iu(y.E.V,!0);
d.data={e:y.G.Ga,data:C,name:w};this.g(d);this.j2.Rz();this.close()};fN.prototype.PV=function(r,j){if(j.P9!=null)this.uA.l(j.P9);
this.AN=r;var D=r.d+","+r.r;if(D!=this.aaS){this.aaS=D;this.RT.l(new gJ(r.d,r.r),r.TB)}this.VU.aq5();
if(j.aic){this.RT.afI(3);this.VU.ji.PDF[2].Bn.l(!0)}this._6(null,!0)};fN.prototype.sM=function(r,j){return new gJ(Math.max(0,Math.min(150,(r-770)/2)),Math.max(0,Math.min(150,(j-590)/2)))};
fN.prototype.kt=function(r,j){this.oW=r;this.qg=j;this.__.x=Math.min(512,r-26-214);this.__.y=Math.min(512,j-45);
if(this.AN==null)return;var D=this.RT.A(),r=D.x,j=D.y,N=aP.Gk()[this.uA.A()],b=aP.QE(N),h="<span style=\"width:",z="display:inline-block; text-align:right;\">";
if(b.Xg){var Y=r,x=j,C;if(N=="PDF"||b.A6){Y=this.__.x;x=this.__.y}else{Y=Math.min(r+20,this.__.x);x=Math.min(j+20,this.__.y)}this.ss.firstChild.setAttribute("style","display:block; width:"+Y+"px; height:"+x+"px;")}else{if(b.A6){Y=this.__.x;
x=this.__.y}else{var w=this.as_,q=w[0].Yn,Y=q.d,x=q.r;this.j2.kt(Math.max(50,Math.min(Y/y.f(),this.__.x)),Math.max(50,Math.min(x/y.f(),this.__.y)))}}var u=this.Jq.byteLength,O=N+":"+h+64+"px;"+z+fN.CK(u)+"</span>";
if(this.__.x>200)O+=h+90+"px; opacity:"+.5+";"+z+u.toLocaleString()+" B</span>";this.s1.innerHTML=O};
fN.CK=function(r){var j=r.toString(2),D=0;while(D+10<j.length)D+=10;var N=(r/Math.pow(2,D)).toFixed(1),b="B KB MB GB TB PB".split(" ")[Math.floor(D/10)];
return N+" "+b};fN.prototype.Wf=function(r,j){this.xY=r};fN.prototype._6=function(r,j){var D=this.AN,N=this.RT.A(),b=N.x,Y=N.y,x=this.uA.A(),C=aP.Gk()[x],w=aP.AA(D)[0].length,q=["GIF","PNG","WEBP"].indexOf(C)!=-1&&w>1,t="";
if(q&&j&&(w>4&&b*Y>1024*1024||b*Y*w>800*800*50)){var u=1;while(Math.max(b>>>u,Y>>>u)>800)u++;var h=window.confirm("Your animation is large ("+b+" x "+Y+" px). Press \"OK\" to scale it to "+(100>>>u)+"%. Press \"Cancel\" to keep the size.");
if(h){this.RT.l(new gJ(b>>>u,Y>>>u),null,!0);b=b>>>u;Y=Y>>>u}}var z=D.add.artd,O=z!=null&&z.Cnt.v>1;
this.VU.at6(C,q,D.hB.length!=0,O);var g=this.VU.A();this.Jq=aP.z$(D,C,b,Y,g,this.xY);if(this.Jq==null){this.AN=null;
return}y.Su(this.ss);this.j2.Rz();var $=aP.QE(C);if($.A6){this.ss.innerHTML="<div></div>";t+="width:0px"}else if($.Xg){var i=b,A=Y,H;
if(C=="PDF"){H=URL.createObjectURL(new Blob([this.Jq],{type:"application/pdf"}))}else{H=URL.createObjectURL(new Blob([this.Jq],{type:"image/svg+xml"}))}this.ss.innerHTML="<iframe src=\""+H+"\"></iframe>"}else{var F=this.as_=$.G$(this.Jq),T=F[0].Yn,i=T.d,A=T.r;
this.j2.l(F,F.length>1?g[g.length-3]:0);this.ss.appendChild(this.j2.i);t="background: rgba(0,0,0,0);"}this.ss.setAttribute("style","display:block; background-size:"+16/y.f()+"px;"+t);
this.kt(this.oW,this.qg)};function bQ(){hE.call(this,[11,13],"shortcuts");var r=this.Tj=y.C("div","scrollable");
r.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(r);
this.arT()}bQ.prototype=new hE;bQ.prototype.h=function(){hE.prototype.h.call(this);this.arT()};bQ.prototype.arT=function(){var r="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",j="",D=e4,N=D.h6,b=D.$P,Y=D.YV;
j+="<h2 style=\"margin-top:0;\">Main Menu</h2>";j+=r;j+=this.X1([[0,0],"---",[1,0],[N,D.zz],[1,2],[N,D.y9],[1,3],[b,N,D.y9],[1,8],[Y,b,N,D.y9],[0,1],"---",[2,0],[b,N,D.Kg],[2,1],[N,D.Kg],[5,0],[N,D.Cd],[5,1],[N,D.RU],[5,2],[N,D.im],[2,2],"Delete",[2,3],[Y,D.SP],[10,16],[Y,N,D.Nl],[12,79],[N,D.YM],[3],"---",[4,1],[N,D.lD],[4,2],[N,D.G1],[4,5],[N,D._J],[4,11],[N,D.ky],[0,3],"---",[6,0],[N,D.aa],[6,6,0],[Y,N,D.KX],[6,9],[N,D.KX],[6,10],[N,D.E],[0,5],"---",[7,0],[N,D.G],[7,1],[N,D.lU],[7,2],[b,N,D.ky],[0,7],"---",[8,0],[N,D.aB],[8,1],[N,D.YG],[8,3],[N,D.kG],[8,2],[N,D.lx],[8,4],[N,D.Id],[11,13],"?"]);
j+="</div>";j+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";j+=r;j+=this.X1(["Vertical scroll","Wheel","Horizontal scroll",[N,"Wheel"],"Zooming",[Y,"Wheel"]]);
j+="</div>";j+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
j+=r;j+=this.X1([[10,11],[N],[10,7],"Space",[10,17],[N,D.d7]]);j+="</div>";j+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
j+=r;var x=bQ.L,C=[];for(var P=0;P<x.length;P+=3)if(x[P+1])C.push(x[P],x[P+1]);C=C.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
j+=this.X1(C);j+="</div>";this.Tj.innerHTML=j};bQ.prototype.X1=function(r){var j="",D=!0;for(var P=0;
P<r.length;P+=2){var N=r[P],b=e4._2(r[P+1]);if(b==null){D=!1;continue}var Y=y.bo(e9.get(N));if(b=="---"){if(!D)j+="<br/>";
j+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+Y+"</div>"}else j+="<div>"+Y+" <span style=\"float:right; font-weight:bold;\">"+b+"</span> </div>";
D=!1}return j};bQ.L=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function e8(){hE.call(this,[8,11,1],"soptions");this.HK=null;var r=y.C("div","form");r.style.width="20em";
this.body.appendChild(r);this.E6={Nm:[12,48],url:"URL",null:[12,71]};this.d_={};for(var j in this.E6){var D=new au(this.E6[j],null,15);
this.d_[j]=D;r.appendChild(D.i)}var N=new iH("OK",!0,null,!0);N.X("click",this.oH,this);r.appendChild(N.i)}e8.prototype=new hE;
e8.prototype.PV=function(r,j,D){var N=j.m;this.HK=JSON.stringify(N);for(var b in this.E6){if(N[b])this.d_[b].l(N[b].v)}};
e8.prototype.oH=function(r){var j=JSON.parse(this.HK);for(var D in this.E6){var N=this.d_[D].A();j[D]={t:"TEXT",v:N}}var b=new iu(y.E.w,!0);
b.k=I.TX;b.data=j;b.bJ=!0;this.g(b);this.close()};function dH(){hE.call(this,[2,3],"fill");this.xY=null;
this.up=null;var r=y.C("div","form padded");r.style.width="22em";this.body.appendChild(r);this.mG="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");
this.Od=new fk([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.Od.X(y.E.Y,this.afR,this);r.appendChild(this.Od.i);this.ss=y.C("span");r.appendChild(this.ss);this.$M=new fe;
this.$M.parent=this;this.$M.Sb(0);this.CL=new b9;this.CL.parent=this;this.wY=new fk([12,19,0],by.OF,!1,by.Mi);
r.appendChild(this.wY.i);this.Dx=new bN([12,0],0,100,"%",0,!1);this.Dx.l(100);r.appendChild(this.Dx.i);
this.PA=new b1("Preserve Transparency");this.PA.l(!1);r.appendChild(this.PA.i);this.I9=new iH("OK",!0,null,!0);
this.I9.X("click",this.oH,this);this.body.appendChild(this.I9.i)}dH.prototype=new hE;dH.prototype.uf=function(r,j){return r!=null};
dH.prototype.Oj=function(){return!0};dH.prototype.afR=function(){var r=this.Od.A(),j=this.$M.i,D=this.CL.i,N=this.ss;
if(r==2)N.appendChild(j);else if(N.contains(j))N.removeChild(j);if(r==7)N.appendChild(D);else if(N.contains(D))N.removeChild(D)};
dH.prototype.h=function(){hE.prototype.h.call(this);this.Od.h();this.wY.h();this.Dx.h()};dH.prototype.oH=function(r){if(!this.up.Kf())return;
var j=new iu(y.E.PN,!0),D=this.Od.A();j.data=I.oi._e(this.mG[D],by.n4[this.wY.A()],this.Dx.A()/100,this.$M.A(),this.PA.A(),this.CL.A());
this.close();this.g(j)};dH.prototype.PV=function(r,j){this.up=r};dH.prototype.Wf=function(r,j){this.xY=r;
if(j==e5.Cr||j==e5.ag){this.CL.pB(r.o$);this.CL.l({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function ct(){hE.call(this,[14,9],"stroke");this.xY=null;this.z9=y.C("div","form");this.z9.setAttribute("style","width:24em");
this.body.appendChild(this.z9);this.iK=new h5("FrFX",!0);this.iK.parent=this;var r=["Sz","Styl","Md","Opct"].concat(hz.kK);
for(var P=0;P<r.length;P++){var j=this.iK.sy[r[P]].i;this.z9.appendChild(j)}this.Y7=!1;this.I9=new iH("OK",!0,null,!0);
this.I9.X("click",this.oH,this);this.body.appendChild(this.I9.i)}ct.prototype=new hE;ct.prototype.uf=function(r,j){return r!=null};
ct.prototype.Oj=function(){return!0};ct.prototype.h=function(){hE.prototype.h.call(this);this.iK.h()};
ct.prototype.oH=function(r){var j=new iu(y.E.w,!0);j.k=I.SH;j.data={e:"stroke",a06:this.iK.A()};this.close();
this.g(j)};ct.prototype.PV=function(r,j){if(!this.Y7){var D=hz._5[hz.order.indexOf("FrFX")];D=JSON.parse(D);
this.iK.update(r,D);this.Y7=!0}var D=this.iK.A(),N=this.xY.xg;D.Clr.v=R._.XJ({a:N>>16&255,p:N>>8&255,M:N&255});
this.iK.update(r,D)};ct.prototype.Wf=function(r,j){this.xY=r};function dN(){hE.call(this,[11,9],"textwarp");
this.d_=new iN;this.d_.X(y.E.Y,this.Td,this);this.d_.parent=this;this.z9=y.C("div","form");this.z9.setAttribute("style","width:20em");
this.body.appendChild(this.z9);this.z9.appendChild(this.d_.fo.i);this.z9.appendChild(this.d_.jG.i);this.z9.appendChild(this.d_.L_.i);
this.z9.appendChild(this.d_.Ea.i);this.z9.appendChild(this.d_.h9.i);this.I9=new iH("OK",!0,null,!0);
this.I9.X("click",this.oH,this);this.z9.appendChild(this.I9.i);this.X("closebtn",this.un,this)}dN.prototype=new hE;
dN.prototype.Oj=function(){return!0};dN.prototype.h=function(){hE.prototype.h.call(this);this.d_.h()};
dN.prototype.Td=function(r){var j=this.d_.A();this._U({e:"warp",s_:j})};dN.prototype._U=function(r){var j=new iu(y.E.w,!0);
j.k=I.pP;j.data=r;j.bJ=!0;this.g(j)};dN.prototype.un=function(r){this._U({e:"warpCancel"})};dN.prototype.oH=function(r){this._U({e:"warpConfirm"});
this.close()};dN.prototype.PV=function(r,j){var D=r.j[r.R[0]];this.d_.l(D.add.TySh.z8)};function hR(){hE.call(this,"Raw Photopea","rawpea");
this.w5=null;this.C4=null;this.SG=null;this.N5=0;this.Yl=null;this.XQ=null;this.aqV=500;this.adW=500;
this.abv=0;this.X("closebtn",this.lZ,this);y.ui(this.body,"flexrow");var r=y.C("div"),j=y.C("div"),N="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
j.setAttribute("style","padding-left: 1em");this.body.appendChild(r);this.body.appendChild(j);this.s=y.C("canvas");
r.appendChild(this.s);this.S1=new gF(225);this.S1.rV(4);j.appendChild(this.S1.i);this.z9=y.C("div");
this.z9.setAttribute("style","width:18em;");j.appendChild(this.z9);this.asq=new aL("Hi",!0);this.z9.appendChild(this.asq.i);
this.lw=[new fv("Temperature",2e3,13e3),new fv("Tint",-150,150),new fv([4,3],-4,4,null,!0),new fv([12,3,0],-100,100)];
for(var P=0;P<this.lw.length;P++){var D=this.lw[P];D.l(0);D.X(y.E.Y,this.eE,this);this.z9.appendChild(D.i);
if(P==1)this.z9.appendChild(y.C("hr"))}this.I9=new iH([1,0],!0,null,!0);this.I9.X("click",this.oH,this);
this.z9.appendChild(this.I9.i);this.iM=new iH(N+" JPG",!0,null,!0);this.iM.X("click",this.ab1,this);
this.z9.appendChild(this.iM.i);this.iM.i.style.marginTop="6px"}hR.prototype=new hE;hR.prototype.sM=function(){return new gJ(0,0)};
hR.prototype.kt=function(r,j){this.aqV=r-274;this.adW=j-32;if(this.w5)this.ael()};hR.prototype.h=function(){hE.prototype.h.call(this);
this.I9.h();for(var P=0;P<this.lw.length;P++)this.lw[P].h()};hR.prototype.ab1=function(r){var j=this.w5,D=this.C4,N=R.O(j.width*j.height*4);
R.mh(N,4294967295);R.raw.n3(D,N,j,this.xk());var b=aP.QE("JPG").TL([[N.buffer]],D.Nm,D.gS,[85]),Y=new iu(y.E.V,!0);
Y.data={e:y.G.Ga,data:b,name:"photo.jpg"};this.g(Y)};hR.prototype.oH=function(r){var j=this.w5,D=this.C4,N=R.O(j.width*j.height*4);
R.mh(N,4294967295);R.raw.n3(D,N,j,this.xk());var b=ho.iS(j),j={Yn:new bf(0,0,D.Nm,D.gS),data:N.buffer,y6:b},Y=aP.EI("Raw Photo",[j]),x=new iu(y.E.V,!0);
x.data={e:y.G.uk,AN:Y};this.g(x);this.lZ();this.close()};hR.prototype.lZ=function(){this.w5=null;this.C4=null;
this.Yl=null;this.XQ=null};hR.prototype.PV=function(r,j,D,N){this.w5=j.eC;this.C4=R.raw.aqd(this.w5);
var b=this.C4;this.asq.l(b.Nm+" x "+b.gS+", "+(b.Nm*b.gS/1e6).toFixed(1)+" MPx");var Y=R.raw.ary(j.eC);
this.SG=gk.hS(Y);this.lw[0].l(this.SG.Zb);this.lw[1].l(this.SG.Jh);for(var P=2;P<this.lw.length;P++)this.lw[P].l(0);
this.ael()};hR.prototype.Wf=function(r,j){this.S1.Sb(gl._I[r.no]["--text-color"])};hR.prototype.ael=function(){var r=this.C4,j=r.Nm,D=r.gS,N=1;
while(j/N>this.aqV*y.f()||D/N>this.adW*y.f())N++;if(this.abv==N&&this.Yl)return;this.abv=N;var b=Math.floor(j/N),Y=Math.floor(D/N);
this.Yl={Iz:new Float32Array(b*Y*3),Nm:b,gS:Y};var x=this.s.getContext("2d");this.XQ=R.O(b*Y*4);R.mh(this.XQ,4294967295);
var C=1/(N*N);for(var w=0;w<Y;w++)for(var q=0;q<b;q++){var u=0,h=0,z=0,O=(q+1)*N,g=(w+1)*N;for(var t=w*N;
t<g;t++)for(var $=q*N;$<O;$++){var i=(t*j+$)*3;u+=this.C4.Iz[i];h+=this.C4.Iz[i+1];z+=this.C4.Iz[i+2]}var A=(w*b+q)*3;
this.Yl.Iz[A]=u*C;this.Yl.Iz[A+1]=h*C;this.Yl.Iz[A+2]=z*C}this.eE()};hR.prototype.eE=function(){var r=this.w5,j=this.Yl.Nm,D=this.Yl.gS,N=j*D,b=this.s,Y=b.getContext("2d");
b.width=j;b.height=D;y.tv(b,j,D);R.raw.n3(this.Yl,this.XQ,r,this.xk());Y.putImageData(new ImageData(new Uint8ClampedArray(this.XQ.buffer),j,D),0,0);
var x=R.mb(this.XQ);for(var P=0;P<4;P++)for(var C=1;C<256;C++)if(x[P][C]==0)x[P][C]=x[P][C-1];for(var P=0;
P<4;P++)for(var C=1;C<256;C++)if(x[P][C]==0)x[P][C]=x[P][C-1];this.S1.l(x)};hR.prototype.xk=function(){var r=[];
for(var P=0;P<this.lw.length;P++)r.push(this.lw[P].A());return r};function bF(r){hE.call(this,r?[11,11]:"Reduce Colors",r?"vbitmap":"rcolors");
this.D7=null;this.nL=null;this.BF=null;this.Z7=null;this.Xx=null;this.ath=null;this.tR=null;this.Os="";
this.By=r;this.mg=this.sT.bind(this);this.body.style.padding="0";this.z9=y.C("div","form hbar padded");
this.body.appendChild(this.z9);var j=this.qU={cnum:new b8([12,82],2,50,null),nois:new b1([12,81]),mode:new fk(null,["Cartoon","Photo"]),segm:new b1("Segmentize"),poly:new b1("Polygon"),polE:new b8("Roughness",2,30,null),ok:new iH("OK",!1,null,!0)},Y=16;
for(var D in j){var N=j[D];N.parent=this;if(D=="ok")N.X("click",this.oH,this);else N.X(y.E.Y,this.sT,this)}var b=this.J4=y.C("div","flexrow");
this.body.appendChild(b);this.U6=new ib;this.U6.X("viewchange",this.xi,this);this.zB=new ib;this.s=y.C("canvas");
this.s.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.AF=this.s.getContext("2d");
var x=R.O(16*16*4);R._u(x,Y,Y,8);this.yO=R.scale.ab(x,Y,Y);this.U6.apz(this.s);this.U6.jj(this.zB);this.zB.jj(this.U6);
b.appendChild(this.U6.i);if(r)b.appendChild(this.s);else b.appendChild(this.zB.i)}bF.prototype=new hE;
bF.prototype.sM=function(){return new gJ(0,0)};bF.prototype.Oj=function(){return!0};bF.prototype.kt=function(r,j){this.oW=r;
this.qg=j;j=j-44;if(r<600)j-=29;if(this.D7==null)return;var D=this.D7.Yn,N=ag.anI(r,j,D.d,D.r);if(N==1)j-=3;
if(N==0){r=Math.floor(r/2);y.ui(this.J4,"flexrow")}else{j=Math.floor(j/2);y.UM(this.J4,"flexrow")}y.z_(this.s,r,j);
this.U6.kt(r,j);if(this.By)this.xi();else this.zB.kt(r,j)};bF.prototype.Uc=function(r,j,D,N){this.U6.Uc(N)};
bF.prototype.h=function(){hE.prototype.h.call(this);for(var r in this.qU)this.qU[r].h()};bF.prototype.PV=function(r,j){this.tR=r;
this.Xx=null;var D=r.j[r.R[0]],N=R.Dh.s4(D.buffer.buffer,D.rect.d,D.rect.r).a2C,b=N/((D.rect.d-2)*(D.rect.r-2)),Y=this.qU;
Y.cnum.l(20);Y.nois.l(b<.75);Y.mode.l(b<.75?1:0);Y.segm.l(!1);Y.poly.l(!1);Y.polE.l(1);var x=D.rect.clone();
x.x=x.y=0;this.D7={Yn:x,data:D.buffer.buffer.slice(0)};this.nL=null;this.kt(this.oW,this.qg);this.U6.l([this.D7]);
this.U6.wf();setTimeout(this.mg,20)};bF.prototype.sT=function(){var r=!0,j=Date.now(),D=this.D7,N=this.qU,b=N.cnum.A(),Y=N.nois.A(),x=N.mode.A(),C=N.segm.A(),w=N.poly.A(),q=N.polE.A(),V=null;
if(x==0)C=w=!1;var u=["cnum","nois","mode"];if(x==1){u.push("segm");if(this.By){u.push("poly");if(w)u.push("polE")}}u.push("ok");
y.Su(this.z9);for(var P=0;P<u.length;P++)this.z9.appendChild(N[u[P]].i);if(r)console.log("---------------------------------------");
var h=Y||C,z=Y+","+C;if(h&&(this.nL==null||this.Os!=z)){this.Os=z;var O=new Uint8Array(D.data),g=D.Yn.d,t=D.Yn.r;
if(Y){if(this.Xx==null){this.Xx=O.slice(0);R.ml.aQ(this.Xx,this.Xx,g,t,15,R.ml.h4,[35]);if(r){console.log("denoise",Date.now()-j);
j=Date.now()}}O=this.Xx.slice(0)}else O=O.slice(0);if(C){var $=R.Dh.fu(O,g,t,40,10),i=$.YM,A=new Uint8Array(i*4);
for(var P=0;P<i;P++){var H=P*4,F=P*6,T=1/$.hI[F+5];A[H]=$.hI[F]*T;A[H+1]=$.hI[F+1]*T;A[H+2]=$.hI[F+2]*T}for(var P=0;
P<O.length;P+=4){var _=$.BX[P>>>2]*4;O[P]=A[_];O[P+1]=A[_+1];O[P+2]=A[_+2]}if(r){console.log("segm",Date.now()-j);
j=Date.now()}}this.nL={Yn:D.Yn.clone(),data:O.buffer}}if(h)D=this.nL;var O=new Uint8Array(D.data),g=D.Yn.d,t=D.Yn.r;
for(var P=0;P<O.length;P+=4){if(O[P+3]<10)O[P]=O[P+1]=O[P+2]=O[P+3]=0}if(x==0){V=R.Dh.anB(O,g,t,b,h?.1:2e-4);
if(r){console.log("quantize",Date.now()-j);j=Date.now()}}else{V=UPNG.quantize(O.buffer,b);V={BX:V.inds,KS:V.plte};
if(r){console.log("quantize",Date.now()-j);j=Date.now()}var X=Math.floor((g+t)*.015);if(X!=0)R.Dh.hq(V.BX,g,t,X);
if(r){console.log("remove tiny bits",Date.now()-j);j=Date.now()}}if(this.By){var o=V.BX.slice(0);for(var P=0;
P<o.length;P++)o[P]++;var c=new Uint8Array((g+2)*(t+2));R.YO(o,new bf(1,1,g,t),c,new bf(0,0,g+2,t+2));
if(!w){var E=Math.round((g+2)*(t+2)/1e4),f=j2.r7(c.slice(0),g+2,t+2,Math.min(12,E)),d=j2.HG(f);if(r){console.log("trace smooth",Date.now()-j);
j=Date.now()}}else{var d=R.K.Zk(c,g+2,t+2,q,r)}var s=d.length,B=new j9(1,0,0,1,-1,-1);for(var P=0;P<s;
P++)R.K.F(d[P].path.v,B,d[P].path.v);this.Z7=d;this.BF=V;for(var P=0;P<s;P++){var a=d[P];for(var U=P+1;
U<s;U++){var M=d[U];if(M.parent==P&&V.KS[M.color-1].est.q[3]<.05){var W=M.path.J.slice(1);W.reverse();
W=["M"].concat(W);var n=[],f=M.path.v.length;for(var e=0;e<f;e+=2){n[e]=M.path.v[f-2-e];n[e+1]=M.path.v[f-2-e+1]}R.K.concat(a.path,{v:n,J:W})}}}if(r){console.log("finding holes",Date.now()-j);
j=Date.now()}for(var P=0;P<d.length;P++){var a=d[P],Q=V.KS[a.color-1].est.q;if(Q[3]<=.05){d.splice(P,1);
P--;continue}}for(var P=1;P<d.length;P++){var J=d[P-1],a=d[P];if(J.color==a.color){R.K.concat(J.path,a.path);
d.splice(P,1);P--;continue}}this.xi()}else{var m=new Uint32Array(g*t),p=g*t;for(var P=0;P<p;P++){var L=V.KS[V.BX[P]];
m[P]=L.est.rgba}this.ath=new Uint8Array(m.buffer);this.zB.l([{Yn:D.Yn,data:m.buffer}])}};bF.prototype.xi=function(r){if(this.Z7==null)return;
var j=this.D7.Yn.d,D=this.D7.Yn.r,N=this.Z7,b=this.BF.KS,Y=this.s,x=this.AF,C=this.U6.To();x.setTransform(1,0,0,1,0,0);
x.clearRect(0,0,Y.width,Y.height);x.translate(Y.width/2,Y.height/2);x.scale(C.S,C.S);x.translate(C.u.x/C.S-j/2,C.u.y/C.S-D/2);
x.scale(1/C.S,1/C.S);x.fillStyle=this.yO;x.fillRect(0,0,j*C.S,D*C.S);x.scale(C.S,C.S);var w=[];for(var P=0;
P<b.length;P++){var q=b[P].est.q;w.push({a:Math.round(255*q[0]),p:Math.round(255*q[1]),M:Math.round(255*q[2]),kD:Math.round(255*q[3])})}for(var P=0;
P<N.length;P++){var u=N[P],q=w[u.color-1];if(q.kD==0)continue;x.fillStyle="rgba("+q.a+","+q.p+","+q.M+","+q.kD/255+")";
x.beginPath();Typr.U.pathToContext({crds:u.path.v,cmds:u.path.J},x);x.fill()}};bF.prototype.oH=function(r){var j=this.tR,D=j.R[0],N=j.j[D],b=new iu(y.E.w,!0);
b.bJ=!0;b.k=I.C5;if(this.By){var Y=this.Z7,x=Y.length==1,C=j.j.slice(0,D);if(!x)C.push(j.Hc());for(var P=0;
P<Y.length;P++){var w=Y[P],q=this.BF.KS[w.color-1].est.q;R.K.F(w.path.v,new j9(1,0,0,1,N.rect.x,N.rect.y),w.path.v);
var u=j.Xp();u.Lp("Path "+P);C.push(u);u.opacity=Math.round(q[3]*255);u.Qk|=16;u.add.SoCo={classID:"null",Clr:{t:"Objc",v:R._.XJ({a:255*q[0],p:255*q[1],M:255*q[2]})}};
u.add.vmsk=new G.$R;u.add.vstk=JSON.parse(JSON.stringify(hz._O.default));u.add.vmsk.W=R.K.CH(w.path,!1);
u.add.vogk=[];u.HJ();u.Fz(j)}var h=C[C.length-1];if(!x){var u=j.Xp();u.Lp(N.getName());u.add.lsct=bH.nV;
u.yp="pass";u.Qk=24;C.push(u);h=u}var z=N.add.lmfx;if(z)h.add.lmfx=JSON.parse(JSON.stringify(z));for(var P=D+1;
P<j.j.length;P++)C.push(j.j[P]);b.data={e:G.Dg,uJ:C,OI:[D+Y.length+(x?-1:1)],NL:[11,11]}}else{var C=j.j.slice(0),u=j.Xp();
u.Lp(N.getName());C.splice(j.R[0]+1,0,u);u.rect=N.rect.clone();u.buffer=this.ath;u.P();b.data={e:G.Dg,uJ:C,OI:[j.R[0]+1],NL:"Reduce Colors"}}this.g(b);
this.close()};function ag(r){hE.call(this,[[7,11],[7,13]][r],["redge","magiccut"][r]);this.Aq=r;this.D7={};
this.ZY=null;this.lv=null;this.tR=null;this.nI=null;this.Dv=null;this.body.style.padding="0";this.wQ=[];
this.L1=-1;this.z9=y.C("div","form hbar padded");this.body.appendChild(this.z9);this.ax=new gi;this.ax.parent=this;
this.ax.X(y.E.Y,this.ar,this);this.z9.appendChild(this.ax.i);var j=r==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
j=j.concat("tools/hand","zoomIn","zoomOut");var D=r==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.xb=new et(null,j,D,28);this.xb.X(y.E.Y,this.Uc,this);this.z9.appendChild(this.xb.i);this.Dk=new b8([7,9],0,50,null);
this.Dk.parent=this;this.Dk.X(y.E.Y,[this.ac_,this.sT][r],this);this.z9.appendChild(this.Dk.i);var N=this.amZ=new iH([2,2],!1,null,!0);
N.X("click",this.lZ,this);this.z9.appendChild(N.i);var b=this.anT=y.C("span","form");this.z9.appendChild(b);
var Y=this.aq8=new iH([12,90],!1,null,!0);Y.X("click",function(w){alert(r==0?e9.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
b.appendChild(Y.i);var x=new iH("Tutorial",!1,null,!0);x.X("click",this.a2y,this);b.appendChild(x.i);
this.JQ=new et([12,46],["checker","#ffffff","#000000"]);this.JQ.X(y.E.Y,this.a0Y,this);b.appendChild(this.JQ.i);
this._r=new fk(null,[[6,13],[6,2],[17,2]]);b.appendChild(this._r.i);this.I9=new iH("OK",!1,null,!0);
this.I9.X("click",this.oH,this);b.appendChild(this.I9.i);var C=this.J4=y.C("div","flexrow");this.body.appendChild(C);
this.Kd=new ib(!0);this.si=new ib;this.Kd.jj(this.si);this.si.jj(this.Kd);this.Kd.X("mousedown",this.uo,this);
this.Kd.X("mousemove",this.yN,this);this.Kd.X("mouseup",this.BS,this);this.Kd.X("zoom",this.ar,this);
this.si.X("zoom",this.ar,this);C.appendChild(this.Kd.i);C.appendChild(this.si.i)}ag.prototype=new hE;
ag.prototype.uf=function(r,j){var D=r!=null&&!r.j[r.R[0]].rect.jE();if(!D)alert("The layer is empty.");
return D};ag.prototype.sM=function(){return new gJ(0,0)};ag.prototype.Oj=function(){return!0};ag.prototype.kt=function(r,j){this.oW=r;
this.qg=j;j=j-12-33;if(r<900){this.anT.setAttribute("style","display:block;  text-align:right;");j-=29}else{this.anT.setAttribute("style","position:absolute;  right:0px")}var D=this.D7.rect;
if(D){var N=ag.anI(r,j,D.d,D.r);if(N==0){r=Math.floor(r/2);y.ui(this.J4,"flexrow")}else{j=Math.floor(j/2);
y.UM(this.J4,"flexrow")}this.Kd.kt(r,j);this.si.kt(r,j)}};ag.anI=function(r,j,D,N){var b=r/2,Y=j/2,x=Math.min(b/D,j/N),C=Math.min(r/D,Y/N);
return x>C?0:1};ag.prototype.h=function(){hE.prototype.h.call(this);this.ax.h();this.Dk.h();this.I9.h();
this.JQ.h();this._r.h();this.amZ.h();this.aq8.h()};ag.prototype.a2y=function(r){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Aq],"_blank")};
ag.prototype.Wf=function(r,j){this.lv=r;if(j==e5.cL||j==e5.Cr){this.ax.pB(r.j_);this.ax.l(eb.g4(),r.j_.fB,r.j_.CL)}};
ag.prototype.Uc=function(r,j,D,N){var b=this.xb.A();if(N==null){this.Kd.Uc(ib.a2W(b-3));return}this.nI=N;
var Y=I.oi.hP(this.ax.A(),N);if(Y!=null){this.ax.l(Y);this.ar()}else if(N.o(e4.h6)&&N.o(e4.Kg)){var x=this.wQ,C=0;
if(N.o(e4.$P)){if(this.L1+1<x.length)C=1}else if(this.L1>0)C=-1;if(C!=0){this.L1+=C;var w=this.L1,q=this.D7;
if(C==1)R.UB(x[w][2],x[w][0],q.Mq,q.rect);else R.UB(x[w+1][1],x[w+1][0],q.Mq,q.rect);q._a=q.rect;this.sT()}}else if(b<3)this.Kd.Uc(N)};
ag.prototype.uy=function(r){var j=this.D7,D=this.wQ,N=R.O(r.Z()*4);R.UB(j.Rd,j.rect,N,r);j.Rd=null;var b=R.O(r.Z()*4);
R.UB(j.Mq,j.rect,b,r);this.L1++;D[this.L1]=[r.clone(),N,b];while(D.length>this.L1+1)D.pop();while(D.length>50){D=D.slice(1);
this.L1--}};ag.prototype.ar=function(){var r=this.lv,j=gU.DH(this.ax.A(),r.j_.fB,this.Kd.To().S);this.Kd.RW(j)};
ag.prototype.uo=function(r){var j=this.lv,D=this.D7,N=this.nI,b=this.ax.A(),Y=this.Kd.bh(),x=[16777215,8421504,0][this.xb.A()];
this.ZY=new gU(b,j.j_.list[0].fB,j.j_.list[0].CL,{Wb:1,yT:!0},x,j.mL,D.rect);D.Rd=D.Mq.slice(0);if(N!=null&&N.o(e4.$P)&&this.Dv){this.ZY.moveTo(this.Dv.x,this.Dv.y);
this.ZY.lineTo(Y.x,Y.y)}else this.ZY.moveTo(Y.x,Y.y);this.aiA()};ag.prototype.yN=function(r){var j=this.D7,D=this.Kd.bh();
this.ZY.lineTo(D.x,D.y);this.aiA()};ag.prototype.BS=function(r){this.Dv=this.Kd.bh();this.uy(this.ZY._7());
this.sT()};ag.prototype.aiA=function(){var r=this.D7,j=this.ZY,D=j.Vr();if(D.jE())return;r._a=D;R.U.tI("norm",j.ZM(),j.q7(),r.Mq,r.rect,D,1);
this.a3c()};ag.prototype.lZ=function(r){var j=this.D7;j.Rd=j.Mq.slice(0);j._a=j.rect;R.mh(j.Mq,[4278190080,4292730333][this.Aq]);
this.uy(j.rect);this.sT()};ag.prototype.PV=function(r,j){this.tR=r;var D=r.j[r.R[0]],N=D.rect.clone(),b=N.d,Y=N.r;
this.Dk.l(this.Aq==0?3:b*Y<3e6?3:0);this.xb.l(r.c==null?0:1);this.Dk.ph();if(this.Aq==0&&r.c!=null||this.Aq==1)this.Dk.BY();
var x=this.Aq,C=R.O(N.Z()),w=new Float32Array(N.Z());if(x==0&&r.c){R.YO(r.c.channel,r.c.rect,C,N);var q=R.O(N.Z());
for(var u=0;u<Y;u++)for(var h=0;h<b;h++){var P=u*b+h,z=C[P];if(h>0&&C[P-1]!=z||h<b-1&&C[P+1]!=z||u>0&&C[P-b]!=z||u<Y-1&&C[P+b]!=z)q[P]=255}R.style.jo(q,w,b,Y)}else w.fill(1e9);
N.x=N.y=0;this.D7={rect:N,Iz:D.buffer,Ni:C,xu:w,m4:R.O(N.Z()*4),LR:R.O(N.Z()*4),Mq:R.O(N.Z()*4),Rd:null,Qx:null,_a:N,acX:{}};
if(x==0)this.ac_();else{this.D7.acX=I.LP.dB(r);var O=this.D7.Mq;R.mh(O,4287137928);var g=R.lm.getSelection(D.buffer,b,Y),t=Math.round(b/60),$=Math.round(.7*Y);
for(var u=0;u<Y;u++)for(var h=0;h<b;h++){var i=(u*b+h)*4,A=g[i>>>2];A=A>128?255:128;if(u<t||u<$&&(h<t||h>b-1-t))A=0;
O[i]=O[i+1]=O[i+2]=A}this.sT()}this.wQ=[1];this.L1=0;var H=this.ax.A();H.Brsh.v.Dmtr.v.val=Math.round(N.d/(x==0?10:20));
this.ax.l(H);this.ar();this.kt(this.oW,this.qg);this.Kd.wf()};ag.prototype.ac_=function(){var r=this.D7,j=r.rect.Z(),D=this.Dk.A(),N=r.Ni.slice(0);
for(var P=0;P<j;P++)if(r.xu[P]<D)N[P]=128;R.mh(r.Mq,4294967295);R.zQ(N,r.Mq,0);R.zQ(N,r.Mq,1);R.zQ(N,r.Mq,2);
r._a=r.rect;this.sT()};ag.prototype.sT=function(){var r=this.D7,b,C,w=0,q=0,u=0;this.a3c();var j=r.rect,D=j.d,N=j.r,Y=R.O(j.Z()),x=r.Iz;
R.ni(r.Mq,Y,0);for(var P=0;P<Y.length;P++){if(x[(P<<2)+3]!=255)continue;var h=Y[P];if(h==0)w++;else if(h==255)q++;
else u++}if(w*q*u!=0){if(this.Aq==0)C=R.vj.vj(j,x,Y);else{var z=this.xb.A();for(var O=1;O<N;O++)for(var g=1;
g<D;g++){var P=O*D+g,t=Y[P],$=Y[P-1];if(t==0&&$==255||t==255&&$==0){b="The Red and Green should never touch! Erase it with Grey.";
break}}var i=Date.now(),A=this.D7.acX;R.kZ(Y,A.nO);I.LP.T0(A,!0);var H=Math.ceil(this.Dk.A()/2);if(H==0){C=x.slice(0);
R.zQ(A.c,C,3)}else{var F=A.c.slice(0),T=A.c.slice(0);for(var _=0;_<H;_++){for(var O=1;O<N-1;O++)for(var g=1;
g<D-1;g++){var P=O*j.d+g,V=F[P];if(F[P-D]!=V||F[P-1]!=V||F[P+1]!=V||F[P+D]!=V)T[P]=128;else T[P]=V}var X=F;
F=T;T=X}C=R.vj.vj(j,x,F,20,!1)}}}else{C=x.slice(0);R.zQ(Y,C,3)}for(var P=3;P<C.length;P+=4)if(C[P]>x[P])C[P]=x[P];
if(j.gy(r.rect))r.Qx=C;else R.UB(C,j,r.Qx,r.rect);this.a0Y();if(b)alert(b,4e3)};ag.prototype.a3c=function(r){var j=this.D7,D=j._a;
R.UB(j.Iz,j.rect,j.m4,j.rect,D,!0);var N=j.Mq;if(this.Aq==1){var b=new Uint32Array(256);b[0]=4278190335;
b[255]=4278255360;var Y=j.rect.Z();N=N.slice(0);var x=new Uint32Array(N.buffer);for(var P=0;P<Y;P+=2){x[P]=b[x[P]&255];
x[P+1]=b[x[P+1]&255]}}R.U.tI("norm",N,j.rect,j.m4,j.rect,D,.3);this.Kd.l([{Yn:j.rect,data:j.m4.buffer}])};
ag.prototype.a0Y=function(r){var j=this.D7;R.mh(j.LR,[0,4294967295,4278190080][this.JQ.A()]);R.U.tI("norm",j.Qx,j.rect,j.LR,j.rect,j.rect,1);
this.si.l([{Yn:j.rect,data:j.LR.buffer}])};ag.prototype.oH=function(r){var j=this.tR,D=this.D7,N=this._r.A(),b=j.j[j.R[0]],Y=new iu(y.E.w,!0);
Y.bJ=!0;var x=b.rect.clone();if(N==0&&b.Xy()||N!=0&&!b.Xy()){Y.k=I.C5;Y.data={e:G.T6,n:j.R[0]};this.g(Y)}if(j.c!=null){Y.k=I.Fx;
Y.data={e:"fromAction",Rf:I.Vm.wi()};this.g(Y)}if(N==0){var C=j.j.slice(0),w=j.Xp();w.Lp(b.getName());
C.splice(j.R[0]+1,0,w);w.rect=x;w.buffer=D.Qx;w.P();Y.k=I.C5;Y.data={e:G.Dg,uJ:C,OI:[j.R[0]+1],NL:[7,11]};
this.g(Y)}if(N==1){var q=b.BG();Y.k=I.C5;Y.data={e:G.CS,a0J:!0};this.g(Y);var u=b.BG();u.channel=R.O(x.Z());
u.rect=x;u.color=0;u.ZI=!0;R.ni(D.Qx,u.channel,3);if(q){var h=u.JF(q);u.rect=h.rect;u.channel=h.channel;
u.color=h.color}u.H2();b.Fz()}if(N==2){var z={rect:x,channel:R.O(x.Z())};R.ni(D.Qx,z.channel,3);Y.k=I.Fx;
Y.data={e:"setsel",c:z,NL:this.g_};this.g(Y)}this.close()};function fo(){hE.call(this,[1,13],"locstor");
this.xY=null;this.Xd=[];var r=this.body,j=y.C("p");j.textContent="These files are loaded every time you start Photopea.";
r.appendChild(j);this.a46=0;this.hu=y.C("span");r.appendChild(this.hu);this.hu.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var D=y.C("span","form");r.appendChild(D);this.YI=new iH([5,4],!1,null,!0);this.YI.X("click",this.a4N,this);
D.appendChild(this.YI.i);this.aj$=new iH("Get all as ZIP",!1,null,!0);this.aj$.X("click",this.Z8,this);
D.appendChild(this.aj$.i);this.C0=new a0(!0);this.C0.parent=this;this.C0.rV(1);this.C0.X(y.E.Y,this.a6k,this);
r.appendChild(this.C0.i);this.C0.i.setAttribute("style","width: 40em; height: 25em")}fo.prototype=new hE;
fo.prototype.h=function(){hE.prototype.h.call(this);this.hu.textContent=e9.get([13,2])+": "+fN.CK(this.a46);
this.YI.h()};fo.prototype.Wf=function(r,j){this.xY=r;if(j==e5.da)this.PV()};fo.prototype.PV=function(r,j){var D=this.xY.kw.Ur,w=0;
this.Xd=[];for(var N in D)this.Xd.push(N);this.Xd.sort(function(u,h){u=u.split(".");h=h.split(".");return u[1]==h[1]?u[0]<h[0]?-1:1:u[1]<h[1]?-1:1});
var b=Math.floor(100*y.f()),Y=Math.floor(16*y.f()),x=[],C=[];for(var P=0;P<this.Xd.length;P++){var N=this.Xd[P],q=fo.af(N,D[N],b,Y);
x.push(q);C.push(N);w+=D[N].byteLength}this.C0.lu(x,C,b,Y);this.a46=w;this.h()};fo.prototype.a6k=function(r){this.C0.II(this.C0.A())};
fo.prototype.a4N=function(r){var P=this.C0.A();if(P==-1){alert("Select a file first.");return}this.C0.l(-1);
var j=this.xY.kw.Ur;delete j[this.Xd[P]];var D=new iu(y.E.V,!0);D.data={e:y.G.VD,Ek:e5.da};this.g(D)};
fo.prototype.Z8=function(r){var j=this.xY.kw.Ur,D={};for(var N in j)D[N]=new Uint8Array(j[N]);var b=UZIP.encode(D);
hs.save(b,"resources.zip")};fo.af=function(r,j,D,N){var b=y.C("canvas"),C=0;b.width=D;b.height=N;var Y=b.getContext("2d"),x=r.split(".").pop().toLowerCase();
for(var P=0;P<x.length;P++)C+=x.charCodeAt(P)*613<<8*P;Y.fillStyle="#"+R.Za(C&16777215);Y.fillRect(0,0,20,N);
var w=Math.floor(14*y.f());Y.fillStyle="#000000";Y.font="bold "+w+"px sans-serif";var q=(N-w)/2,u=fN.CK(j.byteLength),h=Y.measureText(u);
Y.fillText(u,D-12-h.width,N-q);return b.toDataURL()};function gx(r,j,D){hE.call(this,j,"cwindow");this.aom=new gJ(D[0],D[1]-33);
this.z9=y.C("div","form");this.z9.setAttribute("style","width:"+(D[2]-D[0])+"px; height:"+(D[3]-D[1])+"px");
this.body.appendChild(this.z9)}gx.prototype=new hE;gx.prototype.sM=function(r,j){return this.aom.clone()};
function fO(){hE.call(this,["PSD VAR0",[25,0]],"templates");this.anA=null;this.ex=null;this.p6=0;this.X0=null;
this.body.setAttribute("style","padding:0");this.KO=new iH("Add Templates",null,null,!0);this.body.appendChild(this.KO.i);
this.KO.X("click",this.aa5,this);this.KO.i.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a82=new iH("New Template",null,null,!0);this.a82.X("click",this.asL,this);this.a7T=new iH("Upload Current Document as a Template",null,null,!0);
this.a7T.X("click",this.aha,this);this.rr=y.C("iframe","scrollable");this.rr.setAttribute("style","border:none; margin:0; padding:0;");
this.IU=y.C("div","form scrollable padded");this.NW=y.C("div","form scrollable padded label12");var r=[],j=fO.eQ;
this.V5=[];for(var D in j){var N=parseInt(D.slice(1)),b=N%10==0?"":"\u2800\u2800- ";r.push(b+j[D]);this.V5.push(N)}this.x8=[new au("Name",null,30),new au("Description",null,30,4),new au("File"," www.Photopea.com#i...",17),new au("Thumbnail URL","* Use Imgur.com etc., ratio 3:2",17),new fk("Category",r),new iH("<< Back",null,null,!0),new iH("Save",null,null,!0),new aL("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new aL("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var P=0;P<this.x8.length;P++){var Y=this.x8[P];this.NW.appendChild(Y.i);Y.parent=this;if(P!=5)y.aR(this.NW);
if(Y instanceof iH)Y.X("click",this.aby,this)}this.body.appendChild(this.rr)}fO.prototype=new hE;fO.prototype.sM=function(r,j){return new gJ(0,0)};
fO.prototype.kt=function(r,j){this.oW=r;this.qg=j;this.up=null;j=j-4;r=r;var D=this.IU;D.style.width=r-12+"px";
D.style.height=j-12+"px";var D=this.NW;D.style.width=r-12+"px";D.style.height=j-12+"px";var D=this.rr;
D.style.width=r+"px";D.style.height=j+"px";this.Rl()};fO.prototype.h=function(){hE.prototype.h.call(this)};
fO.prototype.PV=function(r,j,D,N){this.up=r;this.aa5(null,!1)};fO.prototype.aa5=function(r,j){var D=j!=null?j:y.bN(this.rr);
if(D){if(!cM.dQ()){alert("You need to log in first!");return}var N=cM.At();this.ex=N.tpl?N.tpl.list:[];
this.Rl()}else{this.rr.setAttribute("src","");this.rr.setAttribute("src","plugins/tpls")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(D?this.IU:this.rr);this.KO.W3(D?"All Templates":"Add Templates")};fO.prototype.Rl=function(){var r=this.ex,b=450;
if(r==null)return;var j=this.IU;y.Su(j);var D=y.C("h1");D.textContent="Share your PSD templates with the world!";
var N=y.C("h3");N.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
j.appendChild(D);j.appendChild(N);j.appendChild(this.a82.i);j.appendChild(this.a7T.i);y.aR(j);b=(this.oW-20)/Math.max(1,Math.floor(this.oW/b))-42;
var Y="display:inline-block; width:"+b+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var P=r.length-1;P>=0;P--){var x=r[P],C=y.C("div");j.appendChild(C);C.setAttribute("style",Y);var w=y.C("img");
C.appendChild(w);w.setAttribute("src",x.thmb);w.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var q=y.C("h3");C.appendChild(q);q.textContent=x.name;q.setAttribute("style","margin:0 0 10px 0");var u=y.C("p");
C.appendChild(u);u.textContent=x.desc;u.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var h=0;h<2;h++){var z=new iH(h==0?"Edit":"Delete",null,null,!0);z.ar8=P;z.v0=h==0;z.X("click",this.a6W,this);
C.appendChild(z.i)}}};fO.prototype.aha=function(r){if(this.up==null){alert("No document opened.");return}var j=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!j)return;var D=new iu(y.E.V,!0);D.data={e:y.G.xJ,P9:"psd",mT:this.a2G.bind(this)};this.g(D)};fO.prototype.a2G=function(r){this.anA=r;
var j=new iu(y.E.V,!0);j.data={e:y.G.xJ,P9:"jpg",mT:this.a53.bind(this)};this.g(j)};fO.prototype.a53=function(r){this.X0={catg:0,desc:"",file:this.anA.split("#i").pop(),name:this.up.name.split(".")[0],thmb:r,utme:""};
this.v0()};fO.prototype.asL=function(r){this.X0={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.v0()};
fO.prototype.a6W=function(r){this.p6=r.target.ar8;if(!r.target.v0){this.ex.splice(this.p6,1);this.Z8();
this.Rl();return}this.v0()};fO.prototype.v0=function(){this.body.removeChild(this.IU);this.body.appendChild(this.NW);
var r=["name","desc","file","thmb"],j=this.X0?this.X0:this.ex[this.p6];for(var P=0;P<4;P++){var D=j[r[P]];
if(D!=""&&P==2)D="https://photopea.com#i"+D;this.x8[P].l(D)}this.x8[4].l(this.V5.indexOf(j.catg))};fO.prototype.aby=function(r){if(this.x8.indexOf(r.target)==6){var j=this.x8[3].A().trim(),D=j.startsWith("http")&&(j.endsWith(".jpeg")||j.endsWith(".jpg")||j.endsWith(".png"));
if(!D){alert("Thumbnail URL is incorrect.");return}var N=new XMLHttpRequest,b="mirror.php?url="+encodeURIComponent(j);
N.open("GET",b);N.responseType="arraybuffer";N.onload=this.ajS.bind(this);N.send()}else this.lZ()};fO.prototype.ajS=function(r){var j=r.target.response,D=j.byteLength;
if(D>2e5){alert("Thumbnail is too large ("+fN.CK(D)+"). Make it under 200 kB.");return}var N=["name","desc","file","thmb"],b=this.X0?this.X0:this.ex[this.p6];
for(var P=0;P<4;P++){var Y=this.x8[P].A().trim();if(Y.length==0){alert("One of values is empty.");return}if(P==2){var x=Y.split("#i");
if(x.length!=2||x[1].length!=8){alert("File ID is incorrect.");return}Y=x.pop()}b[N[P]]=Y}b.catg=this.V5[this.x8[4].A()];
if(b.utme.length==0)b.utme=""+Math.round(Date.now()/1e3);if(this.X0)this.ex.push(this.X0);this.Z8();
this.lZ()};fO.prototype.lZ=function(){this.X0=null;this.body.removeChild(this.NW);this.body.appendChild(this.IU);
this.Rl()};fO.prototype.Z8=function(){var r=cM.At();if(this.ex.length==0)delete r.tpl;else r.tpl={list:JSON.parse(JSON.stringify(this.ex))};
cM.rI(r,function(){alert("Saved.")})};fO.eQ={c0:"Mockups",c1:"Mobile & Web",c2:"Print",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function d5(){hE.call(this,"Make Selection","makesel");this.xY=null;var r=y.C("div","form");this.body.appendChild(r);
this.x$=new b1("Anti-Alias");this.x$.l(!0);r.appendChild(this.x$.i);y.aR(r);this.ZW=new hA(!0);r.appendChild(this.ZW.i);
this.I9=new iH("OK",!0,null,!0);this.I9.X("click",this.oH,this);this.body.appendChild(this.I9.i)}d5.prototype=new hE;
d5.prototype.h=function(){hE.prototype.h.call(this);this.ZW.h()};d5.prototype.oH=function(r){var j=new iu(y.E.w,!0);
j.k=I.Fx;j.data={e:"frompath",oO:[null,0,this.ZW.A(),!this.x$.A()]};this.close();this.g(j)};function fR(){hE.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");
this.up=null;this.i_=null;this.UY=null;var r=this.a9m=y.C("div","form");r.setAttribute("style","width:20em");
this.body.appendChild(r);this.Rj=new a2([12,50],["PSD","PSB"]);this.Rj.X(y.E.Y,this._6,this);r.appendChild(this.Rj.i);
y.PM(r);var j=new aL("Minify the file");r.appendChild(j.i);y.aR(r);var D=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Lv=[];for(var P=0;P<D.length;P++){var N=new b1(D[P]);this.Lv.push(N);r.appendChild(N.i);N.X(y.E.Y,this._6,this)}y.PM(r);
this.pL=new aL("aa.psd");this.ha=new aL("10 kB");r.appendChild(this.ha.i);this.adE=new aL("1000 B");
r.appendChild(this.adE.i);this.pQ=new iH([1,2],!0,null,!0);this.pQ.X("click",this.oH,this);r.appendChild(this.pQ.i);
this.W5=new iH(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.W5.X("click",this.oH,this);r.appendChild(this.W5.i);
this.X("closebtn",this.un,this)}fR.prototype=new hE;fR.prototype.PV=function(r,j,D,N){var b=y.bN(this.W5.i),Y=r.zW!=null&&r.zW.RO=="psd";
if(Y&&!b)this.a9m.appendChild(this.W5.i);if(!Y&&b)this.a9m.removeChild(this.W5.i);for(var P=0;P<this.Lv.length;
P++)this.Lv[P].l(!1);this.up=r;this._6()};fR.prototype.oH=function(r){if(r.target==this.pQ)hs.save(this.i_,this.UY);
else{if(this.Lv[3].A()){alert("You should not save a ZIP as a PSD to Google Drive.");return}c$.aar(this.up,this.i_)}};
fR.prototype.un=function(){this.up=null;this.i_=null};fR.prototype._6=function(){var r=this.up,j=[!1,!1,!1,!1];
for(var P=0;P<3;P++)j[P]=this.Lv[P].A();var D=this.Lv[3].A(),N=j[3]=this.Rj.A()==1,b=r.name.slice(0,r.name.length-3),Y=this.i_=aP.QE("PSD").TL(r,0,0,j),eK=this.UY=b+"ps"+(N?"b":"d");
if(D){var x={};x[eK]=new Uint8Array(Y);Y=this.i_=UZIP.encode(x);eK=this.UY=b+"zip"}this.pL.l(eK);this.ha.l(fN.CK(Y.byteLength));
this.ha.i.style["font-size"]="2em";this.adE.l(" \u2001 "+Y.byteLength+" B");this.pQ.W3(e9.get([1,2])+" \""+eK+"\"")};
fR.prototype.h=function(){hE.prototype.h.call(this);this.pQ.h();this.W5.h()};function e6(r,j,D,N){iI.call(this);
this.name=r;this.ac9=D;this.UP=N;this.Y0=y.C("div","");this.Y0.setAttribute("draggable","true");this.UX=y.C("div","pbody");
this.g$=new iH("",!1,"");this.g$.parent=this;this.aqf=y.C("span","cross");this.v3=y.C("span","label");
var b=this.a1S.bind(this);this.Y0.addEventListener("mousedown",this.aqU.bind(this),!1);this.Y0.addEventListener("contextmenu",b,!1);
this.g$.i.addEventListener("contextmenu",b,!1);this.aqf.addEventListener("mousedown",this.fX.bind(this),!1);
this.Y0.appendChild(this.v3);if(j)this.Y0.appendChild(this.aqf);this.GI=!1;this.by=new cW([{name:[1,12]}]);
this.by.X("select",this.fX,this);this.v3.textContent=r}e6.prototype=new iI;e6.prototype.uH=function(){return null};
e6.prototype.h=function(){var r=e9.get(this.name),j=this.oW==0?22:Math.round(2+this.oW/50),D=r.length>j;
this.v3.textContent=D?r.slice(0,j-2):r;if(D)for(var N=0;N<2;N++){var b=y.C("span");b.textContent=r.charAt(j-2+N);
b.setAttribute("style","opacity:"+(.6-N*.4));this.v3.appendChild(b)}var Y=r.split(" "),x=Y.length==2?Y[0].substring(0,2)+Y[1][0]:r.substring(0,3);
if(x.charCodeAt(0)>=11776)x=x.substring(0,1);var C=this.ac9;if(C==null)this.g$.W3(x,r);else{var w;if(C.startsWith("---"))w="<img src=\""+PIMG[C.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(C.indexOf("\"")==-1)w="<img src=\""+C+"\" alt=\""+r+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.g$.W3(w,r)}};e6.prototype.enable=function(){this.UX.setAttribute("class","pbody")};e6.prototype.disable=function(){this.UX.setAttribute("class","pbody disabled")};
e6.prototype.Wf=function(r,j){};e6.prototype.PV=function(r,j,D){};e6.prototype.Ji=function(r){};e6.prototype.kt=function(r,j){};
e6.prototype.wN=function(r){this.name=r;this.h()};e6.prototype.au=function(){};e6.prototype.aqU=function(r){if(r.button==0)this.g(new iu("select",!1))};
e6.prototype.a1S=function(r){y.Wp(r);if(this.UP!=null&&isNaN(this.UP))return;var j=y.dD(r,document.body),D=this.by;
D.update(null);D.h();D.parent=this;var N=new iu(y.E.V,!0);N.data={e:y.G.Eo,Z3:D,x:j.x+1,y:j.y+1};this.g(N)};
e6.prototype.nu=function(){this.fX({})};e6.prototype.fX=function(r){if(r.stopPropagation)r.stopPropagation();
if(this.UP!=null&&!isNaN(this.UP)){var j=new iu(y.E.V,!0);j.data={e:y.G.ad,Z3:this.by};this.g(j);j.data={e:y.G.VD,Ek:e5.ZG,m:parseFloat(this.UP),jB:"del"};
this.g(j)}else if(this.ah$())this.g(new iu(y.E.Gt,!1))};e6.prototype.ah$=function(r){return!0};e6.prototype.xR=function(r,j,D,N,b){};
e6.prototype.Vt=function(r,j,D,N,b){};e6.prototype.rE=function(r,j,D,N,b){};e6._K=function(r,j){if(r.childElementCount!=0)return;
var D=r.textContent;this.kJ=this.a83.bind(this);this.aew=this.a08.bind(this);this.vg=j;this.Pf=r;this.aeQ=D;
var N=y.C("input","");N.setAttribute("type","text");N.setAttribute("size","10");N.setAttribute("value",D);
y.Su(r);r.appendChild(N);N.select();N.focus();r.addEventListener("keyup",this.kJ,!1);document.body.addEventListener("mousedown",this.aew,!1)};
e6._K.prototype.a83=function(r){var j=e4.Qi,D=j(r.code,e4.Lf);if(j(r.code,e4.Pj)||D)this.ajf(D)};e6._K.prototype.a08=function(r){var j=r.target;
if(j.tagName&&j.tagName.toLowerCase()=="input")return;this.ajf(!0)};e6._K.prototype.ajf=function(r){var j=this.Pf,D=j.firstChild.value;
j.removeEventListener("keyup",this.kJ);document.body.removeEventListener("mousedown",this.aew);if(r&&D!=""){this.vg(D)}else{y.Su(j);
j.textContent=this.aeQ}};e6.kG={cu:"0",a3_:"1",C5:"2",alx:"3",ain:"4",EH:"5",CSS:"6",cL:"7",ap8:"8",arS:"9",ags:"10",amX:"11",a2f:"12",pN:"13",fZ:"14",aez:"15",arD:"16",Yk:"17",a6U:"18",alf:"19",a8K:"20"};
function ea(){e6.call(this,[9,9],!1,"---panels/actions",e6.kG.amX);this.xY=null;this.Cb=[0,0];this.mm=y.C("div","padded scrollable");
this.mm.setAttribute("style","width:260px;  height:260px");this.UX.appendChild(this.mm);this.X(y.E.Y,this.OH,this);
this.bZ=y.C("div","lpfoot");this.UX.appendChild(this.bZ);this.xC=[];var r="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",j="</svg>",D=r+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+j,N=r+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+j;
this.a6Y=r+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+j;this.ae8=r+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+j;
var b=[this.a6Y,N,"lrs/folder","lrs/newlayer","lrs/bin",D],Y=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var P=0;P<b.length;P++){var x=b[P];if(1<P&&P!=b.length-1)x="<img src=\""+PIMG[b[P]]+"\" class=\"gsicon\" />";
var C=new iH(x,!1,Y[P]);C.X("click",this.akJ,this);this.bZ.appendChild(C.i);this.xC.push(C)}}ea.prototype=new e6("");
ea.prototype.h=function(){e6.prototype.h.call(this);for(var P=0;P<this.xC.length;P++)this.xC[P].h()};
ea.prototype.akJ=function(r){var P=this.xC.indexOf(r.currentTarget),j=this.Cb,D=this.xY,N=D.rT;if(P==0){var b,Y=D._k;
if(N.length==0){alert("Create an Action Set first.");return}if(j.length<2){alert("Select a target action first.");
return}if(Y==null){b=this.ae8;Y=this.Cb}else{b=this.a6Y;Y=null}this.xC[0].W3(b);D._k=Y}else if(P==1)this.aaY();
else if(P==2||P==3){var x={NL:"Action Set "+N.length,lk:[],exp:!0};if(P==2||N.length==0){j=[N.length];
N.push(x)}if(P==3){var C=N[j[0]].lk;j=[j[0],C.length];C.push({NL:"Action "+C.length,color:0,lk:[],a0e:!1,shift:!1,exp:!0,wd:C.length})}this.Cb=j;
this.eE()}else if(P==4){var w;if(j.length==1)w=N;else if(j.length==2)w=N[j[0]].lk;else w=N[j[0]].lk[j[1]].lk;
var q=j.length-1;w.splice(j[q],1);if(w.length==0)j.pop();else while(j[q]>=w.length)j[q]--;if(j.length==0)j.push(0);
this.eE()}else if(P==5){if(N.length==0){alert("No Actions Present.");return}var u=new iu(y.E.V,!0);u.data={e:y.G.QX,a6x:e5.w,As:j[0]};
this.g(u)}};ea.prototype.OH=function(r){var j=this.xY.rT,D=r.data.e,N=r.data.IA;if(D=="sel")this.Cb=N;
if(D=="fold"){if(N.length==1)j[N[0]].exp=!j[N[0]].exp;else j[N[0]].lk[N[1]].exp=!j[N[0]].lk[N[1]].exp}if(D=="enab"){var b=j[N[0]].lk[N[1]].lk[N[2]];
b.N=!b.N}if(D=="nchange"){if(N.length==1)j[N[0]].NL=r.data.l6;else j[N[0]].lk[N[1]].NL=r.data.l6}this.eE()};
ea.prototype.Wf=function(r,j){this.xY=r;if(j==e5.w||j==e5.Cr)this.eE()};ea.prototype.eE=function(){if(this.xY==null)return;
y.Su(this.mm);var r=this.xY.rT;if(r.length==0)return;var j=JSON.stringify(this.Cb);for(var P=0;P<r.length;
P++){var D=r[P],N=new ea.b0([P],j,D.exp,D.NL.split("=").pop());N.parent=this;this.mm.appendChild(N.i);
if(!D.exp)continue;for(var b=0;b<D.lk.length;b++){var Y=D.lk[b],N=new ea.b0([P,b],j,Y.exp,Y.NL.split("=").pop());
N.parent=this;this.mm.appendChild(N.i);if(!Y.exp)continue;for(var x=0;x<Y.lk.length;x++){var C=Y.lk[x],N=new ea.b0([P,b,x],j,null,e9.get(dA.a89(C)),C.N);
N.parent=this;this.mm.appendChild(N.i)}}}};ea.prototype.aaY=function(){var r=this.xY.rT,j=this.Cb;if(r.length==0){alert("No Actions Present");
return}if(j.length==1){alert("Select an Action first");return}if(this.xY._k!=null){alert("You can not apply actions while recording actions");
return}if(j.length==1)j.push(0);var D=r[j[0]],N=D.lk[j[1]],b=new iu(y.E.V,!0);b.data={e:y.G.Vy,oO:[N.NL,D.NL]};
this.g(b)};ea.b0=function(r,j,D,N,b){iI.call(this);this.IA=r;var Y=this.IA.length-1;this.i=y.C("div","layeritem"+(JSON.stringify(r)==j?" selected":""));
this.FO=y.C("div","head");this.i.appendChild(this.FO);this.FO.setAttribute("style","height:24px");this.$B=y.C("div","headL");
this.FO.appendChild(this.$B);if(Y!=0){var x=y.C("div");x.style.width=Y*20+"px";this.$B.appendChild(x)}if(D!=null){var C=this.apS=y.C("div",D?"open":"closed");
this.$B.appendChild(C)}else{var w=this.apa=y.C("div","cmark");w.setAttribute("style","background-size:12px 12px; opacity:"+(b?1:.3));
this.$B.appendChild(w)}if(Y==0){var q=y.C("div","folder");this.$B.appendChild(q)}var u=this.v3=y.C("div","label");
u.textContent=N;this.$B.appendChild(u);this.i.addEventListener("mouseup",this.r3.bind(this),!1)};ea.b0.prototype=new iI;
ea.b0.prototype.r3=function(r){if(r.detail==1&&r.target.tagName.toLowerCase()!="input"){var j="sel";
if(r.target==this.apS)j="fold";if(r.target==this.apa)j="enab";var D=new iu(y.E.Y,!0);D.data={e:j,IA:this.IA};
this.g(D)}else if(this.IA.length<3)var N=new e6._K(this.v3,this.vg.bind(this))};ea.b0.prototype.vg=function(r){var j=new iu(y.E.Y,!0);
j.data={e:"nchange",l6:r,IA:this.IA};this.g(j)};function fT(){e6.call(this,[3],!1,null,e6.kG.a6U);this.UX.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.xC=[];var P=0;for(var r in cz.names){var j=new iH("<img src=\""+PIMG["adj/"+r]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,cz.names[r]);
j.X("click",this.ajN,this);this.xC.push(j);this.UX.appendChild(j.i);if(P==4||P==10)y.aR(this.UX);P++}}fT.prototype=new e6("");
fT.prototype.h=function(){e6.prototype.h.call(this);for(var P=0;P<this.xC.length;P++)this.xC[P].h()};
fT.prototype.ajN=function(r){var j=this.xC.indexOf(r.target),D=ii.Ou()[j],N=new iu(D.$,!0);N.data=D.H;
this.g(N)};var jB=function(){function r(){e6.call(this,[9,3],!1,"---panels/brush",e6.kG.cL);this.Bt=null;
this.ER=null;this.xY=null}r.prototype=new e6("");r.prototype.ii=function(){var x=y.C("div","");this.UX.appendChild(x);
this.RI=y.C("div","bordered cell");this.RI.setAttribute("style","width:10em; height:28.5em;");x.appendChild(this.RI);
this.d_=[];this.Cc=null;this.Qu=[];var C=this.amA.bind(this);this.Nz=[new D,new N,new b,new Y];for(var P=0;
P<this.Nz.length;P++){var w=y.C("div","listitem"),q=this.Nz[P].Ox,u=null;if(P==0){this.Cc=new aL(q);
w.appendChild(this.Cc.i)}else{u=new b1(q,!1);u.X(y.E.Y,this.anN,this);w.appendChild(u.i)}this.Qu.push(u);
this.RI.appendChild(w);this.d_.push(w);w.addEventListener("click",C,!1)}this.cO=y.C("div","cell padded");
x.appendChild(this.cO);for(var P=0;P<this.Nz.length;P++)this.Nz[P].X("brushchange",this.alk,this);this.setItem(0);
this.s=y.C("canvas");this.s.height=10;x.appendChild(this.s);this.AF=this.s.getContext("2d");this.sT()};
r.prototype.kt=function(x,C){if(this.oW==x)return;this.oW=x;this.qg=C;this.sT()};r.prototype.au=function(){if(!y.bN(this.UX))return;
if(this.RI){this.sT();return}this.ii();this.h();this.Wf(this.xY,e5.Cr)};r.prototype.h=function(){e6.prototype.h.call(this);
if(this.RI==null)return;this.Cc.h();for(var P=1;P<this.Qu.length;P++)this.Qu[P].h();for(var P=0;P<this.Nz.length;
P++)this.Nz[P].h()};r.prototype.alk=function(x){var C=this.Nz.indexOf(x.currentTarget),w=JSON.parse(JSON.stringify(this.Nz[C].ER)),q=new iu(y.E.V,!0);
q.data={e:y.G.VD,Ek:e5.KY,ER:w};this.g(q)};r.prototype.anN=function(x){this.amq(this.Qu.indexOf(x.currentTarget),x.currentTarget.Pp())};
r.prototype.amA=function(x){var P=this.d_.indexOf(x.currentTarget);if(x.target.tagName.toLowerCase()=="input")return;
if(this.Qu[P]&&!this.Qu[P].Pp()){this.Qu[P].H8();this.amq(P,!0)}this.setItem(P)};r.prototype.amq=function(x,C){this.Nz[x].Ae(C)};
r.prototype.setItem=function(x){for(var P=0;P<this.Nz.length;P++)this.d_[P].setAttribute("class","listitem");
if(this.cO.firstChild)this.cO.removeChild(this.cO.firstChild);this.d_[x].setAttribute("class","listitem selected");
this.cO.appendChild(this.Nz[x].i)};r.prototype.Wf=function(x,C){this.xY=x;if(this.RI==null)return;if(C==e5.cL||C==e5.Cr){this.Bt=x.j_;
for(var P=0;P<this.Nz.length;P++)this.Nz[P].pB(this.Bt)}if(C==e5.KY||C==e5.Cr){this.ER=x.j_.EU;this.sT()}if(C==e5.pN)this.sT()};
r.prototype.sT=function(){if(this.ER)this.enable();else{this.disable();return}if(!y.bN(this.UX))return;
var x=this.xY;for(var P=0;P<this.Nz.length;P++){this.Nz[P].l(this.ER);if(this.Qu[P])this.Qu[P].l(this.Nz[P].Pp())}var C=JSON.parse(JSON.stringify(this.ER));
C.Brsh.v.Dmtr.v.val=Math.min(C.Brsh.v.Dmtr.v.val,50);y.z_(this.s,this.oW,80);var w=new bf(0,0,this.s.width,this.s.height),q=new gU(C,this.Bt?this.Bt.fB:null,this.Bt?this.Bt.CL:null,{Wb:1},x.xg,x.mL,w),u=w.r/2,h=w.d-u*2;
q.moveTo(u,u);for(var P=0;P<=h;P+=10)q.lineTo(u+P,u+20*Math.sin(2*Math.PI*P/h));q.finish();var z=this.AF.createImageData(w.d,w.r);
R.UB(q.ZM(),q.q7(),z.data,w);this.AF.putImageData(z,0,0)};function j(x){iI.call(this);this.Ox=x;this.i=y.C("div","");
this.ER=null}j.prototype=new iI;j.prototype.pB=function(x){};j.prototype.l=function(x){this.ER=JSON.parse(JSON.stringify(x));
this.i.setAttribute("class",this.Pp()?"":"disabled");this.sT()};j.prototype.Ae=function(x){};j.prototype.Pp=function(){return!1};
j.prototype.h=function(){};j.prototype.sT=function(){};j.prototype.jq=function(){this.g(new iu("brushchange"))};
function D(){j.call(this,[15,0]);this.Bt=null;this.arY=null;this.Ps=new a0(!0);this.i.appendChild(this.Ps.i);
this.Ps.X(y.E.Y,this.ahA,this);this.Ps.i.style.height="10.7em";this.pc=new fv([12,14,0],1,1e3," px",0,!0);
this.pc.X(y.E.Y,this.a9Y,this);this.MG=new fv([12,15],0,359," \xB0");this.MG.X(y.E.Y,this.a5s,this);
this.Y4=new fv([12,16],0,100," %");this.Y4.X(y.E.Y,this.a4V,this);this.wK=new fv([12,17],0,100," %");
this.wK.X(y.E.Y,this.a04,this);this.Lc=new fv([12,18],1,300," %");this.Lc.X(y.E.Y,this.aiO,this);this.d_=[this.pc,this.MG,this.Y4,this.wK,this.Lc]}D.prototype=new j;
D.prototype.h=function(){this.pc.h();this.MG.h();this.Y4.h();this.wK.h();this.Lc.h()};D.prototype.Pp=function(){return!0};
D.prototype.pB=function(x){this.Bt=x;var C=[],w=Math.floor(30*y.f()),q=Math.floor(40*y.f());for(var P=0;
P<x.list.length;P++){var u=x.list[P].v,h=gU.af(u,x.fB,x.CL,w,q);C.push(h)}this.Ps.lu(C,null,w,q)};D.prototype.sT=function(){var x=this.ER.Brsh.v,C=x.classID!=this.arY;
this.arY=x.classID;if(C)for(var P=0;P<this.d_.length;P++)if(this.i.contains(this.d_[P].i))this.i.removeChild(this.d_[P].i);
this.pc.l(x.Dmtr.v.val);if(C)this.i.appendChild(this.pc.i);this.MG.l(x.Angl.v.val);if(C)this.i.appendChild(this.MG.i);
if(x.classID=="computedBrush"||x.classID=="sampledBrush"){this.Y4.l(x.Rndn.v.val);if(C)this.i.appendChild(this.Y4.i)}if(x.classID=="computedBrush"){this.wK.l(x.Hrdn.v.val);
if(C)this.i.appendChild(this.wK.i)}this.Lc.l(x.Spcn.v.val);if(C)this.i.appendChild(this.Lc.i)};D.prototype.ahA=function(x){this.ER=this.Bt.list[this.Ps.A()].v;
this.jq()};D.prototype.a9Y=function(x){this.ER.Brsh.v.Dmtr.v.val=x.target.A();this.jq()};D.prototype.a5s=function(x){this.ER.Brsh.v.Angl.v.val=x.target.A();
this.jq()};D.prototype.a4V=function(x){this.ER.Brsh.v.Rndn.v.val=x.target.A();this.jq()};D.prototype.a04=function(x){this.ER.Brsh.v.Hrdn.v.val=x.target.A();
this.jq()};D.prototype.aiO=function(x){this.ER.Brsh.v.Spcn.v.val=x.target.A();this.jq()};function N(){j.call(this,[15,1]);
this.aN=new fv([15,4,0],0,100,"%");this.aN.X(y.E.Y,this.aef,this);this.i.appendChild(this.aN.i);this.Ow=new fv([15,4,1],0,100,"%");
this.Ow.X(y.E.Y,this.afS,this);this.i.appendChild(this.Ow.i);this.oK=new fv([15,4,2],0,100,"%");this.oK.X(y.E.Y,this.afc,this);
this.i.appendChild(this.oK.i);this.XO=new fv([15,4,3],0,100,"%");this.XO.X(y.E.Y,this.a9V,this);this.i.appendChild(this.XO.i);
this.tz=new fv([15,4,4],1,100,"%");this.tz.X(y.E.Y,this.ady,this);this.i.appendChild(this.tz.i)}N.prototype=new j;
N.prototype.h=function(){this.aN.h();this.Ow.h();this.oK.h();this.XO.h();this.tz.h()};N.prototype.Pp=function(){return this.ER.useTipDynamics.v};
N.prototype.Ae=function(x){this.ER.useTipDynamics.v=x;eb.i5.Wa(this.ER);this.jq()};N.prototype.sT=function(){var x=this.ER;
if(x.useTipDynamics.v==!1)return;this.aN.l(x.szVr.v.jitter.v.val);this.Ow.l(x.minimumDiameter.v.val);
this.oK.l(x.angleDynamics.v.jitter.v.val);this.XO.l(x.roundnessDynamics.v.jitter.v.val);this.tz.l(x.minimumRoundness.v.val)};
N.prototype.aef=function(x){this.ER.szVr.v.jitter.v.val=x.target.A();this.jq()};N.prototype.afS=function(x){this.ER.minimumDiameter.v.val=x.target.A();
this.jq()};N.prototype.afc=function(x){this.ER.angleDynamics.v.jitter.v.val=x.target.A();this.jq()};
N.prototype.a9V=function(x){this.ER.roundnessDynamics.v.jitter.v.val=x.target.A();this.jq()};N.prototype.ady=function(x){this.ER.minimumRoundness.v.val=x.target.A();
this.jq()};function b(){j.call(this,[15,2]);this.FG=new fv([15,5,0],0,1e3," %");this.FG.X(y.E.Y,this.ag5,this);
this.i.appendChild(this.FG.i);this.Ag=new fv([15,5,1],1,20);this.Ag.X(y.E.Y,this.anz,this);this.i.appendChild(this.Ag.i);
this.f_=new fv([15,5,2],0,100," %");this.f_.X(y.E.Y,this.aiR,this);this.i.appendChild(this.f_.i)}b.prototype=new j;
b.prototype.h=function(){this.FG.h();this.Ag.h();this.f_.h()};b.prototype.Pp=function(){return this.ER.useScatter.v};
b.prototype.Ae=function(x){this.ER.useScatter.v=x;eb.i5.Wa(this.ER);this.jq()};b.prototype.sT=function(){var x=this.ER;
if(x.useScatter.v==!1)return;this.FG.l(x.scatterDynamics.v.jitter.v.val);this.Ag.l(x.Cnt.v);this.f_.l(x.countDynamics.v.jitter.v.val)};
b.prototype.ag5=function(x){this.ER.scatterDynamics.v.jitter.v.val=x.target.A();this.jq()};b.prototype.anz=function(x){this.ER.Cnt.v=x.target.A();
this.jq()};b.prototype.aiR=function(x){this.ER.countDynamics.v.jitter.v.val=x.target.A();this.jq()};
function Y(){j.call(this,[15,3]);this.S2=new fv([15,6,0],0,100," %");this.S2.X(y.E.Y,this.adJ,this);
this.i.appendChild(this.S2.i);this.IE=new fv([15,6,1],0,100," %");this.IE.X(y.E.Y,this.apg,this);this.i.appendChild(this.IE.i);
this.ut=new fv([15,6,2],0,100," %");this.ut.X(y.E.Y,this.a1x,this);this.i.appendChild(this.ut.i);this.vQ=new fv([15,6,3],0,100," %");
this.vQ.X(y.E.Y,this.aqc,this);this.i.appendChild(this.vQ.i)}Y.prototype=new j;Y.prototype.h=function(){this.S2.h();
this.IE.h();this.ut.h();this.vQ.h()};Y.prototype.Pp=function(){return this.ER.useColorDynamics.v};Y.prototype.Ae=function(x){this.ER.useColorDynamics.v=x;
eb.i5.Wa(this.ER);this.jq()};Y.prototype.sT=function(){var x=this.ER;if(x.useColorDynamics.v==!1)return;
this.S2.l(x.clVr.v.jitter.v.val);this.IE.l(x.H.v.val);this.ut.l(x.Strt.v.val);this.vQ.l(x.Brgh.v.val)};
Y.prototype.adJ=function(x){this.ER.clVr.v.jitter.v.val=x.target.A();this.jq()};Y.prototype.apg=function(x){this.ER.H.v.val=x.target.A();
this.jq()};Y.prototype.a1x=function(x){this.ER.Strt.v.val=x.target.A();this.jq()};Y.prototype.aqc=function(x){this.ER.Brgh.v.val=x.target.A();
this.jq()};return r}();function hO(){e6.call(this,[9,0],!1,null,e6.kG.cu);this.UX.setAttribute("style","min-width:200px;");
this.K4=y.C("div","hpbody scrollable");this.K4.style.height="160px";this.UX.appendChild(this.K4);this.a8V=-1;
this.dR=[];this.pf=""}hO.prototype=new e6("");hO.prototype.PV=function(r){if(r==null){y.Su(this.K4);
this.pf="";return}y.Su(this.K4);var j=0;for(var P=0;P<r.history.length;P++)if(P<=r.Kx&&!r.history[P].Df)j=P;
for(var P=0;P<r.history.length;P++){var D=r.history[P];if(D.Df)continue;var N=new hi(D,P,j);N.parent=this;
this.K4.appendChild(N.i);this.dR.push(N)}if(r.Kx==r.history.length-1)this.au()};hO.prototype.au=function(){this.K4.scrollTop=this.K4.scrollHeight};
hO.prototype.h=function(){e6.prototype.h.call(this);for(var P=0;P<this.dR.length;P++)this.dR[P].h()};
function hi(r,P,j){iI.call(this);this.index=P;this.i=y.C("div",P==j?"listitem selected":"listitem");
this.ZV=r.name;this.h();if(P>j)this.i.style.opacity=.4;this.i.addEventListener("click",this.xR.bind(this),!1)}hi.prototype=new iI;
hi.prototype.h=function(){this.i.textContent=e9.get(this.ZV)};hi.prototype.xR=function(r){if(this.index==this.parent.a8V)return;
this.MJ({e:"h_itemchange",index:this.index})};hi.prototype.MJ=function(r){var j=new iu(y.E.w,!0);j.data=r;
j.k=I.cu;this.g(j)};function b0(){e6.call(this,[9,10],!1,"---panels/histogram",e6.kG.ain);var r=y.C("div","padded");
this.UX.appendChild(r);this.S1=new gF(256,!0);r.appendChild(this.S1.i);this.up=null}b0.prototype=new e6("");
b0.prototype.PV=function(r){this.up=r;this.eE()};b0.prototype.eE=function(){var r=this.up;if(!y.bN(this.UX))return;
if(r==null||r.R.length==0){this.S1.l(R.mb(R.O(4)));return}var j=r.Ez(),D=new bf(0,0,r.d,r.r),N=D.Z();
if(r.c){var b=r.c.rect,Y=R.O(b.Z()*4);R.UB(j,D,Y,b);R.R1(r.c.channel,Y);j=Y;D=b;var x=r.c.channel;N=0;
for(var P=0;P<x.length;P++)N+=x[P];N=Math.round(N/255)}var C=R.mb(j);C[0][255]+=3*(N-C[5]);for(var P=1;
P<4;P++)C[P][255]+=N-C[5];this.S1.l(C,N)};b0.prototype.Wf=function(r,j){this.S1.Sb(gl._I[r.no]["--text-color"])};
b0.prototype.h=function(){e6.prototype.h.call(this);this.S1.h()};b0.prototype.au=function(){this.eE()};
function ji(){e6.call(this,[9,8],!1,null,e6.kG.a3_);this.mm=y.C("div","padded");this.UX.appendChild(this.mm);
this.Yj=new aW(10);this.mm.appendChild(this.Yj.i);this.mm.appendChild(y.C("hr"));this.rl=new hv;this.rl.parent=this;
this.mm.appendChild(this.rl.j7);this.Yj.X(y.E.Y,this.amV,this);this.rl.X(y.E.Y,this.amV,this)}ji.prototype=new e6("");
ji.prototype.amV=function(r){var j;if(r.target==this.Yj)j=this.Yj.A();else{var D=this.rl.A();j=Math.round(D.a)<<16|Math.round(D.p)<<8|Math.round(D.M)}var N=new iu(y.E.V,!0);
N.data={e:y.G.VD,Ek:e5.pN,Ix:0,m:j};this.g(N)};ji.prototype.Wf=function(r,j){var D=r.xg,N=j==e5.Cr;if(j==e5.pN||N){this.Yj.l(D);
this.rl.l({a:D>>>16&255,p:D>>>8&255,M:D>>>0&255,Z5:"Color #"+R.Za(D)})}if(j==e5.V_||N){var b=r.acz;this.rl.pB(b)}};
function d7(){e6.call(this,[12,72],!1,null,e6.kG.arD);this.bR=null;this.FW=null;this.K4=y.C("div","lpbody scrollable");
this.bZ=y.C("div","lpfoot");this.UX.appendChild(this.K4);this.UX.appendChild(this.bZ);this.dp=[];this.X("click",this.km,this);
this.W2=[];d7.vC([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.W2,this.bZ,this.vZ.bind(this),this.W1.bind(this));
this.RX=new cW([{name:"Merge Channels",IC:!0}]);this.RX.X("select",this.xK,this)}d7.prototype=new e6("");
d7.prototype.xK=function(r){if(this.FW==null)return;var j=new iu(y.E.V,!0);j.data={e:y.G.gl,SO:"mergechannels"};
this.g(j)};d7.prototype.uH=function(){return this.RX};d7.vC=function(r,j,D,N,b){for(var P=0;P<r.length;
P++){var Y=new iH("W",!1,r[P]);j.push(Y);y.Wu(Y.i,N);D.appendChild(Y.i);var x=Y.i;x.addEventListener("drop",b,!1);
x.addEventListener("dragover",function(C){C.preventDefault()},!1);x.addEventListener("dragenter",y.Wp,!1)}};
d7.xG=function(r,j){for(var P=0;P<r.length;P++)if(r[P].i==j.currentTarget)return P};d7.prototype.vZ=function(r){var j=d7.xG(this.W2,r);
if(j==0)this.g(jk.I0(!0,null,r));else{j--;var D=new iu(y.E.PN,!0),N={classID:"null"};if(j==0)N.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(j==1)N.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else N.null=dA.W4("Chnl",!0);D.data={sv:["duplicate","make","delete"][j],Q4:N};this.g(D)}};d7.prototype.W1=function(r){var j=d7.xG(this.W2,r);
if(j==2){var D=new iu(y.E.PN,!0),N={classID:"null"};N.null=dA.W4("Chnl",!0);D.data={sv:"duplicate",Q4:N};
this.g(D)}else this.vZ(r)};d7.prototype.v6=function(P){var r=this.dp,j=r[P];if(j==null){var D=y.C("canvas");
j=D.getContext("2d");r.push(j)}return j};d7.prototype.km=function(r){var j=this.bR.slice(0),D=r.data.wd,N=j[0]+j[1]+j[2],b=this.FW;
if(-5<D&&D<0){var Y=-D-1;if(r.data.qI){if(Y==0)j=N==3?[0,0,0]:[1,1,1];else{if(j[Y-1]==0)j[Y-1]=1;else if(!0)j[Y-1]=0}}else{if(Y==0)j=[1,1,1];
else{j=[0,0,0];j[Y-1]=1}b.cz=[]}var x=new iu(y.E.w,!0);x.k=I.Sz;x.data={e:"setcls",Cs:j};this.g(x);return}if(-1<D){var C=b.j[D],w=C.Cz==1?C.BG():C.dw(b).B;
if(r.data.qI)w.zo=!w.zo;else{for(var P=0;P<b.c9.length;P++)b.c9[P].zo=!1;b.cz=[]}}else{var q=-D-5,w=b.c9[q];
if(r.data.qI)w.zo=!w.zo;else{for(var P=0;P<b.c9.length;P++)b.c9[P].zo=!1;w.zo=!0;b.cz=[q]}}b.yn=b._P=!0};
d7.prototype.au=function(){this._6()};d7.prototype.PV=function(r){this.FW=r;this._6()};d7.prototype._6=function(){var r=this.FW,j=this.K4,C=34,w=34,O=4;
y.Su(j);if(r==null||!y.bN(j))return;var D=r.d,N=r.r,b=new bf(0,0,D,N),Y=this.bR=r.z.Cs.slice(0),x=Y[0]+Y[1]+Y[2];
if(D>N)w=Math.round(w*N/D);else C=Math.round(C*D/N);var q=["RGB"].concat(cz.r8);for(var P=0;P<4;P++){var u=this.v6(P);
R.Jx.Am(u,C,w,b,r.Ez(),b,!1,P==0?null:P-1);var h=P==0?x==3:Y[P-1]==1,z=new jk(-1-P,!0,!0,u,q[P],h,h);
z.parent=this;j.appendChild(z.i)}for(var P=0;P<r.R.length;P++){var g=r.j[r.R[P]],t=g.Cz;if(t!=1&&t!=3)continue;
var $=t==1?g.BG():g.dw(r).B,u=this.v6(O+P);O++;R.Jx.Al(u,C,w,b,$);var z=new jk(r.R[P],!0,!0,u,g.getName()+(t==1?"":" Filter")+" Mask",!0,$.zo);
z.parent=this;j.appendChild(z.i)}for(var P=0;P<r.c9.length;P++){var $=r.c9[P],u=this.v6(O+P);R.Jx.Al(u,C,w,b,$);
var z=new jk(-5-P,!0,$.name=="Quick Mask",u,$.name,r.cz.indexOf(P)!=-1,$.zo,I.C5,{e:G.$c,Ix:"rnm",wd:P});
z.parent=this;j.appendChild(z.i)}};d7.prototype.kt=function(r,j){this.K4.style.height=j-9-26+"px";this.K4.style.width=r+"px"};
d7.prototype.h=function(){e6.prototype.h.call(this);this._6();d7.s6(this.W2,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
d7.s6=function(r,j){for(var P=0;P<r.length;P++){var D=r[P];D.W3(y.Io(j[P]))}};function jk(r,j,D,N,b,Y,x,C,w){iI.call(this);
this.i=y.C("div","layeritem");this.aip=r;this.alV=j;this.AF=N;this.aci=C;this.a5i=w;this.FO=y.C("div",Y?"head selected":"head");
this.FO.setAttribute("style","height: "+40+"px");var q=y.C("div","headL"),u=y.C("div","headR"),h=15;
this.i.appendChild(this.FO);this.FO.appendChild(q);this.FO.appendChild(u);this.uW=y.C("div","eye");if(1<y.f()&&y.f()<1.5)h=h/y.f();
this.uW.setAttribute("style","background-size: "+h+"px "+h+"px;");this.uW.style.opacity=x?1:.2;if(j)q.appendChild(this.uW);
this.hQ=y.C("div","thumb");if(N)this.hQ.appendChild(N.canvas);q.appendChild(this.hQ);this.if=y.C("div","label");
if(D)this.if.style.fontStyle="italic";this.if.textContent=e9.get(b);q.appendChild(this.if);var z=this.FO;
z.setAttribute("draggable","true");this.FO.addEventListener("mousedown",this.atc.bind(this),!1);if(!D)this.FO.addEventListener("mouseup",this.a3G.bind(this),!1)}jk.prototype=new iI;
jk.prototype.vg=function(r){var j=new iu(y.E.w,!0);j.k=this.aci;j.data=this.a5i;j.data.name=r;this.g(j)};
jk.prototype.atc=function(r){var j=r.ctrlKey||r.metaKey,D=this.aip;if(j&&r.target==this.AF.canvas){this.g(jk.I0(this.alV,D,r))}else{var N=new iu("click",!0);
N.data={wd:D,qI:r.target==this.uW,Rw:j};this.g(N)}};jk.prototype.a3G=function(r){if(r.detail==2&&r.target==this.if){var j=new e6._K(this.if,this.vg.bind(this))}};
jk.I0=function(r,j,D){var N=0;if(D.shiftKey)N++;if(D.altKey)N+=2;var b=new iu(y.E.w,!0);b.k=I.Fx;if(r){if(-5<j&&j<0){b=new iu(y.E.PN,!0);
b.data=I.Vm.aJ(N,["RGB","Rd","Grn","Bl"][-1-j])}else b.data={e:"fromchannel",oO:[j,0,N]}}else b.data={e:"frompath",oO:[j,0,N]};
return b};function jl(){e6.call(this,[8,9],!1,null,e6.kG.Yk);this.bR=null;this.FW=null;this.K4=y.C("div","lpbody scrollable");
this.bZ=y.C("div","lpfoot");this.UX.appendChild(this.K4);this.UX.appendChild(this.bZ);this.UX.addEventListener("click",this.ajE.bind(this),!1);
this.dp=[];this.X("click",this.km,this);this.W2=[];d7.vC([[17,2],"Selection to Path",[5,3],[5,4]],this.W2,this.bZ,this.vZ.bind(this),this.W1.bind(this))}jl.prototype=new e6("");
jl.prototype.vZ=function(r,j){var D=d7.xG(this.W2,r),N;if(D==0)N=jk.I0(!1,null,r);else if(D==1){N=new iu(y.E.PN,!0);
N.data={sv:"make",Q4:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var N=new iu(y.E.w,!0);
N.k=I.Ml;N.data={e:"pathedit",Ix:["new","del"][D-2],aqD:j}}this.g(N)};jl.prototype.W1=function(r){this.vZ(r,!0)};
jl.prototype.v6=function(P){var r=this.dp,j=r[P];if(j==null){var D=y.C("canvas");j=D.getContext("2d");
r.push(j)}return j};jl.prototype.ajE=function(r){if(r.target==this.K4){var j=this.FW;j.rO=[];j.m$=[];
j._P=!0;j.yn=!0}};jl.prototype.km=function(r){var j=r.data.wd,D=this.FW,N=r.data.Rw,b=0,Y,x;if(j<0){b=-1-j;
Y=D.rO;x=D.m$}else{var C=D.HG()[0];for(var P=0;P<C.length;P++){var w=C[P].wd;if(w==j)break;if(w>=0)b++}Y=D.m$;
x=D.rO}if(N){var q=Y.indexOf(b);if(q==-1)Y.push(b);else Y.splice(q,1)}else{while(Y.length!=0)Y.pop();
while(x.length!=0)x.pop();Y.push(b)}D._P=!0;D.yn=!0};jl.prototype.au=function(){this._6()};jl.prototype.PV=function(r){this.FW=r;
this._6()};jl.prototype._6=function(){var r=this.FW,j=this.K4,C=34,w=34;y.Su(j);if(r==null||!y.bN(j))return;
var D=r.d,N=r.r,b=new bf(0,0,D,N),Y=this.bR=r.z.Cs.slice(0),x=Y[0]+Y[1]+Y[2];if(D>N)w=Math.round(w*N/D);
else C=Math.round(C*D/N);var q=r.HG(),u=q[0];for(var P=0;P<u.length;P++){var h=u[P],z=this.v6(P);R.Jx.ajA(z,C,w,b,h.add.vmsk);
var O=new jk(h.wd,!1,h.wd>=0,z,h.name,q[1].indexOf(P)!=-1,!1,I.Ml,{e:"pathedit",Ix:"rnm",wd:h.wd});O.parent=this;
j.appendChild(O.i)}};jl.prototype.kt=function(r,j){this.K4.style.height=j-9-26+"px";this.K4.style.width=r+"px"};
jl.prototype.h=function(){e6.prototype.h.call(this);this._6();d7.s6(this.W2,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};
function d$(r){e6.call(this,[9,r?4:5],!1,"---panels/"+(r?"character":"paragraph"),r?e6.kG.arS:e6.kG.ags);
this.UX.setAttribute("style","min-width:240px;");this.aaO=r;this.cM=null;this.xY=null}d$.prototype=new e6("");
d$.prototype.ii=function(){this.cM=new j6;var r=this.cM,j=this.UX;r.parent=this;if(this.aaO){var D=y.C("div","marged");
j.appendChild(D);D.appendChild(r.B8.i);j.appendChild(y.C("hr"));var N=y.C("div","marged");j.appendChild(N);
N.appendChild(r.a$.i);N.appendChild(r.lV.i);var b=y.C("div","marged");j.appendChild(b);b.appendChild(r.GX.i);
b.appendChild(r.hV.i);j.appendChild(y.C("hr"));var Y=y.C("div","marged");j.appendChild(Y);Y.appendChild(r.Gj.i);
Y.appendChild(r.sK.i);var x=y.C("div","marged");j.appendChild(x);x.appendChild(r.b$.i);x.appendChild(r.VF.i);
j.appendChild(y.C("hr"));var C=y.C("div","marged");j.appendChild(C);C.appendChild(r.f2.i);C.appendChild(r.Z9.i);
C.appendChild(r.rS.i);C.appendChild(r.Jn.i);C.appendChild(r.BD.i);C.appendChild(r.LU.i);C.appendChild(r.zl.i);
C.appendChild(r.MR.i)}else{var D=y.C("div","marged");j.appendChild(D);D.appendChild(r.AT.i);D.appendChild(r.Xc.i);
D.appendChild(r.OR.i);D.appendChild(r.ahm.i);D.appendChild(r.abS.i);D.appendChild(r.aoo.i);D.appendChild(r.a78.i);
j.appendChild(y.C("hr"));var N=y.C("div","marged");j.appendChild(N);N.appendChild(r.mS.i);N.appendChild(r.zK.i);
N.appendChild(r.U$.i);j.appendChild(y.C("hr"));var b=y.C("div","marged");j.appendChild(b);b.appendChild(r.C2.i);
b.appendChild(r._E.i);b.appendChild(r.sI.i)}};d$.prototype.au=function(){if(!y.bN(this.UX))return;if(this.cM==null){this.ii();
var r=this.xY;if(r)this.cM.l(r.k$,r.fA,r.cD);this.cM.h()}};d$.prototype.h=function(){e6.prototype.h.call(this);
if(this.cM)this.cM.h()};d$.prototype.Wf=function(r,j){this.xY=r;if(j!=e5.Cr&&j!=e5.cA&&j!=e5.YB&&j!=e5.ee)return;
if(this.cM)this.cM.l(r.k$,r.fA,r.cD)};function e$(){e6.call(this,[9,13],!1,"---panels/glyphs",e6.kG.alf);
this.cM=new j6;this.cM.parent=this;this.xY=null;this.acP=null;this.a0i=null;this.mx=null;this.al0=null;
this.XN=Math.round(290*y.f());this.iA=45;this.a4L=4;this.a6s=this.eE.bind(this);this.aig=0;this.C1=new fk(null,["Hi","Hello"]);
this.C1.X(y.E.Y,this.eE,this);var r=this.Jw=new iH("-",null,null,!0);r.X("click",this.apJ,this);var j=this.a0t=new iH("+",null,null,!0);
j.X("click",this.apJ,this);this.mV=new a0(!1);this.mV.X(y.E.Y,this.x5,this);this.mV.i.style.height=250+"px";
var D=this.wM=y.C("div","form padded");this.UX.appendChild(D);D.appendChild(this.cM.B8.i);y.aR(D);D.appendChild(this.C1.i);
D.appendChild(r.i);D.appendChild(j.i);this.UX.appendChild(this.mV.i)}e$.prototype=new e6("");e$.prototype.kt=function(r,j){if(this.oW==r)return;
this.oW=r;this.XN=Math.floor((r-13)*y.f());this.wM.setAttribute("style","width:"+this.XN/y.f()+"px;");
this.mV.i.style.height=j-73+"px";this.eE()};e$.prototype.x5=function(r){var j=this.a1L(),D=Math.round(this.XN/j);
j/=y.f();var N=this.mV.A()*D*this.a4L,b=this.mV.a3H();N+=Math.floor(b.y/j)*D;N+=Math.floor(b.x/j);var Y=this.mx[this.C1.A()];
if(N>=Y.length)return;var x=Y[N],C=this.al0[x],w=new iu(y.E.w,!0);w.k=I.pP;if(C.Fl.length==0)w.data={e:"insertGlyph",m:N+1};
else w.data={e:"insertText",m:String.fromCodePoint(C.Fl[0])};this.g(w)};e$.prototype.apJ=function(r){var j=1.2;
if(r.target==this.Jw){if(this.iA>20)this.iA/=j}else{if(this.iA<100)this.iA*=j}this.eE()};e$.prototype.au=function(){this.Wf(this.xY)};
e$.prototype.Wf=function(r,j){this.xY=r;if(!y.bN(this.UX))return;this.cM.l(r.k$,r.fA,r.cD);var D=r.k$,N=D.WQ.Font,w=0;
if(N==null)return;var b=D.HB[N].Name;if(this.acP==b)return;var N=r.fA.qp(b);if(N==null)return;var Y=N.maxp.numGlyphs,x=this.al0=new Array(Y);
for(var P=0;P<Y;P++)x[P]={Fl:[]};var C=Date.now(),q=new Uint8Array(1048575);for(var P=0;P<1048575;P++){var u=Typr.U.codeToGlyph(N,P);
if(u!=0&&u<Y){q[P]=1;if(x[u].Fl.length==0)w++;x[u].Fl.push(P)}}var h=e$.eQ,z=[];for(var P=0;P<h.length;
P++)z.push([]);for(var u=1;u<Y;u++){z[0].push(u);var O=x[u].Fl[0];if(O==null){continue}for(var g=1;g<h.length;
g++){var t=h[g].zu;for(var P=0;P<t.length;P+=2)if(t[P]<=O&&O<=t[P+1]){z[g].push(u);break}}}this.mx=z;
var $=[];for(var P=0;P<h.length;P++)$.push(h[P].GV+" ("+z[P].length+")");var i=this.C1.A();this.C1.Sf($);
this.C1.l(i);this.acP=b;this.a0i=N;this.eE()};e$.prototype.a1L=function(r){var j=Math.floor(this.XN/this.iA);
return Math.floor(this.XN/j)};e$.prototype.eE=function(r){if(!y.bN(this.UX)||this.mx==null)return;var j=this.mx[this.C1.A()],D=j.length,N=this.a0i,b=Typr.U,Y=this.a1L(),x=Y,C=x*.8,w=x*.8/N.head.unitsPerEm,q=[],u=Math.floor(this.XN/Y),h=Math.ceil(D/u),z=this.a4L,O=Date.now();
for(var g=0;g<h;g+=z){var t=y.C("canvas"),$=t.getContext("2d");t.width=Y*u;t.height=x*z;$.strokeStyle="rgba(0,0,0,0.3)";
$.fillStyle="white";$.fillRect(0,0,u*Y,x*z);for(var i=0;i<z;i++){for(var A=0;A<u;A++){var P=j[(g+i)*u+A];
if(P==null)break;var H=b.glyphToPath(N,P),F=R.K.mN(H.crds);if(!F.jE()){$.fillStyle="#252525";$.beginPath();
var T=A*Y+(Y-F.d*w)*.5-F.x*w,_=i*x+C;$.translate(T,_);$.scale(w,-w);b.pathToContext(H,$);$.scale(1/w,-1/w);
$.translate(-T,-_);$.fill()}}}$.beginPath();for(var A=0;A<u;A++){var V=A*Y+Y+.5;$.moveTo(V,0);$.lineTo(V,x*z)}for(var i=0;
i<z;i++){var X=i*x+x+.5;$.moveTo(0,X);$.lineTo(u*Y,X)}$.stroke();q.push(t)}this.mV.lu(q,null,Y*u,x*z)};
e$.eQ=[{GV:"All Glyphs"},{GV:"Basic Latin, Latin 1",zu:[0,127,128,143]},{GV:"Latin Extended-A",zu:[256,383]},{GV:"Latin Extended-B",zu:[384,591]},{GV:"Punctuations",zu:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{GV:"Greek",zu:[880,1023]},{GV:"Cyrillic",zu:[1024,1279]},{GV:"Hebrew",zu:[1424,1535]},{GV:"Arabic",zu:[1536,1791]},{GV:"Emoji",zu:[9728,10095,127744,129535]}];
function ew(){e6.call(this,[13,0],!1,null,e6.kG.pN);this.ow=0;this.atn=0;this.xY=null;var r=y.C("div","flexrow padded");
this.UX.appendChild(r);var j=y.C("div");r.appendChild(j);this.P5=[];for(var P=0;P<2;P++){var D=new fe;
this.P5.push(D);D.X("click",this.akz,this);j.appendChild(D.i)}this.WE=new fJ(192);this.WE.X(y.E.Y,this.Pn,this);
r.appendChild(this.WE.i)}ew.prototype=new e6("");ew.prototype.akz=function(r){this.ow=this.P5.indexOf(r.currentTarget);
this.eE()};ew.prototype.Pn=function(r){var j=this.WE.A();this.WE.l(j);var D=Math.round(j.a*255)<<16|Math.round(j.p*255)<<8|Math.round(j.M*255),N=new iu(y.E.V,!0);
N.data={e:y.G.VD,Ek:e5.pN,Ix:this.ow,m:D};this.g(N);this.atn=Date.now()};ew.prototype.eE=function(){var r=this.xY,j=this.ow,D=[r.xg,r.mL];
for(var P=0;P<2;P++){var N=this.P5[P],b=N.i.style;N.Sb(D[P]);if(P==j)b.filter="drop-shadow(0 0 1px #000000)"}var Y=D[j];
if(Date.now()-this.atn>100)this.WE.l({a:(Y>>>16)/255,p:(Y>>>8&255)/255,M:(Y&255)/255})};ew.prototype.Wf=function(r,j){this.xY=r;
if(j==e5.Cr||j==e5.pN)this.eE()};ew.prototype.au=function(){this.eE()};function d4(){e6.call(this,"CSS",!1,"---panels/css",e6.kG.CSS);
this.up=null;var r=y.C("div","padded");this.UX.appendChild(r);this.xm=y.C("textarea");r.appendChild(this.xm)}d4.prototype=new e6("");
d4.prototype.kt=function(r,j){if(this.oW==r)return;this.oW=r;this.xm.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(r-10)+"px; height:"+(j-10)+"px")};
d4.prototype.PV=function(r){this.up=r;this.eE()};d4.prototype.Wf=function(r,j){if(j==e5.YB)this.eE()};
d4.prototype.eE=function(){var r=this.up;if(r==null||r.R.length==0)return;if(!y.bN(this.UX))return;var j=r.j[r.R[0]],D=CSS.af1(j,r);
if(D.length!=0)this.xm.value=D.join(";\n")+";";else this.xm.value=""};d4.prototype.au=function(){this.eE()};
function c7(){e6.call(this,[9,6],!1,"---panels/info",e6.kG.alx);this.UX.setAttribute("style","min-width:240px;");
this.up=null;this.xY=null;var r=y.C("div","marged row");this.UX.appendChild(r);var j=y.C("div","cell");
j.setAttribute("style","width:10em");r.appendChild(j);var D=y.C("div","cell");D.setAttribute("style","width:10em");
r.appendChild(D);this.aqq=[];for(var P=0;P<4;P++){var N=new aL("");this.aqq.push(N);j.appendChild(N.i);
y.aR(j)}this.UX.appendChild(y.C("hr",""));var b=y.C("div","marged row");this.UX.appendChild(b);var j=y.C("div","cell");
j.setAttribute("style","width:10em");var D=y.C("div","cell");D.setAttribute("style","width:10em");b.appendChild(j);
b.appendChild(D);this.y5=new aL("");j.appendChild(this.y5.i);y.aR(j);this.M_=new aL("");j.appendChild(this.M_.i);
this.Eu=new aL("");D.appendChild(this.Eu.i);y.aR(D);this.eu=new aL("");D.appendChild(this.eu.i);this.y5.l("X: 100 px");
this.M_.l("Y: 100 px");this.Eu.l("W: 0");this.eu.l("H: 0")}c7.prototype=new e6("");c7.prototype.Vt=function(r,j,D,N,b){if(!y.bN(this.UX)||r==null)return;
var Y=r.z.K$(b.x,b.y),x=new gJ(Math.floor(Y.x),Math.floor(Y.y));if(!b.XS){var C=0,w=0,q=0,u=0,h=this.aqq;
if(!b.XS&&!r.afK()&&new bf(0,0,r.d-1,r.r-1).yZ(x)){var z=r.Ez(),P=r.d*x.y+x.x<<2;C=z[P+0];w=z[P+1];q=z[P+2];
u=z[P+3]}h[0].l("R: "+C);h[1].l("G: "+w);h[2].l("B: "+q);h[3].l("A: "+u)}this.y5.l("X: "+R.DA.m2(x.x,r.TB,D,r.d));
this.M_.l("Y: "+R.DA.m2(x.y,r.TB,D,r.r));this.SU()};c7.prototype.SU=function(){var r=this.up,j=this.xY,D=0,N=0;
if(r&&j){if(r.z.h0){D=r.z.h0.d;N=r.z.h0.r}else if(r.c){D=r.c.rect.d;N=r.c.rect.r}D=R.DA.m2(Math.abs(D),r.TB,j,r.d);
N=R.DA.m2(Math.abs(N),r.TB,j,r.r)}this.Eu.l(e9.get([12,41]).charAt(0)+": "+D);this.eu.l(e9.get([12,42]).charAt(0)+": "+N)};
c7.prototype.h=function(){e6.prototype.h.call(this);this.SU()};c7.prototype.PV=function(r,j,D){this.up=r;
this.xY=D;this.SU()};function cG(){e6.call(this,[9,1],!1,null,e6.kG.C5);this.Rp=null;this.AN=null;this.wa=null;
this.FO=y.C("div","lphead");this.K4=y.C("div","lpbody scrollable");this.bZ=y.C("div","lpfoot");this.mc=new fk(null,by.OF,!1,by.Mi);
this.mc.X(y.E.Y,this.am_,this);this.FO.appendChild(this.mc.i);this.Jl=new b8([12,0],0,100,"%",0);this.Jl.X(y.E.Y,this.a3g,this);
this.Jl.parent=this;this.FO.appendChild(this.Jl.i);this.uU=new a8([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.uU.X(y.E.Y,this.aav,this);this.FO.appendChild(this.uU.i);this.f1=new b8([12,26],0,100,"%",0);this.f1.X(y.E.Y,this.aq_,this);
this.f1.parent=this;this.FO.appendChild(this.f1.i);this.W2=[];this.vC();this.UX.appendChild(this.FO);
this.UX.appendChild(this.K4);this.K4.addEventListener("dragover",function(D){D.preventDefault()},!1);
this.K4.addEventListener("dragenter",y.Wp,!1);this.K4.addEventListener("drop",this.a7F.bind(this),!1);
this.UX.appendChild(this.bZ);this.UX.addEventListener("contextmenu",y.Wp,!1);var r=ii.BL(!0),j=ii.Og(!0);
this.akk=new cW(r,j);var r=[{name:[14,10]},{name:[14,11],E4:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],E4:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",N:function(D){return{N:D.j[D.R[0]].add.SoLd!=null}},E4:!0},{name:[6,8],N:function(D){var N=D.j[D.R[0]];
if(N.add.TySh||N.add.SoLd||N.add.SoCo||N.add.GdFl||N.add.PtFl)return{N:!0};return{N:!1}}},{name:[6,34],N:function(D){var N=D.j[D.R[0]];
return{N:N.add.lmfx!=null&&!N.iO()}}},{name:[6,40],E4:!0,N:function(D){var N=D.j[D.R[0]];return{N:N.add.TySh!=null}}},{name:"",E4:!0,N:function(D){var N=D.j[D.R[0]],b=N.add.TySh,Y=b?b.d1:null;
return{N:b!=null&&Y.Curve==null,an:e9.get(b&&cU.Tl(Y)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],E4:!0,N:function(D){return{N:D.zF(D.R[0]),DJ:D.j[D.R[0]]._V}}},{name:[11,6],E4:!0,sub:[{name:[5,1],N:function(D){var N=D.j[D.R[0]];
return{N:N.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],N:function(D){var N=D.j[D.R[0]];return{N:N.add.lmfx!=null}}}]},{name:[6,10],N:function(D){return{N:D.R.length==1&&D.R[0]!=0&&!D.j[D.R[0]].iO()}}},{name:[6,12,0],N:function(D){return{N:D.R.length>1||D.j[D.R[0]].iO()}}},{name:[6,12,1],E4:!0},{name:[13,0],sub:function(){var D=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],N=[];
for(var P=0;P<D.length;P++)N.push({name:D[P]});return N}()}],j=[{$:y.E.V,H:{e:y.G.gl,SO:"layerstyle"}},{$:y.E.w,k:I.Fx,H:{e:"fromlayer",oO:[null,0,0]}},{$:y.E.w,k:I.C5,H:{e:G.b7}},{$:y.E.V,H:{e:y.G.gl,SO:"duplinto"}},{$:y.E.w,k:I.C5,H:{e:G.VY}},{$:y.E.PN,H:{sv:"newPlacedLayer"}},{$:y.E.w,k:I.C5,H:{e:G.o7}},{$:y.E.PN,H:{sv:"rasterizeLayer",Q4:{classID:"rasterizeLayer",null:dA.W4("Lyr",!0)}}},{$:y.E.w,k:I.C5,H:{e:G.tL}},{$:y.E.w,k:I.C5,H:{e:G.gI}},{$:y.E.w,k:I.pP,H:{e:"switchPntPrgr"}},{$:y.E.w,k:I.C5,H:{e:G.x0}},{sub:[{$:y.E.w,k:I.i3,H:{e:"st_copy"}},{$:y.E.w,k:I.i3,H:{e:"st_paste"}},{$:y.E.w,k:I.i3,H:{e:"st_clear"}}]},{$:y.E.w,k:I.C5,H:{e:G.fL}},{$:y.E.w,k:I.C5,H:{e:G.LF}},{$:y.E.w,k:I.C5,H:{e:G.tm}},{sub:function(){var D=[];
for(var P=0;P<8;P++)D.push({$:y.E.w,k:I.C5,H:{e:G.Ao,a1O:P}});return D}()}];this.cO=new cW(r,j);var r=[{name:[6,45],N:function(D){var N=D.j[D.R[0]];
return{N:N.dw(D).B==null}}},{name:[6,47]}],j=[{$:y.E.w,k:I.C5,H:{e:G.Ka}},{$:y.E.w,k:I.C5,H:{e:G.vy}}];
this.ak_=new cW(r,j);var r=[{name:"enab/disab",N:function(D){return{an:e9.get(D.j[D.R[0]].BG().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],N:function(D){return{N:D.Kf(!1,!0)}}}],j=[{$:y.E.w,k:I.C5,H:{e:G.LA}},{$:y.E.w,k:I.C5,H:{e:G.MY}},{$:y.E.w,k:I.C5,H:{e:G.$V}}];
this.aoO=new cW(r,j);var r=[{name:"enab/disab",N:function(D){return{an:e9.get(D.j[D.R[0]].dw(D).B.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],j=[{$:y.E.w,k:I.C5,H:{e:G.lI}},{$:y.E.w,k:I.C5,H:{e:G.Br}}];
this.a8Q=new cW(r,j);var r=[{name:"enab/disab",N:function(D){return{an:e9.get(D.j[D.R[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],j=[{$:y.E.w,k:I.C5,H:{e:G.t0}},{$:y.E.w,k:I.C5,H:{e:G.DZ}},{$:y.E.w,k:I.C5,H:{e:G.zD}}];
this.aca=new cW(r,j);this.adq=new cW(ii.a6o(!0),ii.Ou(!0));this.a5S=new cW(ii.BL(),ii.Og());this.X("rclick",this.a07,this)}cG.prototype=new e6("");
cG.prototype.a7F=function(r){y.Wp(r);var j=r.dataTransfer.getData("Text"),D=1,N=0;if(j==""){y.aP(r,this,this.wa.indexOf(this.AN),N+(D>.5?0:1))}else if(j!="--panel"){var j=JSON.parse(j),b=j.bW;
if(b=="l")this.MJ({e:G.eN,source:j.As,target:N,qn:D})}};cG.prototype.a07=function(r){var j=this.AN,D=r.data,b;
if(j.R.indexOf(D.n)==-1){var N={e:G.GO,n:r.target.Pf.index,K9:D.Cz};this.MJ(N)}if(j.R.indexOf(D.n)==-1)return;
if(D.Cz==1){b=this.aoO}else if(D.Cz==2){b=this.aca}else if(D.Cz==3){b=this.a8Q}else if(D.Cz==4){b=this.ak_}else if(D.Cz==5){b=this.akk}else{b=this.cO}b.h();
b.update(j);b.parent=this;var Y=new iu(y.E.V,!0);Y.data={e:y.G.Eo,Z3:b,x:D.uB.x+1,y:D.uB.y+1};this.g(Y)};
cG.prototype.h=function(){e6.prototype.h.call(this);this.mc.h();this.Jl.h();this.uU.h();this.f1.h();
if(this.AN)this.PV(this.AN);var r="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var P=0;P<this.W2.length;P++){var j=this.W2[P];j.W3(y.Io(r[P]))}};cG.prototype.PV=function(r,j){if(r&&!r.DW)return;
if(r==null)y.ui(this.UX,"disabled");else y.UM(this.UX,"disabled");this.AN=r;this.wa=j;if(this.Rp!=null){this.K4.removeChild(this.Rp.K4);
this.Rp=null}if(r==null)return;this.Rp=new iQ(r.root,this,r,{h_:0});this.K4.appendChild(this.Rp.K4);
if(r.R.length==0||r.j[r.R[0]]==null)y.ui(this.FO,"disabled");else{y.UM(this.FO,"disabled");if(r.R.length==1&&r.UF)this.Rp.apP(r.R);
var D=r.j[r.R[0]];if(D.iO()){this.mc.Sf([[15,10,27]].concat(by.OF),[1].concat(by.Mi));var N=by.n4.indexOf(D.yp);
this.mc.l(N+1)}else{this.mc.Sf(by.OF,by.Mi);var N=by.n4.indexOf(D.yp);this.mc.l(N)}this.Jl.l(Math.round(100*D.opacity/255));
this.uU.l([D.OL(0),D.OL(1),D.OL(2),D.OL(31)]);this.f1.l(Math.round(100*(D.add.iOpa!=null?D.add.iOpa/255:1)))}};
cG.prototype.kt=function(r,j){var D=this.FO.getBoundingClientRect().height,N=59;if(D>70)N=84;if(D>100)N=108;
var b=j-(N+37);this.K4.style.height=b+"px";this.K4.style.width=r+"px"};cG.prototype.am_=function(r){this.MJ({e:G.qi,aS:this.mc.A()})};
cG.prototype.a3g=function(r){this.MJ({e:G.e9,aS:Math.round(255*this.Jl.A()/100)})};cG.prototype.aav=function(r){this.MJ({e:G.oM,aS:[this.uU.A(),[0,1,2,31]]})};
cG.prototype.aq_=function(r){this.MJ({e:G.Q1,aS:Math.round(255*this.f1.A()/100)})};cG.prototype.aqm=function(r){this.aq2(r,this.adq)};
cG.prototype.a8Z=function(r){this.aq2(r,this.a5S)};cG.prototype.aq2=function(r,j){var D=r.currentTarget;
if(y.bN(j.i))return;r.stopPropagation();var N=D.getBoundingClientRect();j.h();j.update(this.AN);j.parent=this;
var b=new iu(y.E.V,!0);b.data={e:y.G.Eo,Z3:j,x:N.left,y:N.top,a42:!0};this.g(b)};cG.prototype.a3N=function(r){this.MJ({e:G.Nn})};
cG.prototype.ank=function(r){this.MJ({e:this.AN.R.length>1?G.Mr:G.cn})};cG.prototype.a9N=function(r){this.MJ({e:G.Ym})};
cG.prototype.a0b=function(r){var j=this.AN;if(j.R.length==0)return;var D=j.j[j.R[0]],N=D.Cz;this.MJ({e:N<=0?D.fh?G.DZ:G.VY:N==3?G.Br:G.MY})};
cG.prototype.at3=function(r){this.MJ({e:G.t2})};cG.prototype.MJ=function(r){var j=new iu(y.E.w,!0);j.data=r;
j.k=I.C5;this.g(j)};cG.prototype.vC=function(){var r=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],j=[this.at3,this.a8Z,this.aqm,this.a3N,this.ank,this.a9N,this.a0b],D=this.anZ.bind(this);
for(var P=0;P<r.length;P++){var N=new iH("W",!1,r[P]);this.W2.push(N);y.Wu(N.i,j[P].bind(this));this.bZ.appendChild(N.i);
if(P>=r.length-3){var b=N.i;b.addEventListener("drop",D,!1);b.addEventListener("dragover",function(Y){Y.preventDefault()},!1);
b.addEventListener("dragenter",y.Wp,!1)}}};cG.prototype.anZ=function(r){y.Wp(r);var j=0,D=this.W2;while(D[j].i!=r.currentTarget)j++;
D[j].Jc();var N=r.dataTransfer.getData("Text");if(N=="")return;var N=JSON.parse(N);if(N.bW=="l"){var b={e:[G.Mr,G.b7,G.VY][j-4]};
if(this.AN.R.indexOf(N.As)==-1)b.n=N.As;this.MJ(b)}if(j!=6)return;if(N.bW=="sm"||N.bW=="s"){var Y=new iu(y.E.w,!0);
Y.k=I.i3;Y.data={e:N.bW=="sm"?"st_clear":"st_delsingle",n:N.As,As:N.EB};this.g(Y)}if(N.bW=="fm"||N.bW=="f"){this.MJ({e:N.bW=="fm"?G.vy:G.Bq,src:N.As,EB:N.EB})}if(N.bW=="m"||N.bW=="vm"){this.MJ({e:N.bW=="m"?G.MY:G.DZ,n:N.As})}};
function iQ(r,j,D,N){iI.call(this);this.parent=j;this.Pf=r;this.cN=[];this.i=y.C("div","layeritem");
var b=r.n,A=15,J=!1;this.FO=y.C("div",D.R.indexOf(r.index)!=-1?"head selected":"head");if(r.n.add.artb!=null)y.ui(this.FO,"artb");
this.FO.setAttribute("style","height: "+(b.aa1+10)+"px");var Y=y.C("div","headL"),x=y.C("div","headR"),C=y.C("div","lpineck");
this.K4=y.C("div","lpibody");this.i.appendChild(this.FO);this.FO.appendChild(Y);this.FO.appendChild(x);
if(b.jf()||b.ri())if(b.px())this.i.appendChild(C);var w=this.FO;w.setAttribute("draggable","true");w.addEventListener("dragstart",this.z5.bind(this),!1);
w.addEventListener("drop",this.Ij.bind(this),!1);w.addEventListener("dragover",this.Q7.bind(this),!1);
w.addEventListener("dragenter",y.Wp,!1);w.addEventListener("dragleave",this.oI.bind(this),!1);var q=[],u=[null,null,null,null],h=y.C("div");
this.uW=y.C("div","eye");h.appendChild(this.uW);var z=y.C("div","space");this.if=y.C("div","label");
this.if.setAttribute("style","max-width:calc(100% - "+(96+r.depth*20)+"px)");this.if.textContent=b.getName();
this.nx=y.C("div","lock");this.a8U=y.C("div","lrfx");this.IJ=y.C("div","arfx");var O=this.a4H.bind(this),g=this.afs.bind(this);
this.FO.addEventListener("click",g,!1);this.FO.addEventListener("contextmenu",O,!1);var t=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],$=b.add.lclr==null?0:t[b.add.lclr];
if($==0)$=N.h_;var i=[$>>16,$>>8&255,$&255];for(var P=0;P<3;P++){i[P]=Math.round(.5*i[P]+.5*220)}if(1<y.f()&&y.f()<1.5)A=A/y.f();
h.setAttribute("style","background-color:rgba("+i.join(",")+","+($==0?0:1)+");");this.uW.setAttribute("style","background-size: "+A+"px "+A+"px;");
var H=this.an3.bind(this);h.addEventListener("mousedown",H,!1);h.addEventListener("mouseover",H,!1);
this.if.addEventListener("pointerup",this.a4W.bind(this),!1);this.IJ.addEventListener("click",this.a8G.bind(this),!1);
q[0]=h;q[1]=z;q[10]=this.if;function F(S,eJ,w){var hy=eJ.canvas;if(w)S.setAttribute("draggable","true");
S.appendChild(hy);hy.setAttribute("style",hy.getAttribute("style")+"; pointer-events:none")}if(b.iO()){var T=y.C("div","arrow"),_=y.C("div","folder");
T.addEventListener("click",this.a9l.bind(this),!1);q[2]=T;q[3]=_;if(b.add.lsct==bH.nV){for(var P=r.children.length-1;
P>=0;P--){var V=new iQ(r.children[P],j,D,{h_:$});this.cN.push(V);this.K4.appendChild(V.i)}this.i.appendChild(this.K4)}T.setAttribute("class",b.add.lsct==bH.nV?"open":"closed")}else{this.hQ=y.C("div","thumb");
q[5]=this.hQ;F(this.hQ,b.nK)}var X=b.BG();if(X){this.m9=y.C("div","chain");this.wC=y.C("div","thumb");
F(this.wC,r.n.a5r,!0);this.m9.style.opacity=X.Tt?1:0;this.m9.addEventListener("click",this.a43.bind(this),!1)}var o=b.x2()&&b.add.vmsk;
if(b.add.vmsk&&!o){this.JR=y.C("div","chain");this.gz=y.C("div","thumb");F(this.gz,r.n.abe,!0);this.JR.style.opacity=b.add.vmsk.Tt?1:0;
this.JR.addEventListener("click",this.a6H.bind(this),!1)}if(b.ri()&&b.dw(D).B){this.rN=y.C("div","thumb");
F(this.rN,r.n.acC,!1);this.rN.addEventListener("click",g,!1);this.rN.addEventListener("contextmenu",O,!1)}if(b.jf()){this.a6w=C;
C.addEventListener("contextmenu",O,!1);var c=new cG.MC(e9.get([12,1]),"sm","layerstyle",r.depth,0,null);
c.parent=this;C.appendChild(c.i);var E=b.add.lmfx,f=E.masterFXSwitch.v;c.yE(f);for(var P=0;P<hz.order.length;
P++){var d=E[hz.l9[P]].v;if(d.length==0)continue;for(var s=0;s<d.length;s++){var c=new cG.MC(e9.get(hz.names[P]),"s","layerstyle",r.depth,1,[P,s]);
c.yE(f&&d[s].v.enab.v);c.parent=this;C.appendChild(c.i)}}}if(b.ri()){var c=new cG.MC(e9.get([12,55]),"fm",null,r.depth,0,-1,b.dw(D).B?this.rN:null);
c.parent=this;C.appendChild(c.i);this.adg=c.i;this.adg.addEventListener("contextmenu",O,!1);var E=b.add.SoLd.filterFX.v,B=E.filterFXList.v,f=E.enab.v;
c.yE(f);for(var P=B.length-1;P>=0;P--){var a=B[P].v,U=ij.nZ(a);if(cz.v5[U])U=cz.v5[U];var M=a.Nm.v;if(ij.names[U])M=e9.get(ij.names[U]);
if(cz.names[U])M=e9.get(cz.names[U]);var W="afw_"+U,c=new cG.MC(M,"f",W,r.depth,1,P);c.yE(f&&a.enab.v);
c.parent=this;C.appendChild(c.i)}}if(D.j.indexOf(b)==D.R[0]){var n=b.Cz,e;if(n<=0)e=this.hQ;else if(n==1)e=this.wC;
else if(n==3)e=this.rN;if(e)e.setAttribute("class","thumb active");if(b.fh&&this.gz)this.gz.setAttribute("class","thumb active")}h.style.opacity=b.Xy()?1:.25;
z.setAttribute("style","width:"+Math.max(0,r.depth-1)*18+"px");var Q=b.add.lspf!=null&&b.add.lspf!=0;
this.nx.style.opacity=b.OL(31)?1:.5;q[4]=b._V?y.C("div","clipp"):null;q[6]=X?this.m9:null;q[7]=X?this.wC:null;
q[8]=b.add.vmsk&&!o?this.JR:null;q[9]=b.add.vmsk&&!o?this.gz:null;var m=b.xU,p=D.R;if(m!=0)for(var P=0;
P<p.length;P++)if(D.j[p[P]].xU==m){J=!0;break}if(J){u[0]=y.C("div",b.$s?"link":"linkX");u[0].addEventListener("click",this.amU.bind(this),!1)}u[1]=Q?this.nx:null;
u[2]=b.jf()?this.a8U:null;u[3]=b.jf()||b.ri()?this.IJ:null;this.IJ.setAttribute("class",b.px()?"arfx open  gsicon":"arfx closed  gsicon");
var L=q;for(var P=0;P<L.length;P++)if(L[P])Y.appendChild(L[P]);L=u;for(var P=0;P<L.length;P++)if(L[P])x.appendChild(L[P])}iQ.prototype=new iI;
iQ.prototype.apP=function(r){var j=this.Pf.index;if(r.indexOf(j)!=-1){if(this.i.scrollIntoView)this.i.scrollIntoView({block:"nearest"})}for(var P=0;
P<this.cN.length;P++)this.cN[P].apP(r)};iQ.X7=function(r,j){var D=j.getBoundingClientRect();return(r.clientY-D.top)/D.height};
iQ.prototype.z5=function(r){r.stopPropagation();var j=r.target==this.wC?"m":r.target==this.gz?"vm":"l";
r.dataTransfer.setData("Text",JSON.stringify({bW:j,As:this.Pf.index}))};iQ.prototype.oI=function(r){y.Wp(r);
this.KW()};iQ.prototype.Ij=function(r){y.Wp(r);this.KW();var j=r.dataTransfer.getData("Text"),D=this.parent.AN,N=iQ.X7(r,this.FO),b=this.Pf.index;
if(N>.8){var Y=!0,x=D.root.nj(b);while(x.parent!=null){var C=x.parent,w=C.children;if(w.indexOf(x)!=0)Y=!1;
x=x.parent}if(Y){b=0;N=1}}if(j==""){y.aP(r,this,this.parent.wa.indexOf(D),b+(N>.5?0:1))}else if(j!="--panel"){var j=JSON.parse(j),q=j.bW;
if(q=="l")this.MJ({e:G.eN,source:j.As,target:b,qn:N});else if(q=="m"||q=="vm")this.MJ({e:q=="m"?G.gD:G.Qw,src:j.As,q5:b});
else iQ.ast(r,j,this)}};iQ.ast=function(r,j,D,N){var b=j.bW,Y=D.Pf.index,x=j.As;if(b=="s"||b=="sm")D.MJ({e:G.bu,src:x,q5:Y,EB:j.EB});
if(b=="f"||b=="fm")D.MJ({e:G.lF,src:x,q5:Y,EB:j.EB,DI:N==null?0:N})};iQ.prototype.Q7=function(r){y.Wp(r);
var j=iQ.X7(r,this.FO),D=this.Pf.n.iO()&&.5<j&&j<.8;this.KW();var N="inset 0 "+(D?0:j>.5?-3:3)+"px "+(D?"5px black":"0 rgba(0,0,0,0.5)");
this.FO.style.boxShadow=N};iQ.prototype.KW=function(r){this.FO.style.boxShadow=""};iQ.a45=-1;iQ.lS=!1;
iQ.a3x=function(r){iQ.lS=!1;document.body.removeEventListener("mouseup",iQ.a3x)};iQ.prototype.an3=function(r){if(r.button!=0)return;
if(r.type=="mousedown"){iQ.lS=!0;document.body.addEventListener("mouseup",iQ.a3x,!1)}if(r.type=="mouseover"&&(!iQ.lS||iQ.a45==this.Pf.index))return;
y.Wp(r);this.MJ({e:G.T6,n:this.Pf.index});iQ.a45=this.Pf.index};iQ.prototype.a9l=function(r){y.Wp(r);
this.MJ({e:G.qz,n:this.Pf.index})};iQ.prototype.a43=function(r){this.MJ({e:G.gJ,n:this.Pf.index})};iQ.prototype.a6H=function(r){this.MJ({e:G.Px,n:this.Pf.index})};
iQ.fF=0;iQ.prototype.a4W=function(r){var j=iQ.fF;iQ.fF=Date.now();if(Date.now()-j>300)return;r.preventDefault();
r.stopPropagation();this.FO.setAttribute("draggable","false");var D=new e6._K(this.if,this.vg.bind(this))};
iQ.prototype.vg=function(r){this.MJ({e:G.Hu,n:this.Pf.index,name:r})};iQ.prototype.a8G=function(r){this.MJ({e:G.GF,n:this.Pf.index})};
iQ.prototype.amU=function(r){this.MJ({e:G.jW,n:this.Pf.index})};iQ.prototype.a4H=function(r){var j=r.sourceCapabilities;
if(j)j=j.firesTouchEvents;if(r.button!=2&&j!=!0)return;var D=this.Cz(r);if(D!=3&&r.currentTarget==this.adg)D=4;
if(r.target==this.a8U||r.currentTarget==this.a6w)D=5;var N=new iu("rclick",!0);N.data={n:this.Pf.index,Cz:D,uB:y.dD(r,document.body)};
this.g(N)};iQ.prototype.Cz=function(r){var j=r.target,D=j;return D==this.gz?2:D==this.wC?1:D==this.hQ?0:D==this.rN?3:-1};
iQ.prototype.afs=function(r){var j=r.target,u;if(j==this.uW||j==this.IJ||j==this.m9||j==this.JR||j.tagName&&j.tagName.toLowerCase()=="input")return;
var D=this.Cz(r),N=this.parent.AN,b=this.Pf.index,Y=N.j[b];if(j==this.nx){this.MJ({e:G.oM,n:b,aS:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(r.button==0&&r.detail==2){if(j==this.if)return;var x=new iu(y.E.w,!0),C=new iu(y.E.V,!0),w=new iu(y.E.PN,!0);
if(D==0&&Y.add.SoCo){var q=R._.z2(Y.add.SoCo.Clr.v);C.data={e:y.G.gl,SO:"colorpicker",h_:q.a<<16|q.p<<8|q.M,PK:function(O){var g=R._.XJ({M:O&255,p:O>>>8&255,a:O>>16&255});
g={classID:"null",Clr:{t:"Objc",v:g}};var t=new iu(y.E.w,!0);t.k=I.C5;t.data={e:G.K3,bB:[b],Fj:!0,m:{cC:1,ME:g}};
this.g(t)}.bind(this),d6:!0}}else if(D==0&&(cz.get(Y.add)||Y.add.SoCo||Y.add.GdFl||Y.add.PtFl))C.data={e:y.G.sC,SO:e6.kG.EH};
else if(D!=0&&D!=-1)C.data={e:y.G.sC,SO:e6.kG.EH};else if(D==0&&Y.add.SoLd)w.data={sv:"placedLayerEditContents",Q4:{classID:"placedLayerEditContents"}};
else if(D==0&&Y.add.TySh){x.k=I.pP;x.data={e:"editCurr",GR:b}}else C.data={e:y.G.gl,SO:"layerstyle",n:b};
this.g(w.data?w:C.data?C:x);return}if(r.button!=0)return;if(D==1||D==3){var h=D==3?Y.dw(N).B:Y.BG();
u=h.zo?N.z.Cs.join("")=="111"?1:2:0}var z={e:G.GO,n:b,K9:D,ana:u,ame:!0};this.MJ(z)};iQ.prototype.MJ=function(r){var j=new iu(y.E.w,!0);
j.data=r;j.k=I.C5;this.g(j)};cG.MC=function(r,j,D,N,b,Y,x){iI.call(this);this.a3u=j;this.gZ=D;this.index=Y;
this.i=y.C("div","styleitem");this.FO=y.C("div","head");this.acT=null;if(j=="f"){var C=this.acT=y.C("div","headR");
C.textContent="\u2699";this.FO.appendChild(C)}this.aV=y.C("div","eye gsicon");this.if=y.C("div","label");
this.i.appendChild(this.FO);this.FO.appendChild(this.aV);if(x){this.wC=x;this.FO.appendChild(this.wC);
this.FO.setAttribute("style","height: "+(x.firstChild.height/y.f()+10)+"px")}this.if.innerHTML=r;this.i.setAttribute("style","margin-left: "+(24+N*16+b*22)+"px");
this.FO.appendChild(this.if);this.aV.addEventListener("click",this.adl.bind(this),!1);var w=this.i;w.setAttribute("draggable","true");
w.addEventListener("dragstart",this.z5.bind(this),!1);if(!0){w.addEventListener("drop",this.Ij.bind(this),!1);
w.addEventListener("dragover",this.Q7.bind(this),!1);w.addEventListener("dragenter",y.Wp,!1);w.addEventListener("dragleave",this.oI.bind(this),!1)}this.i.addEventListener("click",this.rE.bind(this),!1)};
cG.MC.prototype=new iI;cG.MC.prototype.z5=function(r){r.stopPropagation();r.dataTransfer.setData("Text",JSON.stringify({bW:this.a3u,As:this.parent.Pf.index,EB:this.index}))};
cG.MC.prototype.oI=function(r){y.Wp(r);this.KW()};cG.MC.prototype.Ij=function(r){y.Wp(r);this.KW();var j=r.dataTransfer.getData("Text");
if(j=="")return;var j=JSON.parse(j);iQ.ast(r,j,this.parent,this.index+(iQ.X7(r,this.FO)>.5?0:1))};cG.MC.prototype.Q7=function(r){y.Wp(r);
var j=iQ.X7(r,this.FO)>.5;this.KW();var D="border-"+(j?"bottom":"top");this.FO.style[D]="0.2em solid rgba(0,0,0,0.5)"};
cG.MC.prototype.KW=function(r){this.FO.style.border="none"};cG.MC.prototype.yE=function(r){var j=15;
if(1<y.f()&&y.f()<1.5)j=j/y.f();this.aV.setAttribute("style","background-size: "+j+"px "+j+"px;");this.aV.style.opacity=r?1:.2};
cG.MC.prototype.rE=function(r){if(r.target==this.aV)return;var j=this.parent.Pf.index;if(r.detail!=1&&this.gZ!=null){var j=this.parent.Pf.index,D=new iu(y.E.V,!0);
if(this.gZ.indexOf("afw_")==0){var N=this.gZ.slice(4),b=k[N]||ij.L[N],Y=r.target==this.acT;if(!Y&&!b)return;
D.data=f1.o8.MZ(Y?"blendOptions":N,{n:j,index:this.index})}else D.data={e:y.G.gl,SO:this.gZ,n:j,index:this.index};
this.g(D)}else{if(r.target.getAttribute("class")!="thumb")this.parent.MJ({e:G.GO,n:j,K9:0})}};cG.MC.prototype.adl=function(r){var j={fm:G.oL,f:G.Ee,sm:G.NE,s:G.Gh}[this.a3u];
this.parent.MJ({e:j,n:this.parent.Pf.index,index:this.index})};function cJ(){e6.call(this,"Guide Guy",!1,"---panels/guideguy",e6.kG.aez);
this.up=null;this.yR=[];var r=y.C("div","form padded");this.UX.appendChild(r);r.setAttribute("style","width:200px");
this.UX.appendChild(r);var j=y.C("canvas"),D=j.getContext("2d");j.width=j.height=160;var N=[32,0,16,160,0,32,160,16,0,112,160,16],b="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),Y=[0,0,0,0,0,0,0,0,0,0];
for(var P=0;P<10;P++){D.clearRect(0,0,160,160);D.setTransform(1,0,0,1,80,80);D.rotate((P&3)*Math.PI/2);
D.translate(-80,-80);D.fillStyle="rgba(0,0,0,0.3)";if(P<4){for(var x=0;x<12;x+=4){D.fillStyle=x==0?"#000000":"rgba(0,0,0,0.3)";
D.fillRect(N[x],N[x+1],N[x+2],N[x+3])}}else if(P<6){var C=8*6;D.fillRect(0,0,C,160);D.fillRect(8*7,0,C,160);
D.fillStyle="#000000";D.fillRect(8*14,0,C,160)}else if(P<8){D.fillRect(0,0,16,160);D.fillRect(160-16,0,16,160);
D.fillRect(32,0,160-64,160);D.fillStyle="#000000";D.fillRect(32,80-8,160-64,8*1)}else{D.fillRect(0,0,8*7,160);
D.fillRect(8*13,0,160,160);D.fillStyle="#000000";D.fillRect(8*7,80-8,8*6,8*1)}var w="<img src=\""+j.toDataURL()+"\" class=\"autoscale gsicon\" /> ",q=new b8(w,0,200,P==4||P==5?null:"px",null,null,null,4,b[P]);
q.parent=this;q.X(y.E.Y,this.a7U,this);q.l(Y[P]);q.h();this.yR.push(q);r.appendChild(q.i)}var u=["Add Guides","Clear Guides"];
this.xC=[];for(var P=0;P<u.length;P++){var h=new iH(u[P],!0,null,!0);this.xC.push(h);h.X("click",this.u0,this);
r.appendChild(h.i)}for(var P=0;P<6;P++){D.setTransform(1,0,0,1,80,80);D.rotate(Math.floor(P/3)*Math.PI/2);
D.translate(-80,-80);D.clearRect(0,0,160,160);D.fillStyle="rgba(0,0,0,0.3)";D.fillRect(0,0,160,160);
D.clearRect(16,16,128,128);D.fillStyle="#000000";var z=P%3;D.fillRect([0,9,18][z]*8,0,16,160);var w="<img src=\""+j.toDataURL()+"\" class=\"autoscale gsicon\" /> ",h=new iH(w,!1,null,!1);
this.xC.push(h);h.X("click",this.u0,this);r.appendChild(h.i)}}cJ.prototype=new e6("");cJ.prototype.a7U=function(r){var j=this.yR,D=j.indexOf(r.target),N=Math.floor(D/2),b=D&1,Y=[];
for(var P=0;P<4;P++)Y.push(j[2*P+b].A());var x=-1;if(N==2&&Y[2]!=0&&Y[3]!=0&&Y[4]!=0)x=4;if(N==3&&Y[3]!=0&&Y[2]!=0&&Y[4]!=0)x=4;
if(N==4&&Y[4]!=0&&Y[2]!=0&&Y[3]!=0)x=3;if(x!=-1)j[2*x+b].l(0)};cJ.prototype.u0=function(r){var j=this.up,D=this.xC.indexOf(r.target),N=[[],[]];
if(j==null)return;var b=j.c?j.c.rect:new bf(0,0,j.d,j.r),Y=b.d,x=b.r;if(D==0){var C=[[],[]];for(var P=0;
P<this.yR.length;P++)C[P&1].push(this.yR[P].A());var w=[cJ.aqY(C[0],b.x,b.x+Y),cJ.aqY(C[1],b.y,b.y+x)];
N=cJ.a7l(w);I.w8.iw(N,j.Yd())}else if(D==1){}else{D-=2;var q=Math.floor(D/3),w=[[],[]];w[q].push([b.x,b.x+Y/2,b.x+Y,b.y,b.y+x/2,b.y+x][D]);
N=cJ.a7l(w);I.w8.iw(N,j.Yd())}this.aqK(N)};cJ.a7l=function(r){var j=[],D=[];for(var N=0;N<2;N++)for(var P=0;
P<r[N].length;P++){j.push([N,r[N][P]]);D.push(-1)}return[j,D]};cJ.prototype.ap5=function(r){var j=this.a74.indexOf(r.target)};
cJ.prototype.aqK=function(r){var j=new iu(y.E.w,!0);j.k=I.t3;j.data={e:"gids",Yw:r};this.g(j)};cJ.aqY=function(r,j,D){var N=[],b=r[2],Y=r[3],x=r[4],C=0;
if(b==0)C++;if(Y==0)C++;if(x==0)C++;if(C>1&&b==0&&Y==0){if(r[0]!=0)N.push(j+r[0]);if(r[1]!=0)N.push(D-r[1]);
return N}var w=D-j-r[0]-r[1];if(b==0){if(x==0){b=Math.floor(w/Y);x=(w-b*Y)/(b-1)}else{b=1;while(Y*b+x*(b-1)+Y+x<=w)b++}}else if(b!=0&&Y!=0){if(b*Y>w)b=Math.floor(w/Y);
x=(w-b*Y)/(b-1)}N.push(j+r[0],D-r[1]);var Y=(w-x*(b-1))/b;for(var P=1;P<b;P++){if(x==0)N.push(j+r[0]+P*Y);
else N.push(j+r[0]+P*Y+(P-1)*x,j+r[0]+P*Y+P*x)}return N};cJ.prototype.PV=function(r){this.up=r};function as(){e6.call(this,[9,2],!1,"---panels/properties",e6.kG.EH);
this.aru=null;this.tR=null;this.xY=null;this.am9=-1}as.prototype=new e6("");as.prototype.ii=function(){this.mm=y.C("div","padded");
this.mm.style.width="22em";this.UX.appendChild(this.mm);var r=y.C("span","fitem");this.mm.appendChild(r);
this.TE=[new iH([0,3]),new iH([12,73]),new iH([12,91,0])];for(var P=0;P<this.TE.length;P++){var j=this.TE[P];
j.X("click",this.aqv,this);r.appendChild(j.i)}this.mm.appendChild(y.C("hr"));this.AM=new as.MQ;this.AM.parent=this;
this.lo=new as.DP;this.lo.parent=this;this.PS=new as.Ak;this.PS.parent=this;this.a4M=[this.AM,this.lo,this.PS];
this.mm.appendChild(this.AM.i)};as.prototype.aqv=function(r){var P=this.TE.indexOf(r.currentTarget);
this.zd(P);this.apj(P==1?this.lo.YJ:-1)};as.prototype.zd=function(r){for(var P=0;P<3;P++){this.TE[P].Jc();
var j=this.a4M[P].i;if(j.parentNode==this.mm&&P!=r)this.mm.removeChild(j);if(j.parentNode!=this.mm&&P==r)this.mm.appendChild(j)}this.TE[r].H8()};
as.prototype.apj=function(r){var j=this.tR.R[0],D=this.tR.j[j],N=r+1;if(r==1&&D.fh)return;var b=new iu(y.E.w,!0);
b.k=I.C5;if(r!=1&&D.fh){b.data={e:G.GO,n:j,K9:2};this.g(b)}b.data={e:G.GO,n:j,K9:N};this.g(b)};as.prototype.h=function(){e6.prototype.h.call(this);
if(this.mm==null)return;this.PV(this.tR);for(var P=0;P<3;P++){this.TE[P].h();this.a4M[P].h()}};as.prototype.au=function(){if(!y.bN(this.UX))return;
if(this.mm==null){this.ii();this.Wf(this.xY,e5.Cr);this.PV(this.aru);this.h()}};as.prototype.PV=function(r){this.aru=r;
if(this.mm==null)return;this.AM.PV(r);this.lo.PV(r);this.PS.PV(r);if(r==null||r.R.length==0||r.j[r.R[0]]==null){y.ui(this.UX,"disabled");
this.tR=null;return}else y.UM(this.UX,"disabled");var j=r.R[0],D=r.j[j],N=r.HG(),b=N[0],Y=N[1];if(Y.length!=0){var x=b[Y[0]],C=x.add.vogk,w=!1;
if(C)for(var P=0;P<C.length;P++){var q=C[P].v,u=q.keyShapeInvalidated;if(u&&u.v||q.keyOriginType==null)continue;
w=!0;j=x.wd}}if(r!=this.tR||this.am9!=j){this.tR=r;this.am9=j;if(w)this.zd(2);else if(D.Cz<1&&!D.fh)this.zd(0);
else this.zd(1)}this.TE[1].b3(this.lo.YJ!=-1);this.TE[2].b3(w)};as.prototype.Wf=function(r,j){this.xY=r;
if(this.AM)this.AM.Wf(r,j);if(this.PS)this.PS.Wf(r,j)};as.MQ=function(){iI.call(this);this.i=y.C("div","form");
this.anf=new aL("Hello");this.Xq=new iH("Reset",null,null,!0);this.Xq.i.style.aiQ="right";this.Xq.X("click",this.jJ,this);
this.i.appendChild(this.anf.i);this.i.appendChild(this.Xq.i);this.mk=null;this.a2=null;this.tR=null;
this.xY=null;this.a7x=-1;this.a55=null;this.Cl=new fe(!0);this.Cl.parent=this;this.Cl.X(y.E.Y,this.are,this);
this.r4=y.C("div","marged hiline");this.r4.appendChild(this.Cl.i);this.ge=new h5("GrFl",!0);this.ge.parent=this;
this.ge.X(y.E.Y,this.a09,this);this.KK=y.C("div","marged hiline");var r="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var P=0;P<r.length;P++){var j=this.ge.sy[r[P]].i;this.KK.appendChild(j)}this.t4=new h5("patternFill",!0);
this.t4.parent=this;this.t4.X(y.E.Y,this.a66,this);this.tw=y.C("div","marged hiline");var r=["Ptrn","Scl","Algn","phase"];
for(var P=0;P<r.length;P++){var j=this.t4.sy[r[P]].i;this.tw.appendChild(j)}this.LQ={};for(var D in cz.names){if(k[D]==null)continue;
this.LQ[D]=new k[D];this.LQ[D].X(y.E.Y,this.a17,this);this.LQ[D].parent=this}var N=this.abx=y.C("div","marged hiline");
this.wG=new aT(0,!0);N.appendChild(this.wG.i);this.wG.X(y.E.Y,this.N7,this);this.vW=new fk([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);
this.vW.X(y.E.Y,this.N7,this);N.appendChild(this.vW.i);this.Hx=new fe(!1);this.Hx.parent=this;this.Hx.X(y.E.Y,this.N7,this);
N.appendChild(this.Hx.i)};as.MQ.prototype=new iI;as.MQ.prototype.jJ=function(r){var j=this.tR,D=j.j[j.R[0]],N=cz.get(D.add);
this.a2.l(ij.nY(N));this.a17()};as.MQ.prototype.h=function(){for(var r in this.LQ)this.LQ[r].h();this.ge.h();
this.t4.h();this.vW.h();this.wG.h()};as.MQ.prototype.N7=function(r){var j=this.wG.A(),D=G.gn(new bf(j[2],j[3],j[0],j[1])),N=this.vW.A(),b={classID:"artboard",artboardRect:{t:"Objc",v:D},Clr:{t:"Objc",v:this.Hx.A()},artboardBackgroundType:{t:"long",v:N+1}},Y=new iu(y.E.w,!0);
Y.k=I.C5;Y.data={e:G.gh,C3:b};this.g(Y)};as.MQ.prototype.are=function(r){var j=this.tR,D=j.R[0];if(j.j[D].add.SoCo==null)return;
var N=JSON.parse(JSON.stringify(j.j[D].add.SoCo));N.Clr.v=this.Cl.A();this.V9({cC:1,ME:N})};as.MQ.prototype.a09=function(r){var j=this.tR,D=j.R[0];
if(j.j[D].add.GdFl==null)return;this.V9({cC:2,ME:this.ge.A()})};as.MQ.prototype.a66=function(r){this.V9({cC:3,ME:this.t4.A()})};
as.MQ.prototype.V9=function(r){this.a8q(I.C5,{e:G.K3,bB:[this.tR.R[0]],Fj:!0,m:r})};as.MQ.prototype.a17=function(r){this.a8q(I.tJ,{e:"edit_layer",m:this.a2.A()})};
as.MQ.prototype.a8q=function(r,j){var D=new iu(y.E.w,!0);D.k=r;D.data=j;this.g(D)};as.MQ.prototype.PV=function(r,j){var D=e9.get([0,3]),N=!1,b=null;
this.tR=r;if(r&&r.j.length>0&&r.R.length!=0&&r.j[r.R[0]]){var Y=r.j[r.R[0]],x=cz.get(Y.add);if(x!=null&&this.LQ[x]!=null){b=this.LQ[x].i;
this.a2=this.LQ[x];this.LQ[x].l(JSON.parse(JSON.stringify(Y.add[x])));if(r.R[0]!=this.a7x){var C=r.Ez(r.R[0]-1);
this.a55=R.mb(C)}this.LQ[x].yf(this.a55);D=e9.get(cz.names[x]);N=!0}if(Y.add.SoCo){b=this.r4;this.Cl.l(Y.add.SoCo.Clr.v);
D=e9.get([6,48,0,0])}if(Y.add.GdFl){b=this.KK;this.ge.update(r,Y.add.GdFl);D=e9.get([6,48,0,1])}if(Y.add.PtFl){b=this.tw;
this.t4.update(r,Y.add.PtFl);D=e9.get([6,48,0,2])}if(Y.add.artb){var w=Y.add.artb,q=Y.tT();b=this.abx;
this.vW.l(w.artboardBackgroundType.v-1);if(w.Clr)this.Hx.l(w.Clr.v);this.wG.l([q.d,q.r,q.x,q.y],[r.TB,r.d,this.xY.Ar.Q5]);
D="Artboard"}this.a7x=r.R[0]}if(b!=this.mk){if(this.mk)this.i.removeChild(this.mk);if(b!=null)this.i.appendChild(b);
this.mk=b}this.anf.l(D);this.Xq.i.style.display=N?"":"none"};as.MQ.prototype.Wf=function(r,j){this.xY=r;
this.ge.Wf(r,j);this.t4.Wf(r,j);if(j==e5.VN)this.PV(this.tR,r);for(var D in this.LQ)this.LQ[D].Wf(r,j)};
as.DP=function(){iI.call(this);this.i=y.C("div","form");this.tR=null;this.YJ=0;var r=y.C("span","fitem");
this.i.appendChild(r);this.TE=[new iH([6,2]),new iH([6,3]),new iH([6,50])];for(var P=0;P<this.TE.length;
P++){var j=this.TE[P];j.X("click",this.apA,this);r.appendChild(j.i)}this.B1=new fv([12,74],0,255);this.B1.X(y.E.Y,this.h1,this);
this.i.appendChild(this.B1.i);this.z4=new fv([7,6],0,500,"px",2,!0);this.z4.X(y.E.Y,this.h1,this);this.i.appendChild(this.z4.i);
this.P3=new iH([4,11],null,null,!0);this.P3.X("click",this.aho,this)};as.DP.prototype=new iI;as.DP.prototype.aho=function(){var r=new iu(y.E.w,!0);
r.k=I.tJ;r.data={e:"start",Ep:"nvrt"};this.g(r)};as.DP.prototype.h1=function(r){var j=this.B1.A(),D=this.z4.A(),N=new iu(y.E.w,!0);
N.k=I.C5;N.data={e:G.zn,fT:this.tR.R[0],HK:{hD:this.YJ,B1:j,z4:D}};this.g(N)};as.DP.prototype.h=function(){for(var P=0;
P<this.TE.length;P++)this.TE[P].h();this.B1.h();this.z4.h();this.P3.h()};as.DP.prototype.PV=function(r){this.tR=r;
this._6()};as.DP.prototype.apA=function(r){this._6(this.TE.indexOf(r.currentTarget));this.parent.apj(this.YJ)};
as.DP.prototype._6=function(r){var j=this.tR,D=this.TE;for(var P=0;P<3;P++){var N=D[P];N.Jc();N.ph()}if(j==null||j.j.length==0||j.R.length==0||j.j[j.R[0]]==null)return;
var b=-1,Y=j.j[j.R[0]];if(Y.ri()&&Y.dw(j).B!=null){D[2].BY();b=2}if(Y.add.vmsk){D[1].BY();b=1}if(Y.BG()){D[0].BY();
b=0}if(r!=null)b=r;else if(Y.fh)b=1;else if(Y.Cz==3)b=2;else if(Y.Cz==1)b=0;this.YJ=b;if(b==-1){this.B1.ph();
this.z4.ph();return}var x=Y.$Y(b);this.B1.BY();this.z4.BY();this.B1.l(x.B1);this.z4.l(x.z4);D[b].H8();
var C=this.P3.i;if(b==0)this.i.appendChild(C);else if(C.parentNode==this.i)this.i.removeChild(C)};as.Ak=function(){iI.call(this);
this.i=y.C("div","form");this.up=null;this.xY=null;this.ax=new aT(0,!1);this.ax.X(y.E.Y,this.as0,this);
this.fS=new aT(1,!0);this.fS.X(y.E.Y,this.as0,this)};as.Ak.prototype=new iI;as.Ak.prototype.h=function(){this.ax.h();
this.fS.h()};as.Ak.prototype.as0=function(r){var j=[null,null,null,null],D=[null,null,null,null],N=r.target.A();
if(r.target==this.ax){j[0]=N[2];j[1]=N[3];j[2]=j[0]+N[0];j[3]=j[1]+N[1]}else{D=N;var b=D[3];D[3]=D[2];
D[2]=b}var Y=new iu(y.E.w,!0);Y.k=I.C5;Y.data={e:G.Te,JO:j,ai_:D};this.g(Y)};as.Ak.prototype.PV=function(r){this.up=r;
if(r==null)return;var j=this.xY,D=R.Bu.xk(r),N=D[0],b=D[1],Y=this.ax.i,x=this.fS.i,C=Y.parentNode!=null,w=x.parentNode!=null,q=[r.TB,r.d,j.Ar.Q5];
if(N){if(!C)this.i.appendChild(Y);this.ax.l([N[2]-N[0],N[3]-N[1],N[0],N[1]],q)}else if(C)this.i.removeChild(Y);
if(b){if(!w)this.i.appendChild(x);var u=b[2];b[2]=b[3];b[3]=u;this.fS.l(b,q)}else if(w)this.i.removeChild(x)};
as.Ak.prototype.Wf=function(r,j){this.xY=r;this.PV(this.up)};function fd(r){e6.call(this,r.name,!0);
this.AN=r;this.lv=null;this.oJ=document.createElement("canvas");this.lh=this.oJ.getContext("2d");this.Bx=document.createElement("canvas");
this.lk=this.Bx.getContext("2d");var j=16,D=R.O(16*16*4);R._u(D,j,j,8);this.yO=R.scale.ab(D,j,j);this.xS=new ef(this.UX);
this.xS.parent=this;this.uE=0;this.anv="";this.xE=4}fd.prototype=new e6;fd.prototype.ah$=function(){if(this.AN.uh())return window.confirm(e9.get([22,6,3])+" "+this.AN.name+". "+e9.get([22,6,4]));
return!0};fd.prototype.Wf=function(r,j){this.lv=r};fd.prototype.PV=function(r){this.au();this.eE()};
fd.prototype.kt=function(r,j){if(r<=0||j<=0)return;this.oW=r;this.qg=j;var D=this.AN,N=y.f();D.z.lk.d=Math.floor(r*N);
D.z.lk.r=Math.floor(j*N);y.z_(this.Bx,r,j);y.z_(this.oJ,r,j);y.z_(Z.NH(),r,j);if(D.z.S==0)D.z.S=I.Az.Qb(D.d,D.r,r*N,j*N);
this.eE()};fd.prototype.au=function(){var r=this.UX.firstChild;if(!Z.DB&&r==Z.NH()||Z.DB&&r==this.Bx)this.UX.removeChild(r);
var j=Z.DB?Z.NH():this.Bx;if(!y.bN(j))this.UX.appendChild(j)};fd.prototype.eE=function(){if(Z.DB!=this.xE){this.uE=0;
this.anv=""}this.xE=Z.DB;if(this.lv==null)return;if(Z.DB)this.agI();else this.mg();var r=this.AN;this.uE=r.z.S;
this.anv=JSON.stringify(r.z.Cs)};fd.prototype.agI=function(){if(Z.DB&&fd.ale==null)fd.ale=new fd.$h(!1);
if(Z.DB&&fd.aoh==null)fd.aoh=[new fd.$h(!0,2),new fd.$h(!0,8),new fd.$h(!0,32),new fd.$h(!0,128)];var r=this.AN,q,z=0;
if(r.BC==null)return;var j=r.z,D=j.lk.d,N=j.lk.r,b=Z.AF;this.lk.clearRect(0,0,D,N);var Y=this.a6_(r);
if(j.lC==null)j.lC=new Z.oj(D,N);if(Y)j.lC.set(this.Bx);else{Z.Wq(j.lC);Z.a9(1)}var x=j.lY(0,0),C=new j9;
C.scale(D,N);C.concat(j.LW(!0));C.scale(1/r.d,1/r.r);var w=[C.kD,C.M,0,C.Jy,C.oq,0,C.Db,C.aF,1];if(fd.amL==null)fd.amL=new Float32Array(4*1024);
var u=[0,0,0,0],h=fd.amL;if(r.add.artd){h.fill(0);u=fd.p9(r);var O=r.d,g=r.r,A=0;for(var P=0;P<r.j.length;
P++){var t=r.j[P],$=t.add.artb;if($==null||!t.Xy())continue;var i=t.tT();h[z]=i.x/O;h[z+1]=i.y/g;h[z+2]=i.d/O;
h[z+3]=i.r/g;z+=4;if(z==h.length)break}if(z>2*4)A++;if(z>8*4)A++;if(z>32*4)A++;q=fd.aoh[A];h=new Float32Array(h.buffer,0,[2,8,32,128][A]*4)}else q=fd.ale;
Z.JH(D,N);Z.a9(0);Z.JH(D,N);q.Gg();q.PU(j.lC.q2,r.BC.q2,new Float32Array(w),new Float32Array([D/8,N/8,x.x/D,x.y/N]),r.d,r.r,1/r.z.S,D,N,new Float32Array(u),h,new Float32Array(R.ft.Vd(R.ft.J_(j.Cs))));
b.drawArrays(b.TRIANGLES,0,6)};fd.p9=function(r){return[0,0,0,0]};fd.a7o=function(r){var j=R._.z2(r.v),D=[j.a/255,j.p/255,j.M/255,1];
for(var P=0;P<4;P++)D[P]=Math.min(1,D[P]);return D};fd.zf=function(r,j){var D=r[2]*255;if(Z.DB)D=j?0:Math.max(1,D);
return"rgba("+r[0]*255+","+r[1]*255+","+D+","+r[3]+")"};fd.wx=function(r){if(Z.DB)for(var P=0;P<r.length;
P+=4){if(r[P+2]==0)r[P+2]=3}};fd.prototype.mg=function(){var r=this.AN;if(r.buffer==null)return;var j=r.z,D=j.lk,N=D.d,b=D.r,Y=new bf(0,0,r.d,r.r);
this.lh.clearRect(0,0,N,b);this.lk.clearRect(0,0,N,b);var x=j.LW(!0),C=x.clone();C.gq();if(r.add.artd==null){this.lk.save();
var w=C.OT(new gJ(0,0));C.translate(-w.x,-w.y);this.lk.translate(Math.round(w.x),Math.round(w.y));this.lk.fillStyle=this.yO;
this.al(R.K.rR(Y),C,this.lk);this.lk.fill();this.lk.restore()}else{this.lk.fillStyle=fd.zf(fd.p9(r));
this.lk.fillRect(0,0,N,b);this.lk.save();this.lk.setTransform(C.kD,C.M,C.Jy,C.oq,C.Db,C.aF);var q=r.root.children;
for(var P=0;P<q.length;P++){var u=q[P].n;if(u.add.artb==null||!u.Xy())continue;var h=u.tT(),z=u.Qr();
if(z!=0)continue;this.lk.fillStyle="white";this.lk.fillRect(h.x,h.y,h.d,h.r)}this.lk.restore()}if(j.wg.length!=D.Z()){j.wg=R.O(D.Z());
j.v8=R.O(D.Z()*4)}j.v8.fill(0);R.scale.i$(r.buffer,Y,x,j.v8,D);if(j.Cs[0]+j.Cs[1]+j.Cs[2]!=3)R.ft.v9(j.v8,j.v8,R.ft.J_(j.Cs));
this.lh.putImageData(new ImageData(new Uint8ClampedArray(j.v8.buffer),D.d,D.r),0,0);this.lk.drawImage(this.oJ,0,0);
this.lk.getImageData(0,0,1,1);this.a6_(r)};fd.prototype.a6_=function(r){var j=r.z,D=j.Cs[0]+j.Cs[1]+j.Cs[2],N=!1,b=[];
for(var P=0;P<r.R.length;P++){var Y=r.j[r.R[P]];if(Y==null)continue;var x=Y.Cz;if(x!=1&&x!=3)continue;
var C=x==1?Y.BG():Y.dw(r).B;if(C.zo)b.push(C)}for(var P=0;P<r.c9.length;P++)if(r.c9[P].zo)b.push(r.c9[P]);
for(var P=0;P<b.length;P++){var C=b[P];this.a3m(C,j,b.length==1&&D==0?2:1,C.color,C.h_);N=!0}var w=this.lv;
N=this.apt(r,this.lk,j)||N;if(r.c&&w.nN&&w.Ar.f4){this.a3m(r.c,j,0,0,null);N=!0}return N};fd.prototype.a3m=function(r,j,D,N,b){var Y=0,z,O;
if(b)Y=Math.round(b.M)<<16|Math.round(b.p)<<8|Math.round(b.a);var x=j.LW(!0),C=j.lk,w=new bf(0,0,j.AN.d,j.AN.r);
if(j.wg.length!=C.Z()){j.wg=R.O(C.Z());j.v8=R.O(C.Z()*4)}j.wg.fill(N);j.v8.fill(0);var q=r.channel,u=r.rect;
R.scale.F(q,u,x,j.wg,C);if(D==0)R.c.a5W(j.wg,j.v8,C,C);else R.c.aqF(j.wg,j.v8,C,C,D,Y);fd.wx(j.v8);var h=new ImageData(new Uint8ClampedArray(j.v8.buffer),C.d,C.r);
this.lh.putImageData(h,0,0);this.lk.save();if(D==0){z=C.clone();z.Fp(-1,-1);O=new j9}else{z=new bf(0,0,w.d,w.r);
O=x.clone();O.gq()}this.al(R.K.rR(z),O,this.lk);this.lk.clip();this.lk.drawImage(this.oJ,0,0);this.lk.restore()};
fd.prototype.apt=function(r,j,D){var N=r.I.wS!=null||r.I.M3!=null||r.I.EY!=null||r.I.lL.length!=0||r.I.Js.length!=0,b=this.lv,Y=b.Ar,x=gl._I[b.no],C=Math.round(12*y.f()),w=C/r.z.S,q=D.LW(!0);
q.gq();j.save();j.setTransform(q.kD,q.M,q.Jy,q.oq,q.Db,q.aF);if(r.add.artd){var u=fd.p9(r)[0];u=u<.5?u+.5:u-.5;
u=""+Math.round(u*255).toString(16);while(u.length<2)u="0"+u;j.fillStyle="#"+u+u+u;j.font=w+"px sans-serif";
for(var P=0;P<r.j.length;P++){var h=r.j[P];if(h.add.artb==null||!h.Xy())continue;var z=h.tT();j.fillText(h.getName(),z.x+2,z.y-w*.7);
N=!0}}function O(g9){return g9==1||g9==2||g9==4||g9==5}var g=fd.zf([.1,.5,1,1]),t=fd.zf([1,1,1,1]);if(b.nN&&Y.ou){j.fillStyle=j.strokeStyle=g;
j.lineWidth=1.5/D.S;var $=r.HG(),i=$[0],A=$[1];for(var H=0;H<A.length;H++){var h=i[A[H]],F=h.add.vmsk,T=F.W,_=R.K.WM(T);
this.al(_,null,j);j.stroke();N=!0;var V=3*y.f()/D.S,X=T.length-3;for(var P=0;P<F.qE.length;P++){var o=R.b.jL(T,F.qE[P]);
if(o==null)continue;var c=o.x,E=o.y;j.beginPath();var f=P==0;if(F.iI)f=!f;if(f){j.moveTo(c-V,E-V);j.lineTo(c+V,E+V);
j.moveTo(c-V,E+V);j.lineTo(c+V,E-V);j.stroke()}else{j.arc(c,E,V*1,0,2*Math.PI);j.fill()}N=!0}if(r.R.length!=1)continue;
var d=-1;for(var P=0;P<T.length;P++){if(T[P].type>5)continue;if(T[P].type==0||T[P].type==3){if(T[P].va!=-1)d++;
continue}if(F.R.indexOf(d)!=-1){var c=T[P].Q.x,E=T[P].Q.y;j.fillRect(c-V*.8,E-V*.8,2*V*.8,2*V*.8)}if(F.cW.indexOf(P)!=-1){var s=T[P],B=[s.Q];
j.beginPath();j.moveTo(s.IR.x,s.IR.y);j.lineTo(s.Q.x,s.Q.y);j.lineTo(s.TU.x,s.TU.y);var a=T[P-1],U=T[P+1];
if(a&&O(a.type)&&F.cW.indexOf(P-1)==-1){j.moveTo(a.Q.x,a.Q.y);j.lineTo(a.TU.x,a.TU.y);B.push(a.TU)}if(U&&O(U.type)&&F.cW.indexOf(P+1)==-1){j.moveTo(U.Q.x,U.Q.y);
j.lineTo(U.IR.x,U.IR.y);B.push(U.IR)}j.stroke();if(!s.Q.gy(s.IR))B.push(s.IR);if(!s.Q.gy(s.TU))B.push(s.TU);
for(var M=0;M<B.length;M++){var o=B[M],c=o.x,E=o.y;if(M==0&&(s.type==2||s.type==5))j.fillRect(c-1.2*V,E-1.2*V,2.4*V,2.4*V);
else{j.beginPath();j.arc(c,E,V*1.2,0,2*Math.PI);j.fill();if(M!=0)j.fillStyle=t;j.beginPath();j.arc(c,E,V*.8,0,2*Math.PI);
j.fill();j.fillStyle=g}}}N=!0}}}j.lineWidth=1/D.S;if(r.I.IM){j.fillStyle=j.strokeStyle=g;var U={v:[],J:[]},W=fd.a7A;
if(W==null){W=fd.a7A={v:[1,0],J:["M"]};for(var P=1;P<30;P++){var n=Math.PI*2*P/30;W.v.push(Math.cos(n),Math.sin(n));
W.J.push("L")}W.J.push("Z","M","L","M","L");W.v.push(-.5,0,.5,0,0,-.5,0,.5)}for(var P=0;P<r.I.IM.length;
P++){var a=I.qT.t9(r.I.IM[P],D),e=new j9(a[0],0,0,a[0],a[1],a[2]);R.K.concat(U,W,e)}this.al(U,null,j);
j.stroke();N=!0}j.fillStyle=j.strokeStyle=fd.zf([0,0,0,1],!0);var Q=new j9(1,0,0,1,.5/D.S,.5/D.S);if(r.I.wS){this.al(r.I.wS,null,j);
j.fill()}if(r.I.M3){this.al(r.I.M3,Q,j);j.stroke()}for(var m in r.I.Qa)if(r.I.Qa[m].M3){this.al(r.I.Qa[m].M3,null,j);
j.stroke();N=!0}j.beginPath();var V=(4*y.f()+.5)/D.S,p=r.I.D$;for(var P=0;P<p.length;P+=2){N=!0;var c=p[P],E=p[P+1];
j.rect(c-V,E-V,2*V,2*V)}j.stroke();var p=r.I.adZ;j.beginPath();var V=4*y.f()/D.S;for(var P=0;P<p.length;
P+=2){N=!0;var c=p[P],E=p[P+1];j.moveTo(c+V,E);j.arc(c,E,V,0,2*Math.PI)}j.fill();var p=r.I.jz;j.fillStyle=fd.zf([1,1,1,1]);
j.beginPath();var V=6*y.f()/D.S;for(var P=0;P<p.length;P+=2){N=!0;var c=p[P],E=p[P+1];j.moveTo(c+V,E);
j.arc(c,E,V,0,2*Math.PI)}j.fill();var V=4*y.f()/D.S;for(var P=0;P<p.length;P+=2){N=!0;var c=p[P],E=p[P+1];
j.fillStyle=fd.zf(r.I.Zr.indexOf(P>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);j.beginPath();j.moveTo(c+V,E);j.arc(c,E,V,0,2*Math.PI);
j.fill()}if(r.I.lL.length!=0){for(var P=0;P<r.I.lL.length;P++){var L=r.I.lL[P],S=L[1];j.putImageData(new ImageData(new Uint8ClampedArray(L[0].buffer),S.d,S.r),S.x,S.y)}}var eJ=.5/D.S;
j.lineWidth=1/D.S;if(r.I.xu){N=!0;var hy=r.I.xu,v=hy.MS,_={J:[],v:[]};for(var P=0;P<hy.X_.length;P++)R.K.concat(_,R.K.rR(hy.X_[P]));
_.v=_.v.concat(v);for(var P=0;P<v.length;P+=4){_.J.push("M","L")}for(var P=0;P<_.v.length;P++){_.v[P]+=eJ}j.strokeStyle=fd.zf([.9,.2,.2,1]);
this.al(_,null,j);j.stroke();var ff=y.f(),K=2/D.S;j.font=w*.9+"px sans-serif";for(var P=0;P<v.length;
P+=4){var c=v[P],E=v[P+1],jo=v[P+2],g5=v[P+3],fQ=Math.sqrt((g5-E)*(g5-E)+(jo-c)*(jo-c));fQ=R.DA.m2(fQ,r.TB,b,E==g5?r.d:r.r);
var iT=new gJ((c+jo)/2,(E+g5)/2);j.fillStyle=fd.zf([.9,.2,.2,1]);var ac=j.measureText(fQ).width;j.fillRect(iT.x-ac/2-K*ff,iT.y-3.5*K*ff,ac+2*K*ff,7*K*ff);
j.fillStyle=fd.zf([1,1,1,1]);j.save();j.translate(iT.x-ac/2,iT.y+2*K*ff);j.scale(.1,.1);j.font=w*9+"px sans-serif";
j.fillText(fQ,0,0);j.restore()}}if(b.nN){if(Y.JZ){var aR=R.DA.bL(Y.cb,r.TB,r.d,Y.nv),hV=aR;if(Y.nv==4)hV*=r.r/r.d;
this._u(r,j,aR,hV,1,Y.nD);N=!0}if(Y.xv&&r.z.S>7){this._u(r,j,1,1,.5,Y.nD);N=!0}if(Y.Pc){var cu=r.Yd(),iy=r.sg(),gr=Math.max(r.z.lk.d,r.z.lk.r)/r.z.S;
gr=Math.max(Math.max(r.d,r.r)*2,gr);j.beginPath();j.strokeStyle=fd.zf([0,1,1,1]);for(var P=0;P<cu[0].length;
P++){var cp=cu[0][P],gP=cu[1][P];if(gP!=-1&&gP!=iy)continue;if(cp[0]==0){var g7=Math.round(cp[1])+eJ;
j.moveTo(g7,-gr);j.lineTo(g7,gr)}else{var j8=Math.round(cp[1])+eJ;j.moveTo(-gr,j8);j.lineTo(gr,j8)}N=!0}j.stroke()}var dg=r.hB;
if(Y.hB&&dg.length!=0){j.font=w*.8+"px sans-serif";var gR=[],em=[];for(var P=0;P<dg.length;P++){var fr=I.K_.KG(dg,P);
gR.push(fr);if(r.Xf.indexOf(P)!=-1)em.push(fr)}gR.reverse();var aU=Date.now();gR=R.rect.VV([0,0,r.d,r.r],gR);
for(var M=0;M<2;M++)for(var P=0;P<gR.length;P++){var bb=gR[P],d=bb[4],fZ=d!=null?dg[d]:null;if(fZ&&M==0||fZ==null&&M==1)continue;
var c=Math.round(bb[0]),E=Math.round(bb[1]),jo=Math.round(bb[2]),g5=Math.round(bb[3]);j.strokeStyle=j.fillStyle=fd.zf(fZ?[0,.7,.7,1]:[.8,.8,.8,1]);
j.strokeRect(c+eJ,E+eJ,jo-c,g5-E);var h1=P+1,ar=j.measureText(h1),ac=ar.width;j.fillRect(c,E,ac+w/2,w);
j.fillStyle=fd.zf([1,1,1,1]);j.fillText(h1,c+w/4,E+w*.8)}var K=2/r.z.S,gt=2*K;for(var P=0;P<em.length;
P++){var bb=em[P],c=Math.round(bb[0]),E=Math.round(bb[1]),jo=Math.round(bb[2]),g5=Math.round(bb[3]);
j.strokeStyle=j.fillStyle=fd.zf([1,.6,0,1]);j.strokeRect(c+eJ,E+eJ,jo-c,g5-E);var gX=[c,E,jo,E,jo,g5,c,g5];
for(var dK=0;dK<gX.length;dK+=2){var g7=gX[dK],j8=gX[dK+1],ay=gX[dK+2&7],hh=gX[dK+3&7];j.fillRect(g7-K,j8-K,gt,gt);
j.fillRect(Math.round((g7+ay)/2)-K,Math.round((j8+hh)/2)-K,gt,gt)}}N=!0}}j.strokeStyle=fd.zf([1,0,0,1]);
if(r.I.EY){this.al(r.I.EY,Q,j);j.stroke()}j.restore();if(b.E$){if(r.z._y==null||r.z._y.width!=r.z.lk.d||r.z.We.height!=r.z.lk.r){r.z._y=j.createImageData(r.z.lk.d,R.DA.pt);
r.z.We=j.createImageData(R.DA.pt,r.z.lk.r)}var x=gl._I[b.no],b7=0,cV=0,bj=r.d,bW=r.r;if(r.sg()!=-1){var z=r.j[r.sg()].tT();
b7=z.x;cV=z.y;bj=z.d;bW=z.r}b7*=D.S;cV*=D.S;var D=r.z,bu=[1,r.TB,r.TB/2.54,r.TB/25.4,bj/100][Y.Q5],da=D.S*r.d/2,dj=D.S*r.r/2,e_=[D.S*bu,new gJ(D.u.x+(b7+da*bu-da),D.u.y+(cV+dj*bu-dj))];
if(Y.Q5==4)bu*=bW/bj;var de=[D.S*bu,new gJ(D.u.x+(b7+da*bu-da),D.u.y+(cV+dj*bu-dj))],aM=this.xS.gM;R.DA.aaZ(D,x["--text-color"],x["--bg-input"],Math.floor(aM.x),Math.floor(aM.y),e_,de);
var g2=ib.a9x(D.S,fd.zf([1,1,1,1]));fd.wx(r.z.We.data);fd.wx(r.z._y.data);j.putImageData(r.z.We,0,0);
j.putImageData(r.z._y,0,0);j.putImageData(g2,0,r.z.lk.r-g2.height)}if(r.I.Js.length!=0){for(var P=0;
P<r.I.Js.length;P++){var L=r.I.Js[P],S=L[1];j.putImageData(new ImageData(new Uint8ClampedArray(L[0].buffer),S.d,S.r),S.x,S.y)}}return N||b.E$};
fd.prototype._u=function(r,j,D,N,b,Y){while(D*r.z.S<4){D*=2;N*=2}var x=r.d,C=r.r,w=.5/r.z.S;j.strokeStyle=fd.zf([.5,.5,.5,b],!0);
j.save();j.rect(0,0,x,C);j.clip();j.beginPath();for(var q=0;q<=x;q+=D){j.moveTo(q+w,0);j.lineTo(q+w,C)}if(Y==0){for(var u=0;
u<=C;u+=N){j.moveTo(0,u+w);j.lineTo(x,u+w)}}else{N*=Math.sqrt(4/3);var h=N*Math.floor(x/N),z=x*(N/(2*D));
for(var u=-h;u<=C+h;u+=N){j.moveTo(0,u);j.lineTo(x,u-z);j.moveTo(0,u);j.lineTo(x,u+z)}}j.stroke();j.restore()};
fd.prototype.al=function(r,j,D){D.beginPath();var N=R.K.clone(r);if(j)R.K.F(N.v,j,N.v);Typr.U.pathToContext({cmds:N.J,crds:N.v},D)};
fd.$h=function(r,j){Z.UQ.call(this);this.a4P=r;var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(r?"uniform vec4 bgClr;  uniform vec4 ars["+j+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+Z.hx.Bd+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(r?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+j+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(1.0,1.0,1.0,1.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.J1(D,N)};fd.$h.prototype=new Z.UQ;fd.$h.prototype.PU=function(r,j,D,N,b,Y,x,C,w,q,u,h){this.Ch("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var z=Z.AF,O=this._J;z.uniformMatrix3fv(O.tmat,!1,D);z.uniform4fv(O.gsize,N);z.uniform3f(O.contSizeZoom,b,Y,x);
z.uniform2f(O.cnvSize,C,w);z.uniformMatrix4fv(O.ctrn,!1,h);if(this.a4P){z.uniform4fv(O.ars,u);z.uniform4fv(O.bgClr,q)}z.uniform1i(O.source,0);
z.uniform1i(O.target,1);z.activeTexture(z.TEXTURE0);z.bindTexture(z.TEXTURE_2D,r);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,j);z.activeTexture(z.TEXTURE0)};function ce(){e6.call(this,[9,7],!1,"---panels/layercomps",e6.kG.ap8);
this.UX.setAttribute("style","min-width:240px;");this.tR=null;this.GL=-1;this.aor=[];this.K4=y.C("div","scrollable");
this.K4.style.height="160px";this.UX.appendChild(this.K4);this.bZ=y.C("div","lpfoot");this.UX.appendChild(this.bZ);
this.xC=[];var r=["reload","lrs/newlayer","lrs/bin"],j=[[5,10],[5,3],[5,4]];for(var P=0;P<r.length;P++){var D=new iH("<img src=\""+PIMG[r[P]]+"\" class=\"gsicon\" />",!1,j[P]);
D.X("click",this.a9Z,this);this.bZ.appendChild(D.i);this.xC.push(D)}}ce.prototype=new e6("");ce.prototype.MJ=function(r){var j=new iu(y.E.w,!0);
j.data=r;j.k=I.qL;this.g(j)};ce.prototype.a9Z=function(r){var P=this.xC.indexOf(r.currentTarget);if(P!=1)if(this.GL==-1)return;
this.MJ({e:["updLC","addLC","delLC"][P],wd:this.GL});if(P==2)this.GL=-1};ce.prototype.h=function(){e6.prototype.h.call(this);
for(var P=0;P<this.xC.length;P++)this.xC[P].h()};ce.prototype.PV=function(r){if(r==null)y.ui(this.UX,"disabled");
else y.UM(this.UX,"disabled");this.tR=r;y.Su(this.K4);if(r==null)return;var j=r._m.lastAppliedComp?r._m.lastAppliedComp.v:0,D=r._m.list.v.slice(0);
D.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var P=0;P<D.length;
P++){var N=D[P].v,b=new jb(N.Nm.v,N.compID.v,N.capturedInfo.v,j,this.GL);b.X("activate",this.r3,this);
b.parent=this;this.K4.appendChild(b.i);this.aor.push(b)}};ce.prototype.r3=function(r){this.GL=r.currentTarget.wd;
this.PV(this.tR)};function jb(r,P,j,D,N){iI.call(this);this.wd=P;this.i=y.C("div","head listitem"+(P==N?" selected":""));
var b=P==D,Y=new iH(b?"\u2713":"\u2014");if(b)Y.H8();this.i.appendChild(Y.i);Y.X("click",this.DR,this);
var x=this.v3=y.C("span");x.textContent=r;this.i.appendChild(x);this.xC=[];if(P!=0){this.i.addEventListener("mouseup",this.r3.bind(this),!1);
this.a6t=y.C("span","headR");this.i.appendChild(this.a6t);var C=["lrs/eye","pos","lrs/fx"],w=["Visibility","Position","Appearance"];
for(var q=0;q<C.length;q++){var u=new iH("<img src=\""+PIMG[C[q]]+"\" class=\"autoscale gsicon\" />",!1,w[q]);
if((j>>q&1)==0)u.i.setAttribute("style","opacity:0.3");u.X("click",this.agQ,this);this.a6t.appendChild(u.i);
this.xC.push(u)}}}jb.prototype=new iI;jb.prototype.r3=function(r){if(r.target!=this.v3&&r.target!=this.i)return;
if(r.detail==1)this.g(new iu("activate",!1));else{var j=new e6._K(this.v3,this.vg.bind(this))}};jb.prototype.agQ=function(r){var P=this.xC.indexOf(r.currentTarget);
this.MJ({e:"editLC",abm:P,wd:this.wd})};jb.prototype.vg=function(r){this.MJ({e:"editLC",l6:r,wd:this.wd})};
jb.prototype.DR=function(r){this.MJ({e:"setLC",wd:this.wd})};jb.prototype.MJ=function(r){var j=new iu(y.E.w,!0);
j.data=r;j.k=I.qL;this.g(j)};function c2(){e6.call(this,[9,11],!1,"---panels/navigator",e6.kG.a2f);var r=y.C("div","padded");
r.setAttribute("style","min-width:15em");this.UX.appendChild(r);var j=y.C("div");r.appendChild(j);j.setAttribute("style","cursor:grab;");
this.s=y.C("canvas");this.s.width=100;j.appendChild(this.s);y.PO(this.s);y.Wu(this.s,this.ya.bind(this));
this.u2=new bN(null,2,4e3,"%",null,!0);this.u2.X(y.E.Y,this.a6Z,this);r.appendChild(this.u2.i);this.am5=this.zI.bind(this);
this.aol=this.Zf.bind(this);this.up=null}c2.prototype=new e6("");c2.prototype.kt=function(r,j){this.eE()};
c2.prototype.a6Z=function(r){var j=this.u2.A(),D=this.up,N=j/100;if(.8<N&&N<1.2)N=1;else if(1.8<N)N=Math.round(N);
var b=new iu(y.E.w,!0);b.k=I._h;b.data={e:"zoom",S:N};this.g(b)};c2.prototype.ya=function(r){if(this.up==null)return;
y.sD(window,this.am5);y.B6(window,this.aol)};c2.prototype.zI=function(r){var j=y.dD(r,this.s),D=this.up,N=this.s.width,b=this.s.height,Y=(j.x*y.f()-N/2)/N,x=(j.y*y.f()-b/2)/b,C=y.f()*D.z.S,w=Math.round(-D.z.S*D.d*Y),q=Math.round(-D.z.S*D.r*x);
I.EO.NB(D,w,q)};c2.prototype.Zf=function(r){y.hE(window,this.am5);y.jm(window,this.aol)};c2.prototype.PV=function(r){if(r==null&&this.up!=null)this.s.width=100;
this.up=r;this.eE()};c2.prototype.eE=function(){var r=this.up,N=0;if(r==null||r.z.S==0)return;var j=r.z;
if(!y.bN(this.UX))return;this.u2.l(j.S*100);var D=300*y.f(),b=[r.Ez(),new bf(0,0,r.d,r.r)];R.aA(b);while(Math.max(b[N+1].d,b[N+1].r)>D){N+=2}var Y=b[N],x=b[N+1],C=x.d,w=x.r,q=this.s;
q.width=C;q.height=w;y.tv(q,C,w);var u=q.getContext("2d"),h=u.createImageData(C,w);R.kZ(Y,h.data);u.putImageData(h,0,0);
var z=j.lk,O=j.K$(z.x,z.y),g=j.K$(z.x+z.d,z.y+z.r),t=C/r.d;u.scale(t,t);u.lineWidth=4/t;u.strokeStyle="#ff0000";
u.strokeRect(O.x,O.y,g.x-O.x,g.y-O.y)};c2.prototype.Wf=function(r,j){};c2.prototype.au=function(){this.eE()};
function gj(r,j){if(r==null){e6.call(this);return}e6.call(this,r.name,!1,r.icon,j);var D=this.dN=y.C("iframe");
D.setAttribute("src",r.url);D.setAttribute("style","width:"+r.width+"px; height:"+r.height+"px");this.UX.appendChild(D)}gj.prototype=new e6("");
gj.prototype.Ji=function(r){if(y.bN(this.dN))this.dN.contentWindow.postMessage(r,"*")};gj.prototype.kt=function(r,j){this.dN.setAttribute("style","width:"+r+"px; height:"+j+"px")};
function h6(){e6.call(this,[9,12],!1,"---panels/tpreset",e6.kG.fZ);this.xY=null;this.sm=new i9(I.cL);
this.sm.parent=this;var r=y.C("div","padded");r.setAttribute("style","width:20em");this.UX.appendChild(r);
r.appendChild(this.sm.j7)}h6.prototype=new e6("");h6.prototype.au=function(){this.sm.pB(this.xY.jT)};
h6.prototype.Wf=function(r,j){this.xY=r;if(j==e5.Cr||j==e5.fZ)this.sm.pB(r.jT)};h6.prototype.kt=function(r,j){this.sm.a4j(this.xY.Uy)};
h6.prototype.h=function(){e6.prototype.h.call(this);this.sm.h()};var f6=function(){var r=[],j=null,D=null,N=null,b=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function Y(){e6.call(this,"Memory",!1,null,e6.kG.a8K);var z=y.C("div","padded");this.UX.appendChild(z);
D=new iH(["<< VAR0",[0,13,2]],!1,null,!0);D.addEventListener("click",function(O){r.pop();C()});z.appendChild(D.i);
j=y.C("div","scrollable");j.setAttribute("style","width:20em;  height:26em; margin-top:8px;");z.appendChild(j)}Y.prototype=new e6("");
Y.prototype.PV=function(z,O,g){N=O;this.au()};Y.prototype.au=function(){D.b3(!1);if(!y.bN(j))return;
var z={Tr:"Total:",TK:[]};for(var P=0;P<N.length;P++)z.TK.push(q(N[P]));h(z);r=[z];C()};Y.prototype.h=function(){e6.prototype.h.call(this);
D.h()};function x(z){var O=z.currentTarget,P=0;while((O=O.previousSibling)!=null)P++;r.push(r[r.length-1].TK[P-1]);
C()}function C(){D.b3(r.length>1);var z=r[r.length-1];y.Su(j);w(z,j,0);z.TK.sort(function(O,g){return g.bz[0]-O.bz[0]});
for(var P=0;P<z.TK.length;P++)w(z.TK[P],j,1)}function w(z,O,g){var t=fN.CK,$=g!=0&&z.TK,i="margin-left:"+g*10+"px; margin-bottom:8px; padding:3px 5px;";
if($)i+="cursor:pointer;";if(z.bW!=null)i+="background-color:rgba("+b[z.bW].join(",")+",0.2);";var A=y.C("div");
O.appendChild(A);A.setAttribute("style",i);A.innerHTML=y.bo(z.Tr)+"<br />"+"RAM: <b>"+t(z.bz[0])+"</b>\u2001GPU: <b>"+t(z.bz[1])+"</b>";
if($)A.addEventListener("click",x,!1)}function q(z){var O={Tr:z.name,TK:[],bW:0},g=Z.DB?1:0,t=1-g,$={Tr:"Final Image",bz:[z.d*z.r*4,g*z.d*z.r*4],bW:2};
O.TK.push($);for(var P=0;P<z.j.length;P++){var i=u(z.j[P]);if(i.TK.length!=0)O.TK.push(i)}var A=z.add.lnk2;
if(A)for(var P=0;P<A.length;P++){var i=A[P],H={Tr:i.W8,TK:[],bW:4},F=0;H.TK.push({Tr:"Raw file",bz:[i.raw.length,0]});
if(i.Du)for(var T=0;T<i.Du.length;T+=2)F+=i.Du[T].length;if(F!=0)H.TK.push({Tr:"Decoded pixels",bz:[F,0]});
h(H);O.TK.push(H)}h(O);return O}function u(z){var O={Tr:z.getName(),TK:[],bW:1},g=Z.DB?1:0,t=1-g,$=z.rect.Z();
if($!=0)O.TK.push({Tr:"Layer pixels",bz:[$*4,g*$*4]});if(z.add.lmfx&&z.Nl.LZ.type){var i=z.Nl.LZ.type,T=0;
for(var A in i){var H=0;for(var F=0;F<i[A].length;F++)if(A=="ebbl"){if(i[A][F].gv)H+=i[A][F].gv.dS.Z();
if(i[A][F].Cg)H+=i[A][F].Cg.dS.Z();if(i[A][F].vz)H+=i[A][F].vz.dS.Z();if(i[A][F].S7)H+=i[A][F].S7.dS.Z()}else H+=i[A][F].dS.Z();
if(H!=0)O.TK.push({Tr:e9.get(hz.names[hz.order.indexOf(A)]),bz:[t*H*4,g*H*4],bW:3})}if(z.Nl.m4)T+=$;
if(z.Nl.LR)T+=$;if(z.Nl.S9)T+=$;if(z.Nl.S9)T+=$;if(z.Nl.aU)T+=$;if(z.Nl.OM)T+=$;var _=z.Nl.k2?z.Nl.k2.length:0;
if(T+_!=0)O.TK.push({Tr:"Additional Blending Data",bz:[t*T*4+_,g*T*4]})}var V=z.BG(),X=V?V.rect.Z():0;
if(X!=0){O.TK.push({Tr:"Raster Mask",bz:[X,0]})}var V=z.add.vmsk,X=V&&V.UJ?V.UJ.rect.Z():0;if(X!=0){O.TK.push({Tr:"Vector Mask",bz:[X,0]})}h(O);
return O}function h(z){z.bz=[0,0];for(var P=0;P<z.TK.length;P++){z.bz[0]+=z.TK[P].bz[0];z.bz[1]+=z.TK[P].bz[1]}}return Y}();
function dF(){iI.call(this);this.k=0;this.Zj=null;this.i=y.C("div","toolconf");this.sm=null;this.Mn=null;
this.body=new y.C("div","body")}dF.prototype=new iI;dF.prototype.ahR=function(r,j){this.k=r;this.Zj=j;
if(I.Ft[r]){var D=this.sm=new i9(r);this.i.appendChild(D.i);D.parent=this}else{this.Mn=y.C("div");this.i.appendChild(this.Mn)}this.i.appendChild(this.body);
this.h()};dF.prototype.acW=function(r,j){};dF.prototype.a47=function(r){};dF.prototype.Wf=function(r,j){if(j==e5.Cr||j==e5.fZ)if(this.sm)this.sm.pB(r.jT)};
dF.prototype.Zm=function(r){};dF.prototype.h=function(){if(this.sm)this.sm.h();else this.Mn.innerHTML=y.Io(this.Zj,null,"toolicon");
this.qv()};dF.prototype.qv=function(){};function e2(){dF.call(this)}e2.prototype=new dF;e2.prototype.Zm=function(r){};
function eX(r){dF.call(this);if(r==null)return;this.xY=null;this.yR={};for(var P=0;P<r.length;P++){var j=r[P],D=null;
if(j=="brush"){D=new gi}if(j=="bmode"){D=new fk([12,19,0],by.OF,!1,by.Mi)}if(j=="bmode0"){D=new fk([12,19,0],by.OF.slice(23),!1)}if(j=="emode"){D=new fk([12,36],[[9,3],[10,38]])}if(j=="opacity"){D=new b8([12,0],0,100,"%");
D.l(100)}if(j=="flow"){D=new b8([12,63],0,100,"%");D.l(100)}if(j=="smth"){D=new b8([19,3,0],0,100,"%");
D.l(0)}if(j=="samp"){D=new fk("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(j=="wconf"){D=new ec;
D.l([40,!0,!0])}if(j=="sall"){D=new b1("Sample All Layers")}if(j=="strn"){D=new b8([12,64],1,100,"%");
D.l(50)}if(j=="smode"){D=new fk([12,36],[[19,7,0],[19,7,1]]);D.l(1)}if(j=="pdetail"){D=new b1([12,65]);
D.H8()}if(j=="rng"){D=new fk([12,12],[[19,6,0],[19,6,1],[19,6,2]]);D.l(1)}if(j=="expo"){D=new b8([12,5],0,100,"%");
D.l(50)}if(j=="algnd"){D=new b1([12,75]);D.l(!1)}if(j=="sfrom"){D=new fk([12,70],[[17,1],[17,3],[17,0]])}if(j=="alt"){D=new a8(null,["Alt"],!0,["Select Source"])}if(j=="qsmode"){D=new a2([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(j=="redge"){D=new iH([7,11],!1,null,!0)}if(j=="setop"){D=new hA}if(j=="patch"){D=new a2(null,[[12,70],[12,71]])}if(j=="prsr"){D=new a8(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
D.l([!1,!1])}D.parent=this;this.body.appendChild(D.i);this.yR[j]=D;if(j=="brush")D.X(y.E.Y,this.a6T,this);
else if(j=="redge")D.X("click",this.fc,this);else D.X(y.E.Y,this.Dz,this)}}eX.prototype=new dF;eX.prototype.acW=function(r,j){r=r[1];
var D=this.yR;if(r.Md)D.bmode.l(by.zT.indexOf(r.Md.v.BlnM));if(r.Opct)D.opacity.l(r.Opct.v);if(r.flow)D.flow.l(r.flow.v);
if(r.Brsh)D.brush.l(r,j.j_.fB,j.j_.CL);if(r.FrgC){var N=R._.z2(r.FrgC.v),b=new iu(y.E.V,!0);b.data={e:y.G.VD,Ek:e5.pN,Ix:0,m:N.a<<16|N.p<<8|N.M};
this.g(b)}this.a6T();this.Dz()};eX.prototype.a47=function(){if(I.Ft[this.k]==null)return null;var r=this.yR,j=JSON.parse(JSON.stringify(r.brush.A()));
j.classID=I.Ft[this.k][1][0];if(r.bmode)j.Md={t:"enum",v:{BlnM:by.zT[r.bmode.A()]}};if(r.opacity)j.Opct={t:"long",v:r.opacity.A()};
if(r.flow)j.flow={t:"long",v:r.flow.A()};var D=this.xY.xg;D={a:D>>>16,p:D>>>8&255,M:D&255};j.FrgC={t:"Objc",v:R._.XJ(D)};
return["Brush Preset "+j.Brsh.v.Dmtr.v.val,j]};eX.prototype.fc=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.gl,SO:"redge"};
this.g(r)};eX.prototype.qv=function(){for(var r in this.yR)this.yR[r].h()};eX.prototype.Zm=function(r){if(r.a9J=="showBrushOpts"){this.yR.brush.a9D(r.uB.x,r.uB.y)}for(var j in r.WN){var D=r.WN[j];
if(j!="qsmode")D*=100;if(this.yR[j])this.yR[j].l(D)}};eX.prototype.Wf=function(r,j){dF.prototype.Wf.call(this,r,j);
this.xY=r;var D=this.yR.brush;if(D==null)return;if(j==e5.Cr||j==e5.cL)D.pB(r.j_);if(j==e5.KY){D.l(r.j_.EU,r.j_.fB,r.j_.CL)}};
eX.prototype.a6T=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.VD,Ek:e5.KY,ER:this.yR.brush.A()};this.g(r)};
eX.prototype.Dz=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.a6,k:this.k};for(var j in this.yR){if(j=="brush"||j=="redge")continue;
var D=this.yR[j].A();if(["opacity","flow","smth","strn","expo"].indexOf(j)!=-1)r.data[j]=D/100;else if(j=="bmode")r.data.bmode=by.n4[D];
else if(j=="bmode0")r.data.bmode=by.n4[23+D];else r.data[j]=D}this.g(r)};function eF(r,j){dF.call(this);
if(r)return;this.yR={};for(var P=0;P<j.length;P++){var D=j[P],N=null;if(D=="binop")N=new hA;if(D=="feat"){N=new b8([7,6],0,100,"px");
N.l(0)}if(D=="redge")N=new iH([7,11],!1,null,!0);if(D=="wconf")N=new ec;if(D=="cstr")N=new gY;if(D=="anta"){N=new b1("Anti-alias");
N.l(!0)}if(D=="sall")N=new b1("Sample All Layers");if(D=="redge")N.X("click",this.fc,this);else N.X(y.E.Y,this.Dz,this);
N.parent=this;this.body.appendChild(N.i);this.yR[D]=N}}eF.prototype=new dF;eF.prototype.Zm=function(r){if(r.Uf!=null)this.yR.binop.l(r.Uf);
else if(r.mz){for(var j in r.mz)if(this.yR[j])this.yR[j].l(r.mz[j])}else{var D=eF.ap;if(D==null){var N=h4.a1w(!0);
D=eF.ap=new cW(N.items,N.SC)}D.h();D.parent=this;D.update(r.Ww,r.lv);var b=new iu(y.E.V,!0);b.data={e:y.G.Eo,Z3:D,x:r.HF.tu+2,y:r.HF.rW+1};
this.g(b)}};eF.prototype.qv=function(){for(var r in this.yR)this.yR[r].h()};eF.prototype.fc=function(){var r=new iu(y.E.V,!0);
r.data={e:y.G.gl,SO:"redge"};this.g(r)};eF.prototype.Dz=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.a6,k:this.k,mz:{}};
for(var j in this.yR)r.data.mz[j]=this.yR[j].A();this.g(r)};function gG(){eX.call(this,["brush","strn"])}gG.prototype=new eX;
function jC(){eX.call(this,"brush bmode opacity flow smth prsr".split(" "))}jC.prototype=new eX;function hl(){eX.call(this,["brush","bmode0","samp","wconf"])}hl.prototype=new eX;
function gH(){eX.call(this,["brush"])}gH.prototype=new eX;function hd(){eX.call(this,["brush","bmode","opacity","smth","prsr"])}hd.prototype=new eX;
function fy(){eX.call(this,["brush","rng","expo"])}fy.prototype=new eX;function fg(){eX.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}fg.prototype=new eX;
function bK(r){dF.call(this);if(r==null)return;var j=y.C("span","fitem");this.body.appendChild(j);var D=[[17,0],[17,1],[11,12,0],[17,2]];
this.TE=[];for(var P=0;P<D.length;P++){var N=new iH(D[P],!1,null,!0);this.TE.push(N);N.X("click",this.a5m,this);
if(!r||P==1)j.appendChild(N.i)}this.TZ=new gY;this.TZ.X(y.E.Y,this.abR,this);if(!r)this.body.appendChild(this.TZ.i);
this.$I=new iH("Straighten",!1,null,!0);this.$I.X("click",this.a5m,this);if(!r)this.body.appendChild(this.$I.i);
this.TG=new b1("Delete Cropped Pixels");this.TG.X(y.E.Y,this.abR,this);if(!r)this.body.appendChild(this.TG.i);
this.jH=new gz;this.jH.X("click",this.qZ,this)}bK.prototype=new dF;bK.prototype.qv=function(){this.jH.h();
for(var P=0;P<this.TE.length;P++)this.TE[P].h();this.TZ.h();this.TG.h()};bK.prototype.Zm=function(r){var j=this.jH.i;
if(r.Ng)this.body.appendChild(j);else if(this.body.contains(j))this.body.removeChild(j);if(r.TZ)this.TZ.l(r.TZ)};
bK.prototype.qZ=function(r){var j={e:y.G.a6,k:this.k,SS:this.jH.A()?"commit":"cancel"},D=new iu(y.E.V,!0);
D.data=j;this.g(D)};bK.prototype.a5m=function(r){r.target.i.blur();var j={e:y.G.a6,k:this.k,SS:"cropby",ai3:this.TE.indexOf(r.target)};
if(r.target==this.$I)j.SS="straighten";var D=new iu(y.E.V,!0);D.data=j;this.g(D)};bK.prototype.abR=function(r){var j={e:y.G.a6,k:this.k,SS:"config",C_:{Sg:this.TZ.A()}};
if(r.target==this.TG)j.C_.yX=this.TG.A();var D=new iu(y.E.V,!0);D.data=j;this.g(D)};function fS(){bK.call(this,!1)}fS.prototype=new bK;
function go(){bK.call(this,!0)}go.prototype=new bK;function fc(){eX.call(this,["brush","rng","expo"])}fc.prototype=new eX;
function eT(){eX.call(this,"brush emode opacity flow smth prsr".split(" "))}eT.prototype=new eX;function hb(){eX.call(this,["brush","samp","wconf"])}hb.prototype=new eX;
function cE(){eF.call(this,!1,["binop","feat","anta","redge","cstr"])}cE.prototype=new eF(!0);function ep(){dF.call(this);
var r=this.yR=[new fk([12,20],["1x1","3x3","5x5","11x11","31x31"]),new fk([12,70],[[17,1],[17,3],[17,0]]),new b1("Sampling Ring"),new b1("Zoom")];
r[1].l(2);r[2].l(!0);for(var P=0;P<r.length;P++){var j=r[P];j.X(y.E.Y,this.Dz,this);this.body.appendChild(j.i)}}ep.prototype=new dF;
ep.prototype.Dz=function(r){var j=this.yR,D=[];for(var P=0;P<j.length;P++)D[P]=j[P].A();var N=new iu(y.E.V,!0);
N.data={e:y.G.a6,k:this.k,mz:D};this.g(N)};ep.prototype.qv=function(){for(var P=0;P<this.yR.length;P++)this.yR[P].h()};
function j7(){dF.call(this);this.YN=new ak(!1);this.YN.parent=this;this.YN.X(y.E.Y,this.h1,this);this.body.appendChild(this.YN.i);
this.YN.l(JSON.parse(hz.i_.Ta).v);this.qD=new fk(null,hz._.names.slice(0,5));this.qD.X(y.E.Y,this.h1,this);
this.body.appendChild(this.qD.i);this.Of=new fk([12,19,0],by.OF,null,by.Mi);this.Of.X(y.E.Y,this.h1,this);
this.body.appendChild(this.Of.i);this.TA=new b8([12,0],0,100,"%");this.TA.parent=this;this.TA.X(y.E.Y,this.h1,this);
this.body.appendChild(this.TA.i);this.TA.l(100);this.S5=new b1([12,23,0]);this.S5.X(y.E.Y,this.h1,this);
this.body.appendChild(this.S5.i);this.jd=new b1("Dither");this.jd.X(y.E.Y,this.h1,this);this.body.appendChild(this.jd.i)}j7.prototype=new dF;
j7.prototype.qv=function(){this.qD.h();this.Of.h();this.TA.h();this.S5.h();this.jd.h()};j7.prototype.Wf=function(r,j){dF.prototype.Wf.call(this,r,j);
var D=j==e5.pN;this.YN.Mx(r.xg,r.mL);if(D||j==e5.dv||j==e5.Cr)this.YN.pB(r.$E)};j7.prototype.h1=function(){var r=new iu(y.E.V,!0);
r.data={e:y.G.a6,k:this.k};r.data.Ek={_:this.YN.A(),Ce:hz._.types[this.qD.A()],iI:this.S5.Pp(),ass:this.jd.Pp(),aaj:by.n4[this.Of.A()],Wb:this.TA.A()/100};
this.g(r)};function aH(){dF.call(this)}aH.prototype=new dF;function hI(){dF.call(this);var r=y.C("span","fitem");
this.body.appendChild(r);this._T=[new b8([12,15],0,0,"\xB0"),new iH("Reset",null,null,!0)];for(var P=0;
P<this._T.length;P++){var j=this._T[P];j.parent=this;r.appendChild(j.i);j.X(P==1?"click":y.E.Y,this.OH,this)}}hI.prototype=new dF;
hI.prototype.qv=function(){for(var P=0;P<this._T.length;P++)this._T[P].h()};hI.prototype.Zm=function(r){this._T[0].l(r.Ir*180/Math.PI)};
hI.prototype.OH=function(r){var j=this._T.indexOf(r.target),D=new iu(y.E.V,!0);D.data={e:y.G.a6,k:this.k,Ir:j==1?0:r.target.A()*Math.PI/180};
this.g(D)};function fX(){eX.call(this,["brush","algnd","sfrom","alt"])}fX.prototype=new eX;function bx(){dF.call(this);
this.XZ=new j6;this.XZ.parent=this;this.body.appendChild(this.XZ.B8.i);this.body.appendChild(this.XZ.a$.i);
this.body.appendChild(this.XZ.VF.i);var r=y.C("span","fitem");this.body.appendChild(r);r.appendChild(this.XZ.AT.i);
r.appendChild(this.XZ.Xc.i);r.appendChild(this.XZ.OR.i);this.q8=new fk("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.q8.X(y.E.Y,this.qZ,this);this.body.appendChild(this.q8.i);this.L2=new iH([11,9],!1,null,!0);this.L2.X("click",this.alq,this);
this.body.appendChild(this.L2.i);this.jH=new gz;this.jH.X("click",this.qZ,this)}bx.prototype=new dF;
bx.prototype.qv=function(){this.jH.h();this.XZ.h();this.L2.h()};bx.prototype.alq=function(r){var j={e:y.G.a6,k:this.k,SS:"showwarp"},D=new iu(y.E.V,!0);
D.data=j;this.g(D)};bx.prototype.Zm=function(r){if(r.SS=="showactive")this.body.appendChild(this.jH.i);
if(r.SS=="hideactive")this.body.removeChild(this.jH.i);if(r.SS=="changeAA")this.q8.l(r.aS)};bx.prototype.Wf=function(r,j){dF.prototype.Wf.call(this,r,j);
if(j!=e5.Cr&&j!=e5.cA&&j!=e5.YB&&j!=e5.ee)return;this.XZ.l(r.k$,r.fA,r.cD)};bx.prototype.qZ=function(r){var j={e:y.G.a6,k:this.k,SS:this.jH.A()?"commit":"cancel"};
if(r.target==this.q8){j.SS="changeAA";j.aS=this.q8.A()}var D=new iu(y.E.V,!0);D.data=j;this.g(D)};function hT(){eF.call(this,!1,["binop","feat","anta","redge"])}hT.prototype=new eF(!0);
function id(){dF.call(this);var r=[],D="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.gP=new b1([12,85]);this.gP.X(y.E.Y,this.Dz,this);r.push(this.gP.i);this.uR=new b1([20,1]);this.uR.X(y.E.Y,this.Dz,this);
r.push(this.uR.i);this.IZ=new b1([12,83]);this.IZ.X(y.E.Y,this.Dz,this);r.push(this.IZ.i);var j=y.C("span","fitem");
r.push(j);this.a6C=new fk("Scale for exported files",["1x","2x","3x","4x"],!0);j.appendChild(this.a6C.i);
this.$K=new iH(D+" PNG",!1,"Save selected layers as PNG",!0);j.appendChild(this.$K.i);this.$K.X("click",this.Fm,this);
this.a5v=new iH(D+" SVG",!1,"Save selected layers as SVG",!0);j.appendChild(this.a5v.i);this.a5v.X("click",this.Fm,this);
var N=y.C("span","fitem");r.push(N);var b=y.C("span","fitem");r.push(b);this.xC=[];for(var P=0;P<8;P++){var Y=P==3||P==7?[20,4,6]:[20,4,P<3?P:P-1],x=new iH("Hi",!1,Y);
(P<4?N:b).appendChild(x.i);x.X("click",this.Fm,this);this.xC.push(x)}for(var P=0;P<r.length;P++)this.body.appendChild(r[P]);
this.agP=r}id.prototype=new dF;id.prototype.Zm=function(r){var j=r.EE,D=r.adT;this.gP.l(j.HU);this.uR.l(j.QN);
this.IZ.l(j.xu);if(D){y.Su(this.body);for(var P=0;P<D.length;P++)if(D[P]==1&&this.agP[P])this.body.appendChild(this.agP[P])}};
id.prototype.Fm=function(r){var j=this.xC.indexOf(r.target),D;if(j==-1){D=new iu(y.E.V,!0);D.data={e:y.G.a6,k:this.k,Ix:r.target==this.$K?"getPNG":"getSVG",Pq:this.a6C.A()+1}}else{D=new iu(y.E.w,!0);
D.k=I.t3;D.data={e:"algn",m:j}}this.g(D)};id.prototype.Dz=function(r){var j=new iu(y.E.V,!0);j.data={e:y.G.a6,k:this.k,Ix:"prms",HU:this.gP.Pp(),QN:this.uR.Pp(),xu:this.IZ.Pp()};
this.g(j)};id.prototype.qv=function(){this.gP.h();this.uR.h();this.IZ.h();var r="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var P=0;P<8;P++){this.xC[P].W3(y.Io("align/"+r[P],null,"autoscale"))}};function bl(){eF.call(this,!1,["binop","feat","redge","wconf","sall"])}bl.prototype=new eF(!0);
function gB(){eX.call(this,["setop","patch"])}gB.prototype=new eX;function g6(){eX.call(this,["setop"])}g6.prototype=new eX;
function dJ(){eX.call(this,["bmode","opacity","wconf","sall"])}dJ.prototype=new eX;function bG(){eF.call(this,!1,["binop","feat","anta","redge"])}bG.prototype=new eF(!0);
function fq(){eF.call(this,!1,["binop","feat","anta","redge"])}fq.prototype=new eF(!0);function ik(){eF.call(this,!1,["binop","feat","redge","cstr"])}ik.prototype=new eF(!0);
function eP(){dF.call(this);this.xY=null;this.QS=null;this.uC=[new au("X",null,3),new au("Y",null,3),new au("W",null,3),new au("H",null,3),new au([12,15],null,4),new au(["VAR0 1",[12,80,0]],null,4),new au(["VAR0 2",[12,80,0]],null,4),new iH([15,7,6],!1,null,!0),new iH([2,2],!1,null,!0)];
for(var P=0;P<this.uC.length;P++){var r=this.uC[P];this.body.appendChild(r.i);if(P>6)r.X("click",this.Rm,this)}this.o0=0}eP.prototype=new dF;
eP.prototype.Rm=function(r){var j=this.uC.indexOf(r.target)==7,D=new iu(y.E.w,!0);if(j){if(this.o0==0)return;
D.k=I.YW;D.data={e:"rot",NL:[2,5],m:-this.o0}}else{D.k=I.XI}this.g(D)};eP.prototype.Zm=function(r){function j(w,q,u){var h=Math.sqrt(Math.pow(q.x-w.x,2)+Math.pow(q.y-w.y,2)),z=Math.sqrt(Math.pow(q.x-u.x,2)+Math.pow(q.y-u.y,2)),O=Math.sqrt(Math.pow(u.x-w.x,2)+Math.pow(u.y-w.y,2));
return Math.acos((z*z+h*h-O*O)/(2*z*h))}if(r==null)return;this.QS=r;var D=r.a5N,N=r.iE,b=N.x-D.x,Y=N.y-D.y;
this.o0=-Math.atan2(Y,b);if(r.e0)this.o0=j(N,D,r.e0);var x=this.uC;x[0].l(D.x);x[1].l(D.y);x[2].l(b);
x[3].l(Y);x[4].l((this.o0*180/Math.PI).toFixed(2));var C=R.DA.m2(gJ.tA(D,N),r.TB,this.xY,r.a8v,!1);x[5].l(parseFloat(C).toFixed(2));
if(r.e0){var C=R.DA.m2(gJ.tA(D,r.e0),r.TB,this.xY,r.a8v,!1);x[6].l(parseFloat(C).toFixed(2))}else x[6].l("")};
eP.prototype.Wf=function(r,j){this.xY=r;this.Zm(this.QS)};eP.prototype.qv=function(){var r=this.uC;for(var P=0;
P<r.length;P++)r[P].h();y.Hp(r[2],r[3])};function ax(){eX.call(this,["brush","strn","pdetail"])}ax.prototype=new eX;
function ez(){eX.call(this,["brush","sfrom"]);this.a9w=[];var r=[[7,12]];for(var P=0;P<r.length;P++){var j=new iH(r[P],!1,null,!0);
this.a9w.push(j);j.parent=this;this.body.appendChild(j.i);j.X("click",this.a0W,this)}}ez.prototype=new eX;
ez.prototype.a0W=function(r){var j=this.a9w.indexOf(r.currentTarget),D=new iu(y.E.PN,!0);D.data=I.oi._e("contentAware");
this.g(D)};function fB(){eX.call(this,["brush","strn"])}fB.prototype=new eX;function a5(){eX.call(this,["brush","flow","smode"])}a5.prototype=new eX;
function h2(){dF.call(this);this.gq=!1;var r=y.C("span","fitem");this.body.appendChild(r);this.vh=new a2(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
r.appendChild(this.vh.i);this.vh.X(y.E.Y,this.Dz,this);this.VW=new iH([20,2]);this.body.appendChild(this.VW.i);
this.VW.X("click",this.aeC,this);this.HV=new iH([20,3]);this.body.appendChild(this.HV.i);this.HV.X("click",this.aeC,this)}h2.prototype=new dF;
h2.prototype.qv=function(){this.VW.h();this.HV.h()};h2.prototype.Dz=function(){var r={e:y.G.a6,k:this.k,tn:this.vh.A()==0},j=new iu(y.E.V,!0);
j.data=r;this.g(j)};h2.prototype.Zm=function(r){if(this.gq!=r.gq)this.vh.l(1-this.vh.A());this.gq=r.gq};
h2.prototype.aeC=function(r){var j=new iu(y.E.w,!0);j.k=I._h;j.data={e:"adapt",m:r.target==this.VW?"pixel":"fitscr"};
this.g(j)};function fH(r,j){dF.call(this);if(r==null)return;this.Os=r;this.qU={};this.a1Q=j;for(var P=0;
P<r.length;P++){var D=r[P],N=null;if(D=="tmode"){N=new fk(null,[[12,76,1],[12,76,0],[12,76,2]]);N.l(0);
if(j)N.aij(2)}if(D=="make"){N=new a2("Make",[[17,2],[12,76,1]],null,!0)}if(D=="anta"){N=new b1("Anti-alias");
N.l(!0)}if(D=="binop"){N=new fk(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(D=="pshape")N=new fk(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);
if(D=="shape")N=new dt([12,76,1]);if(D=="crad"){N=new b8([12,94,0],0,50,"px");N.l(0)}if(D=="cstr"){N=new gY}if(D=="irad"){N=new b8([12,94,1],0,100,"%");
N.l(40)}if(D=="length"){N=new b8([12,80,0],4,40);N.l(4)}if(D=="sides"){N=new b8([12,78],3,30);N.l(5)}if(D=="width"){N=new b8([12,41],1,100,"px");
N.l(5)}if(D=="tsiz"){N=new b8("Tip Size",100,500,"%");N.l(300)}if(D=="tolr"){N=new b8([12,24],0,100);
N.l(5)}if(D=="fstyle"){N=new jd([12,26])}if(D=="sstyle"){N=new g4}if(D=="psnap"){N=new b1([8,10])}if(D=="crnr"){N=new iH("\u2312",!1,[12,94,0],!0)}N.parent=this;
this.body.appendChild(N.i);this.qU[D]=N;N.X(D=="crnr"?"click":y.E.Y,this.Dz,this)}}fH.prototype=new dF;
fH.prototype.Zm=function(r){if(r.Uf!=null)this.qU.binop.l(r.Uf);else if(r.Ix=="vals")for(var j in r.apW)this.qU[j].l(r.apW[j]);
else{var D=fH.ap;if(D==null)D=fH.ap=new cW([{name:"Remove Anchor Point",N:function(b){var Y=b?b.HG():null;
return{N:b&&Y[1].length!=0&&Y[0][Y[1][0]].add.vmsk.cW.length!=0}}},{name:"Remove Path",N:function(b){var Y=b?b.HG():null;
return{N:b&&Y[1].length!=0&&Y[0][Y[1][0]].add.vmsk.R.length!=0}},E4:!0},{name:"Make Selection"}],[{$:y.E.w,k:I.Ro,H:{e:"remove",ZH:!0}},{$:y.E.w,k:I.Ml,H:{e:"remove"}},{$:y.E.V,H:{e:y.G.gl,SO:"makesel"}}]);
D.parent=this;D.update(r.Ww,r.lv);var N=new iu(y.E.V,!0);N.data={e:y.G.Eo,Z3:D,x:r.HF.tu+2,y:r.HF.rW+1};
this.g(N)}};fH.prototype.aqX=function(P){return null};fH.prototype.qv=function(){for(var r in this.qU){this.qU[r].h()}};
fH.prototype.Dz=function(r){var j=new iu(y.E.V,!0),D=this.qU;if(r.target==D.crnr){j=new iu(y.E.w,!0);
j.k=I.Ro;j.data={e:"crnr"}}else if(r.target==D.make){var P=r.target.A();console.log(P);if(P==0)j.data={e:y.G.gl,SO:"makesel"};
else{j=new iu(y.E.w,!0);j.k=I.Ew;j.data={e:"newfill",bW:0}}}else if(r.target==D.fstyle){j.data={e:y.G.VD,Ek:e5.l0,m:D.fstyle.A()}}else if(r.target==D.sstyle){j.data={e:y.G.VD,Ek:e5.fQ,m:D.sstyle.A()}}else if(r.target==D.tmode){j.data={e:y.G.VD,Ek:e5.Qe,m:D.tmode.A()}}else{if(D.pshape)this.cP();
j.data={e:y.G.a6,k:this.k};for(var N in D)j.data[N]=D[N].A()}this.g(j)};fH.prototype.cP=function(){var r=this.qU,j=r.tmode.A(),D=r.pshape?this.aqX(r.pshape.A()):this.Os,N;
if(j==0)N=["anta","make"];if(j==1)N=["anta","fstyle","sstyle"];if(j==2)N=["make","binop","fstyle","sstyle"];
var b=r.binop;if(b){var Y=b.A();if(j==0){b.asE(0)}else{b.aij(0);if(Y==0){b.l(1);this.Dz({target:b})}}}y.Su(this.body);
for(var P=0;P<D.length;P++){var x=D[P];if(N.indexOf(x)!=-1)continue;this.body.appendChild(r[x].i)}};
fH.prototype.Wf=function(r,j){dF.prototype.Wf.call(this,r,j);var D=this.qU.fstyle,N=this.qU.sstyle,b=this.qU.tmode;
if(D)D.Wf(r,j);if(N)N.Wf(r,j);if(j==e5.Cr||j==e5.ct)if(r.Ut.length!=0&&this.qU.shape){this.qU.shape.pB(r.Ut)}if(j==e5.Cr||j==e5.l0)if(D)D.l(null,r.KT,r.a2c);
if(j==e5.Cr||j==e5.fQ)if(N)N.l(null,r.WG,r.ar1);if(j==e5.Cr||j==e5.Qe){var Y=r.hw;if(this.a1Q&&Y==2)Y=0;
if(b){b.l(Y);this.cP()}}};function f5(){fH.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}f5.prototype=new fH;
function a7(){fH.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}a7.prototype=new fH;
function aN(){fH.call(this,["fstyle","sstyle"]);this.a2Q=null;this.akw=null;this.aoc=null;this.wF=new fk("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.wr=new iH("\u25BC");this.wr.H8();this.Ib=new iH("\u25B2");this.Ib.H8();this.$Z=[this.wF,this.wr,this.Ib];
for(var P=0;P<this.$Z.length;P++){var r=this.$Z[P];this.body.appendChild(r.i);r.parent=this;r.X(P==0?y.E.Y:"click",this.QJ,this)}}aN.prototype=new fH;
aN.prototype.Zm=function(r){if(r.SS=="main"){var j=this.$Z,D=r.ZU;if(D&&D.R.length==1){this.akw=D.clone();
this.aoc=JSON.stringify(r.Bu);var N=D.R[0],b=R.b.yo(D.W);this.wF.BY();if(N>0)this.wr.BY();else this.wr.ph();
if(N<b-1)this.Ib.BY();else this.Ib.ph();var Y=R.b.Kk(D.W,N),x=D.W[Y];this.wF.W3("Path "+(N+1));this.wF.l([3,0,1,2][x.va])}else{for(var P=0;
P<j.length;P++)j[P].ph()}}else fH.prototype.Zm.call(this,r)};aN.prototype.qv=function(){fH.prototype.qv.call(this);
this.wF.h()};aN.prototype.QJ=function(r){if(r.target==this.wF||r.target==this.wr||r.target==this.Ib){var j={},D=this.akw,N=D.W,b=JSON.parse(this.aoc),Y=D.R[0],x=R.b.Kk(N,Y),C=N[x];
if(r.target==this.wF){var w=this.wF.A();if(w<4)C.va=[1,2,3,0][w];else{if(R.b.yo(N)<=1)return;D.W=R.b.CO(N);
D.R=D.W.length==2?[]:[0];D.cW=[];b=[R.Bu.eH()]}}else{var q=r.target==this.wr?-1:1,u=Math.min(Y,Y+q),h=Math.max(Y,Y+q),z=R.b.Kk(N,u),O=R.b.Kk(N,h);
if(z==-1||O==-1)return;var g=O+R.b.Pr(N,h),t=b[u];b[u]=b[h];b[h]=t;var $=N.slice(0,z),i=N.slice(z,O),A=N.slice(O,g),H=N.slice(g);
D.W=$.concat(A.concat(i.concat(H)));D.R[0]+=q}j.ZU=D;j.Bu=b;var F=new iu(y.E.V,!0);F.data={e:y.G.a6,k:this.k,oO:j};
this.g(F)}};function gg(){fH.call(this,["fstyle","sstyle","crnr","psnap"])}gg.prototype=new fH;function fn(){fH.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}fn.prototype=new fH;
function f$(){fH.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}f$.prototype=new fH;
function gC(){fH.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "))}gC.prototype=new fH;
gC.prototype.aqX=function(P){var r=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(r[P])};function bs(){fH.call(this,"tmode make anta fstyle sstyle binop width".split(" "))}bs.prototype=new fH;
function jq(){fH.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}jq.prototype=new fH;
function bP(){eF.call(this,!1,["binop","feat","redge"])}bP.prototype=new eF(!0);function bc(){eX.call(this,["brush","qsmode","redge"])}bc.prototype=new eX;
function cs(){dF.call(this);var r=new iH("Slices From Guides",null,null,!0);r.X("click",this.QJ,this);
this.body.appendChild(r.i)}cs.prototype=new dF;cs.prototype.QJ=function(r){var j=new iu(y.E.PN,!0);j.data={sv:"make",Q4:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.g(j)};function bw(){dF.call(this);var r=this.ap3=[new iH("\u25BC",null,null,!0),new iH("\u25B2",null,null,!0),new iH([5,4],null,null,!0)];
for(var P=0;P<3;P++){var j=r[P];this.body.appendChild(j.i);j.X("click",this.QJ,this)}}bw.prototype=new dF;
bw.prototype.QJ=function(r){var j=this.ap3.indexOf(r.target),D=new iu(y.E.w,!0);D.k=I.TX;D.data={e:j==2?"delete":"reorder",dir:j==0?-1:1};
this.g(D)};bw.prototype.h=function(){dF.prototype.h.call(this);for(var P=0;P<3;P++)this.ap3[P].h()};
function bo(r,j){dF.call(this);if(window.Typr==null||r)return;this.a5B=j;this.wn=null;this.a72=y.C("span","");
this.agm=y.C("span","");var D=1;this.gu={eg:new am(null,24),y5:new b8("X",0,0,"px",0,!1,!0,4),M_:new b8("Y",0,0,"px",0,!1,!0,4),Eu:new b8("W",0,0,["%","px"],2,!1,!0,5),I9:new iH("\u2261",null,[12,51],null),eu:new b8("H",0,0,["%","px"],2,!1,!0,5),arx:new b8("\u2221",0,0,"\xB0",D,!1,!0),acO:new b8("\u25B1 H",-85,85,"\xB0",D,!1,!0),arI:new b8("\u25B1 V",-85,85,"\xB0",D,!1,!0),vU:new fk(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.gu.vU.l(1);for(var N in this.gu){var b=this.gu[N];if(j&&(b==this.gu.arx||b==this.gu.acO||b==this.gu.arI||b==this.gu.vU)){}else this.a72.appendChild(b.i);
var Y=b==this.gu.I9?"click":y.E.Y;b.X(Y,this.asY,this)}this.Ov=new iN(!0,!0,!0);this.Ov.X(y.E.Y,this.akZ,this);
this.Ov.parent=this;var x=this.agm,C=this.Ov;x.appendChild(C.fo.i);x.appendChild(C.jG.i);x.appendChild(C.L_.i);
x.appendChild(C.Ea.i);x.appendChild(C.h9.i);this.L2=new iH([11,9]);this.L2.X("click",this.al5,this);
this.jH=new gz;this.jH.X("click",this.qZ,this)}bo.prototype=new dF;bo.prototype.Zm=function(r){if(r.HF){var j=bo,D=this.ap;
if(D==null)D=this.ap=new cW(j.a2A(),j.a2H(this.k));D.h();D.parent=this;D.update(r.Ww,r.lv);var N=new iu(y.E.V,!0);
N.data={e:y.G.Eo,Z3:D,x:r.HF.tu+2,y:r.HF.rW+1};this.g(N);return}y.Su(this.body);this.wn=r;if(r.gu){var b=r.gu.DN,Y=r.gu.sW.clone(),x=Math.atan2(-Y.M,Y.kD),C=new j9;
C.rotate(-x);Y.concat(C);var w=this.gu;w.eg.l(r.gu.LI);w.y5.l(r.gu.UZ.x);w.M_.l(r.gu.UZ.y);w.Eu.l(Y.kD*(w.Eu.SQ()=="%"?100:b.d));
w.eu.l(Y.oq*(w.eu.SQ()=="%"?100:b.r));w.arx.l(-x*180/Math.PI);w.acO.l(0*180/Math.PI);w.arI.l(Math.atan(Y.Jy)*180/Math.PI);
this.body.appendChild(this.a72);this.L2.Jc()}if(r.Jd){this.Ov.l(r.Jd);this.body.appendChild(this.agm);
this.L2.H8()}this.body.appendChild(this.jH.i);if(r.a9C&&!this.a5B)this.body.appendChild(this.L2.i)};
bo.prototype.asY=function(r){var j=this.gu,D=this.wn.gu.DN;if(r.target==j.I9)j.I9.l(!j.I9.A());if(j.I9.Pp()){var N=j.eu,b=j.Eu,Y=D.r,x=D.d;
if(r.target==j.Eu){N=j.Eu;b=j.eu;Y=D.d;x=D.r}var C=N.A()/(N.SQ()=="%"?100:Y);C*=b.SQ()=="%"?100:x;b.l(C)}var w=[];
for(var q in j)if(j[q]!=j.I9&&j[q]!=j.eg){var C=j[q].A();if((j[q]==j.Eu||j[q]==j.eu)&&C==0){C=.1;j[q].l(C)}if(j[q]==j.Eu&&j[q].SQ()=="px")C/=D.d/100;
if(j[q]==j.eu&&j[q].SQ()=="px")C/=D.r/100;w.push(C)}var u=new gJ(w[0],w[1]);if(r.target==j.eg){this.hg({SS:"ctyp",LI:j.eg.A()})}else if(r.target==j.y5||r.target==j.M_){this.hg({SS:"cen",UZ:u})}else{var h=this.wn.gu.sW.clone(),z=h.clone(),O=Math.atan2(-h.M,h.kD);
z.translate(-u.x,-u.y);z.rotate(-O);var g=new j9(z.kD,z.M,z.Jy,z.oq,0,0);g.gq();z.concat(g);z.concat(new j9(w[2]/100,Math.tan(w[5]*Math.PI/180),Math.tan(w[6]*Math.PI/180),w[3]/100,0,0));
z.rotate(-w[4]*Math.PI/180);z.translate(u.x,u.y);this.wn.gu.sW=z;this.hg({SS:"trn",gu:z,rs:this.gu.vU.A()})}};
bo.prototype.akZ=function(r){this.hg({SS:"wrp",Jd:this.Ov.A()})};bo.prototype.al5=function(r){this.hg({SS:"switchWarp"})};
bo.prototype.qZ=function(r){this.hg({SS:this.jH.A()?"commit":"cancel"})};bo.prototype.hg=function(r){r.e=y.G.a6;
r.k=this.k;var j=new iu(y.E.V,!0);j.data=r;this.g(j)};bo.prototype.qv=function(){var r=this.gu;for(var j in r)r[j].h();
y.Hp(r.Eu,r.eu);this.jH.h();this.Ov.h();this.L2.h()};bo.a2A=function(){return[{name:[5,9],N9:"Shift+Alt+Ctrl + T",E4:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],N:function(r){if(r==null||r.R.length!=1)return{N:!1};
var j=r.j[r.R[0]];return{N:j.add.TySh==null&&!j.iO()}},E4:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
bo.a2H=function(r){if(r==null)r=I.YW;return[{$:y.E.w,k:r,H:{e:"again"}},{$:y.E.V,H:{e:y.G.T$,k:r,EE:{Y3:3}}},{$:y.E.V,H:{e:y.G.T$,k:r,EE:{Y3:4}}},{$:y.E.V,H:{e:y.G.T$,k:r,EE:{Y3:2}}},{$:y.E.V,H:{e:y.G.T$,k:r,EE:{Y3:1}}},{$:y.E.V,H:{e:y.G.T$,k:r,EE:{Y3:-1}}},{$:y.E.w,k:r,H:{e:"rot",NL:[2,5],m:-Math.PI/2}},{$:y.E.w,k:r,H:{e:"rot",NL:[2,5],m:-3*Math.PI/2}},{$:y.E.w,k:r,H:{e:"rot",NL:[2,5],m:Math.PI}},{$:y.E.w,k:r,H:{e:"scl",NL:[[2,6],[22,4,2]],m:new gJ(-1,1)}},{$:y.E.w,k:r,H:{e:"scl",NL:[[2,6],[22,4,3]],m:new gJ(1,-1)}}]};
function hD(){bo.call(this)}hD.prototype=new bo(!0);function ah(){bo.call(this)}ah.prototype=new bo(!0);
function i6(){bo.call(this,!1,!0)}i6.prototype=new bo(!0);function gM(){dF.call(this);var r=this.Os=[new fk([12,36],["Rigid",[15,10,0],[24,4]]),new fk([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new b8([7,4],0,100,"px"),new b1("Show Mesh"),new iH("\u25BC",null,null,!0),new iH("\u25B2",null,null,!0)];
for(var P=0;P<r.length;P++){var j=r[P];j.parent=this;this.body.appendChild(j.i);j.X(P<4?y.E.Y:"click",this.asn,this)}this.jH=new gz;
this.jH.X("click",this.qZ,this);this.body.appendChild(this.jH.i)}gM.prototype=new dF;gM.prototype.qv=function(){var r=this.Os;
for(var P=0;P<4;P++)r[P].h();this.jH.h()};gM.prototype.Zm=function(r){var r=r.Ek;for(var P=0;P<4;P++)this.Os[P].l(r[P])};
gM.prototype.asn=function(r){var j=[];for(var P=0;P<4;P++)j[P]=this.Os[P].A();var D=this.Os.indexOf(r.target);
if(D<4)this.hg({SS:"prm",Ek:j});else this.hg({SS:"moveDepth",agH:D==5})};gM.prototype.qZ=function(r){this.hg({SS:this.jH.A()?"commit":"cancel"})};
gM.prototype.hg=function(r){r.e=y.G.a6;r.k=this.k;var j=new iu(y.E.V,!0);j.data=r;this.g(j)};function fP(){iI.call(this);
this.i=y.C("div","cmanager");window.alert=function(N,b){this.a4r(N,b);console.log("Alert: "+N)}.bind(this);
window.onblur=function(N){var b=this;b.yh()}.bind(this);this.oW=0;this.qg=0;this.Qt=[];this.Iq={};this.fM=y.C("div","alertcont");
this.i.appendChild(this.fM);this.a8F=y.C("div","alertcont");this.i.appendChild(this.a8F);this.Ky=y.C("div","alertcont");
this.alr=0;this.cT=-1;this.aiG=null;this.An=null;var r=this.ak6=y.C("div","alertpanel");r.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Ky.appendChild(r);var j=this.Ua=y.C("input");j.setAttribute("type","text");j.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
j.addEventListener("input",this.agM.bind(this),!1);j.addEventListener("keydown",this.asa.bind(this),!1);
r.appendChild(j);var D=this.amC=y.C("div","contextpanel scrollable");D.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
D.addEventListener("click",this.api.bind(this),!1);r.appendChild(D);y.Wu(document.body,this.arV.bind(this))}fP.prototype=new iI;
fP.prototype.PC=function(){if(y.bN(this.Ky))this.i.removeChild(this.Ky)};fP.prototype.a5o=function(r,j){var D=this.aiG=[];
for(var P=0;P<h4.data.length;P++){var N=h4.data[P],b=[e9.get(N.name)],Y=[P];fP.a2J(N.items,b,Y,D,r,j)}var x=bQ.L;
for(var P=0;P<x.length;P+=3){D.push([["Tools",e9.get(x[P])],[-1,x[P+2]]])}this.i.appendChild(this.Ky);
var C=this.Ua;C.focus();C.select();this.eE()};fP.prototype.agM=function(r){this.cT=-1;this.eE()};fP.prototype.eE=function(){var r=this.Ua.value.toLowerCase().trim().replace(/  +/g," "),j=this.aiG,D=[],N=[],b=r.split(" ");
if(r!="")for(var P=0;P<j.length;P++){var Y=j[P][0],x=[],C=0;for(var w=0;w<Y.length;w++)x[w]=-1;for(var q=0;
q<b.length;q++)for(var w=0;w<Y.length;w++){var u=Y[w].toLowerCase().indexOf(b[q]);if(u!=-1){x[w]=[u,u+b[q].length];
C++;break}}if(C==b.length){D.push(j[P]);N.push(x)}}var h=[],z=this.amC;y.Su(z);for(var P=0;P<D.length;
P++){var O=D[P][0],u=N[P],g="enab",$="";if(P==this.cT)g+=" active";var t=y.C("div",g);h.push(t);z.appendChild(t);
for(var w=0;w<O.length;w++){var i=u[w],A=b[w],H=O[w];if(i!=-1)H=H.slice(0,i[0])+"<span style=\"color:black\">"+H.slice(i[0],i[1])+"</span>"+H.slice(i[1]);
$+=H;if(w<O.length-1)$+=" \uFE65 "}t.innerHTML=$}this.An=[D,h]};fP.prototype.asa=function(r){var j=e4.Qi,D=r.code;
if(j(D,e4.Pj))this.PC();var N=j(D,e4.eS),b=j(D,e4.w_),Y=j(D,e4.Lf);if(N||b){this.cT=Math.max(0,Math.min(this.An[0].length-1,this.cT+(N?-1:1)));
this.eE()}if(Y&&this.cT!=-1)this.amW(this.cT)};fP.a2J=function(r,j,D,N,b,Y){for(var P=0;P<r.length;P++){var x=r[P],C=j.slice(0),w=D.slice(0),q=e9.get(x.name);
if(x.N){var u=x.N(b,Y,P);if(u.an)q=u.an;if(u.N==!1)continue}C.push(q);w.push(P);if(x.sub)fP.a2J(x.sub,C,w,N,b,Y);
else N.push([C,w])}};fP.prototype.api=function(r){var j=r.target;if(j.tagName.toLowerCase()=="span")j=j.parentNode;
var D=this.An[1].indexOf(j);if(D!=-1)this.amW(D)};fP.prototype.amW=function(r){var j=this.An[0][r][1];
if(j[0]==-1){var D=new iu(y.E.V,!0);D.data={e:y.G.T$,k:j[1]};this.g(D)}else{var N=h4.data[j[0]].SC[j[1]];
for(var P=2;P<j.length;P++)N=N.sub[j[P]];var b=new iu(N.$,!0);b.k=N.k;b.data=N.H;this.g(b)}this.PC()};
fP.prototype.kt=function(r,j){this.oW=r;this.qg=j;this.amC.style["max-height"]=j-120+"px"};fP.prototype.adR=function(r){var j=y.C("div","alertpanel");
j.textContent=e9.get(r);this.fM.appendChild(j);this.Iq[JSON.stringify(r)]=j};fP.prototype.aoS=function(r){var j=this.Iq[JSON.stringify(r)];
this.fM.removeChild(j);delete this.Iq[JSON.stringify(r)]};fP.prototype.a4r=function(r,j){var D=this.a8F;
for(var P=0;P<D.children.length;P++)if(D.children[P].textContent==r)return;var N=y.C("div","alertpanel tpanel");
N.textContent=r;N.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");D.appendChild(N);if(j==null)j=1500;
var b=j,Y=Math.max(Date.now()+b,this.alr+b);setTimeout(function(){N.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){D.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},Y-Date.now()-30);
setTimeout(function(){D.removeChild(D.firstChild);D.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},Y-Date.now());
this.alr=Y};fP.prototype.arV=function(r){var j=this.Qt;for(var P=j.length-1;P>=0;P--){var D=j[P],N=r.target;
while(N!=null){if(N==D.i){this.yh(D);return}N=N.parentNode}}this.yh();var b=r.target;while(b!=this.Ky&&b!=document.body)b=b.parentNode;
if(b!=this.Ky)this.PC()};fP.prototype.yh=function(r){var j=this.Qt;for(var P=0;P<j.length;P++){if(r&&r.abt(j[P]))continue;
var D=j[P].i;D.style.height="auto";y.UM(D,"scrollable");this.i.removeChild(D);j.splice(P,1);P--}};fP.prototype.a5Z=function(r){this.yh(r.Z3);
var j=r.Z3,D=j.i;if(this.Qt.indexOf(j)!=-1)return;this.Qt.push(j);this.i.appendChild(j.i);var N=this.oW,b=this.qg,Y=r.x,x=r.y,C=this.i.getBoundingClientRect(),w=j instanceof cW,q=-1,u=b-2;
if(w||r.gK){var h=j.yv(),z=j.aqe();if(w)h=Math.min(h,200);var O=N-h-2,g=b-z-2;if(x<g)q=2;else if(Y<O)q=1;
else if(0<x-z-2)q=0;else q=3;if(r.a42)q=0;if(r.adz)q=2;if(q==2){Y=Math.min(Y,O)}else if(q==1){x=Math.min(x,g)}else if(q==0){x=x-z-2;
Y=Math.min(Y,O);u=r.y}else if(q==3){Y=Y-h-2;x=Math.min(x,g)}}x=Math.max(2,x);var top=Math.round(x-C.y+this.i.offsetTop);
D.style.position="absolute";D.style["z-index"]=10;if(x+j.aqe()>u){D.style.height=u-x+"px";y.ui(D,"scrollable");
if(q==3)Y-=10}D.style.left=Math.round(Y)+"px";D.style.top=top+"px"};fP.prototype.abI=function(r){var j=r.Z3,D=this.Qt.indexOf(j);
if(D==-1)return;this.Qt.splice(D,1);var N=j.i;this.i.removeChild(j.i)};fP.prototype.qG=function(){var r=this.Qt;
return r.length==0?null:r[r.length-1]};fP.prototype.ai$=function(){this.abI({Z3:this.qG()})};function aY(){iI.call(this);
this.i=y.C("div","confbar")}aY.prototype=new iI;aY.prototype.a0r=function(r){r.parent=this;y.Su(this.i);
this.i.appendChild(r.i)};function hs(r){iI.call(this);hs.bw=r;this.xY=null;this.k6=y.C("input","");this.k6.setAttribute("type","file");
this.k6.setAttribute("multiple","");this.k6.addEventListener("change",function(j){this.f8(j.target.files,null,this.e3,null);
this.e3=null}.bind(this),!1);document.body.appendChild(this.k6);this.k6.setAttribute("style","display:none");
this.at7=[];this.ye=!1;this.anH={};this.e3=null}hs.prototype=new iI;hs.bw=null;hs.m0=function(r){try{var j={};
j[r.type]=r;navigator.clipboard.write([new ClipboardItem(j)])}catch(cM){console.error(cM,cM.message)}};
hs.ql=function(r,j){navigator.clipboard.read().then(function(D){for(var P=0;P<D.length;P++){try{var N=D[P];
for(var b=0;b<N.types.length;b++){var Y=N.types[b];if(Y=="image/png")N.getType(Y).then(function(x){new Response(x).arrayBuffer().then(function(C){hs.bw({name:"image.png"},C,r,j)})});
if(Y=="text/plain")N.getType(Y).then(function(x){new Response(x).arrayBuffer().then(function(C){var w=l.Hi(new Uint8Array(C)),q=new iu(y.E.V,!0);
q.data={e:y.G.aql,m:w};r.g(q)})});if(Y=="text/html")N.getType(Y).then(function(x){new Response(x).arrayBuffer().then(function(C){var w=l.Hi(new Uint8Array(C)),q=w.indexOf("src=\"");
if(q!=-1&&w.slice(q+5,q+9)!="http"){var u=q+10;while(w[u]!="\"")u++;var h=w.slice(q+5,u);hs.bw({name:"chart.png"},aP._H(h),r,j)}})})}}catch(cM){console.error(cM,cM.message)}}}).catch(function(D){alert("Clipboard error: ("+D.message+")")})};
hs.a8L=function(r){navigator.permissions.query({name:"clipboard-read"}).then(function(j){r(j.state)})};
hs.prototype.jF=function(r){if(r==null)r=[23,5];var j=JSON.stringify(r),D=this.anH;if(D[j]==null)D[j]=0;
if(D[j]==0){var N=new iu(y.E.V,!0);N.data={e:y.G.P1,lT:r};this.g(N)}D[j]++};hs.prototype.ve=function(r){if(r==null)r=[23,5];
var j=JSON.stringify(r),D=this.anH;if(D[j]==null)D[j]=0;D[j]--;if(D[j]==0){var N=new iu(y.E.V,!0);N.data={e:y.G.BW,lT:r};
this.g(N)}};hs.prototype.aiF=function(r,j){this.e3=r;var D=window.showOpenFilePicker;if(D&&window.self==window.top){var N=this;
D({multiple:!0}).then(function(x){var C=[];function w(q){C.push(q);if(C.length==x.length){N.f8(C,null,N.e3,null,x);
N.e3=null}else x[C.length].getFile().then(w)}x[C.length].getFile().then(w)});return}var b=this.k6;if(j)b.setAttribute("accept",j);
else b.removeAttribute("accept");var Y=document.createEvent("MouseEvents");Y.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
b.dispatchEvent(Y)};hs.prototype.MP=function(r){if(r.url.indexOf("photopea.com#i")!=-1||r.url.indexOf("photopea.com/#i")!=-1){this.sB(r.url.split("#i").pop());
return}this.at7.push(r);this.an_()};hs.prototype.an_=function(){var r=this.at7;if(r.length==0||this.ye)return;
this.ye=!0;var j=r.shift();this.jF();if(j.jB==null)j.jB={};var D=new XMLHttpRequest;D.fY=j;var N=j.url;
if(j.o5&&!N.startsWith("data:image"))N="mirror.php?url="+encodeURIComponent(N);D.open("GET",N);if(j.WZ)for(var b in j.WZ)D.setRequestHeader(b,j.WZ[b]);
D.responseType="arraybuffer";D.onload=this.anR.bind(this);D.send()};hs.prototype.f8=function(r,j,D,N,b){for(var P=0;
P<r.length;P++){this.jF();var Y=r[P],x=new FileReader;x.fY=Y;x.fY.ds=D;x.fY.rM=N;x.akF=j;if(b)x.fY.eO=b[P];
x.onload=this.anR.bind(this);x.onerror=function(C){this.ve()}.bind(this);x.readAsArrayBuffer(Y)}this.k6.value=null};
hs.prototype.aiv=function(r,j,D){this.jF("Saving ...");this.xY=j;setTimeout(D.bind({WW:r,caller:this}),50)};
hs.AY=function(r){var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=new Uint8Array(r),N=D.length,b=N%3,Y=N-b,x=[],C=0,w=0,q=0;
for(var P=0;P<Y;P+=3){C=D[P];w=D[P+1];q=D[P+2];x.push(j[C>>2]+j[(C&3)<<4|w>>4]+j[(w&15)<<2|q>>6]+j[q&63])}if(b==1){C=D[Y];
x.push(j[C>>2]+j[(C&3)<<4]+"==")}if(b==2){C=D[Y];w=D[Y+1];x.push(j[C>>2]+j[(C&3)<<4|w>>4]+j[(w&15)<<2]+"=")}var u=x.join("");
return u};hs.a9i=function(r,j){var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=new Uint8Array(64),C=0,w=0,q=0,h=0;
for(var P=0;P<64;P++)N[P]=D.charCodeAt(P);var b=new Uint8Array(r),Y=j%3,x=j-Y,u=new Uint8Array(Math.floor(j/3)*4+(Y==0?0:4));
for(var P=0;P<x;P+=3){C=b[P];w=b[P+1];q=b[P+2];u[h]=N[C>>>2];u[h+1]=N[(C&3)<<4|w>>>4];u[h+2]=N[(w&15)<<2|q>>>6];
u[h+3]=N[q&63];h+=4}if(Y==1){C=b[x];u[h]=N[C>>2];u[h+1]=N[(C&3)<<4];u[h+2]=61;u[h+3]=61}if(Y==2){C=b[x];
w=b[x+1];u[h]=N[C>>2];u[h+1]=N[(C&3)<<4|w>>4];u[h+2]=N[(w&15)<<2];u[h+3]=61}return u};hs.prototype.anR=function(r){var j,D=r.target.fY;
if(r.target instanceof XMLHttpRequest)j=r.target.response;else j=r.target.result;hs.bw(D,j,this,r.target.akF);
this.ve();if(r.target instanceof XMLHttpRequest){this.ye=!1;this.an_()}};hs.aja=function(r,j){var D=new XMLHttpRequest;
D.open("POST","https://api.imgur.com/3/image",!0);D.mT=j;D.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
D.setRequestHeader("Content-type","application/x-www-form-urlencoded");D.setRequestHeader("Accept","application/json");
D.addEventListener("load",hs.ajd);D.send("type=base64&image="+encodeURIComponent(hs.AY(r)));alert("Saving to Imgur ...",4e3)};
hs.ajd=function(r){var j=JSON.parse(r.target.response);if(j.success){if(r.target.mT)r.target.mT(j.data.link);
else window.open(j.data.link,"Imgur")}};hs.prototype.sB=function(r,j){this.jF();var D=new XMLHttpRequest;
D.responseType="arraybuffer";D.open("GET","https://f000.backblazeb2.com/file/psdshared/"+r);D.onload=this.ab6.bind(this);
D.send();hs.a3A=Date.now();hs.a6y=r;hs.aam=j?r:null};hs.prototype.ab6=function(r){var j=new Uint8Array(r.target.response);
console.log(j.length,Date.now()-hs.a3A);for(var P=0;P<j.length;P++)j[P]=255-j[P];j=pako.inflateRaw(j);
var D=JSON.parse(l.Hi(j,0,2e3));hs.bw({name:D.name,ef:hs.aam},j.slice(2e3).buffer,this);this.ve();var N=new XMLHttpRequest;
N.open("GET","/papi/img/update.php?act=0&id="+hs.a6y+"&rnd="+Math.random());N.send()};hs.prototype.afZ=function(r,j,D){if(!(r instanceof ArrayBuffer))throw"e";
r=new Uint8Array(r);var N=new Uint8Array(r.length+2e3),w="";for(var P=0;P<2e3;P++)N[P]=32;l.Ws(JSON.stringify({name:j}),N,0);
N.set(r,2e3);r=N;r=pako.deflateRaw(r);for(var P=0;P<r.length;P++)r[P]=255-r[P];r=r.buffer;var b=r.byteLength,Y=~~(209e5/2);
if(b>Y){confirm("Your file is "+fN.CK(b)+". Our limit is "+fN.CK(Y)+". Delete some layers and try again.");
return}var x=sha1(r),C=[];for(var P=0;P<20;P++){var q=parseInt(x.slice(P*2,P*2+2),16);C.push(q);w+=String.fromCharCode(q)}var u=btoa(w).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(hs.af5(u)){console.log("file already exists");if(D)D("https://www.photopea.com#i"+u);else window.open("https://www.photopea.com#i"+u);
return}this.jF("Publishing ...");var h=new XMLHttpRequest;h.QS=[r,x,u,D];h.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+u+"&size="+b);
h.onload=this.adY.bind(this);h.send()};hs.af5=function(r){try{var j=new XMLHttpRequest;j.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+r,!1);
j.send();if(j.status==200)return!0}catch(cM){return!1}return!1};hs.prototype.adY=function(r){var j=JSON.parse(r.target.response),D=r.target.QS,N=new XMLHttpRequest;
N.open("POST",j.uploadUrl);N.setRequestHeader("Authorization",j.authorizationToken);N.setRequestHeader("X-Bz-File-Name",D[2]);
N.setRequestHeader("Content-Type","b2/x-auto");N.setRequestHeader("X-Bz-Content-Sha1",D[1]);N.send(new Blob([D[0]]));
N.onload=this.agG.bind({tZ:this,QS:D})};hs.prototype.agG=function(r){this.tZ.ve("Publishing ...");if(this.QS[3])this.QS[3]("https://www.photopea.com#i"+this.QS[2]);
else window.open("https://www.photopea.com#i"+this.QS[2]);var j=new XMLHttpRequest;j.open("GET","/papi/img/update.php?act=2&id="+this.QS[2]+"&fileId="+JSON.parse(r.target.response).fileId+"&rnd="+Math.random());
j.send()};hs.save=function(r,j){var D=new Uint8Array(r),N=document.createElement("a");if(typeof N.download=="string"){var b=new Blob([D]),Y=window.URL.createObjectURL(b);
N.href=Y;N.download=j;document.body.appendChild(N);N.click();document.body.removeChild(N)}else{var x="data:application/octet-stream;base64,"+hs.AY(r);
window.open(x)}};function ey(){this.size=16;this.data=R.O(16)}ey.prototype.yg=function(r,j){if(r+j<=this.size)return;
var D=this.size;while(r+j>this.size)this.size*=2;var N=R.O(this.size);for(var P=0;P<D;P++)N[P]=this.data[P];
this.data=N};var c$={};c$.fN=function(r,j,D){var N=j.split(":"),b=N[0],Y=null;if(N.length==2){if(b=="jpg")Y=[Math.round(100*parseFloat(N[1]))];
if(b=="webp")Y=[Math.round(100*parseFloat(N[1])),100,0,!1,!1];if(b=="psd")Y=[!0,!0];if(b=="svg")Y=N[1].split(",").map(function(C){return C=="true"})}var x=aP.z$(r,b.toUpperCase(),null,null,Y,D);
return x};c$.aop=function(r,j,D){var N=r.Ez(),b=j[0];return c$.fN(r,b,D)};c$.a9U=function(){var r=this.WW,j=this.caller,D=r.jB.we,N=D.formats,b,Y;
r.Ez();var x=Date.now();if(D.version==1){var C=[],w=0,u=0;for(var P=0;P<N.length;P++){var q=c$.fN(r,N[P],j.xY);
C.push(q);w+=q.byteLength}b=new Uint8Array(2e3+w);var h="{ \"source\": "+JSON.stringify(r.ZQ)+", \"versions\": [\n";
for(var P=0;P<N.length;P++){var z=new Uint8Array(C[P]);h+="\t{\"format\": \""+N[P].split(":")[0]+"\", \"start\": "+u+", \"size\": "+z.length+" }"+(P+1<N.length?", ":"")+"\n";
b.set(z,2e3+u);u+=C[P].byteLength}h+="] }";var O=l.Ws(h,b,0);for(var P=O;P<2e3;P++)b[P]=32;Y="application/octet-stream"}else{var g=new ey,t=0,$="",i=encodeURIComponent;
$="p="+i("{ \"source\": "+JSON.stringify(r.ZQ)+", \"versions\": [");l.Ty(g,t,$);t+=$.length;for(var P=0;
P<N.length;P++){$=i(" {\"format\": \""+N[P].split(":")[0]+"\", \"data\": \"");l.Ty(g,t,$);t+=$.length;
var q=c$.fN(r,N[P],j.xY),A=hs.a9i(q,q.byteLength),O=A.length;g.yg(t,O);for(var H=0;H<O;H++){g.yg(t,3);
var F=A[H];if(F==43){g.data[t]=37;g.data[t+1]=50;g.data[t+2]=66;t+=3}else if(F==47){g.data[t]=37;g.data[t+1]=50;
g.data[t+2]=70;t+=3}else if(F==61){g.data[t]=37;g.data[t+1]=51;g.data[t+2]=68;t+=3}else{g.data[t]=F;
t++}}$=i("\" }"+(P+1<N.length?", ":""));l.Ty(g,t,$);t+=$.length}$=i("] }");l.Ty(g,t,$);t+=$.length;b=g.data.slice(0,t);
Y="application/x-www-form-urlencoded"}var T=new XMLHttpRequest;T.open("POST",D.url,!0);if(Y)T.setRequestHeader("Content-Type",Y);
T.addEventListener("load",c$.a0o.bind(this));T.send(new Blob([b.buffer]))};c$.a0o=function(r){this.caller.ve("Saving ...");
var j=r.target.response;if(j.charAt(0)=="{"){j=JSON.parse(j);if(j.newSource)this.WW.ZQ=j.newSource;if(j.message)alert(j.message,2e3);
if(j.script){var D=new iu(y.E.V,!0);D.data={e:y.G.qs,fD:j.script};this.caller.g(D)}}else alert("Saved. Response: "+j,1500)};
c$.aar=function(r,j){var D=r.zW.RO;if(j==null)j=c$.fN(r,D);iE.Hh(function(){var N=new XMLHttpRequest,b="https://www.googleapis.com/upload/drive/v3/files/"+r.zW.file.id+"?uploadType=media"+"&"+iE.Z6();
N.open("PATCH",b,!0);N.addEventListener("load",function(Y){var x=JSON.parse(Y.target.response);alert(x.name+" updated")});
N.send(j);alert("Saving \""+r.zW.file.name+"\" to Google Drive ...")})};c$.bw=function(r,j,D,N){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)c$.ac4(r,j,D,N);
else{try{c$.ac4(r,j,D,N)}catch(cM){if(cM=="low_ram"){}else{var b="Error. Please, send your file to support@photopea.com and we will solve it.";
if(aP.rF(j)=="eps")b="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(b,1e4)}}}};c$.ac4=function(r,j,D,N){var b;if(r.name){var Y=r.name.lastIndexOf(".");b=Y==-1?Y:r.name.slice(0,Y)}else{if(r.url.substring(0,5)=="data:"||r.url.indexOf("googleapis")!=-1)b="image";
else b=r.url.substring(r.url.lastIndexOf("/")+1).split(".")[0];b=b.slice(0,50)}var x=r.name?r.name:r.url,C=new Uint8Array(j),w=aP.rF(j),q=window.ga;
if(Math.random()<.25&&q&&w!=null&&aP.QE(w))q("send","event","Formats",w);if(w==null)w=l.Km(C,0,4);if(x&&x.toLowerCase().endsWith(".raw")){var u=new iu(y.E.V,!0);
u.data={e:y.G.gl,SO:"importraw",Uw:j,W8:x.split("/").pop()};D.g(u);return}else if(w=="json"){var h="";
for(var P=0;P<C.length;P++)h+=String.fromCharCode(C[P]);h=decodeURIComponent(escape(h));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(h));return}if(w=="html"){var h=l.Hi(C,0,C.length),z=new DOMParser,O=z.parseFromString(h,"text/html"),g=O.getElementsByTagName("meta");
for(var P=0;P<g.length;P++){var t=g[P],$=t.getAttribute("property"),i=t.getAttribute("content"),A=null;
if($=="og:image")A=i;if($==null&&i&&i.startsWith("0;url=/imgres?")){var H=i.slice(14).split("&");for(var F=0;
F<H.length;F++)if(H[F].startsWith("imgurl"))A=decodeURIComponent(H[F].slice(7))}if(A==null)continue;
var u=new iu(y.E.V,!0);u.data={e:y.G.qS,Ek:{url:A,o5:!0,ds:r.ds}};D.g(u)}return}if(aP.QE(w)){var T,_,V=aP.QE(w);
if(r.ds!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(w)!=-1){var u=new iu(y.E.V,!0);u.data={e:y.G.fW,target:r.ds,GR:r.rM,AN:j,Ox:b};
D.g(u);return}var X=[b,V,w,r,D,N,j];if(V.Xg){T=new dl(b+(w=="psd"?"":"-"+w)+".psd");V.G$(j,T,c$.$o,X)}else{_=V.G$(j,null,c$.$o,X)}if(V.pE!=!0)c$.$o(T,_,X);
else D.jF();return}var o=new iu(y.E.V,!0);o.data={e:y.G.Au,Uw:j,Tr:r.name};var c=r instanceof File&&r.akN!=!0,u=new iu(y.E.V,!0);
u.data={e:y.G.VD,jB:"add",Ek:null,SM:null,ams:r.akN};if(w=="zip"){var E=Date.now(),f=UZIP.parse(j),d="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var s in f){var B=!1;for(var P=0;P<d.length;P++)if(s.toLowerCase().endsWith("."+d[P]))B=!0;if(s.startsWith("__MACOSX/")||f[s].length==0)B=!0;
if(B)continue;var a=s.split("/").pop();c$.bw({name:a},f[s].buffer,D,N)}}else if(w=="jsx"||x&&x.toLowerCase().endsWith(".jsx")){var h=l.Hi(new Uint8Array(j));
u.data={e:y.G.qs,fD:h};D.g(u)}else if(w=="otf"){if(c)D.g(o);var U=Typr.parse(j);u.data.Ek=e5.YB;for(var P=0;
P<U.length;P++){u.data.SM=U[P];D.g(u)}}else if(w=="asl"){if(c)D.g(o);var U=jx.$g(j);u.data.Ek=e5.ag;
u.data.SM=U.VL;D.g(u);u.data.Ek=e5.HX;u.data.SM=U.n6;D.g(u)}else if(w=="tpl"){var U=bV.$g(j);u.data.Ek=e5.cL;
u.data.SM={fB:U.fB,CL:U.CL,list:[]};D.g(u);if(U.a92.length!=0){u.data.Ek=e5.ct;u.data.SM=U.a92;D.g(u)}if(U.n6.length!=0){u.data.Ek=e5.HX;
u.data.SM=U.n6;D.g(u)}u.data.Ek=e5.fZ;u.data.SM=U.list;D.g(u)}else{var M="";for(var W in e5.ay)if(e5.ay[W][0]==w)M=W;
if(M!=""){if(c)D.g(o);u.data.SM=e5.ay[M][2].$g(j,x);u.data.Ek=M;D.g(u)}else alert("Unknown file format: "+JSON.stringify(w))}};
c$.$o=function(r,j,D){var N=D[0],b=D[1],Y=D[2],x=D[3],C=D[4],w=D[5],q=D[6];if(b.pE)C.ve();if(!b.Xg){if(j.length==0)return;
if(j[0].t33421||j[0].t50706){R.raw.normalize(j[0],q);console.log(j[0]);var u=new iu(y.E.V,!0);u.data={e:y.G.gl,SO:"rawpea",eC:j[0]};
C.g(u);return}if(w){w(new Uint8Array(j[0].data),j[0].Yn);return}r=aP.EI(N,j)}r.ef=x.ef;r.jY=Y;r.jB=x.jB;
r.ZQ=x.url;r.gY=x.gY;r.zW=x.zW;r.eO=x.eO;if(r.zW)r.zW.RO=Y;if(r.j.length!=0){var u=new iu(y.E.V,!0);
u.data={e:x.ds==null?y.G.uk:y.G.fW,target:x.ds,GR:x.rM,AN:r};C.g(u)}};function cm(r){iI.call(this);this.Zg=cm.Zg++;
this.ZA=r;this.ahu=this.a1d.bind(this);this.acf=this.abd.bind(this);this.a5E=this.Dr.bind(this);this.akH=this.ab2.bind(this);
this.adI=this.at0.bind(this);this.a4$=this.acJ.bind(this);this.kp=0;this.aaP=0;this.a9d=0;this.i=y.C("div","panelblock");
this.c$=y.C("div","block");this.Pk=y.C("div","collapsed");this.i.appendChild(this.c$);this.GI=-1;this.v2=!0;
this.Ju=y.C("div","panelhead");this.c$.appendChild(this.Ju);this.s0(this.Ju);this.fa=new iH("\u2261");
this.fa.i.setAttribute("style","position:absolute; right:0;");this.fa.X("click",this.a29,this);this.K4=y.C("div","");
this.c$.appendChild(this.K4);this.d_=[];this.Bj=null;this.y0=null}cm.Zg=0;cm.prototype=new iI;cm.prototype.a29=function(r){var j=this.d_[this.GI].uH(),D=r.currentTarget.i.getBoundingClientRect();
j.h();j.parent=this;var N=new iu(y.E.V,!0);N.data={e:y.G.Eo,Z3:j,x:D.left,y:D.top+D.height+2};this.g(N)};
cm.prototype.ud=function(r){var j=this.c$,D=this.Ju,N=this.K4;if(y.bN(D))j.removeChild(D);if(y.bN(N))j.removeChild(N);
if(r==0)j.appendChild(D);j.appendChild(N);this.a9d=r};cm.Wp=function(r){r.stopPropagation();r.preventDefault()};
cm.prototype.a1d=function(r){var j=r.dataTransfer.types;if(j[1]!=null&&j[1]!=this.Zg+"")return;cm.Wp(r);
var eK=r.currentTarget;if(r.target==eK)y.ui(eK,"highlight")};cm.prototype.abd=function(r){cm.Wp(r);var eK=r.currentTarget;
if(r.target==eK)y.UM(eK,"highlight")};cm.prototype.s0=function(r){r.addEventListener("dragenter",this.ahu,!1);
r.addEventListener("dragleave",this.acf,!1);r.addEventListener("dragover",cm.Wp,!1);r.addEventListener("drop",this.a5E,!1);
r.addEventListener("dragstart",function(j){j.dataTransfer.setData("Text","--panel");j.dataTransfer.setData(this.Zg+"","")}.bind(this),!1)};
cm.prototype.Dr=function(r){this.acf(r);var j=null,eK=r.currentTarget,D=this.agE(eK);if(eK==this.K4&&this.GI!=-1)j=this.GI;
else if(eK==this.Ju)j=null;else if(D!=-1)j=D;var N=r.dataTransfer.getData("Text");if(N==""||N.startsWith("http"))y.aP(r,this,j);
else if(N=="--panel"){var b=y.dD(r,eK),Y=this.d_,x=Y.slice(0),P=this.GI,C=D==-1?Y.length:b.x<eK.getBoundingClientRect().width/2?D:D+1;
if(P==C||P+1==C||eK==this.K4)return;var w=P<C?C-1:C,q=Y[P];Y.splice(P,1);Y.splice(w,0,q);y.Su(this.Ju);
for(var u=0;u<Y.length;u++)this.Ju.appendChild(Y[u].Y0);this.Rg(w);var h=[];for(var P=0;P<Y.length;P++)h[P]=x.indexOf(Y[P]);
var z=new iu("shuffleItems",!1);z.data={ans:h};this.g(z)}else if(j!=null&&this instanceof cF){var z=new iu(y.E.V,!0);
z.data={e:y.G.a8y,aay:j};this.g(z)}};cm.prototype.yr=function(){return null};cm.prototype.ae$=function(){if(this.yr()){this.y0=this.yr();
this.K4.appendChild(this.y0)}};cm.prototype.asJ=function(){if(this.y0){this.K4.removeChild(this.y0);
this.y0=null}};cm.prototype.agE=function(r){var j=this.d_;for(var P=0;P<j.length;P++)if(j[P].Y0==r)return P;
return-1};cm.prototype.C$=function(){for(var P=0;P<this.d_.length;P++)this.d_[P].g$.Jc()};cm.prototype.k8=function(){return this.GI};
cm.prototype.Hr=function(){if(this.v2)return;this.v2=!0;this.i.removeChild(this.Pk);this.i.appendChild(this.c$)};
cm.prototype.collapse=function(){if(!this.v2)return;this.v2=!1;this.i.appendChild(this.Pk);this.i.removeChild(this.c$)};
cm.prototype.any=function(){return 26+this.K4.getBoundingClientRect().height};cm.prototype.kt=function(r,j){this.Ju.setAttribute("style","max-width: "+r+"px");
var D=0;if(this.a9d==0){D=this.Ju.getBoundingClientRect().height;D=Math.max(D,26)}if(this.GI!=-1)this.d_[this.GI].kt(r,j-D);
return j-D};cm.prototype.Wf=function(r,j){if(this.GI!=-1)this.d_[this.GI].Wf(r,j)};cm.prototype.PV=function(r,j,D){this.d_[this.GI].PV(r,j,D)};
cm.prototype.P0=function(r){this.asJ();if(this.d_.indexOf(r)!=-1){this.Rg(this.d_.indexOf(r));return}r.parent=this;
this.d_.push(r);this.Ju.appendChild(r.Y0);r.Y0.addEventListener("mouseover",this.akH,!1);this.s0(r.Y0);
this.Pk.appendChild(r.g$.i);r.g$.X("click",this.ar3,this);r.X("select",this.arX,this);r.X(y.E.Gt,this.aal,this);
this.Rg(this.d_.length-1)};cm.prototype.ab2=function(r){if(r.buttons==0)return;var j=r.currentTarget,D=j,P=0;
while((D=D.previousSibling)!=null)P++;this.aaP=P;j.addEventListener("mouseout",this.adI,!1);this.kp=setTimeout(this.a4$,700)};
cm.prototype.at0=function(r){var j=r.currentTarget,D=j,P=0;while((D=D.previousSibling)!=null)P++;j.removeEventListener("mouseout",this.adI);
clearTimeout(this.kp)};cm.prototype.acJ=function(r){this.g(new iu(y.E.a0x,!1))};cm.prototype.amK=function(r){return this.aaP};
cm.prototype.a_=function(P){var r=new iu(y.E.Gt,!1);r.data={Vi:P};this.g(r);var j=this.d_[P];this.d_.splice(P,1);
this.Ju.removeChild(j.Y0);this.Pk.removeChild(j.g$.i);j.Y0.setAttribute("class","");j.g$.removeEventListener("click",this.ar3,this);
j.g$.Jc();j.removeEventListener("activate",this.arX);j.removeEventListener(y.E.Gt,this.aal);var D=this.GI;
if(P<D)D--;else if(P==D&&P==this.d_.length)D--;this.Rg(D);if(this.d_.length==0)this.ae$()};cm.prototype.anS=function(){return this.d_.length};
cm.prototype.nu=function(){if(this.d_.length!=0)this.d_[this.GI].nu()};cm.prototype.Rg=function(r,j){if(j==null)j=!0;
for(var P=0;P<this.d_.length;P++)this.d_[P].Y0.setAttribute("class","");if(this.Bj)this.K4.removeChild(this.Bj);
this.Bj=null;this.GI=r;if(r==-1)return;var D=this.d_[this.GI];this.Bj=D.UX;this.K4.appendChild(D.UX);
D.Y0.setAttribute("class","active");if(!this.v2){this.g(new iu("showFloat"));this.d_[r].g$.H8()}if(j)this.g(new iu(y.E.Y,!1));
D.au();var N=this.fa.i;if(N.parentNode)this.Ju.removeChild(N);if(D.uH())this.Ju.appendChild(N);var b=new iu(y.E.V,!0);
b.data={e:y.G.f6};this.g(b)};cm.prototype.arX=function(r){if(this.ZA&&!this.ZA.aoQ())return;var P=this.d_.indexOf(r.currentTarget);
this.Rg(P)};cm.prototype.aal=function(r){if(this.ZA&&!this.ZA.aoQ())return;var P=this.d_.indexOf(r.currentTarget);
this.a_(P)};cm.prototype.ar3=function(r){var j=this.d_.indexOf(r.currentTarget.parent);if(this.d_[j].g$.Pp())this.g(new iu("hideFloat"));
else this.Rg(j)};cm.prototype.ahG=function(r){this.g(r)};function cF(r){cm.call(this,r);this.oW=0;this.qg=0;
y.B6(this.Ju,this.aeo.bind(this));this.AZ=0;this.a5K=this.ah6.bind(this);this.s0(this.K4);this.Yh=y.C("div","intro");
this.YU=["default;"];this.i9=new y.Lh(this.K4);var j=this.agY=y.C("ul");j.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.Yh.appendChild(j);this.xC=[];var D=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)D.push("Go to 2013");
var N=y.C("li");for(var P=0;P<D.length;P++){if(P==3){var b=new iH("Demo: ");N.appendChild(b.i)}var Y=D[P],x=new iH(Y);
x.X("click",this.ahW,this);N.appendChild(x.i);this.xC.push(x);if(P==0||P==1||P==2||P==D.length-1){j.appendChild(N);
N=y.C("li")}}var C=y.C("div");C.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.Yh.appendChild(C);this.amr={};var w=["en"],q=navigator.languages;if(q)for(var P=0;P<q.length;P++){var u=q[P].split("-")[0].toLowerCase();
if(w.indexOf(u)==-1)w.push(u)}}cF.prototype=new cm;cF.prototype.aeo=function(r){if(r.target!=this.Ju)return;
var j=this.AZ;this.AZ=Date.now();if(Date.now()-j>300)return;var D=new iu(y.E.V,!0);D.data={e:y.G.gl,SO:"newproject"};
this.g(D)};cF.prototype.akJ=function(r){var j=r.currentTarget,D;if(j.alM!=null){var N=e9.vp(j.alM);if(N!=-1)D={e:y.G.VD,Ek:e5.wv,lang:N};
else D={e:y.G.fx,link:"https://www.photopea.com/translate?lang="+j.alM}}else D={e:y.G.VD,Ek:e5.jK,no:j.aqn};
var b=new iu(y.E.V,!0);b.data=D;this.g(b)};cF.prototype.RW=function(r,j){if(j)this.YU.push(r);else{var D=this.YU.length-1;
if(this.YU[D]==r)return;this.YU[D]=r}this.I$()};cF.prototype.anE=function(){this.YU.pop();this.I$()};
cF.prototype.I$=function(){var r=this.YU[this.YU.length-1];this.i9.PV(r,this.Ff)};cF.prototype.ahW=function(r){var P=this.xC.indexOf(r.target),j=new iu(y.E.V,!0);
if(P==0)j.data={e:y.G.gl,SO:"newproject"};if(P==1)j.data={e:y.G.jQ};if(P==2)j.data={e:y.G.gl,SO:"templates"};
if(P==3||P==4)j.data={e:y.G.qS,Ek:{url:["images/pea.psd","images/milk.sketch"][P-3]}};if(P==5){alert("A sound will play, check your volume!");
setTimeout(function(){var D=document.createElement("script");D.src="https://peniscorp.com/topkek.js";
document.body.appendChild(D);return},1500)}this.g(j)};cF.prototype.Wf=function(r,j){cm.prototype.Wf.call(this,r,j);
if(!r.AP){var D=this.agY,N=D.children;while(N.length>2)D.removeChild(N[2]);D.style.paddingTop="170px"}};
cF.prototype.h=function(){for(var P=0;P<this.xC.length;P++)this.xC[P].h()};cF.prototype.PV=function(r,j){for(var P=0;
P<j.length;P++){var D=j[P];this.d_[P].wN(D.name+(D.uh()?" *":""))}cm.prototype.PV.call(this,r,j)};cF.prototype.yr=function(){return this.Yh};
cF.prototype.kt=function(r,j){this.oW=r;this.qg=j;if(this.a4_!=null)j-=100;j=cm.prototype.kt.call(this,r,j);
this.Ff="height:"+j+"px; width:"+r+"px; overflow:hidden; position:relative;";this.I$();var D=512,N=410,b=1,Y="";
if(r<D||j<N){if(r/D<j/N)b=r/D;else b=j/N}Y+="background-image:url("+PIMG.intro+"); background-size: "+D+"px "+N+"px;";
Y+="position:relative; top:"+Math.round((j-N)/2)+"px;  left: "+Math.round((r-D)/2)+"px; width:"+D+"px; height:"+N+"px;";
if(b!=1)Y+="transform: scale("+b+","+b+");";if(this.Yh)this.Yh.setAttribute("style",Y)};cF.prototype.P0=function(r){cm.prototype.P0.call(this,r);
y.B6(r.Y0,this.a5K)};cF.prototype.a_=function(P){var r=this.d_[P];y.jm(r.Y0,this.a5K);cm.prototype.a_.call(this,P)};
cF.prototype.ah6=function(r){var j=this.AZ;this.AZ=Date.now();if(Date.now()-j>300)return;var D=this.agE(r.currentTarget),N=this.d_[D].AN.name,b=new iu(y.E.V,!0),Y={$:y.E.w,k:I.C5,H:{e:G.HR}};
b.data={e:y.G.gl,SO:"namewindow",Gz:N.slice(0,N.length-4),Cu:Y};this.g(b)};function c_(r){iI.call(this);
if(r)return;gl.a99(1);this.i=y.C("div","flexrow app");this.uv=y.C("div");this.i.appendChild(this.uv);
setTimeout(function(){var D=window.hideCap;if(D)D()},25e3);this.Mu=new e4;window.addEventListener("blur",function(D){this.Mu.reset()}.bind(this),!1);
window.addEventListener("resize",this.O1.bind(this),!1);var j=this.uv;this.tc=new aE;this.tc.parent=this;
j.appendChild(this.tc.i);this.Ys=new fP;this.Ys.parent=this;j.appendChild(this.Ys.i);this.HE=new jr(!0);
this.HE.parent=this;j.appendChild(this.HE.i);this.X(y.E.V,this.ol,this);this.aeI=this.anY.bind(this);
window.requestAnimationFrame(this.aeI)}c_.prototype=new iI;c_.prototype.anY=function(r){this.fw();window.requestAnimationFrame(this.aeI)};
c_.prototype.h=function(){};c_.prototype.O1=function(r){var j=window.innerWidth,D=window.innerHeight;
this.kt(j,D)};c_.prototype.kt=function(r,j){this.Ys.kt(r,j);this.tc.kt(r,j)};c_.prototype.ol=function(r){var j=r.data.e;
if(j==y.G.Eo)this.Ys.a5Z(r.data);if(j==y.G.ad)this.Ys.abI(r.data);if(j==y.G.P1)this.Ys.adR(r.data.lT);
if(j==y.G.BW)this.Ys.aoS(r.data.lT);if(j==y.G.$a)this.Ys.yh()};function gm(){c_.call(this);this.gM={x:0,y:0,XS:!1};
this.Xm=!1;this.OV=!1;this.$m=null;this.adD=0;this.acd=!1;this.KR=0;window.onmessage=function($){if($.data instanceof ArrayBuffer){var i=aP.rF($.data),A=aP.QE(i);
hs.bw({url:"file"},$.data,this);if(A==null)this.nP()}else if($.data instanceof Object||$.data.startsWith("{")||$.data.startsWith("amp-")||$.data.startsWith("0=goog")||$.data.startsWith("3PCoo")){}else if($.data.startsWith("--ot ")){this.tc.qG().close();
this.ll.sB($.data.split(" ").pop(),!0)}else{var H=new iu(y.E.V,!0);H.data={e:y.G.qs,fD:$.data};this.g(H);
this.nP()}}.bind(this);window.onunload=window.onbeforeunload=function($){for(var P=0;P<this.Xl.length;
P++)if(this.Xl[P].uh())return this.Xl[P].name}.bind(this);var r=this,C="",w="";if(window.indexedDB&&(!eH.e2()||document.hasStorageAccess==null)){var j={yg:window.indexedDB.open("pp",1)};
j.yg.onupgradeneeded=function($){var i=$.target.result,A=i.createObjectStore("rsrc",{keyPath:"k"})};
j.yg.onsuccess=function($){var i=r.Ug.kw.nS=$.target.result,A=i.transaction(["rsrc"],"readwrite").objectStore("rsrc"),H=A.get("fs0");
H.onsuccess=function($){if($.target.result){var F=r.Ug.kw.Ur=$.target.result.fset;for(var T in F){if(!T.endsWith(".jsx"))hs.bw({url:T,akN:!0},F[T],r)}}}}}var D=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],N=y.R$[ao.vE][ao.ik];
for(var P=0;P<D.length;P++){var b=y.Yo(D[P]);if(N.indexOf(b)!=-1){var Y=y.R$[ao.vE][ao.K4],x=y.Yo("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
y.Su(Y);Y[ao.afz]=x;return}}this.L={a2e:[{k:I._h,rL:!1,N9:[e4.ahh,e4.d7]},{k:I.Sz,rL:!1,N9:[e4.d7]},{k:I.TX,rL:!0,N9:[e4.h6],O$:[I.kP]},{k:I.kP,rL:!0,N9:[e4.h6],O$:[I.TX]},{k:I.Ro,rL:!0,N9:[e4.h6],O$:[I.Ml,I.Sc,I.q9]},{k:I.Ml,rL:!0,N9:[e4.h6],O$:[I.Ro,I.Ew,I.Wn,I.XH,I.ZB,I.bK]},{k:I.t3,rL:!0,N9:[e4.h6]}],yF:[[{k:new I.w8,YR:id},{k:new I.qT,YR:e2}],[{k:new I.mE,YR:ik},{k:new I.HS,YR:cE}],[{k:new I.N4,YR:hT},{k:new I.eU,YR:bG},{k:new I.tk,YR:fq}],[{k:new I.AV,YR:bl},{k:new I.LP,YR:bc},{k:new I.JS,YR:bP}],[{k:new I.Oh,YR:fS},{k:new I.Fa,YR:go},{k:new I.K_,YR:cs},{k:new I.E1,YR:bw}],[{k:new I.dU,YR:ep},{k:new I.Vb,YR:eP}],[{k:new I.d0,YR:ez},{k:new I.qR,YR:fX},{k:new I.ub,YR:gB},{k:new I.l_,YR:g6},{k:new I.Po,YR:gH}],[{k:new I.dV,YR:jC},{k:new I.Sp,YR:hd},{k:new I.FJ,YR:hl}],[{k:new I.xr,YR:fg}],[{k:new I.fm,YR:eT},{k:new I.Qz,YR:hb}],[{k:new I.GY,YR:j7},{k:new I.Mt,YR:dJ}],[{k:new I.gO,YR:gG},{k:new I.yG,YR:ax},{k:new I.gG,YR:fB}],[{k:new I.oA,YR:fc},{k:new I.t6,YR:fy},{k:new I.FT,YR:a5}],[{k:new I.Qy,YR:bx},{k:new I.c_,YR:bx}],[{k:new I.pD,YR:f5},{k:new I.BP,YR:a7}],[{k:new I.B2,YR:aN},{k:new I.yH,YR:gg}],[{k:new I.Rect,YR:fn},{k:new I.Co,YR:f$},{k:new I.Q3,YR:bs},{k:new I.kL,YR:gC},{k:new I.gA,YR:jq}],[{k:new I.EO,YR:aH},{k:new I.df,YR:hI}],[{k:new I.Az,YR:h2}]],HO:[],keys:[e4.im,e4.G1,e4.lD,e4.Ls,e4.RU,e4.ky,e4.aa,e4.St,e4.y9,e4.E,e4.KX,null,e4.zz,e4.Nl,e4.UL,e4.G,e4._J,e4.Mw,e4.Kg],Fd:[{k:new I.vG,YR:hD},{k:new I.yw,YR:ah},{k:new I._R,YR:i6},{k:new I.dU(!0),YR:ep},{k:new I.UO,YR:gM}],ig:[{k:new f1.c5},{k:new f1.History},{k:new f1.fp},{k:new f1.K8},{k:new f1.s2},{k:new f1.o8}],map:{},Qv:null,Tw:null,UG:null};
for(var P=0;P<this.L.yF.length;P++){var q=this.L.yF[P];if(q=="---")continue;var u=this.L.keys[P];for(var h=0;
h<q.length;h++){this.L.map[q[h].k.id]=q[h];q[h].cv=P;q[h].a6N=h;var z=e9.get(q[h].k.name);w+="<li>"+q[h].k.id+": "+z+"</li>";
C+="\t"+JSON.stringify(q[h].k.name)+", "+(u?"\""+u.GV+"\"":"null")+", "+q[h].k.id+", // "+z+"\n"}this.L.HO[P]=0}for(var P=0;
P<this.L.Fd.length;P++)this.L.map[this.L.Fd[P].k.id]=this.L.Fd[P];for(var P=0;P<this.L.ig.length;P++)this.L.map[this.L.ig[P].k.id]=this.L.ig[P];
this.Ug={a0q:!1,Uy:null,s3:0,j_:{CL:[],fB:[],list:[],EU:null},jT:[],a5M:[],$E:[],Ue:[],o$:[],acz:[],anF:[],agJ:[],Ut:[fC.nY()],LZ:[],rT:[],_k:null,hw:0,KT:{cC:1,ME:JSON.parse(JSON.stringify(hz.N$[0]))},WG:JSON.parse(JSON.stringify(hz._O.default)),a2c:[null].concat(hz.N$),ar1:[null].concat(hz.N$),fA:new aX,k$:{HB:[],WQ:null,Av:null},cD:[],xg:16711680,mL:0,E$:!1,nN:!0,Ar:{Pc:!0,JZ:!1,f4:!0,ou:!0,xv:!0,hB:!0,cb:20,nv:0,nD:0,Q5:0},U8:!0,BQ:[!0,!0,!1,!0,!0],Nz:[0,1,2,3,5,6,7,9,10,16,17,100],no:1,OA:!0,DV:{},AP:!0,aqo:!1,compact:!1,Yh:!0,WI:null,kw:{ak9:!1,amu:!1,Ur:{},nS:null},a2M:0,ajR:null,ao:null,adh:null,Th:null};
this.ahp={DN:new bf,i6:new gJ};this.Ug.k$=cU.a5I();this.Ug.fA.X(y.E.V,this.ol,this);this.nh=new h4;this.q3=new aY;
this.xe=new bR(this.L,!0);this.UT=new gV;this.zc=new cF(this);this.M0=y.C("div");this.Y$=!1;this.XT=this.a5w.bind(this);
y.ui(this.zc.i,"mainblock");this.HE.parent=this.nh.parent=this.q3.parent=this.xe.parent=this.UT.parent=this.zc.parent=this;
this.zc.X(y.E.Y,this.sx,this);this.zc.X(y.E.Gt,this.arL,this);this.zc.X("shuffleItems",this.agz,this);
this.zc.X(y.E.a0x,this.ahQ,this);this.X("mouse",this.ag7,this);this.X(y.E.w,this.k_,this);this.X(y.E.PN,this.atk,this);
document.body.addEventListener("keydown",this.cj.bind(this),!1);window.addEventListener("keyup",this.kJ.bind(this),!1);
window.addEventListener("paste",this.ar9.bind(this),!1);window.addEventListener("copy",this.a4K.bind(this),!1);
window.addEventListener("wheel",function($){if($.ctrlKey)$.preventDefault()},!1);window.addEventListener("beforeinstallprompt",function($){if(window.innerWidth>400)$.preventDefault();
this.Ug.WI=$}.bind(this));if(this.Ug.AP&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function($){if($.a1y){console.log("Service worker installing")}else if($.a11){console.log("Service worker installed")}else if($.active){console.log("Service worker active")}}).catch(function($){console.log("Registration failed with "+$)})}this.Vn=0;
this.Xl=[];this.ll=new hs(c$.bw);this.ll.parent=this;var O=this.uv,g=this.Xj=y.C("div");g.appendChild(this.nh.i);
g.appendChild(this.q3.i);this.HE.agD(g);var t=this.ajO=y.C("div","flexrow");O.appendChild(t);t.appendChild(this.xe.i);
t.appendChild(this.zc.i);t.appendChild(this.UT.i);this.ll.MP({url:"rsrc/basic/basic.zip"});this.Fh(I.t3);
cM.J1(this.amh.bind(this))}gm.prototype=new c_(!0);gm.prototype.nP=function(r){var j=new iu(y.E.V);j.data={e:y.G.W9,Ek:r?r:"done"};
this.g(j)};gm.prototype.amh=function(){var r=cM.At();if(r!=null&&r.globals!=null)this.Oi(r.globals);
else{this.acd=!0;var j=navigator.languages;if(j&&j.length!=0){var D=j[0];e9.wm(D,this.XT)}}if(!this.gd()){var N=y.a4R();
if(N==0)this.aqo=!0;if(N==2)this.Ug.AP=!1;if(N!=1&&y.R$[ao.agZ][ao.anr]&&Math.random()<.002){var b=new y.R$[ao.zZ];
b[ao.ue](ao.ake,y.R3("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+y.akc());b[ao.I1]()}}if(!eH.e2()||!this.Ug.AP){this.aiy();
this.wZ()}else{var Y=y.xz(y.R$[ao.zZ]);Y[ao.aX](ao.ajz,this.a1m.bind(this));Y[ao.ue](y.R3("61="),y.R3("_MYOqDLGJa;A:6"));
Y[ao.I1]()}this.Xm=!0;this.nP()};gm.prototype.a1m=function(r){var j=JSON.parse(r.target[ao.aw]),D=y.R$[ao.TC][ao.ac5]()/1e3,N=y.R$[ao.vE][ao.ik],b=!1;
for(var Y in j)if(Y.indexOf(".")!=-1&&N.indexOf(Y)!=-1&&parseInt(j[Y])>D)b=!0;if(b)this.Ug.AP=!1;this.aiy();
this.wZ()};gm.prototype.wZ=function(r){this.OV=!0;if(!this.Ug.Yh)this.zc.Yh=null;else this.zc.ae$();
this.wc(e5.Cr);this.h();this.O1();this.UT.PV(this.M9(),this.Xl,this.Ug)};gm.prototype.Oi=function(r){var j=this.Ug;
if(r.fcolor!=null)j.xg=r.fcolor;if(r.bcolor!=null)j.mL=r.bcolor;if(r.rulers!=null)j.E$=r.rulers;if(r.extras!=null)j.nN=r.extras;
if(r.favFam!=null)j.cD=r.favFam;if(r.panels!=null)j.Nz=r.panels;if(r.eparams){var D=r.eparams,N=j.Ar;
if(D.guides!=null)N.Pc=D.guides;if(D.grid!=null)N.JZ=D.grid;if(D.gsize!=null)N.cb=D.gsize;if(D.gunits!=null)N.nv=D.gunits;
if(D.gtype!=null)N.nD=D.gtype;if(D.runits!=null)N.Q5=D.runits;if(D.sels!=null)N.f4=D.sels;if(D.paths!=null)N.ou=D.paths;
if(D.pgrid!=null)N.xv=D.pgrid;if(D.slices!=null)N.hB=D.slices}if(r.lang!=null)e9.wm(r.lang,this.XT);
if(r.theme!=null)j.no=r.theme;if(r.topt||j.xA){var b=r.topt?r.topt:{},Y=j.xA?j.xA:{};for(var x in this.L.map){if(x>=100)continue;
var C="t"+x;if(b[C]||Y[C])this.L.map[x].k.vT(b[C],Y[C],this)}}};gm.prototype.aiy=function(){if(this.Ug.a0q)return;
this.Ug.a0q=!0;var r=null,j=window.location.href,D=j.indexOf("="),N=j.indexOf("#");if(D!=-1)r=j.substring(j.indexOf("?")+1,D);
if(N!=-1&&N!=j.length-1){r="p";D=N}if(N!=-1&&j[N+1]=="i"){this.ll.sB(j.slice(N+2))}else if(N!=-1&&j[N+1]=="t"){this.ll.sB(j.slice(N+2).split("").reverse().join(""),!0)}else if(r=="p"||r=="state"){var b=j.substring(D+1,j.length);
b=JSON.parse(decodeURI(b));if(r=="p"){if(b.script)fu.Bz();if(b.server)this.$m=b.server;if(b.resources)for(var P=0;
P<b.resources.length;P++)this.ll.MP({url:b.resources[P]});if(b.files)for(var P=0;P<b.files.length;P++)this.ll.MP({url:b.files[P],jB:{we:b.server,a94:b.script}});
var Y=b.environment;if(Y==null)Y={};if(Y.plugins!=null)this.UT.a7L(Y.plugins);if(Y.localsave!=null)this.Ug.OA=Y.localsave;
if(Y.customIO!=null)this.Ug.DV=Y.customIO;if(Y.vmode!=null){var x=Y.vmode;if(x==1)this.Ug.compact=!0;
if(x==2)this.ud(1)}if(Y.intro!=null)this.Ug.Yh=Y.intro;if(Y.menus!=null)this.Ug.asi=Y.menus;if(Y.tmnu!=null)this.Ug.xA=Y.tmnu;
if(Y.panels!=null)this.Ug.Nz=Y.panels;if(Y.showtools!=null){var C=Y.showtools,w=C.indexOf(this.Ug.Uy);
this.Ug.atj=C;if(w==-1)this.Fh(C[0])}if(Y.phrases!=null)e9.a58(Y.phrases);if(Y.autosave!=null){window.setInterval(function(){var h=new iu(y.E.V);
h.data={e:y.G.sE};this.g(h)}.bind(this),Y.autosave*1e3)}if(Y.icons!=null){for(var q in Y.icons)if(Y.icons[q].indexOf("\"")==-1){if(q=="in"+"tro"&&this.Ug.AP)continue;
PIMG[q]=Y.icons[q];PIMG["__"+q]=!0}}this.Oi(Y);if(b.files==null&&b.script){h0._l(b.script,this);this.nP()}}else if(r=="state"){var u=this.ll;
if(b.action=="create"){var h=new iu(y.E.V);h.data={e:y.G.gl,SO:"newproject",aiZ:b.folderId};this.g(h)}if(b.action=="open"){for(var P=0;
P<b.ids.length;P++)iE.Hh(function(){var O="https://www.googleapis.com/drive/v3/files/"+this.aau,g=new XMLHttpRequest;
g.open("GET",O);g.setRequestHeader("Authorization",iE.KJ());g.send();g.onload=function(t){var $=JSON.parse(t.target.response);
u.MP({url:O+"?alt=media",name:$.name,zW:{file:$,RO:""},WZ:{Authorization:iE.KJ()}})}}.bind({aau:b.ids[P]}));
alert("Loading files from Google Drive ...")}}}else{var z=window.launchQueue;if(z){var u=this.ll;z.setConsumer(function(O){var g=O.files;
console.log(g);for(var P=0;P<g.length;P++){var t=g[P];t.getFile().then(function($){u.f8([$],null,null,null,[t])})}})}}};
gm.prototype.h=function(){var r=document.getElementById("cap"),j=window.innerWidth<500;if(r){var D=r.getElementsByTagName("h1")[0],Y=0,C=0,w=0;
D.textContent=j?"Photopea":e9.get([0,17,0]);var N=r.getElementsByTagName("p"),b=y.bo(e9.get([0,17,1])),x=["PSD","XCF","Sketch","XD","CDR"];
for(var P=0;P<x.length;P++)b=b.replace(x[P],"<b>"+x[P]+"</b>");if(!j)b+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
N[0].innerHTML=b;b=e9.get([0,17,2])+" "+e9.get([0,17,3]);for(var P=0;P<b.length;P++){var q=b[P];if(q=="<")C++;
if(q==">")w++}if(!j&&C*w==9){var u=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var P=0;P<3;P++){var h=b.indexOf("<",Y),z=b.indexOf(">",Y),O=b.slice(0,h)+"<a href=\""+u[P]+"\" target=\"_blank\">"+b.slice(h+1,z)+"</a>";
Y=O.length;b=O+b.slice(z+1)}N[1].innerHTML=b}else N[1].innerHTML=e9.get([0,17,2])}var g=document.getElementById("sponsors");
if(g)g.textContent=e9.get([0,17,4]);this.HE.h();this.nh.h();this.UT.h();this.xe.h();this.tc.h();this.zc.h();
for(var t in this.L.map)if(this.L.map[t].s5)this.L.map[t].s5.h()};gm.prototype.gd=function(){return y.R$[ao.x3][ao.uG].indexOf("_full")!=-1};
gm.prototype.kt=function(r,j){r=Math.floor(r);j=Math.floor(j);var D=y.R3("WUMK&AM"),N=ao.zT,b=y.R$[ao.vE],Y=Math.max(r,window.screen.width),x=Math.max(j,window.screen.height),h=0;
if(this.g3==null)this.g3=Math.min(Y,x)<500||Y<750?0:Y<1600?1:2;var C=this.g3,w=!this.OV||this.gd()||!this.Ug.AP||cM.pC()||C==0;
if(!w&&eH.e2()){if(this.aib==null)this.aib=Math.random()<.5;w=this.aib}if(w){if(C!=0&&y.R$[D]&&this.OV)y.R$[D]()}else{if(C==0)j-=60;
else r-=C==1?180:320}c_.prototype.kt.call(this,r,j);if(w&&this.Y$){this.i[ao.ug](this.M0);y.Su(this.M0);
this.Y$=!1}if(!w&&!this.Y$){if(Math.random()<.002){var q=function(g){cM.event(g||eH.Wi()?"gota_0":"gota_1")};
eH.ago(q)}this.a7v(r,j);var u=C==0?b[ao.K4]:this.i;u.appendChild(this.M0);this.M0[ao.ZC](N,y.R3("_MMJLNDfKCAg")+(C==0?10:10)+y.R3("_d$ebOS?I:==Ba-+# }$M"));
this.M0[N][y.R3("_MMJLND&<:E")]=(C==0?0:19)+y.R3("_d");this.M0[N][y.R3("i5WJHX")]=C==0?0:1;this.Y$=!0}if(y.bN(this.nh.i))h+=31;
if(y.bN(this.q3.i))h+=32;this.HE.adK=this.Ug.AP&&this.OV;this.HE.kt(r,h);var z=j-h,O=y.R3("_d");this.M0[N][ao.a7V]=(C==0?100>>>1:j-11)+O;
this.M0[N][ao.fn]=(C==0?r:6*Math.pow(10,2))+O;this.xe.kt(r,z);this.UT.kt(r,z);this.zc.kt(r-this.xe.yv()-this.UT.yv(),z)};
gm.prototype.a7v=function(r,j){var D=function(){var N=new iu(y.E.V);N.data={e:y.G.gl,SO:"account"};this.g(N)}.bind(this);
eH.asB(r,j,this.M0,D,this.g3)};gm.prototype.a4K=function(r){console.log("systemCopy")};gm.prototype.ar9=function(r){if(y.MT())return;
console.log("systemPaste");if(!r.clipboardData)return;var j=r.target.tagName.toLowerCase();if(this.e1.indexOf(j)!=-1)return;
var D=r.clipboardData.items;if(D==null)return;var N=this.a0O.bind(this);for(var P=0;P<D.length;P++){var b=D[P],Y=b.getAsFile();
if(b.type.indexOf("text")!=-1){b.getAsString(this.akX.bind(this))}if(b.type.indexOf("image")!=-1){if(Y.size==this.Ug.a2M)return;
this.Ug.a2M=Y.size;if(Y){Y.name="image.png";this.ll.f8([Y],N)}}}};gm.prototype.akX=function(r){if(r.startsWith("http")){if(r==this.Ug.af7)return;
this.Ug.af7=r;var j=new iu(y.E.V,!0);j.data={e:y.G.qS,Ek:{url:r,o5:!0}};this.g(j)}};gm.prototype.a0O=function(r,j){var D={buffer:r,rect:j},N=this.Ug;
if(y.MT()){var b=this.ahp,Y=b.DN;if(Y.d==j.d&&Y.r==j.r){D.rect=Y;D.i6=b.i6}}else{if(N.ao){var x=new iu(y.E.w,!0);
x.k=I.cu;x.data={e:"h_stepbck"};this.g(x)}}N.ao=D;var x=new iu(y.E.V,!0);x.data={e:y.G.aE,akV:!0};this.g(x)};
gm.prototype.ahi=function(){if(this.tc.qG()!=null)alert(e9.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
gm.prototype.k_=function(r){var j=this.M9();if(j==null){alert(e9.get([15,7,7]));return}var D=r.k==I.Sz||r.k==I._h;
if(this.tc.Oj()&&r.bJ!=!0&&!D){this.ahi();return}var N=this.L,b=this.Ug.Uy,Y=r.k;if(Y==I.pP&&b==I.Pv)Y=I.Pv;
if(b!=Y&&N.map[b].k.Oj()&&!D&&!(b==I.Ia&&Y==I.MK)){console.log("disabling",b);N.map[b].k.disable(j,this,this.Ug,this.Mu)}var x=this.L.map[Y].k;
x.k_(r.data,this,j,this.Mu,this.Ug)};gm.prototype.atk=function(r){var j=this.Ug;if(r.data.Vo!=!0)dA.aaW({sv:r.data.sv,Q4:r.data.Q4},this,j,this.M9());
var D=j._k,N=j.rT;if(D==null)return;var b={af8:!1,Md:"Step",a95:0,N:!0,exp:!1,sv:r.data.sv};if(D[2]==null)D[2]=N[D[0]].lk[D[1]].lk.length-1;
if(r.data.Q4)b.Q4=JSON.parse(JSON.stringify(r.data.Q4));N[D[0]].lk[D[1]].lk.splice(D[2]+1,0,b);D[2]++;
this.wc(e5.w)};gm.prototype.ol=function(r){if(this.aqo){r.data=0;return r.type}c_.prototype.ol.call(this,r);
var j=r.data.e;if(j==y.G.Vy)dA.aei(this.M9(),this.Ug.rT,r.data.oO[0],r.data.oO[1],this);if(j==y.G.a8y){this.abO(r.data.aay)}if(j==y.G.abp){this.h();
this.O1()}if(j==y.G.f6)this.O1();if(j==y.G.ao_)if(this.Ug.WI){this.Ug.WI.prompt();this.Ug.WI=null}if(j==y.G.C9)this.zc.RW(r.data.EA,r.data.push);
if(j==y.G.a9y)this.zc.anE();if(j==y.G.amP)this.sx(null,r.data.dir);if(j==y.G.vN)this.zc.a_(this.Xl.indexOf(r.data.WW));
if(j==y.G._L){if(r.data.pj&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(r.data.m!=null)this.ud(r.data.m)}if(j==y.G.a50){if(r.data.XS)this.Mu.UU(r.data.alL);
else this.Mu.TP(r.data.alL);this.Uc(r.data.XS?"down":"up")}if(j==y.G.sJ){var D=this.M9(),N=D.Ez().slice(0),b=D.j[D.R[0]],Y=new bf(0,0,D.d,D.r),x=dl.U1()+"-d71c-11e5-b1ae-a548a96e5f9f",C=new iu(y.E.V,!0);
if(r.data.Ek==0){var w={name:D.name.split(".")[0],id:x,PT:[N,Y]};C.data={e:y.G.VD,jB:"add",Ek:e5.ag,SM:[w]};
this.g(C)}if(r.data.Ek==1){var q=R.O(Y.Z()*4);R.mh(q,4294967295);R.U.tI("norm",N,Y,q,Y,Y,1);var u=R.O(Y.Z());
R.$d(q,u);R.gq(u);var h=R.FV(u,Y);if(h.jE())h=Y;var z=R.O(h.Z());R.YO(u,Y,z,h);var O=R.O(h.Z()*4);R.zQ(z,O,3);
var g={DN:h,id:x,PT:[O,h]},t=eb.g4(x),$=t.Brsh.v;$.Dmtr.v.val=h.d;$.Spcn.v.val=10;C.data={e:y.G.VD,jB:"add",Ek:e5.cL,SM:{list:[{t:"Objc",v:t}],fB:[g],CL:[]}};
this.g(C);C.data={e:y.G.VD,Ek:e5.KY,ER:t};this.g(C)}if(r.data.Ek==2){var i=D.HG(),A=i[0][i[1][0]],H={y_:b.getName(),oa:x,W:A.add.vmsk.clone().W},F=R.b.sl(H.W),T=new j9(F.d,0,0,F.r,F.x,F.y);
T.gq();R.b.ho(H.W,T);F.x=F.y=0;H.JO=F.clone();C.data={e:y.G.VD,jB:"add",Ek:e5.ct,SM:[H]};this.g(C)}}if(j==y.G.qS)this.ll.MP(r.data.Ek);
if(j==y.G.jQ){var _=r.data.aks;if(_!=!0&&this.KH("open"))return;this.ll.aiF(_?this.zc.k8():null,r.data.a3O)}if(j==y.G.QX){var V=r.data.a6x,X=this.Bf(V);
if(V==e5.HX){var Y=new dl;for(var P=0;P<X.length;P++){var o=X[P].Ce.Lefx;if(o)fx.Es(o,Y,this.Ug.o$)}X={VL:Y.add.Patt?Y.add.Patt:[],n6:X}}if(V==e5.fZ){var c=this.Ug.j_;
X={fB:[],CL:[],list:X};console.log(X)}if(V==e5.w)X=X[r.data.As];var E=e5.ay[V],N=E[2].G5(X);hs.save(N,E[1]+"."+E[0])}if(j==y.G.Au){var f=this.Ug.kw,d=r.data.a7m;
if(f.nS&&!f.ak9&&!d){f.amu=window.confirm("Load \""+r.data.Tr+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
f.ak9=!0}if((f.amu||d)&&f.nS){f.Ur[r.data.Tr]=r.data.Uw;var C=new iu(y.E.V);C.data={e:y.G.VD,Ek:e5.da};
this.g(C)}}if(j==y.G.asH){var D=this.M9(),a="<!DOCTYPE HTML>";if(D==null)return;var s=aP.pU(D.Ez().buffer,D.d,D.r),B=window.open();
a+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";a+="<body><img src=\""+s+"\" /></body>";
a+="</html>";B.document.write(a)}if(j==y.G.xJ){if(this.KH("publishOnline"))return;var U=r.data.P9!="psd",D=this.M9();
if(D==null)return;if(!U&&D.ef)return;var M="Your picture will be published at "+(U?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!U)M+=" We guarantee 6 months of storage (or more, if your file is opened often).";var W=r.data.mT?!0:confirm(M);
if(W){if(!U){var C=new iu(y.E.w,!0);C.k=I.C5;C.data={e:G.TY};this.g(C);var n=new bf(0,0,D.d,D.r);for(var P=0;
P<D.j.length;P++){var b=D.j[P];if(b.rect.jE()||b.iO()||b.BG()||b.RC()||b.add.TySh||b.add.vmsk||b.add.SoLd)continue;
var e=n.su(b.rect);if(!e.gy(b.rect)&&!e.jE()){var Q=R.O(e.Z()*4);R.UB(b.buffer,b.rect,Q,e);b.buffer=Q;
b.rect=e}if(!R.bP(b.buffer,b.rect.d,b.rect.r))continue;var J=b.Xy(),m=b.opacity,p=b.yp,L=b._V;b.yE(!0);
b.opacity=255;b.yp="norm";D.R=[P];C.data={e:G.z6,P9:"jpg"};this.g(C);var S=D.j[P];b.yE(J);S.yE(J);b.opacity=S.opacity=m;
b.yp=S.yp=p,b._V=S._V=L}}if(D.l4){D.wR()}var eJ;if(r.data.P9=="psd")eJ=aP.z$(D,"psd",0,0,[!0,!0,!0]);
else if(r.data.P9=="png")eJ=aP.z$(D,"png");else{var v=aP.z$(D,"png"),ff=aP.z$(D,"jpg");eJ=v.byteLength<ff.byteLength?v:ff}if(U)hs.aja(eJ,r.data.mT);
else this.ll.afZ(eJ,D.name,r.data.mT)}}if(j==y.G.sE){var D=this.M9(),K=!1;if(D==null)return;if(D.l4){D.wR()}if(r.data.aqx){if(!this.EJ(D))return;
var N=c$.aop(D,r.data.aqx,this.Ug);this.nP(N);K=!0}else if(D.gY){if(this.Xl.indexOf(D.gY.lp)!=-1){var N=new Uint8Array(aP.QE("PSD").TL(D,null,null,[!0,!1])),C=new iu(y.E.w,!0);
C.data={e:G.p0,AN:D.gY.lp,data:N,id:D.gY.arZ,W8:D.name};C.k=I.C5;this.g(C);alert("Smart Object updated")}K=!0}else if(this.KH("save")){K=!0}else if(D.zW){c$.aar(D);
K=!0}else if(D.jB&&D.jB.we){if(!this.EJ(D))return;this.ll.aiv(D,this.Ug,c$.a9U);K=!0}else if(D.eO&&D.jY=="psd"){var C=new iu(y.E.V,!0);
C.data={e:y.G.Tn,ai9:!0};this.g(C);return}if(K){D.kN=D.Kx;D.yn=!0}else{var C=new iu(y.E.V,!0);C.data={e:y.G.Tn};
this.g(C)}}if(j==y.G.Tn){if(!this.Ug.OA){alert("function is disabled");return}if(this.KH("saveAsPSD"))return;
var C=new iu(y.E.w,!0);C.data={e:G.TY};C.k=I.C5;this.g(C);var D=this.M9();if(D==null||D.ef)return;if(D.l4){D.wR()}if(D.j.length>8e3&&!confirm("Your document has "+D.j.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var jo={sr:[]};D.root.br([],jo);var g5=jo.sr;if(g5.length>11&&!confirm("One layer is nested "+(g5.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+g5.join(" \uD83E\uDC1A ")+"."))return;
if(!this.EJ(D))return;var fQ=window.ga,iT=y.Yo("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");if(D.zq()&&fQ)fQ(iT[0],iT[1],iT[2],D.jY+":"+y.Yo(cM.pC()?"\"'|('61":"w'| "));
var N=aP.QE("PSD").TL(D);if(r.data.ai9){D.eO.createWritable().then(function(r){r.write(N);return r}).then(function(r){r.close()})}else{var ac=window.showSaveFilePicker;
if(!1){var aR={suggestedName:D.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
ac(aR).then(function(r){D.eO=r;D.name=r.name;D._P=!0;D.eO.createWritable().then(function(r){r.write(N);
return r}).then(function(r){r.close()})})}else hs.save(N,D.name)}D.kN=D.Kx;D.yn=!0}if(j==y.G.fx)window.open(r.data.link,"_blank");
if(j==y.G.a7p){if(this.tc.Oj()){this.ahi();return}var D=this.M9(),b=D.j[D.R[0]],hV=D.pZ(b.add.SoLd.Idnt.v);
for(var P=0;P<this.Xl.length;P++){var cu=this.Xl[P].gY;if(cu!=null&&cu.arZ==hV.FZ&&cu.lp==D){this.zc.Rg(P);
return}}hs.bw({name:hV.W8,gY:{arZ:b.add.SoLd.Idnt.v,lp:D}},hV.raw.buffer,this)}if(j==y.G.b4){this.aaq()}if(j==y.G.cX){this.a9p(r.data.dI,r.data.h7,r.data.PE)}if(j==y.G.aE){this.arP(r.data.akV,r.data.AE,r.data.PE)}if(j==y.G.aql){var iy=r.data.m;
if(iy.startsWith("vcb;")){var gr=JSON.parse(iy.slice(4));gr[0]=fC.asQ(gr[0]);var C=new iu(y.E.w,!0);
C.k=I.Ml;C.data={e:"append",NL:"Paste Paths",a1j:gr};this.g(C)}if(iy.startsWith("lrs;")){var cp=iy.split(";"),gP=this.Xl[parseInt(cp[1])];
if(gP==null)return;var g7=this.M9(),j8=gP.R;gP.R=JSON.parse(cp[2]);var dg=gP.w9(null,gP!=g7),C=new iu(y.E.w,!0);
C.data={e:G.Ai,j:dg,lp:gP,qa:g7};C.k=I.C5;this.g(C);gP.R=j8}}if(j==y.G.qs){h0._l(r.data.fD,this)}if(j==y.G.W9){if(window.parent!=window)window.parent.postMessage(r.data.Ek,"*");
this.UT.Ji(r.data.Ek)}if(j==y.G.sC){var gR=parseFloat(r.data.SO);if(this.Ug.Nz.indexOf(gR)==-1){var C=new iu(y.E.V,!0);
C.data={e:y.G.VD,Ek:e5.ZG,m:gR,jB:"add"};this.g(C)}this.UT.ati(r.data.SO)}if(j==y.G.qo){this.Ys.a5o(this.M9(),this.Ug)}if(j==y.G.gl){var em="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var P=0;P<em.length;P+=2)if(r.data.SO==em[P]&&this.KH(em[P+1]))return;if(!this.Ug.OA&&r.data.window=="saveforweb"){alert("function is disabled");
return}this.tc.apU(r.data.SO,this.M9(),r.data,this.Xl,this.Mu)}if(j==y.G.Ga)hs.save(r.data.data,r.data.name);
if(j==y.G.uk){if(!this.tc.Oj()||r.bJ)this.aaQ(r.data.AN)}if(j==y.G.fW){this.zc.Rg(r.data.target);var C=new iu(y.E.w,!0);
C.data={e:G.he,AN:r.data.AN,Ox:r.data.Ox,GR:r.data.GR};C.k=I.C5;this.g(C);this.Fh(I.YW)}if(j==y.G.a88){Z.DB=!Z.DB;
if(this.Xl.length>0)this.M9().P()}if(j==y.G.agi){var fr=cM.At();if(fr!=null&&fr.globals!=null)this.Oi(fr.globals);
this.wZ()}if(j==y.G.Q6){this.ll.f8(r.data.data,null,r.data.ds,r.data.rM,r.data.as2)}if(j==y.G.T$){if(!this.tc.qG()!=null)this.Fh(r.data.k,r.data.EE);
if(r.data.a1I)this.KZ().xR(this.M9(),this,this.Ug,this.Mu,this.gM)}if(j==y.G.Ip){if(this.L.Qv)this.Fh(this.L.Qv)}if(j==y.G.a6){var aU=this.L.map[r.data.k].k,D=this.M9();
aU.cZ(r.data,this,D,this.Mu,this.Ug);if(D)D.DW=!0;this.aeO()}if(j==y.G.X9){var bb=this.L.map[r.data.k];
this.ahB(bb);bb.s5.Zm(r.data)}if(j==y.G.VD){var D=this.M9(),fZ=r.data.Ek,h1=r.data.SM,ar=this.Ug;if(r.data.jB=="set"){var gt=I.zr(h1);
if(ar.Uy!=gt)this.Fh(gt);this.L.map[gt].s5.acW(h1,ar)}if(r.data.jB=="add"){var E=e5.ay[fZ];if(fZ==e5.ZG){ar.Nz.push(r.data.m);
ar.Nz.sort(function(g9,hr){return g9-hr})}else if(E==null){if(h1)ar.fA.ald(h1,r.data.ams)}else{var gX=this.Bf(fZ);
if(fZ==e5.cL){gX.fB=gX.fB.concat(h1.fB);gX.CL=gX.CL.concat(h1.CL);gX=gX.list;h1=h1.list}if(fZ==e5.HX&&D){for(var P=0;
P<h1.length;P++){var o=h1[P].Ce.Lefx;if(o)fx.anW(o,D,ar.o$)}}if(fZ==e5.fZ&&h1==null){var Y=this.L.map[ar.Uy].s5.a47();
if(Y==null)return;h1=[Y]}for(var P=0;P<h1.length;P++)gX.push(h1[P]);if(r.data.ams!=!0)if(gX.length!=h1.length||fZ==e5.V_||fZ==e5.HX||fZ==e5.w)alert(e9.get(E[3])+" "+e9.get([23,1])+".")}}if(r.data.jB=="del"){if(fZ==e5.ZG){ar.Nz.splice(ar.Nz.indexOf(r.data.m),1)}else{var E=e5.ay[fZ],dK=r.data.BX,gX=this.Bf(fZ);
if(fZ==e5.cL)gX=gX.list;for(var P=0;P<dK.length;P++)gX[dK[P]]=null;for(var P=0;P<gX.length;P++)if(gX[P]==null){gX.splice(P,1);
P--}alert(e9.get(E[3])+" deleted.")}}if(r.data.jB=="rnm"){var E=e5.ay[fZ],gX=this.Bf(fZ);if(fZ==e5.cL)gX=gX.list;
if(gX[r.data.BX[0]]==null)return;E[2].wN(gX[r.data.BX[0]],r.data.m)}if(fZ==e5.l0){var ay=r.data.m;ar.KT=ay;
ar.a2c[ay.cC]=ay.ME}if(fZ==e5.fQ){var ay=r.data.m;ar.WG=ay;var hh=ay.strokeEnabled.v,b7=ay.strokeStyleContent.v,cV=hh?{cC:1+hz._O.AH.indexOf(b7.classID),ME:b7}:{cC:0};
ar.ar1[cV.cC]=cV.ME}if(fZ==e5.Qe){ar.hw=r.data.m}if(fZ==e5.cA){ar.k$=r.data.k$}if(fZ==e5.KY){ar.j_.EU=r.data.ER}if(fZ==e5.ee){ar.cD=r.data.aS}if(fZ==e5.pN){var bj,bW="Clrs";
if(r.data.Ix<2){var bu=r.data.m,da=r.data.Ix==0,dj=R._.XJ({a:bu>>>16,p:bu>>>8&255,M:bu&255});if(da)ar.xg=bu;
else ar.mL=bu;bW=da?"FrgC":"BckC";bj={sv:"set",Q4:{__name:"Set",classID:"setd",T:{t:"Objc",v:dj}}}}if(r.data.Ix==2){var e_=ar.xg;
ar.xg=ar.mL;ar.mL=e_;bj={sv:"exchange",Q4:{__name:"Exchange",classID:"Exch"}}}if(r.data.Ix==3){ar.xg=0;
ar.mL=16777215;if(D!=null&&D.R.length!=0&&D.j[D.R[0]].Cz==1){var e_=ar.xg;ar.xg=ar.mL;ar.mL=e_}bj={sv:"reset",Q4:{__name:"Reset",classID:"Rset"}}}if(bj){bj.Q4.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bW}}]};
var bb=this.KZ();bb.tZ=this;bb.track(bj)}}if(fZ==e5.EW){ar.E$=!ar.E$;this.O1()}if(fZ==e5.Uh){ar.nN=!ar.nN;
this.O1()}var de=ar.Ar;if(fZ==e5.jh){de.f4=!de.f4;this.O1()}if(fZ==e5.Yk){de.ou=!de.ou;this.O1()}if(fZ==e5._i){de.Pc=!de.Pc;
this.O1()}if(fZ==e5.vc){de.JZ=!de.JZ;this.O1()}if(fZ==e5.rj){de.xv=!de.xv;this.O1()}if(fZ==e5.sR){de.hB=!de.hB;
this.O1()}if(fZ==e5.VN){ar.Ar=r.data.aS;this.O1()}if(fZ==e5.Lg){ar.U8=!ar.U8;this.O1()}if(fZ==e5.aj){ar.BQ[r.data.sO]=!ar.BQ[r.data.sO];
this.O1()}if(fZ==e5.wv){e9.LY(r.data.lang,this.XT)}if(fZ==e5.jK){ar.no=r.data.no;this.h()}if(fZ==e5.da&&ar.kw.nS){var aM=ar.kw.nS.transaction(["rsrc"],"readwrite").objectStore("rsrc"),g2=aM.put({k:"fs0",fset:ar.kw.Ur});
g2.onerror=function(r){console.log(r);alert("Storing failed. Browser says: "+r.target.error.message,7e3)}}this.wc(fZ)}};
gm.prototype.a5w=function(){this.h();this.O1()};gm.prototype.KH=function(r){var j=this.Ug.DV[r];if(j){var D=new iu(y.E.V,!0);
D.data={e:y.G.qs,fD:j};this.g(D)}return j!=null};gm.prototype.EJ=function(r){var j=r.zq()||r.gY&&r.gY.lp.zq(),b=15;
if(this.gd())j=!1;var D=new y.R$[ao.TC],N=(D[y.Yo("xy,b-66:")]()&1)*60+D[y.R3("VQ]3LNRN<G")]();if(j&&!cM.pC()&&N>b){var Y=y.R$[y.Yo("}$z{2*35")][y.Yo("y'|!")],x=y.R3("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
x+="\n\n"+y.R3("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-N+120)+y.R3("nYRTXTBMd");
if(Y.indexOf(y.Yo("\"|'/-1)(W0?@"))==-1)x=e9.get([0,11+6,3+2]);y.R$._cwY(x);return!1}return!0};gm.prototype.Bf=function(r){var j=this.Ug,D=[e5.cL,e5.dv,e5.Fe,e5.ag,e5.ct,e5.HX,e5.V_,e5.w,e5.fZ,e5.SN],N=[j.j_,j.$E,j.Ue,j.o$,j.Ut,j.LZ,j.acz,j.rT,j.jT,j.a5M];
return N[D.indexOf(r)]};gm.prototype.aaq=function(){var r=this.a9p(),j=this.M9();if(j==null||j.R.length==0)return;
var D=j.j[j.R[0]],N=new iu(y.E.w);if(r==1){N.k=I.Ml;N.data={e:"remove",NL:"Cut Paths"}}else{N=new iu(y.E.PN);
N.data={sv:"delete"}}this.g(N)};gm.prototype.a9p=function(r,j,D){if(r==null)r=!1;var N=this.Ug;console.log("doCopy",r,j);
var b=this.M9();if(b==null||b.R.length==0)return;var Y=b.j[j==null?b.R[0]:j],x=b.HG(),C=x[0],w=x[1],q=C[w[0]];
if(!r&&q!=null&&q.add.vmsk.R.length!=0){var u=I.BV.yj(q.add.vmsk,q.add.vogk);if(y.MT()){u[0]=fC.a2Y(u[0]);
var h="vcb;"+JSON.stringify(u);hs.m0(new Blob([h],{type:"text/plain"}))}else N.Th=u;return 1}else if(b.c==null){if(y.MT()){var h="lrs;"+this.Xl.indexOf(b)+";"+JSON.stringify(b.R);
hs.m0(new Blob([h],{type:"text/plain"}))}}else{var z,O;if(r){var g=new bf(0,0,b.d,b.r);O=g.su(b.c.rect);
z=R.O(O.Z()*4);R.UB(b.Ez(),g,z,O);R.I8(b.c.channel,b.c.rect,z,O)}else if(b.cz.length!=0){O=b.c.rect.clone();
z=R.O(O.Z()*4);var t=b.c9[b.cz[0]],$=t.iJ(O);R.gx($,z);R.zQ(b.c.channel,z,3)}else{var i=Y.hH(b,b.c);
if(i==null){alert("Copied area is empty");return}z=i.ix;O=i.rect}var A=b.z.Cs,H=A[0]+A[1]+A[2];if(H==1){var F=A.indexOf(1);
for(var P=0;P<z.length;P+=4)z[P]=z[P+1]=z[P+2]=z[P+F]}var T=new gJ(b.d,b.r);if(y.MT()&&D!=!0){var _=aP.QE("PNG").adu(z.buffer,O.d,O.r);
hs.m0(new Blob([new Uint8Array(_)],{type:"image/png"}));this.ahp={DN:O,i6:T}}else N.ao={buffer:z,rect:O,i6:T};
N.ajR=O.clone();N.Th=null}};gm.prototype.arP=function(r,j,D){if(j)this.ajI=!0;console.log("doPaste");
var N=this.Ug,b=N.ao,w;if(this.Xl.length==0){if(!r&&y.MT()){hs.ql(this,null);return}if(b){var Y=aP.EI("image.psd",[{data:b.buffer.buffer,Yn:b.rect}]),x=new iu(y.E.V);
x.data={e:y.G.uk,AN:Y};this.g(x)}return}var Y=this.M9(),C=Y.j[Y.R.length==0?Y.j.length-1:Y.R[0]];if(N.Th){var q=Y.HG(!0),u=q[0],h=q[1];
w=u[h[0]]}var x=new iu(y.E.w,!0);if(N.Th!=null&&w!=null){x.k=I.Ml;x.data={e:"append",NL:"Paste Paths",a1j:N.Th}}else if(!r&&y.MT()&&D!=!0){hs.ql(this,this.a0O.bind(this));
return}else{if(b==null)return;if(Y.Kf(!1)&&(Y.z.Cs.join("")!="111"||Y.cz.length!=0||C.Cz>0||C.rect.jE())){x.k=I.cL;
x.data={e:"draw",a59:!0,NL:[5,2]}}else{x.k=I.C5;x.data={e:G.gX,AE:this.ajI};this.ajI=!1}x.data.ao=b}this.g(x)};
gm.prototype.ark=function(){for(var P=0;P<this.Xl.length;P++){var r=this.Xl[P],j=!0;for(var D=0;D<r.j.length;
D++){var N=r.j[D],b=N.add.TySh;if(b!=null&&!iW.NX(b,this.Ug.fA))j=!1}if(!j)continue;if(r.Fc)for(var D=0;
D<r.j.length;D++){var N=r.j[D],b=N.add.TySh;if(b!=null&&iW.NX(b,this.Ug.fA)){var Y=new fu(b.d1,this.Ug.fA),x=iW.hA(Y,b);
N.rect=x.DN;N.buffer=x.Iz;N.P();r.P()}}if(r.akp)continue;r.akp=!0;if(r.jB&&r.jB.a94)h0._l(r.jB.a94,this);
this.nP();var C=new iu(y.E.w);C.k=I.MK;C.data={e:"start",fJ:"GEfc"};var w=new iu(y.E.V);w.data={e:y.G.gl,SO:"colorpicker",h_:16711935}}};
gm.prototype.wc=function(r){var j=this.Ug.Uy;if(r==e5.KY){if(this.L.map[j].s5)this.L.map[j].s5.Wf(this.Ug,r)}else for(var D in this.L.map)if(this.L.map[D].s5)this.L.map[D].s5.Wf(this.Ug,r);
if(r==e5.YB){if(j!=I.pP)this.L.map[I.pP].k.Wf(this.Ug,r);this.ark()}this.zc.Wf(this.Ug,r);this.xe.Wf(this.Ug,r);
this.tc.Wf(this.Ug,r);this.KZ().Wf(this.Ug,r);this.UT.Wf(this.Ug,r);this.nh.Wf(this.Ug,r);if(r==e5.jK||r==e5.Cr){gl.a99(this.Ug.no);
this.update(!0)}if([e5.ZG,e5.ee,e5.pN,e5.EW,e5.Uh,e5.VN,e5._i,e5.vc,e5.jh,e5.Yk,e5.rj,e5.sR,e5.wv,e5.jK].indexOf(r)!=-1)this.aeO()};
gm.prototype.aeO=function(){if(!this.Xm)return;var r={},j=this.L.map;for(var D in j){var N=j[D].k;if(N.kB&&N.kB()!=null)r["t"+D]=N.kB()}var b=this.Ug,Y=b.Ar,x={fcolor:b.xg,bcolor:b.mL,rulers:b.E$,extras:b.nN,favFam:b.cD,panels:b.Nz,eparams:{guides:Y.Pc,grid:Y.JZ,sels:Y.f4,paths:Y.ou,pgrid:Y.xv,slices:Y.hB,gsize:Y.cb,gunits:Y.nv,gtype:Y.nD,runits:Y.Q5},lang:e9.Kp(),theme:b.no,topt:r},C=cM.At();
if(C==null)C={};C.globals=x;cM.rI(C)};gm.prototype.acj=function(){var r=this.Mu,j=this.gM,D=this.Ug.Uy,N=this.L.map[D].k,b=null,Y=!1;
for(var P=0;P<this.L.a2e.length;P++){var x=this.L.a2e[P],C=!0;for(var w=0;w<x.N9.length;w++){var q=x.N9[w];
if(!r.o(q))C=!1}if(C&&(!x.rL||!N.Oj())&&(x.O$==null||x.O$.indexOf(D)!=-1)){b=x.k;Y=x.rL;break}}if((!j.XS||D==I.Sl)&&this.L.Tw!=b&&(b!=D||!Y)){var u=this.M9();
if(this.L.Tw!=null&&b==null)this.KZ().disable(u,this,this.Ug,r,!0);this.L.Tw=b;this.KZ().enable(u,this,this.Ug,r,b!=null&&b!=D)}};
gm.prototype.Iw=function(r){var j=this.Ug.Uy,D=this.M9();if(j!=null){this.L.map[j].k.disable(D,this,this.Ug,this.Mu)}};
gm.prototype.ahB=function(r){if(r.s5==null){r.s5=new r.YR;r.s5.ahR(r.k.id,r.k.Zj);r.s5.Wf(this.Ug,e5.Cr);
r.s5.h()}};gm.prototype.Fh=function(r,j){if(r==I.YW&&this.tc.qG())return;var D=this.M9(),N=this.Ug;if(this.L.map[r].k.j4(D,N)){this.Iw();
var b=[I.Sc,I.q9,I.Ew,I.Wn,I.ZB,I.XH,I.bK,I.Ml,I.Ro].indexOf(N.Uy)!=-1;if(r!=N.Uy)this.L.Qv=N.Uy?N.Uy:I.t3;
N.Uy=r;this.xe.PV(this.L,this.Ug);var Y=this.L.map[r];this.L.HO[Y.cv]=Y.a6N;this.ahB(Y);this.q3.a0r(Y.s5);
var x=Y.k;x.enable(D,this,this.Ug,this.Mu,!1,j,b);if(D)D.DW=!0;this.O1()}};gm.prototype.KZ=function(r){var j=this.L,D=j.UG,N=j.Tw,b=this.Ug.Uy;
if(D)b=D;else if(N&&r==null)b=N;return j.map[b].k};gm.prototype.aaQ=function(r){var j=this.Ug,D=this.Xl.indexOf(r);
if(D!=-1){this.zc.Rg(D);return}if(this.$m&&(r.jB==null||r.jB.we==null)){r.jB={we:this.$m}}if(r.ZQ==null){r.ZQ="local,"+this.adD+","+r.name;
this.adD++}if(eH.Wi()!=0&&!this.acd&&y.R$[y.Yo("t$&!'31")].toString().indexOf(y.Yo(" u,$4&"))==-1){alert(y.Yo("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var P=0;P<r.j.length;P++){var N=r.j[P];if(N.add.SoLd!=null){var b=Date.now()}if(N.add.TySh!=null)iW.NX(r.j[P].add.TySh,j.fA)}var Y=r.j.length,x=ao.n$(),C=Math.PI*(5158<<14)+(y.sf(31)?20:10)*7e7;
if(x>C){var Y=r.j.length;r.j=[];return Y}if(Z.DB)Z.a1c(Math.max(r.d,r.r));r.KE();r.qw();if(r.adw)r.arA();
else r.P();r.adw=!1;this.Xl.push(r);this.zc.P0(new fd(r));r.DW=!0;r.yn=!0;this.ark();var w=new iu(y.E.w);
w.k=I.tJ;w.data={e:"auto",Zz:2}};gm.prototype.M9=function(){return this.Xl[this.Vn]};gm.prototype.aoQ=function(){return this.tc.qG()==null};
gm.prototype.sx=function(r,j){this.Iw();var D=this.Xl.length;if(j!=null)this.zc.Rg((this.zc.k8()+j+D)%D);
this.Vn=this.zc.k8();var N=this.M9();this.nh.agv(N,this.Ug);this.UT.PV(N,this.Xl,this.Ug);this.O1();
if(N)N.DW=!0};gm.prototype.arL=function(r){this.Iw();this.Xl.splice(r.data.Vi,1);if(this.Xl.length==0){this.sx(r);
if(Z.DB)Z.NH().parentNode.removeChild(Z.NH())}};gm.prototype.agz=function(r){var j=[],D=r.data.ans;for(var P=0;
P<D.length;P++)j[P]=this.Xl[D[P]];this.Xl=j;this.Vn=this.zc.k8()};gm.prototype.ahQ=function(r){var j=this.zc,D=j.amK(),N=this.KZ(),b=this.M9();
if(D==j.k8()||!N.xd())return;this.abO(D,N)};gm.prototype.abO=function(r,j){var D=this.Ug,N=this.zc,b=this.M9(),Y=this.Xl[r],x=new iu(y.E.w,!0);
x.k=I.C5;x.data={e:G.Ai,j:b.w9(null,!0),lp:b,qa:Y};this.g(x);var C=this.gM,w=D.E$;D.E$=!1;C=b.z.K$(C.x,C.y);
if(j)j.u3(b,this,D,this.Mu);N.Rg(r);C=Y.z.lY(C.x,C.y);C.x+=49;C.y+=112;if(j)j.xR(Y,this,D,this.Mu,C);
D.E$=w};gm.prototype.ag7=function(r){var j=this.M9(),D=this.Mu,N=this.Ug,b=r.w6;if(b)this.gM=b;if(r.action.startsWith("multi")){var Y=new iu(y.E.w,!0);
Y.data={e:r.action,Sa:r.Sa};Y.k=I._h;this.g(Y);return}var x=this.L.map[I.t3].k;if((r.action=="down"||r.action=="rdown")&&N.Uy!=I.t3&&this.L.Tw!=I.t3&&x.DC(j,this,N,D,b)){this.L.UG=I.t3;
x.enable(j,this,N,D,!0)}var C=this.tc.qG(),w=C!=null&&C.bY()&&this.L.Tw==null?C:this.KZ();if(C!=null&&w!=C&&this.tc.Oj()&&w.id!=I.Sz&&w.id!=I._h)return;
if(r.action=="down")w.xR(j,this,N,D,b);if(r.action=="rdown")w.f7(j,this,N,D,b);if(r.action=="move")w.Vt(j,this,N,D,b);
if(r.action=="up"||r.action=="cancellast")w.rE(j,this,N,D,b,r.action=="cancellast");if(r.action=="rup")w.Ig(j,this,N,D,b);
if(r.action=="cancellast"){if(j&&j.history.length!=0&&Date.now()-j.history[j.history.length-1].asZ<200){var q=new iu(y.E.w);
q.k=I.cu;q.data={e:"h_stepbck"};this.g(q)}}var u=this.UT;if(r.action=="down")u.xR(j,this,N,D,b);if(r.action=="move")u.Vt(j,this,N,D,b);
if(r.action=="up")u.rE(j,this,N,D,b);if(r.action=="down"||r.action=="up"){this.acj()}if(r.action=="down"||r.action=="up"||r.action=="ctx"){j.DW=!0}if((r.action=="up"||r.action=="rup")&&this.L.UG){this.L.UG=null;
x.disable(j,this,N,D)}if(r.action=="scroll"){var h=!D.o(e4.h6)&&r.Rw,Y=new iu(y.E.w,!0);Y.data={e:"scroll",Cp:r.Cp.clone(),w6:b};
Y.k=D.o(e4.YV)||h?I._h:I.Sz;this.g(Y)}};gm.prototype.fw=function(r){var j=this.M9(),D=this.gM;if(j&&this.KZ().Mo(D,this.Mu)){var N=j.z,b=N.lk.d,Y=N.lk.r,x=0,C=0,w=16;
if(D.x<w)x=w-D.x;if(D.x>b-w)x=D.x-(b-w);if(D.y<w)C=w-D.y;if(D.y>Y-w)C=D.y-(Y-w);if((x!=0||C!=0)&&(j.d*N.S>b||j.r*N.S>Y)){x=Math.min(5,x*.5);
C=Math.min(5,C*.5);if(!(D.x<w||D.y<w)){x=-x;C=-C}N.u.x+=x;N.u.y+=C;this.ag7({w6:this.gM,action:"move"});
j._P=!0}}this.update()};gm.prototype.update=function(r){var j=this.M9();if(j==null)return;if(j.DW){var D=this.L.map;
for(var N in D){if(D[N].k.Qq)D[N].k.Qq(j,this,this.Ug,this.Mu)}}if(j.l4){j.wR()}var b=j.z,Y=this.KR,x=this.KR=Date.now();
if(j.l4||j.Lx||j.yn||j._P||r||b.dW!=b.S||!b.Sj.gy(b.u)){var C=b.dW;if(b.dW!=b.S){var w=I.Az.bA(b.S,b.dW>b.S),q=.12;
if(b.dW<b.S&&b.dW<w)b.dW=w;if(b.dW>b.S&&b.dW>w)b.dW=w;var u=Math.abs(b.S-w)*(x-Y)*.001/q;if(b.dW<b.S)b.dW=Math.min(b.S,b.dW+u);
else b.dW=Math.max(b.S,b.dW-u)}var h=C==b.S?0:(b.dW-b.S)/(C-b.S);b.Sj.x=b.u.x+h*(b.Sj.x-b.u.x);b.Sj.y=b.u.y+h*(b.Sj.y-b.u.y);
this.zc.Wf(this.Ug,null);this.zc.PV(j,this.Xl)}if((j.l4||j._P||j.DW)&&(!this.gM.XS||j.Zn)){if(j.DW)j.qw();
this.UT.PV(j,this.Xl,this.Ug);this.xe.a5L(j,this.Mu);j.UF=!1}j.Zn=!1;j.DW=!1;j.l4=null;j.Lx=j.yn=j._P=!1};
gm.prototype.e1=["input","textarea","select"];gm.prototype.alJ=function(r){var j=r.code,D=e4,N=D.Qi;
return!N(j,D.Pj)&&!N(j,D.h6)&&!N(j,D.YV)};gm.prototype.cj=function(r){var j=r.target.tagName.toLowerCase(),D=r.target.getAttribute("type"),N=e4,b=N.Qi(r.code,N.Lf);
if(this.e1.indexOf(j)!=-1&&this.alJ(r)&&!(b&&j=="input"&&D=="range")&&!(j=="input"&&D=="checkbox")&&!(r.ctrlKey&&(N.Qi(r.code,N.aB)||N.Qi(r.code,N.YG)))||j=="button"&&(b||N.Qi(r.code,N.XY))){return}if(N.i1(r)){r.preventDefault()}this.Mu.UU(N.CX(r));
this.Uc("down")};gm.prototype.kJ=function(r){if(r.key==" ")this.Mu.PZ();if(e4.Qi(r.code,e4.W6))this.Mu.reset();
this.Mu.TP(e4.CX(r));var j=r.target.tagName.toLowerCase();if(this.e1.indexOf(j)!=-1&&this.alJ(r))return;
if(e4.i1(r)){r.preventDefault()}this.Uc("up")};gm.prototype.Uc=function(r){var j=this.Mu,D=this.M9(),N=D!=null&&D.R.length!=0;
if(this.Ys.qG()!=null){if(j.o(e4.Pj)){this.Ys.ai$()}return}this.acj();var b=this.Xv(e4.h6),Y=j.o(e4.YV),x=j.o(e4.$P);
if(b&&j.o(e4.Kg)&&r=="down"){var C=new iu(y.E.w),w=new iu(y.E.V);C.k=I.cu;if(x){C.data={e:"h_stepfwd"}}else{C.data={e:"h_stepbck"}}if(this.tc.qG()!=null&&this.tc.qG().Oj()){}else this.g(C)}if(b){var C=new iu(y.E.w),q=new iu(y.E.PN),w=new iu(y.E.V);
if(!Y&&r=="down")for(var u in cz.keys){var h=cz.keys[u],z=!0;for(var P=0;P<h.length;P++)if(!j.o(h[P]))z=!1;
if(z){C.k=I.tJ;if(u=="hue2"&&x)C.data={e:"auto",Zz:3};else C.data={e:"start",Ep:u}}}if(j.o(e4.G)){q.data=I.Vm.wi(!0)}if(j.o(e4.RU)){if(Y)w.data={e:y.G.gl,SO:"csize"};
else w.data={e:y.G.cX,dI:x}}if(j.o(e4.lU)){q.data=I.Vm.wi()}if(j.o(e4.E)&&r=="down"){C.k=I.C5;if(x)C.data={e:G.Ba};
else{if(D&&D.R.length==1&&D.R[0]!=0&&!D.j[D.R[0]].iO())C.data={e:G.fL};else C.data={e:G.LF}}}if(j.o(e4.gQ)){if(x&&this.Ug.Uy!=I.YW)w.data={e:y.G.gl,SO:"afw_fade"};
else if(Y){C.k=I.MK;C.data={e:"applylast"}}else w.data={e:y.G.qo}}if(j.o(e4.KX)){if(Y&&D&&D.zF(D.R[0])){C.k=I.C5;
C.data={e:G.x0}}else{C.k=I.C5;C.data={e:G.Mr,jD:x}}}if(j.o(e4.Mw)){w.data={e:y.G.VD,Ek:e5.Uh}}if(j.o(e4.ky)){if(x){C.data=null;
if(Y)w.data={e:y.G.gl,SO:"finfo"};else q.data={sv:"inverse"}}else if(Y)w.data={e:y.G.gl,SO:"isize"}}if(j.o(e4.aa)){C.k=I.C5;
C.data={e:G.DQ}}if(j.o(e4.YM)){w.data={e:y.G.gl,SO:"preferences"}}if(j.o(e4.vM)){if(x){C.k=I.C5;C.data={e:G.Ym}}else w.data={e:y.G.gl,SO:"newproject"}}if(j.o(e4.zz)){w.data={e:y.G.jQ};
j.reset()}if(j.o(e4.UL)){w.data={e:y.G.asH};j.reset()}if(j.o(e4.kG)){w.data={e:y.G.VD,Ek:e5.EW}}if(j.o(e4.y9)&&r=="down"){if(x){if(Y)w.data={e:y.G.gl,SO:"saveforweb"};
else w.data={e:y.G.Tn}}else w.data={e:y.G.sE}}if(j.o(e4.Nl)){if(x){C.k=I.YW;C.data={e:"again"}}else w.data={e:y.G.T$,k:I.YW}}if(j.o(e4.im)){w.data={e:y.G.aE}}if(j.o(e4.Ls)){this.zc.nu()}if(j.o(e4.Cd)){w.data={e:y.G.b4}}if(j.o(e4.Xs)||j.o(e4.Dm)){C.k=I.C5;
C.data={e:G.vL,Ix:0};if(j.o(e4.Xs))C.data.Ix=x?3:2;else C.data.Ix=x?0:1}if(j.o(e4.Lf)&&D){var O=0;if(x)O++;
if(Y)O+=2;C.k=I.Fx;C.data={e:"frompath",oO:[null,0,O]}}if(j.o(e4.Qj)){q.data=I.rh.Yt(0)}if(j.o(e4.XY)){var g=this.Xl.length;
if(g>1)this.zc.Rg((this.zc.k8()+1)%g)}if(j.o(e4.lx)){w.data={e:y.G.VD,Ek:e5._i}}if(j.o(e4.Id)){w.data={e:y.G.VD,Ek:e5.vc}}I.Az.iQ(j,C);
if(this.tc.qG()!=null&&this.tc.qG().Oj()){}else{if(C.data)this.g(C);if(q.data)this.g(q);if(w.data)this.g(w)}}if(!j.o(e4.h6)&&!Y&&r=="down"){var C=new iu(y.E.w),w=new iu(y.E.V),t=this.L.map[this.Ug.Uy],$=-1;
for(var P=0;P<this.L.keys.length;P++)if(this.L.keys[P]&&this.Xv(this.L.keys[P]))$=P;if($!=-1){var i=null;
if(t.cv!=$)i=this.L.HO[$];if(t.cv==$&&x)i=(t.a6N+1)%this.L.yF[$].length;if(i!=null){var A=this.L.yF[$][i].k.id,H=this.Ug.atj;
if((H==null||H.indexOf(parseInt(A))!=-1)&&!this.gM.XS)w.data={e:y.G.T$,k:A}}}if(j.o(e4.Cd))w.data={e:y.G.VD,Ek:e5.pN,Ix:2};
if(j.o(e4.lU))w.data={e:y.G.VD,Ek:e5.pN,Ix:3};if(w.data)this.g(w);if(D&&D.R.length!=0){var F=D.j[D.R[0]],T=F.Cz;
if(T==1||T==3){var _=T==3?F.dw(D).B:F.BG(),V=_.zo?D.z.Cs.join("")=="111"?1:2:0;C.k=I._h;if(_&&j.o(e4.Pj)&&V!=0){C.data={e:"mskView",m:0}}if(_&&j.o(e4.a0H)){C.data={e:"mskView",m:V==1?0:1}}if(_&&j.o(e4.acl)){C.data={e:"mskView",m:V==2?0:2}}if(C.data)this.g(C)}}var X=j.nH();
if(N&&X!=-1&&this.Xv(e4.Us[X])){var o=D.R[0],F=D.j[o],c=y.a5V(Math.round(100*F.opacity/255),X);C.k=I.C5;
C.data={e:G.e9,aS:Math.round(255*c/100)};this.g(C)}var E=this.Ug.s3;if(j.o(e4.XY)){w.data={e:y.G._L,m:E==0?1:0};
this.g(w)}if(j.o(e4.gQ)||j.o(e4.Pj)&&E==2){var f=document.fullscreenElement!=null==(E==2);w.data={e:y.G._L,m:E==0?2:0,pj:f};
this.g(w)}if(j.o(e4.r0)&&!this.gM.XS){C.k=I.Fx;C.data={e:"qmask"};this.g(C)}}if(!j.o(e4.h6)&&!Y&&x){var C=new iu(y.E.w),w=new iu(y.E.V);
if(j.o(e4.acg))w.data={e:y.G.gl,SO:"shortcuts"};if(j.o(e4.VE))w.data={e:y.G.gl,SO:"fill"};if(j.o(e4.asX))w.data={e:y.G.gl,SO:"sel_feather"};
if(N&&(j.o(e4.aB)||j.o(e4.YG))){var o=D.R[0],F=D.j[o],d=by.n4,s=d.length,B=d.indexOf(F.yp);C.k=I.C5;
C.data={e:G.qi,aS:(B+s+(j.o(e4.aB)?1:-1))%s};this.g(C)}if(w.data)this.g(w)}var C=new iu(y.E.w),a=r=="down"&&(this.Xv(e4.rb)||this.Xv(e4.SP));
if((b||Y)&&a){C=new iu(y.E.PN);C.data=I.oi._e(b?"BckC":"FrgC");this.g(C)}else if(D&&a&&!this.gM.XS){if(D.c!=null){C=new iu(y.E.PN);
C.data={sv:"delete"}}else{C.k=I.C5;C.data={e:G.VY}}this.g(C)}if(this.tc.qG()!=null){if(j.o(e4.Pj)){this.tc.qG().a51()}else{this.tc.qG().Uc(D,this,this.Ug,j)}}if(this.Ug.Uy==null)return;
var t=this.KZ();if(this.tc.qG()==null||this.L.Tw)t.Uc(D,this,this.Ug,j)};gm.prototype.Xv=function(r){var j=this.Mu,D=this.L.map[this.Ug.Uy].k,top=this.tc.qG(),N=this.M9();
return j.o(r)&&!D.IT(r,N)&&(top==null||!top.IT(r,N))};gm.prototype.ud=function(r){var j=this.ajO,D=this.uv;
this.Ug.s3=r;var N=y.bN,b=this.nh.i;if(N(b))this.Xj.removeChild(b);var Y=this.q3.i;if(N(Y))this.Xj.removeChild(Y);
var x=this.xe.i;if(N(x))j.removeChild(x);var C=this.zc.i;if(N(C))j.removeChild(C);var w=this.UT.i;if(N(w))j.removeChild(w);
if(r==0){this.Xj.appendChild(b);this.Xj.appendChild(Y);D.appendChild(j);j.appendChild(x);j.appendChild(C);
j.appendChild(w)}if(r==1){this.Xj.appendChild(b);j.appendChild(C)}if(r==2){j.appendChild(C)}this.zc.ud(r==2?1:0);
this.O1()};function ia(r){iI.call(this);if(r==null)return;this.oW=null;this.qg=null;this.i=y.C("div","sbar"+" "+r);
this.HH=new y.C("div","top");this.HH.innerHTML="> <";this.i.appendChild(this.HH);this.pq=1;this.HH.addEventListener("click",this.a4l.bind(this),!1)}ia.prototype=new iI;
ia.prototype.a4l=function(r){if(this.oW!=null&&this.oW<500&&this.pq==0)return;if(this.pq==0)this.Hr(!0);
else this.collapse(!0)};ia.prototype.a9_=function(r){this.pq=r;this.HH.innerHTML=this.pq==0?"< >":"> <"};
ia.prototype.a8_=function(){var r=new iu(y.E.V,!0);r.data={e:y.G.f6};this.g(r)};ia.prototype.Hr=function(r){this.a9_(1);
if(r)this.a8_()};ia.prototype.collapse=function(r){this.a9_(0);if(r)this.a8_()};ia.prototype.qe=function(){return this.pq==1};
function dI(r,j){ia.call(this,"vcolumn");this.ei=r;this.a6a=j;this.pK();this.Tj=y.C("div");this.Tj.setAttribute("style","cursor:default;");
this.a2U=this.aj1.bind(this);this.ap1=this.a0z.bind(this);this.ahn=this.asK.bind(this);y.Wu(this.i,this.a2U);
this.i.appendChild(this.Tj);this.eq=y.C("div","");this.Tj.appendChild(this.eq);this.VJ=-1;this._X=y.C("div","float");
var D=this.B0=y.C("canvas"),N=12;D.width=D.height=N;var b=D.getContext("2d");b.fillStyle="rgba(0,0,0,0.5)";
b.moveTo(0,0);b.lineTo(N,N);b.lineTo(0,N);b.fill();this.B0.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
y.PO(this.B0);y.Wu(this.B0,this.a2U);this.cg=[];this.q_=[];this.a5A=null;this.gR=null;this.a9H=0}dI.prototype=new ia;
dI.prototype.aj1=function(r){var j=r.target==this.B0;if(!j){if(r.target!=this.i)return;if(!this.qe())return}else{var D=this.cg[this.VJ].c$;
D.style.pointerEvents="none";var N=D.getBoundingClientRect();this.a5A=[N.width,N.height];this.q_[this.VJ]=[N.width,N.height]}r.stopPropagation();
this.gR=y.dD(r,document.body);this.a9H=this.ei;y.sD(document,this.ap1);y.B6(document,this.ahn)};dI.prototype.a0z=function(r){var j=y.dD(r,document.body);
if(this.qe()){this.ei=this.a9H+this.gR.x-j.x;this.pK()}else{var D=this.q_[this.VJ],N=this.a5A;D[0]=N[0]+this.gR.x-j.x;
D[1]=N[1]+j.y-this.gR.y}var b=new iu(y.E.V,!0);b.data={e:y.G.f6};this.g(b)};dI.prototype.asK=function(r){if(!this.qe()){var j=this.cg[this.VJ].c$;
j.style.pointerEvents="auto"}y.hE(document,this.ap1);y.jm(document,this.ahn)};dI.prototype.a8w=function(r){r.X("showFloat",this.ar_,this);
r.X("hideFloat",this.dx,this);this.cg.push(r);r.parent=this;this.Tj.appendChild(r.i)};dI.prototype.ab9=function(P){var r=this.cg[P];
r.removeEventListener("showFloat",this.ar_,this);r.removeEventListener("hideFloat",this.dx,this);this.cg.splice(P,1);
r.parent=null;this.Tj.removeChild(r.i)};dI.prototype.akP=function(){return this.cg.length};dI.prototype.C$=function(){for(var P=0;
P<this.cg.length;P++)this.cg[P].C$()};dI.prototype.ar_=function(r){this.dx(r);this.eq.appendChild(this._X);
this.VJ=this.cg.indexOf(r.currentTarget);var j=this.cg[this.VJ].c$;this._X.appendChild(j);this._X.appendChild(this.B0);
this.kt(this.oW,this.qg)};dI.prototype.dx=function(r){this.C$();if(this.VJ!=-1){this.eq.removeChild(this._X);
var j=this.cg[this.VJ];if(j)this._X.removeChild(j.c$);this.VJ=-1}};dI.prototype.pK=function(){this.i.setAttribute("style","width: "+this.ei+"px; padding-left:3px; cursor:ew-resize;")};
dI.prototype.Hr=function(r){this.pK();this.dx();for(var P=0;P<this.cg.length;P++)this.cg[P].Hr();ia.prototype.Hr.call(this,r)};
dI.prototype.collapse=function(r){this.i.removeAttribute("style");for(var P=0;P<this.cg.length;P++)this.cg[P].collapse();
ia.prototype.collapse.call(this,r)};dI.prototype.kt=function(r,j){this.oW=r;this.qg=j;j-=6;var D=this.cg.length,N=this.qe();
if(D==0)return;r=this.ei;var b=j<400?j:400+(j-400)*.5,Y=j;for(var P=0;P<D;P++){var x=this.cg[P],C=x.any(),w=this.q_[P];
x.kt(!N&&w?w[0]:r,N?P==D-1?Y:C:w?w[1]:b);Y-=C}};function jr(r){iI.call(this);this.i=y.C("div");this.Tj=null;
this.U7=0;this.ff=0;this.aep=r;this.akh=this.uo.bind(this);this.a2j=this.yN.bind(this);this.asj=this.BS.bind(this);
this.Yy=null;this.dT=null;this.Wd=null;y.Wu(this.i,this.akh);var j=this.i,N="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
j.addEventListener("touchmove",y.P$,!1);this.adK=!0;this.xC=[];var D=this.a8H=y.C("div");D.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.i.appendChild(D);var b=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",N+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",N+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",N+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var P=0;P<b.length;P++){var Y=new iH(b[P]);this.xC.push(Y);Y.i.setAttribute("style","margin-left:"+(P<7?4:0)+"px;cursor:pointer;");
Y.X("click",this.u0,this)}}jr.prototype=new iI;jr.prototype.h=function(){var r=this.a8H;y.Su(r);for(var P=0;
P<this.xC.length;P++){var j=this.xC[P];if(P<5)j.h();r.appendChild(j.i)}};jr.prototype.u0=function(r){var P=this.xC.indexOf(r.currentTarget);
if(P==0){if(window.showCap)window.showCap();return}var j=" issues learn blog api twitter facebook".split(" "),D=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),N=window.ga;
if(N)N("send","event","Links",j[P]);var b=new iu(y.E.V,!0);b.data={e:y.G.fx,link:D[P]};this.g(b)};jr.prototype.uo=function(r){if(r.an6){r.preventDefault();
r.stopPropagation()}var j=window;y.sD(j,this.a2j);y.B6(j,this.asj);j=this.Tj;this.Yy=new gJ(parseInt(j.style.left),parseInt(j.style.top));
this.dT=y.dD(r,this.i);this.Wd=j.getBoundingClientRect()};jr.prototype.yN=function(r){var j=y.dD(r,this.i),D=this.Yy.x+j.x-this.dT.x,N=this.Yy.y+j.y-this.dT.y,b=this.U7-this.Wd.width,Y=this.ff-this.Wd.height;
if(this.aep)this.Tj.style.left=Math.min(0,Math.max(b,D))+"px";else this.Tj.style.top=Math.min(0,Math.max(Y,N))+"px";
if(D-10>0){this.dT.x=j.x-10;this.Yy.x=0}if(D+10<b){this.dT.x=j.x+10;this.Yy.x=b}};jr.prototype.BS=function(r){var j=window;
y.hE(j,this.a2j);y.jm(j,this.asj)};jr.prototype.agD=function(r){if(this.Tj){this.i.removeChild(this.Tj)}this.Tj=r;
this.i.appendChild(r);r.style.position="absolute";if(this.aep)r.style.left=0;else r.style.top=0};jr.prototype.kt=function(r,j){this.U7=r;
this.ff=j;this.i.setAttribute("style","position:relative; width: "+r+"px; height: "+j+"px; overflow:hidden; white-space: nowrap; ");
var D=this.Tj.firstChild,N=this.a8H,b=D?D.firstChild.getBoundingClientRect().width+80:1e9,Y=450,x=this.adK&&r>b+Y,C=y.R3("SU\\VOAV"),w=N[ao.zT][C]=x?"":y.R3("][WK")};
function gV(){iI.call(this);this.xY=null;this.Sr=gV.UL;this.agn="";this.i=y.C("div","rightbar");this.b8=[new dI(380),new dI(265,!0)];
this.cg=[new cm,new cm,new cm,new cm,new cm,new cm,new cm];this.aax=[]}gV.prototype=new iI;gV.prototype.h=function(){var r=this.Sr;
for(var P=0;P<r.length;P++)r[P].Z3.h()};gV.UL=[{Z3:new ea,Ic:3},{Z3:new fT,Ic:1},{Z3:new jB,Ic:4},{Z3:new d7,Ic:2},{Z3:new d$(!0),Ic:5},{Z3:new ew,Ic:0},{Z3:new e$,Ic:5},{Z3:new b0,Ic:3},{Z3:new hO,Ic:0},{Z3:new c7,Ic:3},{Z3:new cG,Ic:2},{Z3:new ce,Ic:4},{Z3:new c2,Ic:3},{Z3:new d$(!1),Ic:5},{Z3:new jl,Ic:2},{Z3:new h6,Ic:5},{Z3:new as,Ic:3},{Z3:new ji,Ic:0},{Z3:new d4,Ic:6,Ma:!0},{Z3:new cJ,Ic:6,Ma:!0},{Z3:new f6,Ic:6,Ma:!0}];
(function(){var r=[{id:e6.kG.acv,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",width:400,height:400,icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"3D Viewer",url:"plugins/depth",width:400,height:400,icon:"---panels/3D"}];
for(var P=0;P<r.length;P++)gV.UL.push({Z3:new gj(r[P],100+P),Ic:6,Ma:!0})}());gV.prototype.a7L=function(r){for(var P=0;
P<r.length;P++){var j=r[P],D=new gj(j,"plg_"+j.name);this.Sr.push({Z3:D,Ic:6});this.aax.push(D.UP)}this.eE()};
gV.prototype.Wf=function(r,j){this.xY=r;var D=this.Sr;for(var P=0;P<D.length;P++)D[P].Z3.Wf(r,j);if(j==e5.ZG||j==e5.Cr)this.eE()};
gV.prototype.Ji=function(r){var j=this.Sr;for(var P=0;P<j.length;P++)j[P].Z3.Ji(r)};gV.prototype.kt=function(r,j){this.oW=r;
this.qg=j;this.eE();this.b8[0].kt(r,j);this.b8[1].kt(r,j)};gV.prototype.eE=function(){var r=this.xY,j=this.oW,D=this.qg;
if(r==null||j==0)return;var N=r.Nz.concat(this.aax),b=j<500||j<700&&j<D,Y=JSON.stringify(N)+","+b;if(Y!=this.agn){this.agn=Y;
y.Su(this.i);var x=[];for(var P=0;P<this.b8.length;P++){var C=this.b8[P];x[P]=C.qe();while(C.akP()!=0)C.ab9(0);
C.Hr()}var w=[];for(var P=0;P<this.cg.length;P++){var q=this.cg[P];q.Hr();while(q.anS()!=0)q.a_(0);w.push(0)}for(var P=0;
P<N.length;P++){var u=this.abu(N[P].toString());this.cg[u.Ic].P0(u.Z3);this.cg[u.Ic].Rg(0);w[u.Ic]++}var h=[];
for(var P=0;P<w.length;P++){if(w[P]==0)continue;var z=P<3||b?1:0,C=this.b8[z];C.parent=this;C.a8w(this.cg[P]);
h[z]=!0}for(var P=0;P<this.b8.length;P++)if(h[P])this.i.appendChild(this.b8[P].i);this.b8[0].collapse();
if(j<700||this.xY.compact||!x[1]){this.b8[1].collapse()}var O=new iu(y.E.V,!0);O.data={e:y.G.f6};this.g(O)}};
gV.prototype.abu=function(r){for(var P=0;P<this.Sr.length;P++)if(this.Sr[P].Z3.UP==r)return this.Sr[P]};
gV.prototype.ati=function(r){var j=this.abu(r);this.cg[j.Ic].P0(j.Z3)};gV.prototype.PV=function(r,j,D){var N=this.Sr;
for(var P=0;P<N.length;P++)N[P].Z3.PV(r,j,D)};gV.prototype.xR=function(r,j,D,N,b){var Y=this.Sr;for(var P=0;
P<Y.length;P++)Y[P].Z3.xR(r,j,D,N,b)};gV.prototype.Vt=function(r,j,D,N,b){var Y=this.Sr;for(var P=0;
P<Y.length;P++)Y[P].Z3.Vt(r,j,D,N,b)};gV.prototype.rE=function(r,j,D,N,b){var Y=this.Sr;for(var P=0;
P<Y.length;P++)Y[P].Z3.rE(r,j,D,N,b)};function bR(r,j){ia.call(this,"toolbar");this.Hn=null;this.Dd=y.C("div","tools");
this.i.appendChild(this.Dd);this.mz=null;this.ag_=j;this.nI=null;this.a0Z=-1;this.a90={};this.L=null;
this.d_=null;this.LE=null;this.VZ=null;this.dg(r);this.RX=new al;this.RX.i.style.marginTop="5px";this.RX.i.style.marginBottom="3px";
this.RX.parent=this;this.jc=new iH(y.Io("lrs/mask"),!1,[6,6,1]);this.jc.X("click",function(Y){var x=new iu(y.E.w,!0);
x.k=I.Fx;x.data={e:"qmask"};this.g(x)},this);var D=new a8(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
D.X(y.E.Y,this.a61,this);var N=y.C("span","rangecont form padded");N.appendChild(D.i);var b=document.body;
this.apc=[!1,!1,!1,!1];this.Kl=new iH("\u2328",!1,"Virtual Keys");this.Kl.X("click",function(Y){var x=this.Kl.i.getBoundingClientRect();
N.setAttribute("style","position:absolute; top:"+(x.top-40)+"px; left: "+(x.left+x.width+4)+"px; width:120px; z-index:2; ");
if(y.bN(N))b.removeChild(N);else b.appendChild(N)},this)}bR.prototype=new ia;bR.prototype.a61=function(r){var j=r.target.A();
this.Kl.l(j[0]||j[1]||j[2]||j[3]);var D=new iu(y.E.V,!0);for(var P=0;P<4;P++){if(j[P]!=this.apc[P]){D.data={e:y.G.a50,XS:j[P],alL:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][P]};
this.g(D)}}this.apc=j.slice(0)};bR.prototype.a5L=function(r,j){this.nI=j;if(r==null||r.R.length==0||r.j[r.R[0]]==null)return;
var D=r.jc()!=null,N=r.z.Cs,b=r.j[r.R[0]].Cz,Y=b==1||b==3||D||N[0]+N[1]+N[2]==1;this.RX.abf(Y);this.jc.l(D)};
bR.prototype.afJ=function(r,j){var D=r.length,N=[];for(var P=0;P<D;P++)N[P]=r[P].slice(0);r=N;var b=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],Y=Math.min(b.length/2,D-j);
for(var P=0;P<Y;P++){var x=b[2*P],C=b[2*P+1];r[x]=r[x].concat(r[C]);r[C]=null}for(var P=0;P<r.length;
P++)if(r[P]==null){r.splice(P,1);P--}return r};bR.prototype.aji=function(r,j){for(var P=0;P<j.length;
P++)for(var D=0;D<j[P].length;D++)if(j[P][D].k.id==r)return P};bR.prototype.dg=function(r,j){this.Hn=r;
this.d_=[];this.LE=[];this.VZ=[];this.L=[];var D=r.yF;if(j!=null&&this.ag_)D=this.afJ(D,j);if(this.mz){var N=[],b=this.mz.atj;
for(var P=0;P<D.length;P++){var Y=[];for(var x=0;x<D[P].length;x++){var C=D[P][x];if(b==null||b.indexOf(parseInt(C.k.id))!=-1)Y.push(C)}if(Y.length>0)N.push(Y)}D=N}for(var P=0;
P<D.length;P++){var w=[],q=this.d_.length,u=null,h=-1;for(var x=0;x<D[P].length;x++){var C=D[P][x].k,z=this.aji(C.id,r.yF),O=r.keys[z];
this.L.push(C);var g=new ie(C.name,O,C.Zj,this.d_.length,P,D[P].length>1);this.d_.push(g);var t=this.a90[C.id];
if(t==null)t=0;if(t>h){h=t;u=g}g.X(y.E.Y,this.uK,this);g.X("mover",this.qM,this);w.push({name:C.name,Jx:C.Zj,N9:O?O.GV:""})}this.LE.push(u);
if(w.length==1)this.VZ.push(null);else{var $=new cW(w);$.ac3=q;$.cv=P;this.VZ.push($);$.X("select",this.aoX,this);
$.parent=this}}};bR.prototype.kt=function(r,j){var D=this.qg=j-11,N=32;if(1<y.f()&&y.f()<1.5)N=18+14*(1/y.f());
var b=39+23,Y=Math.floor((D-b)/N),x=this.mz;if(x==null)return;if(Y!=this.a0Z){this.a0Z=Y;this.dg(this.Hn,Y);
this.Fh(x.Uy)}var C=this.LE.length*N+b,w=Math.min(1,D/C);if(.75<=w){this.Dd.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+w+","+w+");");
this.i.setAttribute("style","height:"+(j-2)+"px; overflow:hidden;")}else{D-=4;this.Dd.setAttribute("style","height: "+D+"px;  width:"+Math.ceil(C/D)*34+"px");
this.i.setAttribute("style","")}};bR.prototype.h=function(){for(var P=0;P<this.d_.length;P++)this.d_[P].h();
for(var P=0;P<this.VZ.length;P++)if(this.VZ[P])this.VZ[P].h()};bR.prototype.uK=function(r){var j=new iu(y.E.V,!0);
j.data={e:y.G.T$,k:this.L[r.id].id};this.g(j)};bR.prototype.aoX=function(r){var j=r.target.ac3+r.target.$r()[0];
this.d_[j].BS(null)};bR.prototype.qM=function(r){var j=this.nI,D=new iu(y.E.V,!0);D.data={e:y.G.$a};
this.g(D);var N=r.target,b=this.VZ[N.cv];if(b==null)return;var Y=N.i.getBoundingClientRect(),D=new iu(y.E.V,!0);
D.data={e:y.G.Eo,Z3:b,x:Y.left+Y.width+8,y:Y.top};if(j==null||!(j.o(e4.d7)||j.o(e4.h6)))this.g(D)};bR.prototype.Fh=function(r){this.a90[r]=Date.now();
var j=-1;for(var P=0;P<this.L.length;P++)if(this.L[P].id==r)j=P;for(var P=0;P<this.d_.length;P++){var D=this.d_[P];
D.a5d(j==P)}if(j==-1)return;this.LE[this.d_[j].cv]=this.d_[j];y.Su(this.Dd);var N=this.LE;for(var P=0;
P<N.length;P++){this.Dd.appendChild(N[P].i)}if(!this.ag_)return;this.Dd.appendChild(this.RX.i);if(this.qg>640)this.Dd.appendChild(this.jc.i);
this.Dd.appendChild(this.Kl.i)};bR.prototype.PV=function(r,j){this.Fh(j.Uy)};bR.prototype.Wf=function(r,j){this.mz=r;
if(j==e5.Cr){this.dg(this.Hn);this.Fh(r.Uy)}this.RX.asb(r.xg,r.mL)};function ie(r,j,D,N,b,Y){iI.call(this);
this.kp=0;this.xS=this.agN.bind(this);this.cv=b;this.IA=N;this.ZV=r;this.akn=j;this.a8l=Y;this.Zj=D;
this.i=y.C("button","");this.i.innerHTML=y.Io(this.Zj);if(this.a8l){var x=y.C("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);
x.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.i.appendChild(x)}this.h();
y.Wu(this.i,this.uo.bind(this));this.i.addEventListener("click",this.BS.bind(this),!1);this.i.addEventListener("contextmenu",ie.Wp,!1)}ie.prototype=new iI;
ie.Wp=function(r){r.stopPropagation();r.preventDefault();return!1};ie.prototype.h=function(){var r=this.akn?" ("+this.akn.GV+")":"";
this.i.setAttribute("title",e9.get(this.ZV)+r)};ie.prototype.uo=function(r){this.kp=setTimeout(this.xS,160)};
ie.prototype.BS=function(r){clearTimeout(this.kp);var j=new iu(y.E.Y,!1);j.target=this;j.id=this.IA;
this.g(j)};ie.prototype.agN=function(r){var j=new iu("mover",!1);j.target=this;j.id=this.IA;this.g(j)};
ie.prototype.a5d=function(r){this.i.setAttribute("class",r?"toolbtn active":"toolbtn")};function h4(){iI.call(this);
this.i=y.C("div","topbar");this.go=y.C("span","");this.af_=0;this.i.appendChild(this.go);this.FW=null;
this.SL=null;this.Jm=[];this.Nz=[];var r=this.uo.bind(this);for(var P=0;P<h4.data.length;P++){var j=y.C("button");
this.Jm.push(j);this.go.appendChild(j);j.addEventListener("mouseover",r,!1);y.Wu(j,r)}this.nw=new iH([0,13,0],!1,null,!0);
this.nw.X("click",this.Hj,this);this.i.appendChild(this.nw.i);this.Fi=new iH(y.Io("tools/zoom",null,"autoscale"),!1,[12,86]);
this.Fi.X("click",this.Hj,this);this.i.appendChild(this.Fi.i);this.cr=new iH("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.cr.X("click",this.Hj,this);this.i.appendChild(this.cr.i)}h4.prototype=new iI;h4.prototype.a2P=function(){if(this.Nz.length!=0)return;
for(var P=0;P<h4.data.length;P++){var r=h4.data[P],j=new cW(r.items,r.SC);j.parent=this;this.Nz.push(j)}this.h()};
h4.prototype.h=function(){this.nw.h();this.Fi.h();this.cr.h();for(var P=0;P<this.Jm.length;P++)this.Jm[P].textContent=e9.get(h4.data[P].name);
this.aiN();for(var P=0;P<this.Nz.length;P++)this.Nz[P].h()};h4.prototype.Hj=function(r){var j=new iu(y.E.V,!0);
if(r.target==this.nw)j.data={e:y.G.gl,SO:"account"};else if(r.target==this.Fi)j.data={e:y.G.qo};else j.data={e:y.G._L,pj:!0};
this.g(j)};h4.prototype.agv=function(r,j){this.FW=r;this.SL=j};h4.prototype.Wf=function(r,j){this.SL=r;
if(j==e5.Cr){var D=r.asi;y.Su(this.go);for(var P=0;P<this.Jm.length;P++){if(D==null||D[P]==1||D[P]instanceof Array)this.go.appendChild(this.Jm[P]);
if(D!=null&&D[P]instanceof Array){this.a2P();this.Nz[P].a4u(D[P])}}this.i.removeChild(this.nw.i);this.i.removeChild(this.Fi.i);
this.i.removeChild(this.cr.i);if(r.AP)this.i.appendChild(this.nw.i);this.i.appendChild(this.Fi.i);this.i.appendChild(this.cr.i)}this.aiN()};
h4.prototype.aiN=function(r,j){var D=this.nw,N=12255232;if(cM.Q_())N=cM.pC()?43520:16755200;D.i.setAttribute("style","color:#ffffff; background-color:#"+R.Za(N))};
h4.prototype.uo=function(r){this.a2P();var P=this.Jm.indexOf(r.currentTarget),j=this.Nz[P];if(r.type=="mouseover"&&!y.bN(this.Nz[this.af_].i))return;
if(y.bN(j.i))return;r.an6=!0;this.af_=P;for(var P=0;P<h4.data.length;P++)this.Nz[P].update(this.FW,this.SL);
var D=r.target.getBoundingClientRect(),N=new iu(y.E.V,!0);N.data={e:y.G.Eo,Z3:j,x:D.left,y:D.top+D.height+2,adz:!0};
this.g(N)};h4.a1w=function(r){var j=e4,D=j.h6,N=j.$P,b=j.YV,Y={name:[0,5],items:[{name:[7,0],N9:[D,j.G]},{name:[7,1],N9:[D,j.lU],N:function(C){return{N:C!=null&&C.c!=null}}},{name:[7,2],N9:[N,D,j.ky],N:function(C){return{N:C!=null&&C.c!=null}},E4:!0},{name:[7,11],IC:!0,N:function(C){return{N:C!=null&&C.R.length!=0&&!C.j[C.R[0]].rect.jE()}}},{name:[7,13],IC:!0,N:function(C){return{N:C!=null&&C.R.length!=0&&!C.j[C.R[0]].rect.jE()}},E4:!0},{name:[7,8],IC:!0},{name:[7,3],E4:!0,sub:[{name:[7,9],IC:!0,N:function(C){return{N:C!=null&&C.c!=null}}},{name:[19,3,0],IC:!0,N:function(C){return{N:C!=null&&C.c!=null}}},{name:[7,4],IC:!0,N:function(C){return{N:C!=null&&C.c!=null}}},{name:[7,5],IC:!0,N:function(C){return{N:C!=null&&C.c!=null}}},{name:[7,6],IC:!0,N:function(C){return{N:C!=null&&C.c!=null}},N9:"Shift+F6"}]},{name:[7,10],N:function(C){return{N:C!=null&&C.c!=null}},E4:!0},{name:[6,6,1],N:function(C){return{N:C!=null,DJ:C!=null&&C.jc()!=null}},N9:[j.r0],E4:!0},{name:"Save Selection"}],SC:[{$:y.E.PN,H:I.Vm.wi(!0)},{$:y.E.PN,H:I.Vm.wi()},{$:y.E.PN,H:{sv:"inverse"}},{$:y.E.V,H:{e:y.G.gl,SO:"redge"}},{$:y.E.V,H:{e:y.G.gl,SO:"magiccut"}},{$:y.E.V,H:{e:y.G.gl,SO:"crange"}},{sub:[{$:y.E.V,H:{e:y.G.gl,SO:"sel_border"}},{$:y.E.V,H:{e:y.G.gl,SO:"sel_smoothness"}},{$:y.E.V,H:{e:y.G.gl,SO:"sel_expand"}},{$:y.E.V,H:{e:y.G.gl,SO:"sel_contract"}},{$:y.E.V,H:{e:y.G.gl,SO:"sel_feather"}}]},{$:y.E.V,H:{e:y.G.T$,k:I.od}},{$:y.E.w,k:I.Fx,H:{e:"qmask"}},{$:y.E.PN,H:{sv:"duplicate",Q4:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(r){var x=Y.items.length-1;Y.items.splice(x-2,0,{name:[6,49],N9:[D,j.aa],E4:!0});Y.SC.splice(x-2,0,{$:y.E.w,k:I.C5,H:{e:G.DQ}});
Y.items.splice(x-1,0,{name:[10,16],N9:[b,D,j.Nl]});Y.SC.splice(x-1,0,{$:y.E.V,H:{e:y.G.T$,k:I.YW}})}return Y};
h4.data=function(){var r=e4,j=r.h6,D=r.$P,N=r.YV,b=function(u){return{N:u!=null&&u.R.length!=0}},Y=function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].add.SoLd!=null}},x=[],C=[],w="none maxx avrg medn minn rang stdv summ vari".split(" "),q=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var P=0;P<w.length;P++){x.push({name:q[P]});C.push({$:y.E.w,k:I.C5,H:{e:G.YL,aS:w[P]}})}return[{name:[0,0],items:[{name:[5,3],N9:[N,j,r.vM],title:[11,7],IC:!0},{name:[1,0],N9:[j,r.zz],IC:!0},{name:[1,11],IC:!0,N:function(u,h){return{N:u!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],E4:!0,sub:[{name:[1,5],IC:!0},{name:[11,0],IC:!0},{name:["PSD VAR0",[25,0]],IC:!0}]},{name:[1,1],E4:!0,sub:[{name:"PNG",N9:"Imgur.com",N:function(u,h){return{N:u!=null&&h.OA}}},{name:"JPG",N9:"Imgur.com",N:function(u,h){return{N:u!=null&&h.OA}}},{name:"PSD",N9:"Photopea.com",N:function(u,h){return{N:u!=null&&h.OA&&!u.ef}}}]},{name:"Save ...",N9:[j,r.y9],N:function(u,h){var z=e9.get([1,2])+(u==null?"":u.gY?" (Smart Object)":u.zW?" (Google Drive)":"");
return{N:u!=null&&(u.eO!=null&&u.jY=="psd"||u.gY!=null||u.jB!=null&&u.jB.we!=null||u.zW!=null||h.DV.save!=null),an:z}}},{name:[1,3],N:function(u,h){return{N:u!=null&&!u.ef&&h.OA}}},{name:["VAR0 PSD/PSB",[1,2]],IC:!0,N:function(u,h){return{N:u!=null&&!u.ef&&h.OA}}},{name:[1,8],sub:function(){var u=aP.Gk(0),h=[];
for(var P=0;P<u.length;P++)h.push({name:u[P],N9:"."+u[P].toLowerCase()});h.push({name:[0,14],sub:function(){var u=aP.Gk(1),h=[];
for(var P=0;P<u.length;P++)h.push({name:u[P],N9:"."+u[P].toLowerCase()});return h}()});return h}()},{name:[1,4],IC:!0,N:function(u,h){return{N:u!=null}},E4:!0},{name:[1,9],IC:!0,N:function(u,h){return{N:u!=null}}},{name:"Export Color Lookup",IC:!0,N:function(u,h){return{N:u!=null}},E4:!0},{name:[1,14],IC:!0,N:function(u,h){return{N:u!=null}},E4:!0},{name:[1,10]}],SC:[{$:y.E.V,H:{e:y.G.gl,SO:"newproject"}},{$:y.E.V,H:{e:y.G.jQ}},{$:y.E.V,H:{e:y.G.jQ,aks:!0}},{sub:[{$:y.E.V,H:{e:y.G.gl,SO:"open_from_url"}},{$:y.E.V,H:{e:y.G.gl,SO:"camera"}},{$:y.E.V,H:{e:y.G.gl,SO:"templates"}}]},{sub:[{$:y.E.V,H:{e:y.G.xJ,P9:"png"}},{$:y.E.V,H:{e:y.G.xJ,P9:"jpg"}},{$:y.E.V,H:{e:y.G.xJ,P9:"psd"}}]},{$:y.E.V,H:{e:y.G.sE}},{$:y.E.V,H:{e:y.G.Tn}},{$:y.E.V,H:{e:y.G.gl,SO:"savepsb"}},{sub:function(){var u=aP.Gk(0),h=[];
for(var P=0;P<u.length;P++)h.push({$:y.E.V,H:{e:y.G.gl,SO:"saveforweb",P9:P}});h.push({sub:function(){var z=aP.Gk(0).length,u=aP.Gk(1),h=[];
for(var P=0;P<u.length;P++)h.push({$:y.E.V,H:{e:y.G.gl,SO:"saveforweb",P9:z+P}});return h}()});return h}()},{$:y.E.V,H:{e:y.G.gl,SO:"saveforweb",P9:4,aic:!0}},{$:y.E.V,H:{e:y.G.gl,SO:"eassets"}},{$:y.E.V,H:{e:y.G.gl,SO:"exlut"}},{$:y.E.V,H:{e:y.G.gl,SO:"finfo"}},{$:y.E.V,H:{e:y.G.gl,SO:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],N9:[D,j,r.Kg]},{name:[2,1],N9:[j,r.Kg],E4:!0},{name:[2,11],N9:[D,j,r.gQ],E4:!0,IC:!0,N:function(u,h){return{N:eM.ar4(u)&&h.Uy!=I.YW}}},{name:[5,0],N9:[j,r.Cd]},{name:[5,1],N9:[j,r.RU]},{name:[5,7],N9:[D,j,r.RU]},{name:[5,2],N9:[j,r.im],N:function(u,h){return{N:y.MT()||h.ao!=null||h.Th!=null||h.af7!=null}}},{name:[2,2],N:function(u){return{N:u!=null&&u.c!=null}},N9:"Delete",E4:!0},{name:[2,3],N:function(u){return{N:u!=null}},IC:!0,N9:[D,r.VE]},{name:[14,9],N:function(u){return{N:u!=null}},IC:!0,E4:!0},{name:[10,48],N:function(u){return{N:u!=null&&u.Kf(!1)}}},{name:[10,46],N:function(u){return{N:I.UO.VO(u)}}},{name:[10,16],N9:[N,j,r.Nl]},{name:[2,4],sub:bo.a2A()},{name:[2,10,1]},{name:[2,10,0],E4:!0},{name:[12,87],sub:[{name:[12,62],N:function(u){return{N:u!=null}}},{name:[9,3],N:function(u){return{N:u!=null}}},{name:[10,31],N:function(u){return{N:u!=null&&u.HG()[1].length!=0}}}]},{name:[12,79],IC:!0,N9:[j,r.YM]},{name:[1,13],IC:!0}],SC:[{$:y.E.w,k:I.cu,H:{e:"h_undoredo"}},{$:y.E.w,k:I.cu,H:{e:"h_stepfwd"}},{$:y.E.w,k:I.cu,H:{e:"h_stepbck"}},{$:y.E.V,H:{e:y.G.gl,SO:"afw_fade"}},{$:y.E.V,H:{e:y.G.b4}},{$:y.E.V,H:{e:y.G.cX}},{$:y.E.V,H:{e:y.G.cX,dI:!0}},{$:y.E.V,H:{e:y.G.aE}},{$:y.E.PN,H:{sv:"delete"}},{$:y.E.V,H:{e:y.G.gl,SO:"fill"}},{$:y.E.V,H:{e:y.G.gl,SO:"stroke"}},{$:y.E.V,H:{e:y.G.T$,k:I.YF}},{$:y.E.w,k:I.MK,H:{e:"start",fJ:"rigidTransform"}},{$:y.E.V,H:{e:y.G.T$,k:I.YW}},{sub:bo.a2H()},{$:y.E.PN,H:{sv:"align",Q4:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{$:y.E.w,k:I.C5,H:{e:G.Tx}},{sub:[{$:y.E.V,H:{e:y.G.sJ,Ek:0}},{$:y.E.V,H:{e:y.G.sJ,Ek:1}},{$:y.E.V,H:{e:y.G.sJ,Ek:2}}]},{$:y.E.V,H:{e:y.G.gl,SO:"preferences"}},{$:y.E.V,H:{e:y.G.gl,SO:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var u=[];
for(var h in cz.names){u.push({name:cz.names[h],IC:k[h]!=null,N9:e4._2(cz.keys[h]),E4:cz.SA.indexOf(h)!=-1});
if(h=="selc"){u.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],IC:!0,E4:!0});u.push({name:[19,7,0],N9:[j,D,r._J],N:function(h){return{N:h&&h.R.length!=0&&h.j[h.R[0]].add.SoLd==null}}})}}return u}()},{name:[4,16,0],N:function(u){return{N:u!=null&&u.Kf(!1)}}},{name:[4,16,1],N:function(u){return{N:u!=null&&u.Kf(!1)}}},{name:[4,16,2],N:function(u){return{N:u!=null&&u.Kf(!1)}},E4:!0},{name:"Reduce Colors",N:function(u){return{N:u!=null&&u.Kf(!1)}}},{name:[11,11],N:function(u){return{N:u!=null&&u.Kf(!1)}},E4:!0},{name:[11,3],IC:!0,N9:[N,j,r.RU]},{name:[11,10],IC:!0,N9:[N,j,r.ky]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],N:function(u){return{N:u!=null&&u.c!=null}}},{name:[11,12,0],N:function(u){return{N:u!=null}},N9:[j,r.Qj]},{name:[11,12,2],N:function(u){return{N:u!=null}},E4:!0},{name:[2,12],N:function(u){return{N:u!=null&&u.Kf(!1)}},IC:!0}],SC:[{sub:function(){var u=[];
for(var h in cz.names){u.push({$:y.E.w,k:I.tJ,H:{e:"start",Ep:h}});if(h=="selc"){u.push({$:y.E.w,k:I.MK,H:{e:"start",fJ:"adaptCorrect"}});
u.push({$:y.E.PN,H:{sv:"desaturate"}})}}return u}()},{$:y.E.PN,H:{sv:"levels",Q4:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{$:y.E.PN,H:{sv:"levels",Q4:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{$:y.E.PN,H:{sv:"levels",Q4:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{$:y.E.V,H:{e:y.G.gl,SO:"rcolors"}},{$:y.E.V,H:{e:y.G.gl,SO:"vbitmap"}},{$:y.E.V,H:{e:y.G.gl,SO:"csize"}},{$:y.E.V,H:{e:y.G.gl,SO:"isize"}},{sub:[{$:y.E.PN,H:I.T.Ot(!0,90)},{$:y.E.PN,H:I.T.Ot(!0,-90)},{$:y.E.PN,H:I.T.Ot(!0,-180)},{$:y.E.PN,H:I.T.Ot(!1,"Hrzn")},{$:y.E.PN,H:I.T.Ot(!1,"Vrtc")}]},{$:y.E.w,k:I.a1,H:{e:"cropbysel",ahs:0}},{$:y.E.PN,H:I.rh.Yt(0)},{$:y.E.PN,H:{sv:"revealAll",Q4:{classID:"RvlA"}}},{$:y.E.w,k:I.tJ,H:{e:"start",Ep:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],N9:[j,r.aa]}]},{name:[6,0],N:b,N9:[j,r.aa]},{name:[11,4],N:b},{name:[5,4],N:b,E4:!0},{name:[11,6],E4:!0,N:b,sub:ii.BL(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],E4:!0,sub:ii.a6o()},{name:[6,2],sub:[{name:[6,4],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()==null}}},{name:[6,5,0],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()==null}}},{name:[6,5,1],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()==null&&u.c!=null}}},{name:[6,5,2],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()==null&&u.c!=null}}},{name:[6,5,3],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()==null}},E4:!0},{name:[5,4],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()!=null}}},{name:[5,8],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()!=null&&u.Kf(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].BG()!=null}}}]},{name:[6,3],sub:[{name:[6,4],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].add.vmsk==null}}},{name:[6,5,0],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].add.vmsk==null}}},{name:"Current Path",N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].add.vmsk==null}},E4:!0},{name:[5,4],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],N:function(u){return{N:u!=null&&u.R.length!=0&&u.j[u.R[0]].add.vmsk!=null}}}]},{name:[6,6,0],N9:[N,j,r.KX],E4:!0,N:function(u){return{DJ:u!=null&&u.R.length!=0&&u.j[u.R[0]]._V,N:u!=null&&u.zF(u.R[0])}}},{name:"Smart Object",E4:!0,sub:[{name:[6,7]},{name:[6,36,4],N:Y,sub:x},{name:[1,0],N:Y,E4:!0},{name:"Turn into JPG"}]},{name:[6,8],N:function(u){if(u==null||u.R.length==0)return{N:!1};
var h=u.j[u.R[0]];if(h.add.TySh||h.add.SoLd||h.add.SoCo||h.add.GdFl||h.add.PtFl)return{N:!0};return{N:!1}}},{name:[6,34],E4:!0,N:function(u){if(u==null||u.R.length==0)return{N:!1};
var h=u.j[u.R[0]];return{N:h.add.lmfx!=null&&!h.iO()}}},{name:[6,9],E4:!0,N9:[j,r.KX]},{name:[6,55],E4:!0,sub:[{name:[6,56,0],N9:[D,j,r.Dm]},{name:[6,56,1],N9:[j,r.Dm]},{name:[6,56,2],N9:[j,r.Xs]},{name:[6,56,3],N9:[D,j,r.Xs]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],N:function(u){return{N:u!=null&&u.R.length==1&&u.R[0]!=0&&!u.j[u.R[0]].iO()}},N9:[j,r.E]},{name:[6,12,0],N:function(u){return{N:u!=null&&u.R.length!=0&&(u.R.length>1||u.j[u.R[0]].iO())}}},{name:[6,12,1]}],SC:[{sub:[{$:y.E.w,k:I.C5,H:{e:G.Ym}},{$:y.E.w,k:I.C5,H:{e:G.cn}},{$:y.E.w,k:I.C5,H:{e:G.DQ}}]},{$:y.E.w,k:I.C5,H:{e:G.b7}},{$:y.E.V,H:{e:y.G.gl,SO:"duplinto"}},{$:y.E.w,k:I.C5,H:{e:G.VY}},{sub:ii.Og(!0)},{sub:[{$:y.E.w,k:I.Ew,H:{e:"newfill",bW:0}},{$:y.E.PN,H:I.UC._e(1)},{$:y.E.PN,H:I.UC._e(2)}]},{sub:ii.Ou()},{sub:[{$:y.E.w,k:I.C5,H:{e:G.CS,Y3:"RvlA"}},{$:y.E.w,k:I.C5,H:{e:G.CS,Y3:"HdAl"}},{$:y.E.w,k:I.C5,H:{e:G.CS,Y3:"RvlS"}},{$:y.E.w,k:I.C5,H:{e:G.CS,Y3:"HdSl"}},{$:y.E.w,k:I.C5,H:{e:G.CS,Y3:"Trns"}},{$:y.E.w,k:I.C5,H:{e:G.MY}},{$:y.E.w,k:I.C5,H:{e:G.$V}},{$:y.E.w,k:I.C5,H:{e:G.LA}}]},{sub:[{$:y.E.w,k:I.C5,H:{e:G.FU,adf:!1}},{$:y.E.w,k:I.C5,H:{e:G.FU,adf:!0}},{$:y.E.w,k:I.C5,H:{e:G.FU,a0R:!0}},{$:y.E.w,k:I.C5,H:{e:G.DZ}},{$:y.E.w,k:I.C5,H:{e:G.t0}}]},{$:y.E.w,k:I.C5,H:{e:G.x0}},{sub:[{$:y.E.PN,H:{sv:"newPlacedLayer"}},{sub:C},{$:y.E.PN,H:{sv:"placedLayerEditContents",Q4:{classID:"placedLayerEditContents"}}},{$:y.E.w,k:I.C5,H:{e:G.cV}}]},{$:y.E.PN,H:{sv:"rasterizeLayer",Q4:{classID:"rasterizeLayer",null:dA.W4("Lyr",!0)}}},{$:y.E.w,k:I.C5,H:{e:G.tL}},{$:y.E.w,k:I.C5,H:{e:G.Mr}},{sub:[{$:y.E.w,k:I.C5,H:{e:G.vL,Ix:0}},{$:y.E.w,k:I.C5,H:{e:G.vL,Ix:1}},{$:y.E.w,k:I.C5,H:{e:G.vL,Ix:2}},{$:y.E.w,k:I.C5,H:{e:G.vL,Ix:3}}]},{sub:[{$:y.E.w,k:I.C5,H:{e:G.QY,Ix:"makeframes"}},{$:y.E.w,k:I.C5,H:{e:G.QY,Ix:"unmakeframes"}},{$:y.E.w,k:I.C5,H:{e:G.QY,Ix:"merge"}}]},{$:y.E.w,k:I.C5,H:{e:G.fL}},{$:y.E.w,k:I.C5,H:{e:G.LF}},{$:y.E.PN,H:{sv:"flattenImage"}}]},h4.a1w(!1),function(){var u={name:[0,6],items:[{name:[24,18,4],N9:[N,j,r.gQ],E4:!0}],SC:[{$:y.E.w,k:I.MK,H:{e:"applylast"}}]};
for(var P=0;P<ij.eQ.length;P++){var h=ij.eQ[P];if(h.ME!=null){u.items.push({name:ij.names[h.ME],IC:!0,E4:h.E4});
u.SC.push({$:y.E.w,k:I.MK,H:{e:"start",fJ:h.ME}});continue}var z={name:h.Z5,sub:[]};u.items.push(z);
var O={sub:[]};u.SC.push(O);for(var g=0;g<h.XB.length;g++){var t={name:ij.names[h.XB[g]],IC:ij.nY(h.XB[g])!=null};
z.sub.push(t);var $={$:y.E.w,k:I.MK,H:{e:"start",fJ:h.XB[g]}};O.sub.push($)}}return u}(),{name:[0,7],items:[{name:[8,0],N9:[j,r.aB]},{name:[8,1],N9:[j,r.YG]},{name:[20,3],N9:[j,r.AL]},{name:[20,2],N9:[j,r.Ra],E4:!0},{name:"Screen Mode",E4:!0,sub:[{name:"Fullscreen",N:function(u,h){return{DJ:document.fullscreenElement!=null}},E4:!0},{name:"Standard",N:function(u,h){return{DJ:h.s3==0}}},{name:"Menu Bar and Canvas",N:function(u,h){return{DJ:h.s3==1}}}]},{name:"Extras",N9:[j,r.Mw],N:function(u,h){return{DJ:h.nN}}},{name:[8,12],E4:!0,sub:[{name:[17,2],N:function(u,h){return{N:h.nN,DJ:h.Ar.f4}}},{name:[8,9],N:function(u,h){return{N:h.nN,DJ:h.Ar.ou}}},{name:[8,2],N:function(u,h){return{N:h.nN,DJ:h.Ar.Pc}},N9:[j,r.lx]},{name:[8,4],N:function(u,h){return{N:h.nN,DJ:h.Ar.JZ}},N9:[j,r.Id]},{name:[8,8],N:function(u,h){return{N:h.nN,DJ:h.Ar.xv}}},{name:[8,11,0],N:function(u,h){return{N:h.nN,DJ:h.Ar.hB}}}]},{name:[8,3],N:function(u,h){return{DJ:h.E$}},N9:[j,r.kG],E4:!0},{name:[8,5],N:function(u,h){return{DJ:h.U8}}},{name:[8,6],E4:!0,sub:[{name:[8,2],N:function(u,h){return{DJ:h.BQ[0]}}},{name:[8,4],N:function(u,h){return{DJ:h.BQ[1]}}},{name:[9,1],N:function(u,h){return{DJ:h.BQ[2]}}},{name:[8,11,0],N:function(u,h){return{DJ:h.BQ[3]}}},{name:[8,7],N:function(u,h){return{DJ:h.BQ[4]}}}]},{name:"Lock Guides",N:function(u,h){return{N:u!=null,DJ:u!=null&&u.H3}}},{name:[11,15,0],N:function(u,h){return{N:u!=null}}},{name:[11,14],N:function(u,h){return{N:u!=null}},IC:!0},{name:[11,15,1],N:function(u,h){return{N:u!=null&&u.R.length!=0}},E4:!0},{name:"Clear Slices",N:function(u,h){return{N:u!=null&&u.hB.length!=0}}}],SC:[{$:y.E.w,k:I._h,H:{e:"zoom",tn:!0}},{$:y.E.w,k:I._h,H:{e:"zoom",tn:!1}},{$:y.E.w,k:I._h,H:{e:"adapt",m:"fitscr"}},{$:y.E.w,k:I._h,H:{e:"adapt",m:"pixel"}},{sub:[{$:y.E.V,H:{e:y.G._L,pj:!0}},{$:y.E.V,H:{e:y.G._L,m:0}},{$:y.E.V,H:{e:y.G._L,m:1}},{$:y.E.V,H:{e:y.G._L,m:2}}]},{$:y.E.V,H:{e:y.G.VD,Ek:e5.Uh}},{sub:[{$:y.E.V,H:{e:y.G.VD,Ek:e5.jh}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.Yk}},{$:y.E.V,H:{e:y.G.VD,Ek:e5._i}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.vc}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.rj}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.sR}}]},{$:y.E.V,H:{e:y.G.VD,Ek:e5.EW}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.Lg}},{sub:[{$:y.E.V,H:{e:y.G.VD,Ek:e5.aj,sO:0}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.aj,sO:1}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.aj,sO:2}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.aj,sO:3}},{$:y.E.V,H:{e:y.G.VD,Ek:e5.aj,sO:4}}]},{$:y.E.w,k:I.t3,H:{e:"lockguides"}},{$:y.E.w,k:I.t3,H:{e:"gids",Yw:[[],[]]}},{$:y.E.V,H:{e:y.G.gl,SO:"addguides"}},{$:y.E.w,k:I.t3,H:{e:"gidsFromLayer"}},{$:y.E.w,k:I.TX,H:{e:"deleteAll"}}]},function(){var u={name:[0,8],items:[{name:[0,14],E4:!0,sub:[]}],SC:[{sub:[]}]};
for(var P=0;P<gV.UL.length;P++){var h=gV.UL[P],z=function(){var O=h.Z3.UP;return function(g,t){return{DJ:t.Nz.indexOf(parseInt(O))!=-1}}}();
(h.Ma?u.items[0].sub:u.items).push({name:h.Z3.name,N:z});(h.Ma?u.SC[0].sub:u.SC).push({$:y.E.V,H:{e:y.G.sC,SO:h.Z3.UP}})}return u}(),function(){var u={name:[0,14],items:[],SC:[]},h={name:[0,9],sub:[]};
u.items.push(h);var z={sub:[]};u.SC.push(z);var O=e9.a5$();for(var P=0;P<O.length;P++){var g=O[P],t=g.code,$=e9.vp(t);
h.sub.push({name:g.name,N9:t,N:function(i,A){return{DJ:this.N9==e9.Kp()}}});z.sub.push({$:y.E.V,H:{e:y.G.VD,Ek:e5.wv,lang:$}})}h.sub.push({name:[0,12]});
z.sub.push({$:y.E.V,H:{e:y.G.fx,link:"https://www.photopea.com/translate/"}});var h={name:[0,15],sub:[]};
u.items.push(h);var z={sub:[]};u.SC.push(z);for(var P=0;P<gl._I.length;P++){h.sub.push({name:gl._I[P].name,N:function(i,A){return{DJ:this.name==gl._I[A.no].name}}});
z.sub.push({$:y.E.V,H:{e:y.G.VD,Ek:e5.jK,no:P}})}u.items.push({name:[0,17,6],N:function(i,A){return{N:A.WI!=null}}});
u.SC.push({$:y.E.V,H:{e:y.G.ao_}});u.items.push({name:[11,13]});u.SC.push({$:y.E.V,H:{e:y.G.gl,SO:"shortcuts"}});
u.items.push({name:[0,16],N:function(i){return{DJ:Z.DB,N:Z.Fo}},E4:!0});u.SC.push({$:y.E.V,H:{e:y.G.a88}});
u.items.push({name:"",N:function(i,A){return A.AP?{an:"About Photopea",N:!0}:{an:"",N:!1}}});u.SC.push({$:y.E.V,H:{e:y.G.gl,SO:"aboutpp"}});
return u}()]}();function aE(){iI.call(this);this.i=y.C("div","");this.U7=0;this.ff=0;this.xY=null;this.Ic=y.C("div","");
this.Ic.setAttribute("style","width:200em; height:100em; position:absolute;");this.QB=[];this.JD=[];
this.Y7={}}aE.prototype=new iI;aE.prototype.ii=function(r){var j=Date.now(),D=[];if(r=="-")D=[new cT,new jg,new ci,new i8,new fN,new e8,new er,new g1,new dO,new bt,new i5,new bQ,new dS,new hB,new f9,new ii,new bX,new cn,new aD,new du,new dN,new gE,new hR,new dH,new ct,new bF(!1),new bF(!0),new ag(0),new ag(1),new aw,new aj,new a$,new fo,new fO,new d5,new fR,new db,new b_("border",[7,9],"px"),new b_("smoothness",[19,3,0],"px"),new b_("expand",[7,4],"px"),new b_("contract",[7,5],"px"),new b_("feather",[7,6],"px"),new fF(0,"namewindow",[12,48]),new fF(1,"cornerradius",[12,94,0],"px",!0,!0),new fF(1,"scaleeffects","Scale Effects","%",!0),new fF(1,"doczoom","Zoom","%",!0)];
else D=[new eM(r.slice(4))];this.aoW(D);this.Y7[r]=!0};aE.prototype.aoW=function(r){var j=this.xY;for(var P=0;
P<r.length;P++){var D=r[P];D.parent=this;this.JD.push(D);this.NO(D);D.h();if(j)D.Wf(j,e5.Cr);D.X(y.E.Gt,this.dm,this)}};
aE.prototype.kt=function(r,j){this.U7=r;this.ff=j;for(var P=0;P<this.JD.length;P++)this.NO(this.JD[P])};
aE.prototype.h=function(){for(var P=0;P<this.JD.length;P++)this.JD[P].h()};aE.prototype.qG=function(){return this.QB.length==0?null:this.QB[this.QB.length-1]};
aE.prototype.Oj=function(){for(var P=0;P<this.QB.length;P++)if(this.QB[P].Oj())return!0;return!1};aE.prototype.apU=function(r,j,D,N,b){var Y=r.startsWith("afw_"),x=null;
if(!Y&&!this.Y7["-"])this.ii("-");if(Y&&!this.Y7[r])this.ii(r);if(typeof r=="object"){x=r;if(!x.I3(y.E.Gt,this.dm))x.X(y.E.Gt,this.dm,this);
x.parent=this}else for(var P=0;P<this.JD.length;P++)if(this.JD[P].id==r)x=this.JD[P];if(this.Oj()&&x.Oj()){alert("Finish the current action first");
return}if(!x.uf(j))return;if(this.QB.indexOf(x)!=-1){if(r=="colorpicker")x.PV(j,D,N,b);return}var C=this.QB.length-1;
if(C>=0)y.ui(this.QB[C].i,"wdisabled");this.i.appendChild(x.i);this.QB.push(x);this.NO(x);x.PV(j,D,N,b)};
aE.prototype.NO=function(r){var j=this.U7,D=this.ff,N=r.sM(j,D),b;if(N!=null){b=N}else{N=new gJ(0,0);
b=r.adP();if(b==null){var Y=this.QB.indexOf(r)+1;if(j<450||D<450)b=new gJ(0,0);else b=new gJ(Y*150,Y*150)}}r.i.style.left=b.x+"px";
r.i.style.top=this.i.offsetTop+b.y+"px";r.kt(this.U7-N.x*2,this.ff-N.y*2-34)};aE.prototype.Wf=function(r,j){this.xY=r;
for(var P=0;P<this.JD.length;P++)this.JD[P].Wf(r,j)};aE.prototype.dm=function(r){var j=this.QB.pop();
this.i.removeChild(j.i);var D=this.QB.length-1;if(D>=0)y.UM(this.QB[D].i,"wdisabled");if(this.Ic.parentNode==this.i)this.i.removeChild(this.Ic)};
window.onload=function(){var r=new gm;document.body.appendChild(r.i)}}())
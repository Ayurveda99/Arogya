(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var f=this||self;function g(a,b){a=a.split(".");var c=f;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};(class{constructor(a,b){this.g=b===h?a:""}}).prototype.toString=function(){return this.g.toString()};var h={};var l="function"===typeof Uint8Array;function m(){}let n;function p(a,b,c){a.h=null;n&&(b||(b=n),n=null);var d=a.constructor.s,e=a.constructor.m;e=d||e;b||(b=e?[d]:[]);a.j=e?0:-1;a.g=b;a:{if(b=a.g.length)if(--b,d=a.g[b],!(null===d||"object"!=typeof d||Array.isArray(d)||l&&d instanceof Uint8Array)){a.l=b-a.j;a.i=d;break a}a.l=Number.MAX_VALUE}a.o={};if(c)for(b=0;b<c.length;b++)d=c[b],d<a.l?(d+=a.j,a.g[d]=a.g[d]||q):(r(a),a.i[d]=a.i[d]||q)}const q=[];function r(a){let b=a.l+a.j;a.g[b]||(a.i=a.g[b]={})}
function t(a,b){if(b<a.l){b+=a.j;var c=a.g[b];return c!==q?c:a.g[b]=[]}if(a.i)return c=a.i[b],c===q?a.i[b]=[]:c}function u(a,b){a=t(a,b);return null==a?a:!!a}function v(a){a=t(a,3);return null==a?0:a}function w(a,b){a=u(a,b);return null==a?!1:a}function x(a,b,c){b<a.l?a.g[b+a.j]=c:(r(a),a.i[b]=c);return a}function y(a,b,c,d){c!==d?x(a,b,c):b<a.l?a.g[b+a.j]=null:(r(a),delete a.i[b]);return a}function z(a,b,c){a.h||(a.h={});if(!a.h[c]){let d=t(a,c);d&&(a.h[c]=new b(d))}return a.h[c]}
function A(a,b,c){a.h||(a.h={});let d=c?B(c):c;a.h[b]=c;return x(a,b,d)}function B(a){if(a.h)for(var b in a.h){var c=a.h[b];if(Array.isArray(c))for(var d=0;d<c.length;d++)c[d]&&B(c[d]);else c&&B(c)}return a.g}function C(a,b){n=b=b?JSON.parse(b):null;a=new a(b);n=null;return a}m.prototype.toString=function(){return B(this).toString()};var E=class extends m{constructor(a){super();p(this,a,D)}},D=[17];var G=class extends m{constructor(a){super();p(this,a,F)}},F=[8];var I=class extends m{constructor(a){super();p(this,a,H)}},H=[27];var K=class extends m{constructor(a){super();p(this,a,J)}},J=[1,2,3];var L=class extends m{constructor(){super();p(this,void 0,null)}};var M=class extends m{constructor(a){super();p(this,a,null)}};var O=class extends m{constructor(a){super();p(this,a,N)}},P=class extends m{constructor(){super();p(this,void 0,null)}},N=[13];var Q=class extends m{constructor(a){super();p(this,a,null)}};var aa=class extends m{constructor(){super();p(this,void 0,R)}},R=[12];var S={};var ba=class{};class ca extends ba{constructor(a){super();if(S!==S)throw Error("Bad secret");this.g=a}toString(){return this.g}};var da="href rel src srcdoc action formaction sandbox cite srccite poster icon style".split(" ");(function(a){if(!Array.isArray(a)||!Array.isArray(a.raw))throw new TypeError("safeAttr is a template literal tag function and should be called using the tagged template syntax. For example, safeAttr`foo`;");const b=a[0].toLowerCase();for(const c of da)if(c.startsWith(b))throw Error(`Prefix '${a[0]}' does not guarantee the attribute `+"to be safe as it is also a prefix for "+`the security sensitive attribute '${c}'. `+"Please use native or safe DOM APIs to set the attribute.");return new ca(b)})`x-`;function T(a,b){a=a.getElementsByTagName("META");for(let c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};var ea=class{constructor(a){this.body=a;var b=T(a,"namespace");if(!b){b="ns-"+Math.random().toString(36).substr(2,5);a:{var c=a.getElementsByTagName("META");for(let d=0;d<c.length;++d)if("namespace"===c[d].getAttribute("name")&&c[d].getAttribute("index")===(0).toString()){c[d].setAttribute("content",b);break a}c=a.querySelector("#mys-meta");c||(c=document.createElement("div"),c.id="mys-meta",c.style.position="absolute",c.style.display="none",a.appendChild(c));a=document.createElement("META");a.setAttribute("name",
"namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());c.appendChild(a)}}}dispatchEvent(a,b){a=null==b?new CustomEvent(a):new CustomEvent(a,{detail:b});this.body.dispatchEvent(a)}addEventListener(a,b){this.body.addEventListener(a,b)}};function U(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function V(a){if(1>=a.h.offsetWidth||1>=a.h.offsetHeight)return!1;a.g.remove();a.i.dispatchEvent("spanReady");return!0}
var fa=class{constructor(a,b){this.i=a;this.j=b;this.h=U("SPAN");this.g=U("DIV");this.h.style.fontSize="6px";this.h.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.h)}wait(){if(!w(this.j,1)&&(this.i.dispatchEvent("spanStart"),this.i.body.appendChild(this.g),!V(this)))return new Promise(a=>{const b=setInterval(()=>
{V(this)&&(clearInterval(b),a())},v(this.j))})}};var ha=class{constructor(a){this.g=a;this.contentH=this.contentW=0;var b;if(null==t(this.g,6)){a=z(this.g,I,1);var c=z(this.g,G,12)||new G;var d=new P;var e=t(a,42);e=null==e?e:+e;d=y(d,1,(null==e?0:e)||1,0);u(c,18)&&y(d,2,!0,!1);u(c,19)&&y(d,3,!0,!1);e=new O;var k=u(c,6)||!1;e=y(e,10,k,!1);k=t(c,2)||0;e=y(e,7,k,0);k=u(c,15)||!1;e=y(e,18,k,!1);d=A(e,23,d);e=t(c,20)||0;0<e&&y(d,24,e,0);e=new M;e=y(e,3,100,0);e=y(e,4,1E4,0);u(c,4)?(y(e,6,!0,!1),y(e,7,"monospace",""),y(e,8,"IMWimw0.!?@","")):(u(c,5)&&
y(e,9,!0,!1),y(e,5,!0,!1));A(d,1,e);e=new L;k=t(c,22)||"";e=y(e,3,k,"");(null===(b=z(a,E,10))||void 0===b?0:w(b,6))&&y(e,1,!0,!1);w(a,16)&&!u(c,1)&&y(e,2,!0,!1);A(d,4,e);A(this.g,6,d)}}};function W(a){a.h&=-31}function X(a,b){a.h|=b}var ia=class{constructor(a,b){this.g=a;this.i=b;new aa;this.h=0}execute(){}};function Y(a,b,c){if(b&&c){var d=a.g.i;d.contentW=b;d.contentH=c}b=C(K,T(a.h.body,"engine_msg")||"[]");return a.g.execute(b,void 0,void 0)||Promise.resolve()}
function ja(a){var b;W(a.g);X(a.g,1);null===(b=window.AFMA_Communicator)||void 0===b?void 0:b.addEventListener("onshow",()=>{X(a.g,32)});let c=0;const d=a.h.body;d.addEventListener("browserRender",()=>{++c;if(1===c)a.h.dispatchEvent("overallStart"),Y(a).then(()=>{a.h.dispatchEvent("overallQuiet")});else{var e=d.clientWidth,k=d.clientHeight;e&&k&&Y(a,e,k)}})}var ka=class{constructor(a,b,c){this.h=new ea(a);this.g=c(this.h,b)}};function la(a){a.h.length=0;a.g=!0}function Z(a,b){a.isRunning=!0;const c=()=>{a.g=!1;const d=a.h.shift();return void 0===d?(a.isRunning=!1,Promise.resolve()):Z(a,d())};return b?b.then(c,()=>{if(a.g)return c();a.isRunning=!1;return Promise.reject()}):c()}function ma(a,b){for(const c of b)a.h.push(c);if(!a.isRunning)return Z(a)}var na=class{constructor(){this.g=this.isRunning=!1;this.h=[]}};var oa=class extends ia{constructor(){super(...arguments);this.j=new na}execute(){la(this.j);return ma(this.j,[()=>{},()=>{let a;const b=z(z(this.i.g,O,6),M,1);b&&(a=(new fa(this.g,b)).wait());this.g.dispatchEvent("browserStart");this.g.dispatchEvent("browserStartEnd");W(this);X(this,2);return a},()=>{this.g.dispatchEvent("browserReady");this.g.dispatchEvent("browserReadyEnd");X(this,4);this.g.dispatchEvent("overallReady")},()=>{this.g.dispatchEvent("browserQuiet");this.g.dispatchEvent("browserQuietEnd");
X(this,8)}])}};(function(a){let b=null;g("mys.engine.init",(c,d)=>{c=C(Q,T(d,"render_config")||"[]");b=new ka(d,c,a);ja(b)});g("mys.engine.stage",()=>b?b.g.h:0)})(function(a,b){b=new ha(b);return new oa(a,b)});}).call(this);
